var Uae=Object.defineProperty;var O4=e=>{throw TypeError(e)};var Hae=(e,t,i)=>t in e?Uae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Rn=(e,t,i)=>Hae(e,typeof t!="symbol"?t+"":t,i),px=(e,t,i)=>t.has(e)||O4("Cannot "+i);var He=(e,t,i)=>(px(e,t,"read from private field"),i?i.call(e):t.get(e)),Ur=(e,t,i)=>t.has(e)?O4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),fr=(e,t,i,r)=>(px(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),Jt=(e,t,i)=>(px(e,t,"access private method"),i);var xA=(e,t,i,r)=>({set _(n){fr(e,t,n,i)},get _(){return He(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function uC(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const dn={},qg=[],ws=()=>{},$ae=()=>!1,TE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lC=e=>e.startsWith("onUpdate:"),mi=Object.assign,cC=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Qae=Object.prototype.hasOwnProperty,tn=(e,t)=>Qae.call(e,t),lr=Array.isArray,Vg=e=>S2(e)==="[object Map]",EE=e=>S2(e)==="[object Set]",P4=e=>S2(e)==="[object Date]",wr=e=>typeof e=="function",qn=e=>typeof e=="string",As=e=>typeof e=="symbol",un=e=>e!==null&&typeof e=="object",Xz=e=>(un(e)||wr(e))&&wr(e.then)&&wr(e.catch),Yz=Object.prototype.toString,S2=e=>Yz.call(e),zae=e=>S2(e).slice(8,-1),Zz=e=>S2(e)==="[object Object]",dC=e=>qn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,DS=uC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xE=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Gae=/-(\w)/g,Ba=xE(e=>e.replace(Gae,(t,i)=>i?i.toUpperCase():"")),Wae=/\B([A-Z])/g,qp=xE(e=>e.replace(Wae,"-$1").toLowerCase()),xs=xE(e=>e.charAt(0).toUpperCase()+e.slice(1)),gx=xE(e=>e?`on${xs(e)}`:""),al=(e,t)=>!Object.is(e,t),yT=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},eG=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},SP=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Kae=e=>{const t=qn(e)?Number(e):NaN;return isNaN(t)?e:t};let I4;const RE=()=>I4||(I4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fC(e){if(lr(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],n=qn(r)?Zae(r):fC(r);if(n)for(const a in n)t[a]=n[a]}return t}else if(qn(e)||un(e))return e}const Jae=/;(?![^(]*\))/g,Xae=/:([^]+)/,Yae=/\/\*[^]*?\*\//g;function Zae(e){const t={};return e.replace(Yae,"").split(Jae).forEach(i=>{if(i){const r=i.split(Xae);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Na(e){let t="";if(qn(e))t=e;else if(lr(e))for(let i=0;i<e.length;i++){const r=Na(e[i]);r&&(t+=r+" ")}else if(un(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const eoe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",toe=uC(eoe);function tG(e){return!!e||e===""}function roe(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=OE(e[r],t[r]);return i}function OE(e,t){if(e===t)return!0;let i=P4(e),r=P4(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=As(e),r=As(t),i||r)return e===t;if(i=lr(e),r=lr(t),i||r)return i&&r?roe(e,t):!1;if(i=un(e),r=un(t),i||r){if(!i||!r)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!OE(e[o],t[o]))return!1}}return String(e)===String(t)}function rG(e,t){return e.findIndex(i=>OE(i,t))}const nG=e=>!!(e&&e.__v_isRef===!0),ir=e=>qn(e)?e:e==null?"":lr(e)||un(e)&&(e.toString===Yz||!wr(e.toString))?nG(e)?ir(e.value):JSON.stringify(e,iG,2):String(e),iG=(e,t)=>nG(t)?iG(e,t.value):Vg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,n],a)=>(i[mx(r,a)+" =>"]=n,i),{})}:EE(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>mx(i))}:As(t)?mx(t):un(t)&&!lr(t)&&!Zz(t)?String(t):t,mx=(e,t="")=>{var i;return As(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ma;class aG{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ma,!t&&ma&&(this.index=(ma.scopes||(ma.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=ma;try{return ma=this,t()}finally{ma=i}}}on(){ma=this}off(){ma=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function PE(e){return new aG(e)}function noe(){return ma}function ia(e,t=!1){ma&&ma.cleanups.push(e)}let gn;const yx=new WeakSet;class oG{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ma&&ma.active&&ma.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yx.has(this)&&(yx.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uG(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,C4(this),lG(this);const t=gn,i=Vo;gn=this,Vo=!0;try{return this.fn()}finally{cG(this),gn=t,Vo=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gC(t);this.deps=this.depsTail=void 0,C4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yx.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){AP(this)&&this.run()}get dirty(){return AP(this)}}let sG=0,NS,FS;function uG(e,t=!1){if(e.flags|=8,t){e.next=FS,FS=e;return}e.next=NS,NS=e}function hC(){sG++}function pC(){if(--sG>0)return;if(FS){let t=FS;for(FS=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;NS;){let t=NS;for(NS=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function lG(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cG(e){let t,i=e.depsTail,r=i;for(;r;){const n=r.prevDep;r.version===-1?(r===i&&(i=n),gC(r),ioe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=i}function AP(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(dG(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function dG(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===$S))return;e.globalVersion=$S;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!AP(e)){e.flags&=-3;return}const i=gn,r=Vo;gn=e,Vo=!0;try{lG(e);const n=e.fn(e._value);(t.version===0||al(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{gn=i,Vo=r,cG(e),e.flags&=-3}}function gC(e,t=!1){const{dep:i,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let a=i.computed.deps;a;a=a.nextDep)gC(a,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function ioe(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let Vo=!0;const fG=[];function gl(){fG.push(Vo),Vo=!1}function ml(){const e=fG.pop();Vo=e===void 0?!0:e}function C4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=gn;gn=void 0;try{t()}finally{gn=i}}}let $S=0;class aoe{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mC{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!gn||!Vo||gn===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==gn)i=this.activeLink=new aoe(gn,this),gn.deps?(i.prevDep=gn.depsTail,gn.depsTail.nextDep=i,gn.depsTail=i):gn.deps=gn.depsTail=i,hG(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=gn.depsTail,i.nextDep=void 0,gn.depsTail.nextDep=i,gn.depsTail=i,gn.deps===i&&(gn.deps=r)}return i}trigger(t){this.version++,$S++,this.notify(t)}notify(t){hC();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{pC()}}}function hG(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)hG(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const UT=new WeakMap,bp=Symbol(""),TP=Symbol(""),QS=Symbol("");function Ji(e,t,i){if(Vo&&gn){let r=UT.get(e);r||UT.set(e,r=new Map);let n=r.get(i);n||(r.set(i,n=new mC),n.map=r,n.key=i),n.track()}}function uu(e,t,i,r,n,a){const o=UT.get(e);if(!o){$S++;return}const s=l=>{l&&l.trigger()};if(hC(),t==="clear")o.forEach(s);else{const l=lr(e),u=l&&dC(i);if(l&&i==="length"){const c=Number(r);o.forEach((d,f)=>{(f==="length"||f===QS||!As(f)&&f>=c)&&s(d)})}else switch((i!==void 0||o.has(void 0))&&s(o.get(i)),u&&s(o.get(QS)),t){case"add":l?u&&s(o.get("length")):(s(o.get(bp)),Vg(e)&&s(o.get(TP)));break;case"delete":l||(s(o.get(bp)),Vg(e)&&s(o.get(TP)));break;case"set":Vg(e)&&s(o.get(bp));break}}pC()}function ooe(e,t){const i=UT.get(e);return i&&i.get(t)}function fg(e){const t=rr(e);return t===e?t:(Ji(t,"iterate",QS),go(e)?t:t.map(Xi))}function IE(e){return Ji(e=rr(e),"iterate",QS),e}const soe={__proto__:null,[Symbol.iterator](){return vx(this,Symbol.iterator,Xi)},concat(...e){return fg(this).concat(...e.map(t=>lr(t)?fg(t):t))},entries(){return vx(this,"entries",e=>(e[1]=Xi(e[1]),e))},every(e,t){return $s(this,"every",e,t,void 0,arguments)},filter(e,t){return $s(this,"filter",e,t,i=>i.map(Xi),arguments)},find(e,t){return $s(this,"find",e,t,Xi,arguments)},findIndex(e,t){return $s(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $s(this,"findLast",e,t,Xi,arguments)},findLastIndex(e,t){return $s(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $s(this,"forEach",e,t,void 0,arguments)},includes(...e){return bx(this,"includes",e)},indexOf(...e){return bx(this,"indexOf",e)},join(e){return fg(this).join(e)},lastIndexOf(...e){return bx(this,"lastIndexOf",e)},map(e,t){return $s(this,"map",e,t,void 0,arguments)},pop(){return em(this,"pop")},push(...e){return em(this,"push",e)},reduce(e,...t){return D4(this,"reduce",e,t)},reduceRight(e,...t){return D4(this,"reduceRight",e,t)},shift(){return em(this,"shift")},some(e,t){return $s(this,"some",e,t,void 0,arguments)},splice(...e){return em(this,"splice",e)},toReversed(){return fg(this).toReversed()},toSorted(e){return fg(this).toSorted(e)},toSpliced(...e){return fg(this).toSpliced(...e)},unshift(...e){return em(this,"unshift",e)},values(){return vx(this,"values",Xi)}};function vx(e,t,i){const r=IE(e),n=r[t]();return r!==e&&!go(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.value&&(a.value=i(a.value)),a}),n}const uoe=Array.prototype;function $s(e,t,i,r,n,a){const o=IE(e),s=o!==e&&!go(e),l=o[t];if(l!==uoe[t]){const d=l.apply(e,a);return s?Xi(d):d}let u=i;o!==e&&(s?u=function(d,f){return i.call(this,Xi(d),f,e)}:i.length>2&&(u=function(d,f){return i.call(this,d,f,e)}));const c=l.call(o,u,r);return s&&n?n(c):c}function D4(e,t,i,r){const n=IE(e);let a=i;return n!==e&&(go(e)?i.length>3&&(a=function(o,s,l){return i.call(this,o,s,l,e)}):a=function(o,s,l){return i.call(this,o,Xi(s),l,e)}),n[t](a,...r)}function bx(e,t,i){const r=rr(e);Ji(r,"iterate",QS);const n=r[t](...i);return(n===-1||n===!1)&&bC(i[0])?(i[0]=rr(i[0]),r[t](...i)):n}function em(e,t,i=[]){gl(),hC();const r=rr(e)[t].apply(e,i);return pC(),ml(),r}const loe=uC("__proto__,__v_isRef,__isVue"),pG=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(As));function coe(e){As(e)||(e=String(e));const t=rr(this);return Ji(t,"has",e),t.hasOwnProperty(e)}class gG{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return a;if(i==="__v_raw")return r===(n?a?_oe:bG:a?vG:yG).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=lr(t);if(!n){let l;if(o&&(l=soe[i]))return l;if(i==="hasOwnProperty")return coe}const s=Reflect.get(t,i,Pn(t)?t:r);return(As(i)?pG.has(i):loe(i))||(n||Ji(t,"get",i),a)?s:Pn(s)?o&&dC(i)?s:s.value:un(s)?n?A2(s):wi(s):s}}class mG extends gG{constructor(t=!1){super(!1,t)}set(t,i,r,n){let a=t[i];if(!this._isShallow){const l=Ep(a);if(!go(r)&&!Ep(r)&&(a=rr(a),r=rr(r)),!lr(t)&&Pn(a)&&!Pn(r))return l?!1:(a.value=r,!0)}const o=lr(t)&&dC(i)?Number(i)<t.length:tn(t,i),s=Reflect.set(t,i,r,Pn(t)?t:n);return t===rr(n)&&(o?al(r,a)&&uu(t,"set",i,r):uu(t,"add",i,r)),s}deleteProperty(t,i){const r=tn(t,i);t[i];const n=Reflect.deleteProperty(t,i);return n&&r&&uu(t,"delete",i,void 0),n}has(t,i){const r=Reflect.has(t,i);return(!As(i)||!pG.has(i))&&Ji(t,"has",i),r}ownKeys(t){return Ji(t,"iterate",lr(t)?"length":bp),Reflect.ownKeys(t)}}class doe extends gG{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const foe=new mG,hoe=new doe,poe=new mG(!0);const EP=e=>e,RA=e=>Reflect.getPrototypeOf(e);function goe(e,t,i){return function(...r){const n=this.__v_raw,a=rr(n),o=Vg(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=i?EP:t?xP:Xi;return!t&&Ji(a,"iterate",l?TP:bp),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:s?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function OA(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function moe(e,t){const i={get(n){const a=this.__v_raw,o=rr(a),s=rr(n);e||(al(n,s)&&Ji(o,"get",n),Ji(o,"get",s));const{has:l}=RA(o),u=t?EP:e?xP:Xi;if(l.call(o,n))return u(a.get(n));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(n)},get size(){const n=this.__v_raw;return!e&&Ji(rr(n),"iterate",bp),Reflect.get(n,"size",n)},has(n){const a=this.__v_raw,o=rr(a),s=rr(n);return e||(al(n,s)&&Ji(o,"has",n),Ji(o,"has",s)),n===s?a.has(n):a.has(n)||a.has(s)},forEach(n,a){const o=this,s=o.__v_raw,l=rr(s),u=t?EP:e?xP:Xi;return!e&&Ji(l,"iterate",bp),s.forEach((c,d)=>n.call(a,u(c),u(d),o))}};return mi(i,e?{add:OA("add"),set:OA("set"),delete:OA("delete"),clear:OA("clear")}:{add(n){!t&&!go(n)&&!Ep(n)&&(n=rr(n));const a=rr(this);return RA(a).has.call(a,n)||(a.add(n),uu(a,"add",n,n)),this},set(n,a){!t&&!go(a)&&!Ep(a)&&(a=rr(a));const o=rr(this),{has:s,get:l}=RA(o);let u=s.call(o,n);u||(n=rr(n),u=s.call(o,n));const c=l.call(o,n);return o.set(n,a),u?al(a,c)&&uu(o,"set",n,a):uu(o,"add",n,a),this},delete(n){const a=rr(this),{has:o,get:s}=RA(a);let l=o.call(a,n);l||(n=rr(n),l=o.call(a,n)),s&&s.call(a,n);const u=a.delete(n);return l&&uu(a,"delete",n,void 0),u},clear(){const n=rr(this),a=n.size!==0,o=n.clear();return a&&uu(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=goe(n,e,t)}),i}function yC(e,t){const i=moe(e,t);return(r,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(tn(i,n)&&n in r?i:r,n,a)}const yoe={get:yC(!1,!1)},voe={get:yC(!1,!0)},boe={get:yC(!0,!1)};const yG=new WeakMap,vG=new WeakMap,bG=new WeakMap,_oe=new WeakMap;function woe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Soe(e){return e.__v_skip||!Object.isExtensible(e)?0:woe(zae(e))}function wi(e){return Ep(e)?e:vC(e,!1,foe,yoe,yG)}function _G(e){return vC(e,!1,poe,voe,vG)}function A2(e){return vC(e,!0,hoe,boe,bG)}function vC(e,t,i,r,n){if(!un(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=n.get(e);if(a)return a;const o=Soe(e);if(o===0)return e;const s=new Proxy(e,o===2?r:i);return n.set(e,s),s}function Ug(e){return Ep(e)?Ug(e.__v_raw):!!(e&&e.__v_isReactive)}function Ep(e){return!!(e&&e.__v_isReadonly)}function go(e){return!!(e&&e.__v_isShallow)}function bC(e){return e?!!e.__v_raw:!1}function rr(e){const t=e&&e.__v_raw;return t?rr(t):e}function _C(e){return!tn(e,"__v_skip")&&Object.isExtensible(e)&&eG(e,"__v_skip",!0),e}const Xi=e=>un(e)?wi(e):e,xP=e=>un(e)?A2(e):e;function Pn(e){return e?e.__v_isRef===!0:!1}function vt(e){return wG(e,!1)}function Tt(e){return wG(e,!0)}function wG(e,t){return Pn(e)?e:new Aoe(e,t)}class Aoe{constructor(t,i){this.dep=new mC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:rr(t),this._value=i?t:Xi(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||go(t)||Ep(t);t=r?t:rr(t),al(t,i)&&(this._rawValue=t,this._value=r?t:Xi(t),this.dep.trigger())}}function ti(e){return Pn(e)?e.value:e}const Toe={get:(e,t,i)=>t==="__v_raw"?e:ti(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const n=e[t];return Pn(n)&&!Pn(i)?(n.value=i,!0):Reflect.set(e,t,i,r)}};function SG(e){return Ug(e)?e:new Proxy(e,Toe)}function Vp(e){const t=lr(e)?new Array(e.length):{};for(const i in e)t[i]=AG(e,i);return t}class Eoe{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ooe(rr(this._object),this._key)}}class xoe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nt(e,t,i){return Pn(e)?e:wr(e)?new xoe(e):un(e)&&arguments.length>1?AG(e,t,i):vt(e)}function AG(e,t,i){const r=e[t];return Pn(r)?r:new Eoe(e,t,i)}class Roe{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new mC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$S-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&gn!==this)return uG(this,!0),!0}get value(){const t=this.dep.track();return dG(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ooe(e,t,i=!1){let r,n;return wr(e)?r=e:(r=e.get,n=e.set),new Roe(r,n,i)}const PA={},HT=new WeakMap;let ip;function Poe(e,t=!1,i=ip){if(i){let r=HT.get(i);r||HT.set(i,r=[]),r.push(e)}}function Ioe(e,t,i=dn){const{immediate:r,deep:n,once:a,scheduler:o,augmentJob:s,call:l}=i,u=_=>n?_:go(_)||n===!1||n===0?lu(_,1):lu(_);let c,d,f,h,p=!1,g=!1;if(Pn(e)?(d=()=>e.value,p=go(e)):Ug(e)?(d=()=>u(e),p=!0):lr(e)?(g=!0,p=e.some(_=>Ug(_)||go(_)),d=()=>e.map(_=>{if(Pn(_))return _.value;if(Ug(_))return u(_);if(wr(_))return l?l(_,2):_()})):wr(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){gl();try{f()}finally{ml()}}const _=ip;ip=c;try{return l?l(e,3,[h]):e(h)}finally{ip=_}}:d=ws,t&&n){const _=d,w=n===!0?1/0:n;d=()=>lu(_(),w)}const m=noe(),y=()=>{c.stop(),m&&m.active&&cC(m.effects,c)};if(a&&t){const _=t;t=(...w)=>{_(...w),y()}}let v=g?new Array(e.length).fill(PA):PA;const b=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const w=c.run();if(n||p||(g?w.some((T,R)=>al(T,v[R])):al(w,v))){f&&f();const T=ip;ip=c;try{const R=[w,v===PA?void 0:g&&v[0]===PA?[]:v,h];l?l(t,3,R):t(...R),v=w}finally{ip=T}}}else c.run()};return s&&s(b),c=new oG(d),c.scheduler=o?()=>o(b,!1):b,h=_=>Poe(_,!1,c),f=c.onStop=()=>{const _=HT.get(c);if(_){if(l)l(_,4);else for(const w of _)w();HT.delete(c)}},t?r?b(!0):v=c.run():o?o(b.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function lu(e,t=1/0,i){if(t<=0||!un(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,Pn(e))lu(e.value,t,i);else if(lr(e))for(let r=0;r<e.length;r++)lu(e[r],t,i);else if(EE(e)||Vg(e))e.forEach(r=>{lu(r,t,i)});else if(Zz(e)){for(const r in e)lu(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&lu(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function T2(e,t,i,r){try{return r?e(...r):e()}catch(n){CE(n,t,i)}}function Ho(e,t,i,r){if(wr(e)){const n=T2(e,t,i,r);return n&&Xz(n)&&n.catch(a=>{CE(a,t,i)}),n}if(lr(e)){const n=[];for(let a=0;a<e.length;a++)n.push(Ho(e[a],t,i,r));return n}}function CE(e,t,i,r=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||dn;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${i}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}s=s.parent}if(a){gl(),T2(a,null,10,[e,l,u]),ml();return}}Coe(e,i,n,r,o)}function Coe(e,t,i,r=!0,n=!1){if(n)throw e;console.error(e)}const va=[];let ps=-1;const Hg=[];let Wu=null,xg=0;const TG=Promise.resolve();let $T=null;function Mr(e){const t=$T||TG;return e?t.then(this?e.bind(this):e):t}function Doe(e){let t=ps+1,i=va.length;for(;t<i;){const r=t+i>>>1,n=va[r],a=zS(n);a<e||a===e&&n.flags&2?t=r+1:i=r}return t}function wC(e){if(!(e.flags&1)){const t=zS(e),i=va[va.length-1];!i||!(e.flags&2)&&t>=zS(i)?va.push(e):va.splice(Doe(t),0,e),e.flags|=1,EG()}}function EG(){$T||($T=TG.then(RG))}function Noe(e){lr(e)?Hg.push(...e):Wu&&e.id===-1?Wu.splice(xg+1,0,e):e.flags&1||(Hg.push(e),e.flags|=1),EG()}function N4(e,t,i=ps+1){for(;i<va.length;i++){const r=va[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;va.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function xG(e){if(Hg.length){const t=[...new Set(Hg)].sort((i,r)=>zS(i)-zS(r));if(Hg.length=0,Wu){Wu.push(...t);return}for(Wu=t,xg=0;xg<Wu.length;xg++){const i=Wu[xg];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Wu=null,xg=0}}const zS=e=>e.id==null?e.flags&2?-1:1/0:e.id;function RG(e){try{for(ps=0;ps<va.length;ps++){const t=va[ps];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),T2(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ps<va.length;ps++){const t=va[ps];t&&(t.flags&=-2)}ps=-1,va.length=0,xG(),$T=null,(va.length||Hg.length)&&RG()}}let Fa=null,OG=null;function QT(e){const t=Fa;return Fa=e,OG=e&&e.type.__scopeId||null,t}function zt(e,t=Fa,i){if(!t||e._n)return e;const r=(...n)=>{r._d&&G4(-1);const a=QT(t);let o;try{o=e(...n)}finally{QT(a),r._d&&G4(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function $r(e,t){if(Fa===null)return e;const i=LE(Fa),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,o,s,l=dn]=t[n];a&&(wr(a)&&(a={mounted:a,updated:a}),a.deep&&lu(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Bl(e,t,i,r){const n=e.dirs,a=t&&t.dirs;for(let o=0;o<n.length;o++){const s=n[o];a&&(s.oldValue=a[o].value);let l=s.dir[r];l&&(gl(),Ho(l,i,8,[e.el,s,e,t]),ml())}}const PG=Symbol("_vte"),IG=e=>e.__isTeleport,LS=e=>e&&(e.disabled||e.disabled===""),F4=e=>e&&(e.defer||e.defer===""),L4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,M4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,RP=(e,t)=>{const i=e&&e.to;return qn(i)?t?t(i):null:i},CG={name:"Teleport",__isTeleport:!0,process(e,t,i,r,n,a,o,s,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:m}}=u,y=LS(t.props);let{shapeFlag:v,children:b,dynamicChildren:_}=t;if(e==null){const w=t.el=g(""),T=t.anchor=g("");h(w,i,r),h(T,i,r);const R=(D,A)=>{v&16&&(n&&n.isCE&&(n.ce._teleportTarget=D),c(b,D,A,n,a,o,s,l))},F=()=>{const D=t.target=RP(t.props,p),A=DG(D,t,g,h);D&&(o!=="svg"&&L4(D)?o="svg":o!=="mathml"&&M4(D)&&(o="mathml"),y||(R(D,A),vT(t,!1)))};y&&(R(i,T),vT(t,!0)),F4(t.props)?ga(()=>{F(),t.el.__isMounted=!0},a):F()}else{if(F4(t.props)&&!e.el.__isMounted){ga(()=>{CG.process(e,t,i,r,n,a,o,s,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const w=t.anchor=e.anchor,T=t.target=e.target,R=t.targetAnchor=e.targetAnchor,F=LS(e.props),D=F?i:T,A=F?w:R;if(o==="svg"||L4(T)?o="svg":(o==="mathml"||M4(T))&&(o="mathml"),_?(f(e.dynamicChildren,_,D,n,a,o,s),PC(e,t,!0)):l||d(e,t,D,A,n,a,o,s,!1),y)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):IA(t,i,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const x=t.target=RP(t.props,p);x&&IA(t,x,null,u,0)}else F&&IA(t,T,R,u,1);vT(t,y)}},remove(e,t,i,{um:r,o:{remove:n}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(n(u),n(c)),a&&n(l),o&16){const h=a||!LS(f);for(let p=0;p<s.length;p++){const g=s[p];r(g,t,i,h,!!g.dynamicChildren)}}},move:IA,hydrate:Foe};function IA(e,t,i,{o:{insert:r},m:n},a=2){a===0&&r(e.targetAnchor,t,i);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,d=a===2;if(d&&r(o,t,i),(!d||LS(c))&&l&16)for(let f=0;f<u.length;f++)n(u[f],t,i,2);d&&r(s,t,i)}function Foe(e,t,i,r,n,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},d){const f=t.target=RP(t.props,l);if(f){const h=LS(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(h)t.anchor=d(o(e),t,s(e),i,r,n,a),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||DG(f,t,c,u),d(p&&o(p),t,f,i,r,n,a)}vT(t,h)}return t.anchor&&o(t.anchor)}const Loe=CG;function vT(e,t){const i=e.ctx;if(i&&i.ut){let r,n;for(t?(r=e.el,n=e.anchor):(r=e.targetStart,n=e.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function DG(e,t,i,r){const n=t.targetStart=i(""),a=t.targetAnchor=i("");return n[PG]=a,e&&(r(n,e),r(a,e)),a}const Ku=Symbol("_leaveCb"),CA=Symbol("_enterCb");function NG(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $i(()=>{e.isMounted=!0}),yi(()=>{e.isUnmounting=!0}),e}const lo=[Function,Array],FG={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:lo,onEnter:lo,onAfterEnter:lo,onEnterCancelled:lo,onBeforeLeave:lo,onLeave:lo,onAfterLeave:lo,onLeaveCancelled:lo,onBeforeAppear:lo,onAppear:lo,onAfterAppear:lo,onAppearCancelled:lo},LG=e=>{const t=e.subTree;return t.component?LG(t.component):t},Moe={name:"BaseTransition",props:FG,setup(e,{slots:t}){const i=DC(),r=NG();return()=>{const n=t.default&&SC(t.default(),!0);if(!n||!n.length)return;const a=MG(n),o=rr(e),{mode:s}=o;if(r.isLeaving)return _x(a);const l=j4(a);if(!l)return _x(a);let u=GS(l,o,r,i,d=>u=d);l.type!==_a&&xp(l,u);let c=i.subTree&&j4(i.subTree);if(c&&c.type!==_a&&!dp(l,c)&&LG(i).type!==_a){let d=GS(c,o,r,i);if(xp(c,d),s==="out-in"&&l.type!==_a)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,c=void 0},_x(a);s==="in-out"&&l.type!==_a?d.delayLeave=(f,h,p)=>{const g=jG(r,c);g[String(c.key)]=c,f[Ku]=()=>{h(),f[Ku]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function MG(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==_a){t=i;break}}return t}const joe=Moe;function jG(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function GS(e,t,i,r,n){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=t,_=String(e.key),w=jG(i,e),T=(D,A)=>{D&&Ho(D,r,9,A)},R=(D,A)=>{const x=A[1];T(D,A),lr(D)?D.every(N=>N.length<=1)&&x():D.length<=1&&x()},F={mode:o,persisted:s,beforeEnter(D){let A=l;if(!i.isMounted)if(a)A=m||l;else return;D[Ku]&&D[Ku](!0);const x=w[_];x&&dp(e,x)&&x.el[Ku]&&x.el[Ku](),T(A,[D])},enter(D){let A=u,x=c,N=d;if(!i.isMounted)if(a)A=y||u,x=v||c,N=b||d;else return;let j=!1;const H=D[CA]=M=>{j||(j=!0,M?T(N,[D]):T(x,[D]),F.delayedLeave&&F.delayedLeave(),D[CA]=void 0)};A?R(A,[D,H]):H()},leave(D,A){const x=String(e.key);if(D[CA]&&D[CA](!0),i.isUnmounting)return A();T(f,[D]);let N=!1;const j=D[Ku]=H=>{N||(N=!0,A(),H?T(g,[D]):T(p,[D]),D[Ku]=void 0,w[x]===e&&delete w[x])};w[x]=e,h?R(h,[D,j]):j()},clone(D){const A=GS(D,t,i,r,n);return n&&n(A),A}};return F}function _x(e){if(DE(e))return e=cu(e),e.children=null,e}function j4(e){if(!DE(e))return IG(e.type)&&e.children?MG(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&wr(i.default))return i.default()}}function xp(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xp(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function SC(e,t=!1,i){let r=[],n=0;for(let a=0;a<e.length;a++){let o=e[a];const s=i==null?o.key:String(i)+String(o.key!=null?o.key:a);o.type===Ot?(o.patchFlag&128&&n++,r=r.concat(SC(o.children,t,s))):(t||o.type!==_a)&&r.push(s!=null?cu(o,{key:s}):o)}if(n>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function E2(e,t){return wr(e)?mi({name:e.name},t,{setup:e}):e}function kG(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zT(e,t,i,r,n=!1){if(lr(e)){e.forEach((p,g)=>zT(p,t&&(lr(t)?t[g]:t),i,r,n));return}if(MS(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&zT(e,t,i,r.component.subTree);return}const a=r.shapeFlag&4?LE(r.component):r.el,o=n?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===dn?s.refs={}:s.refs,d=s.setupState,f=rr(d),h=d===dn?()=>!1:p=>tn(f,p);if(u!=null&&u!==l&&(qn(u)?(c[u]=null,h(u)&&(d[u]=null)):Pn(u)&&(u.value=null)),wr(l))T2(l,s,12,[o,c]);else{const p=qn(l),g=Pn(l);if(p||g){const m=()=>{if(e.f){const y=p?h(l)?d[l]:c[l]:l.value;n?lr(y)&&cC(y,a):lr(y)?y.includes(a)||y.push(a):p?(c[l]=[a],h(l)&&(d[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,h(l)&&(d[l]=o)):g&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,ga(m,i)):m()}}}RE().requestIdleCallback;RE().cancelIdleCallback;const MS=e=>!!e.type.__asyncLoader,DE=e=>e.type.__isKeepAlive;function BG(e,t){qG(e,"a",t)}function AC(e,t){qG(e,"da",t)}function qG(e,t,i=ji){const r=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(NE(t,r,i),i){let n=i.parent;for(;n&&n.parent;)DE(n.parent.vnode)&&koe(r,t,i,n),n=n.parent}}function koe(e,t,i,r){const n=NE(t,e,r,!0);EC(()=>{cC(r[t],n)},i)}function NE(e,t,i=ji,r=!1){if(i){const n=i[e]||(i[e]=[]),a=t.__weh||(t.__weh=(...o)=>{gl();const s=R2(i),l=Ho(t,i,e,o);return s(),ml(),l});return r?n.unshift(a):n.push(a),a}}const _u=e=>(t,i=ji)=>{(!JS||e==="sp")&&NE(e,(...r)=>t(...r),i)},v0=_u("bm"),$i=_u("m"),VG=_u("bu"),TC=_u("u"),yi=_u("bum"),EC=_u("um"),Boe=_u("sp"),qoe=_u("rtg"),Voe=_u("rtc");function Uoe(e,t=ji){NE("ec",e,t)}const xC="components",Hoe="directives";function Xt(e,t){return RC(xC,e,!0,t)||e}const $oe=Symbol.for("v-ndc");function Qoe(e){return qn(e)&&RC(xC,e,!1)||e}function eo(e){return RC(Hoe,e)}function RC(e,t,i=!0,r=!1){const n=Fa||ji;if(n){const a=n.type;if(e===xC){const s=Ise(a,!1);if(s&&(s===t||s===Ba(t)||s===xs(Ba(t))))return a}const o=k4(n[e]||a[e],t)||k4(n.appContext[e],t);return!o&&r?a:o}}function k4(e,t){return e&&(e[t]||e[Ba(t)]||e[xs(Ba(t))])}function ya(e,t,i,r){let n;const a=i,o=lr(e);if(o||qn(e)){const s=o&&Ug(e);let l=!1;s&&(l=!go(e),e=IE(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?Xi(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,a)}else if(un(e))if(e[Symbol.iterator])n=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);n=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];n[l]=t(e[c],c,l,a)}}else n=[];return n}const OP=e=>e?oW(e)?LE(e):OP(e.parent):null,jS=mi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>OP(e.parent),$root:e=>OP(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>HG(e),$forceUpdate:e=>e.f||(e.f=()=>{wC(e.update)}),$nextTick:e=>e.n||(e.n=Mr.bind(e.proxy)),$watch:e=>fse.bind(e)}),wx=(e,t)=>e!==dn&&!e.__isScriptSetup&&tn(e,t),zoe={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:n,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return n[t];case 4:return i[t];case 3:return a[t]}else{if(wx(r,t))return o[t]=1,r[t];if(n!==dn&&tn(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&tn(u,t))return o[t]=3,a[t];if(i!==dn&&tn(i,t))return o[t]=4,i[t];PP&&(o[t]=0)}}const c=jS[t];let d,f;if(c)return t==="$attrs"&&Ji(e.attrs,"get",""),c(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(i!==dn&&tn(i,t))return o[t]=4,i[t];if(f=l.config.globalProperties,tn(f,t))return f[t]},set({_:e},t,i){const{data:r,setupState:n,ctx:a}=e;return wx(n,t)?(n[t]=i,!0):r!==dn&&tn(r,t)?(r[t]=i,!0):tn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:n,propsOptions:a}},o){let s;return!!i[o]||e!==dn&&tn(e,o)||wx(t,o)||(s=a[0])&&tn(s,o)||tn(r,o)||tn(jS,o)||tn(n.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:tn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function B4(e){return lr(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let PP=!0;function Goe(e){const t=HG(e),i=e.proxy,r=e.ctx;PP=!1,t.beforeCreate&&q4(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:v,destroyed:b,unmounted:_,render:w,renderTracked:T,renderTriggered:R,errorCaptured:F,serverPrefetch:D,expose:A,inheritAttrs:x,components:N,directives:j,filters:H}=t;if(u&&Woe(u,r,null),o)for(const te in o){const re=o[te];wr(re)&&(r[te]=re.bind(i))}if(n){const te=n.call(i,i);un(te)&&(e.data=wi(te))}if(PP=!0,a)for(const te in a){const re=a[te],oe=wr(re)?re.bind(i,i):wr(re.get)?re.get.bind(i,i):ws,J=!wr(re)&&wr(re.set)?re.set.bind(i):ws,fe=ue({get:oe,set:J});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>fe.value,set:xe=>fe.value=xe})}if(s)for(const te in s)UG(s[te],r,i,te);if(l){const te=wr(l)?l.call(i):l;Reflect.ownKeys(te).forEach(re=>{Jr(re,te[re])})}c&&q4(c,e,"c");function $(te,re){lr(re)?re.forEach(oe=>te(oe.bind(i))):re&&te(re.bind(i))}if($(v0,d),$($i,f),$(VG,h),$(TC,p),$(BG,g),$(AC,m),$(Uoe,F),$(Voe,T),$(qoe,R),$(yi,v),$(EC,_),$(Boe,D),lr(A))if(A.length){const te=e.exposed||(e.exposed={});A.forEach(re=>{Object.defineProperty(te,re,{get:()=>i[re],set:oe=>i[re]=oe})})}else e.exposed||(e.exposed={});w&&e.render===ws&&(e.render=w),x!=null&&(e.inheritAttrs=x),N&&(e.components=N),j&&(e.directives=j),D&&kG(e)}function Woe(e,t,i=ws){lr(e)&&(e=IP(e));for(const r in e){const n=e[r];let a;un(n)?"default"in n?a=_r(n.from||r,n.default,!0):a=_r(n.from||r):a=_r(n),Pn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[r]=a}}function q4(e,t,i){Ho(lr(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function UG(e,t,i,r){let n=r.includes(".")?tW(i,r):()=>i[r];if(qn(e)){const a=t[e];wr(a)&&Pt(n,a)}else if(wr(e))Pt(n,e.bind(i));else if(un(e))if(lr(e))e.forEach(a=>UG(a,t,i,r));else{const a=wr(e.handler)?e.handler.bind(i):t[e.handler];wr(a)&&Pt(n,a,e)}}function HG(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!n.length&&!i&&!r?l=t:(l={},n.length&&n.forEach(u=>GT(l,u,o,!0)),GT(l,t,o)),un(t)&&a.set(t,l),l}function GT(e,t,i,r=!1){const{mixins:n,extends:a}=t;a&&GT(e,a,i,!0),n&&n.forEach(o=>GT(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const s=Koe[o]||i&&i[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Koe={data:V4,props:U4,emits:U4,methods:gS,computed:gS,beforeCreate:ha,created:ha,beforeMount:ha,mounted:ha,beforeUpdate:ha,updated:ha,beforeDestroy:ha,beforeUnmount:ha,destroyed:ha,unmounted:ha,activated:ha,deactivated:ha,errorCaptured:ha,serverPrefetch:ha,components:gS,directives:gS,watch:Xoe,provide:V4,inject:Joe};function V4(e,t){return t?e?function(){return mi(wr(e)?e.call(this,this):e,wr(t)?t.call(this,this):t)}:t:e}function Joe(e,t){return gS(IP(e),IP(t))}function IP(e){if(lr(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function ha(e,t){return e?[...new Set([].concat(e,t))]:t}function gS(e,t){return e?mi(Object.create(null),e,t):t}function U4(e,t){return e?lr(e)&&lr(t)?[...new Set([...e,...t])]:mi(Object.create(null),B4(e),B4(t??{})):t}function Xoe(e,t){if(!e)return t;if(!t)return e;const i=mi(Object.create(null),e);for(const r in t)i[r]=ha(e[r],t[r]);return i}function $G(){return{app:null,config:{isNativeTag:$ae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yoe=0;function Zoe(e,t){return function(r,n=null){wr(r)||(r=mi({},r)),n!=null&&!un(n)&&(n=null);const a=$G(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:Yoe++,_component:r,_props:n,_container:null,_context:a,_instance:null,version:Dse,get config(){return a.config},set config(c){},use(c,...d){return o.has(c)||(c&&wr(c.install)?(o.add(c),c.install(u,...d)):wr(c)&&(o.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||B(r,n);return h.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,LE(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Ho(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=$g;$g=u;try{return c()}finally{$g=d}}};return u}}let $g=null;function Jr(e,t){if(ji){let i=ji.provides;const r=ji.parent&&ji.parent.provides;r===i&&(i=ji.provides=Object.create(r)),i[e]=t}}function _r(e,t,i=!1){const r=ji||Fa;if(r||$g){const n=$g?$g._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return i&&wr(t)?t.call(r&&r.proxy):t}}const QG={},zG=()=>Object.create(QG),GG=e=>Object.getPrototypeOf(e)===QG;function ese(e,t,i,r=!1){const n={},a=zG();e.propsDefaults=Object.create(null),WG(e,t,n,a);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);i?e.props=r?n:_G(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function tse(e,t,i,r){const{props:n,attrs:a,vnode:{patchFlag:o}}=e,s=rr(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(FE(e.emitsOptions,f))continue;const h=t[f];if(l)if(tn(a,f))h!==a[f]&&(a[f]=h,u=!0);else{const p=Ba(f);n[p]=CP(l,s,p,h,e,!1)}else h!==a[f]&&(a[f]=h,u=!0)}}}else{WG(e,t,n,a)&&(u=!0);let c;for(const d in s)(!t||!tn(t,d)&&((c=qp(d))===d||!tn(t,c)))&&(l?i&&(i[d]!==void 0||i[c]!==void 0)&&(n[d]=CP(l,s,d,void 0,e,!0)):delete n[d]);if(a!==s)for(const d in a)(!t||!tn(t,d))&&(delete a[d],u=!0)}u&&uu(e.attrs,"set","")}function WG(e,t,i,r){const[n,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(DS(l))continue;const u=t[l];let c;n&&tn(n,c=Ba(l))?!a||!a.includes(c)?i[c]=u:(s||(s={}))[c]=u:FE(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(a){const l=rr(i),u=s||dn;for(let c=0;c<a.length;c++){const d=a[c];i[d]=CP(n,l,d,u[d],e,!tn(u,d))}}return o}function CP(e,t,i,r,n,a){const o=e[i];if(o!=null){const s=tn(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&wr(l)){const{propsDefaults:u}=n;if(i in u)r=u[i];else{const c=R2(n);r=u[i]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(i,r)}o[0]&&(a&&!s?r=!1:o[1]&&(r===""||r===qp(i))&&(r=!0))}return r}const rse=new WeakMap;function KG(e,t,i=!1){const r=i?rse:t.propsCache,n=r.get(e);if(n)return n;const a=e.props,o={},s=[];let l=!1;if(!wr(e)){const c=d=>{l=!0;const[f,h]=KG(d,t,!0);mi(o,f),h&&s.push(...h)};!i&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return un(e)&&r.set(e,qg),qg;if(lr(a))for(let c=0;c<a.length;c++){const d=Ba(a[c]);H4(d)&&(o[d]=dn)}else if(a)for(const c in a){const d=Ba(c);if(H4(d)){const f=a[c],h=o[d]=lr(f)||wr(f)?{type:f}:mi({},f),p=h.type;let g=!1,m=!0;if(lr(p))for(let y=0;y<p.length;++y){const v=p[y],b=wr(v)&&v.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(m=!1)}else g=wr(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||tn(h,"default"))&&s.push(d)}}const u=[o,s];return un(e)&&r.set(e,u),u}function H4(e){return e[0]!=="$"&&!DS(e)}const JG=e=>e[0]==="_"||e==="$stable",OC=e=>lr(e)?e.map(gs):[gs(e)],nse=(e,t,i)=>{if(t._n)return t;const r=zt((...n)=>OC(t(...n)),i);return r._c=!1,r},XG=(e,t,i)=>{const r=e._ctx;for(const n in e){if(JG(n))continue;const a=e[n];if(wr(a))t[n]=nse(n,a,r);else if(a!=null){const o=OC(a);t[n]=()=>o}}},YG=(e,t)=>{const i=OC(t);e.slots.default=()=>i},ZG=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},ise=(e,t,i)=>{const r=e.slots=zG();if(e.vnode.shapeFlag&32){const n=t._;n?(ZG(r,t,i),i&&eG(r,"_",n,!0)):XG(t,r)}else t&&YG(e,t)},ase=(e,t,i)=>{const{vnode:r,slots:n}=e;let a=!0,o=dn;if(r.shapeFlag&32){const s=t._;s?i&&s===1?a=!1:ZG(n,t,i):(a=!t.$stable,XG(t,n)),o=t}else t&&(YG(e,t),o={default:1});if(a)for(const s in n)!JG(s)&&o[s]==null&&delete n[s]},ga=bse;function ose(e){return sse(e)}function sse(e,t){const i=RE();i.__VUE__=!0;const{insert:r,remove:n,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ws,insertStaticContent:p}=e,g=(E,S,I,k=null,Q=null,G=null,ne=void 0,ee=null,se=!!S.dynamicChildren)=>{if(E===S)return;E&&!dp(E,S)&&(k=me(E),xe(E,Q,G,!0),E=null),S.patchFlag===-2&&(se=!1,S.dynamicChildren=null);const{type:ge,ref:Ae,shapeFlag:Ve}=S;switch(ge){case x2:m(E,S,I,k);break;case _a:y(E,S,I,k);break;case bT:E==null&&v(S,I,k,ne);break;case Ot:N(E,S,I,k,Q,G,ne,ee,se);break;default:Ve&1?w(E,S,I,k,Q,G,ne,ee,se):Ve&6?j(E,S,I,k,Q,G,ne,ee,se):(Ve&64||Ve&128)&&ge.process(E,S,I,k,Q,G,ne,ee,se,X)}Ae!=null&&Q&&zT(Ae,E&&E.ref,G,S||E,!S)},m=(E,S,I,k)=>{if(E==null)r(S.el=s(S.children),I,k);else{const Q=S.el=E.el;S.children!==E.children&&u(Q,S.children)}},y=(E,S,I,k)=>{E==null?r(S.el=l(S.children||""),I,k):S.el=E.el},v=(E,S,I,k)=>{[E.el,E.anchor]=p(E.children,S,I,k,E.el,E.anchor)},b=({el:E,anchor:S},I,k)=>{let Q;for(;E&&E!==S;)Q=f(E),r(E,I,k),E=Q;r(S,I,k)},_=({el:E,anchor:S})=>{let I;for(;E&&E!==S;)I=f(E),n(E),E=I;n(S)},w=(E,S,I,k,Q,G,ne,ee,se)=>{S.type==="svg"?ne="svg":S.type==="math"&&(ne="mathml"),E==null?T(S,I,k,Q,G,ne,ee,se):D(E,S,Q,G,ne,ee,se)},T=(E,S,I,k,Q,G,ne,ee)=>{let se,ge;const{props:Ae,shapeFlag:Ve,transition:Ge,dirs:qe}=E;if(se=E.el=o(E.type,G,Ae&&Ae.is,Ae),Ve&8?c(se,E.children):Ve&16&&F(E.children,se,null,k,Q,Sx(E,G),ne,ee),qe&&Bl(E,null,k,"created"),R(se,E,E.scopeId,ne,k),Ae){for(const W in Ae)W!=="value"&&!DS(W)&&a(se,W,null,Ae[W],G,k);"value"in Ae&&a(se,"value",null,Ae.value,G),(ge=Ae.onVnodeBeforeMount)&&as(ge,k,E)}qe&&Bl(E,null,k,"beforeMount");const Ee=use(Q,Ge);Ee&&Ge.beforeEnter(se),r(se,S,I),((ge=Ae&&Ae.onVnodeMounted)||Ee||qe)&&ga(()=>{ge&&as(ge,k,E),Ee&&Ge.enter(se),qe&&Bl(E,null,k,"mounted")},Q)},R=(E,S,I,k,Q)=>{if(I&&h(E,I),k)for(let G=0;G<k.length;G++)h(E,k[G]);if(Q){let G=Q.subTree;if(S===G||nW(G.type)&&(G.ssContent===S||G.ssFallback===S)){const ne=Q.vnode;R(E,ne,ne.scopeId,ne.slotScopeIds,Q.parent)}}},F=(E,S,I,k,Q,G,ne,ee,se=0)=>{for(let ge=se;ge<E.length;ge++){const Ae=E[ge]=ee?Ju(E[ge]):gs(E[ge]);g(null,Ae,S,I,k,Q,G,ne,ee)}},D=(E,S,I,k,Q,G,ne)=>{const ee=S.el=E.el;let{patchFlag:se,dynamicChildren:ge,dirs:Ae}=S;se|=E.patchFlag&16;const Ve=E.props||dn,Ge=S.props||dn;let qe;if(I&&ql(I,!1),(qe=Ge.onVnodeBeforeUpdate)&&as(qe,I,S,E),Ae&&Bl(S,E,I,"beforeUpdate"),I&&ql(I,!0),(Ve.innerHTML&&Ge.innerHTML==null||Ve.textContent&&Ge.textContent==null)&&c(ee,""),ge?A(E.dynamicChildren,ge,ee,I,k,Sx(S,Q),G):ne||re(E,S,ee,null,I,k,Sx(S,Q),G,!1),se>0){if(se&16)x(ee,Ve,Ge,I,Q);else if(se&2&&Ve.class!==Ge.class&&a(ee,"class",null,Ge.class,Q),se&4&&a(ee,"style",Ve.style,Ge.style,Q),se&8){const Ee=S.dynamicProps;for(let W=0;W<Ee.length;W++){const V=Ee[W],K=Ve[V],z=Ge[V];(z!==K||V==="value")&&a(ee,V,K,z,Q,I)}}se&1&&E.children!==S.children&&c(ee,S.children)}else!ne&&ge==null&&x(ee,Ve,Ge,I,Q);((qe=Ge.onVnodeUpdated)||Ae)&&ga(()=>{qe&&as(qe,I,S,E),Ae&&Bl(S,E,I,"updated")},k)},A=(E,S,I,k,Q,G,ne)=>{for(let ee=0;ee<S.length;ee++){const se=E[ee],ge=S[ee],Ae=se.el&&(se.type===Ot||!dp(se,ge)||se.shapeFlag&70)?d(se.el):I;g(se,ge,Ae,null,k,Q,G,ne,!0)}},x=(E,S,I,k,Q)=>{if(S!==I){if(S!==dn)for(const G in S)!DS(G)&&!(G in I)&&a(E,G,S[G],null,Q,k);for(const G in I){if(DS(G))continue;const ne=I[G],ee=S[G];ne!==ee&&G!=="value"&&a(E,G,ee,ne,Q,k)}"value"in I&&a(E,"value",S.value,I.value,Q)}},N=(E,S,I,k,Q,G,ne,ee,se)=>{const ge=S.el=E?E.el:s(""),Ae=S.anchor=E?E.anchor:s("");let{patchFlag:Ve,dynamicChildren:Ge,slotScopeIds:qe}=S;qe&&(ee=ee?ee.concat(qe):qe),E==null?(r(ge,I,k),r(Ae,I,k),F(S.children||[],I,Ae,Q,G,ne,ee,se)):Ve>0&&Ve&64&&Ge&&E.dynamicChildren?(A(E.dynamicChildren,Ge,I,Q,G,ne,ee),(S.key!=null||Q&&S===Q.subTree)&&PC(E,S,!0)):re(E,S,I,Ae,Q,G,ne,ee,se)},j=(E,S,I,k,Q,G,ne,ee,se)=>{S.slotScopeIds=ee,E==null?S.shapeFlag&512?Q.ctx.activate(S,I,k,ne,se):H(S,I,k,Q,G,ne,se):M(E,S,se)},H=(E,S,I,k,Q,G,ne)=>{const ee=E.component=Ese(E,k,Q);if(DE(E)&&(ee.ctx.renderer=X),xse(ee,!1,ne),ee.asyncDep){if(Q&&Q.registerDep(ee,$,ne),!E.el){const se=ee.subTree=B(_a);y(null,se,S,I)}}else $(ee,E,S,I,Q,G,ne)},M=(E,S,I)=>{const k=S.component=E.component;if(yse(E,S,I))if(k.asyncDep&&!k.asyncResolved){te(k,S,I);return}else k.next=S,k.update();else S.el=E.el,k.vnode=S},$=(E,S,I,k,Q,G,ne)=>{const ee=()=>{if(E.isMounted){let{next:Ve,bu:Ge,u:qe,parent:Ee,vnode:W}=E;{const ke=eW(E);if(ke){Ve&&(Ve.el=W.el,te(E,Ve,ne)),ke.asyncDep.then(()=>{E.isUnmounted||ee()});return}}let V=Ve,K;ql(E,!1),Ve?(Ve.el=W.el,te(E,Ve,ne)):Ve=W,Ge&&yT(Ge),(K=Ve.props&&Ve.props.onVnodeBeforeUpdate)&&as(K,Ee,Ve,W),ql(E,!0);const z=Q4(E),be=E.subTree;E.subTree=z,g(be,z,d(be.el),me(be),E,Q,G),Ve.el=z.el,V===null&&vse(E,z.el),qe&&ga(qe,Q),(K=Ve.props&&Ve.props.onVnodeUpdated)&&ga(()=>as(K,Ee,Ve,W),Q)}else{let Ve;const{el:Ge,props:qe}=S,{bm:Ee,m:W,parent:V,root:K,type:z}=E,be=MS(S);ql(E,!1),Ee&&yT(Ee),!be&&(Ve=qe&&qe.onVnodeBeforeMount)&&as(Ve,V,S),ql(E,!0);{K.ce&&K.ce._injectChildStyle(z);const ke=E.subTree=Q4(E);g(null,ke,I,k,E,Q,G),S.el=ke.el}if(W&&ga(W,Q),!be&&(Ve=qe&&qe.onVnodeMounted)){const ke=S;ga(()=>as(Ve,V,ke),Q)}(S.shapeFlag&256||V&&MS(V.vnode)&&V.vnode.shapeFlag&256)&&E.a&&ga(E.a,Q),E.isMounted=!0,S=I=k=null}};E.scope.on();const se=E.effect=new oG(ee);E.scope.off();const ge=E.update=se.run.bind(se),Ae=E.job=se.runIfDirty.bind(se);Ae.i=E,Ae.id=E.uid,se.scheduler=()=>wC(Ae),ql(E,!0),ge()},te=(E,S,I)=>{S.component=E;const k=E.vnode.props;E.vnode=S,E.next=null,tse(E,S.props,k,I),ase(E,S.children,I),gl(),N4(E),ml()},re=(E,S,I,k,Q,G,ne,ee,se=!1)=>{const ge=E&&E.children,Ae=E?E.shapeFlag:0,Ve=S.children,{patchFlag:Ge,shapeFlag:qe}=S;if(Ge>0){if(Ge&128){J(ge,Ve,I,k,Q,G,ne,ee,se);return}else if(Ge&256){oe(ge,Ve,I,k,Q,G,ne,ee,se);return}}qe&8?(Ae&16&&Le(ge,Q,G),Ve!==ge&&c(I,Ve)):Ae&16?qe&16?J(ge,Ve,I,k,Q,G,ne,ee,se):Le(ge,Q,G,!0):(Ae&8&&c(I,""),qe&16&&F(Ve,I,k,Q,G,ne,ee,se))},oe=(E,S,I,k,Q,G,ne,ee,se)=>{E=E||qg,S=S||qg;const ge=E.length,Ae=S.length,Ve=Math.min(ge,Ae);let Ge;for(Ge=0;Ge<Ve;Ge++){const qe=S[Ge]=se?Ju(S[Ge]):gs(S[Ge]);g(E[Ge],qe,I,null,Q,G,ne,ee,se)}ge>Ae?Le(E,Q,G,!0,!1,Ve):F(S,I,k,Q,G,ne,ee,se,Ve)},J=(E,S,I,k,Q,G,ne,ee,se)=>{let ge=0;const Ae=S.length;let Ve=E.length-1,Ge=Ae-1;for(;ge<=Ve&&ge<=Ge;){const qe=E[ge],Ee=S[ge]=se?Ju(S[ge]):gs(S[ge]);if(dp(qe,Ee))g(qe,Ee,I,null,Q,G,ne,ee,se);else break;ge++}for(;ge<=Ve&&ge<=Ge;){const qe=E[Ve],Ee=S[Ge]=se?Ju(S[Ge]):gs(S[Ge]);if(dp(qe,Ee))g(qe,Ee,I,null,Q,G,ne,ee,se);else break;Ve--,Ge--}if(ge>Ve){if(ge<=Ge){const qe=Ge+1,Ee=qe<Ae?S[qe].el:k;for(;ge<=Ge;)g(null,S[ge]=se?Ju(S[ge]):gs(S[ge]),I,Ee,Q,G,ne,ee,se),ge++}}else if(ge>Ge)for(;ge<=Ve;)xe(E[ge],Q,G,!0),ge++;else{const qe=ge,Ee=ge,W=new Map;for(ge=Ee;ge<=Ge;ge++){const pt=S[ge]=se?Ju(S[ge]):gs(S[ge]);pt.key!=null&&W.set(pt.key,ge)}let V,K=0;const z=Ge-Ee+1;let be=!1,ke=0;const Pe=new Array(z);for(ge=0;ge<z;ge++)Pe[ge]=0;for(ge=qe;ge<=Ve;ge++){const pt=E[ge];if(K>=z){xe(pt,Q,G,!0);continue}let tt;if(pt.key!=null)tt=W.get(pt.key);else for(V=Ee;V<=Ge;V++)if(Pe[V-Ee]===0&&dp(pt,S[V])){tt=V;break}tt===void 0?xe(pt,Q,G,!0):(Pe[tt-Ee]=ge+1,tt>=ke?ke=tt:be=!0,g(pt,S[tt],I,null,Q,G,ne,ee,se),K++)}const dt=be?lse(Pe):qg;for(V=dt.length-1,ge=z-1;ge>=0;ge--){const pt=Ee+ge,tt=S[pt],At=pt+1<Ae?S[pt+1].el:k;Pe[ge]===0?g(null,tt,I,At,Q,G,ne,ee,se):be&&(V<0||ge!==dt[V]?fe(tt,I,At,2):V--)}}},fe=(E,S,I,k,Q=null)=>{const{el:G,type:ne,transition:ee,children:se,shapeFlag:ge}=E;if(ge&6){fe(E.component.subTree,S,I,k);return}if(ge&128){E.suspense.move(S,I,k);return}if(ge&64){ne.move(E,S,I,X);return}if(ne===Ot){r(G,S,I);for(let Ve=0;Ve<se.length;Ve++)fe(se[Ve],S,I,k);r(E.anchor,S,I);return}if(ne===bT){b(E,S,I);return}if(k!==2&&ge&1&&ee)if(k===0)ee.beforeEnter(G),r(G,S,I),ga(()=>ee.enter(G),Q);else{const{leave:Ve,delayLeave:Ge,afterLeave:qe}=ee,Ee=()=>r(G,S,I),W=()=>{Ve(G,()=>{Ee(),qe&&qe()})};Ge?Ge(G,Ee,W):W()}else r(G,S,I)},xe=(E,S,I,k=!1,Q=!1)=>{const{type:G,props:ne,ref:ee,children:se,dynamicChildren:ge,shapeFlag:Ae,patchFlag:Ve,dirs:Ge,cacheIndex:qe}=E;if(Ve===-2&&(Q=!1),ee!=null&&zT(ee,null,I,E,!0),qe!=null&&(S.renderCache[qe]=void 0),Ae&256){S.ctx.deactivate(E);return}const Ee=Ae&1&&Ge,W=!MS(E);let V;if(W&&(V=ne&&ne.onVnodeBeforeUnmount)&&as(V,S,E),Ae&6)Fe(E.component,I,k);else{if(Ae&128){E.suspense.unmount(I,k);return}Ee&&Bl(E,null,S,"beforeUnmount"),Ae&64?E.type.remove(E,S,I,X,k):ge&&!ge.hasOnce&&(G!==Ot||Ve>0&&Ve&64)?Le(ge,S,I,!1,!0):(G===Ot&&Ve&384||!Q&&Ae&16)&&Le(se,S,I),k&&de(E)}(W&&(V=ne&&ne.onVnodeUnmounted)||Ee)&&ga(()=>{V&&as(V,S,E),Ee&&Bl(E,null,S,"unmounted")},I)},de=E=>{const{type:S,el:I,anchor:k,transition:Q}=E;if(S===Ot){ae(I,k);return}if(S===bT){_(E);return}const G=()=>{n(I),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(E.shapeFlag&1&&Q&&!Q.persisted){const{leave:ne,delayLeave:ee}=Q,se=()=>ne(I,G);ee?ee(E.el,G,se):se()}else G()},ae=(E,S)=>{let I;for(;E!==S;)I=f(E),n(E),E=I;n(S)},Fe=(E,S,I)=>{const{bum:k,scope:Q,job:G,subTree:ne,um:ee,m:se,a:ge}=E;$4(se),$4(ge),k&&yT(k),Q.stop(),G&&(G.flags|=8,xe(ne,E,S,I)),ee&&ga(ee,S),ga(()=>{E.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Le=(E,S,I,k=!1,Q=!1,G=0)=>{for(let ne=G;ne<E.length;ne++)xe(E[ne],S,I,k,Q)},me=E=>{if(E.shapeFlag&6)return me(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const S=f(E.anchor||E.el),I=S&&S[PG];return I?f(I):S};let pe=!1;const _e=(E,S,I)=>{E==null?S._vnode&&xe(S._vnode,null,null,!0):g(S._vnode||null,E,S,null,null,null,I),S._vnode=E,pe||(pe=!0,N4(),xG(),pe=!1)},X={p:g,um:xe,m:fe,r:de,mt:H,mc:F,pc:re,pbc:A,n:me,o:e};return{render:_e,hydrate:void 0,createApp:Zoe(_e)}}function Sx({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function ql({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function use(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function PC(e,t,i=!1){const r=e.children,n=t.children;if(lr(r)&&lr(n))for(let a=0;a<r.length;a++){const o=r[a];let s=n[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=n[a]=Ju(n[a]),s.el=o.el),!i&&s.patchFlag!==-2&&PC(o,s)),s.type===x2&&(s.el=o.el)}}function lse(e){const t=e.slice(),i=[0];let r,n,a,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=i[i.length-1],e[n]<u){t[r]=n,i.push(r);continue}for(a=0,o=i.length-1;a<o;)s=a+o>>1,e[i[s]]<u?a=s+1:o=s;u<e[i[a]]&&(a>0&&(t[r]=i[a-1]),i[a]=r)}}for(a=i.length,o=i[a-1];a-- >0;)i[a]=o,o=t[o];return i}function eW(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:eW(t)}function $4(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cse=Symbol.for("v-scx"),dse=()=>_r(cse);function Vn(e,t){return IC(e,null,t)}function Pt(e,t,i){return IC(e,t,i)}function IC(e,t,i=dn){const{immediate:r,deep:n,flush:a,once:o}=i,s=mi({},i),l=t&&r||!t&&a!=="post";let u;if(JS){if(a==="sync"){const h=dse();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=ws,h.resume=ws,h.pause=ws,h}}const c=ji;s.call=(h,p,g)=>Ho(h,c,p,g);let d=!1;a==="post"?s.scheduler=h=>{ga(h,c&&c.suspense)}:a!=="sync"&&(d=!0,s.scheduler=(h,p)=>{p?h():wC(h)}),s.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Ioe(e,t,s);return JS&&(u?u.push(f):l&&f()),f}function fse(e,t,i){const r=this.proxy,n=qn(e)?e.includes(".")?tW(r,e):()=>r[e]:e.bind(r,r);let a;wr(t)?a=t:(a=t.handler,i=t);const o=R2(this),s=IC(n,a.bind(r),i);return o(),s}function tW(e,t){const i=t.split(".");return()=>{let r=e;for(let n=0;n<i.length&&r;n++)r=r[i[n]];return r}}const hse=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ba(t)}Modifiers`]||e[`${qp(t)}Modifiers`];function pse(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||dn;let n=i;const a=t.startsWith("update:"),o=a&&hse(r,t.slice(7));o&&(o.trim&&(n=i.map(c=>qn(c)?c.trim():c)),o.number&&(n=i.map(SP)));let s,l=r[s=gx(t)]||r[s=gx(Ba(t))];!l&&a&&(l=r[s=gx(qp(t))]),l&&Ho(l,e,6,n);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ho(u,e,6,n)}}function rW(e,t,i=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const a=e.emits;let o={},s=!1;if(!wr(e)){const l=u=>{const c=rW(u,t,!0);c&&(s=!0,mi(o,c))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(un(e)&&r.set(e,null),null):(lr(a)?a.forEach(l=>o[l]=null):mi(o,a),un(e)&&r.set(e,o),o)}function FE(e,t){return!e||!TE(t)?!1:(t=t.slice(2).replace(/Once$/,""),tn(e,t[0].toLowerCase()+t.slice(1))||tn(e,qp(t))||tn(e,t))}function Q4(e){const{type:t,vnode:i,proxy:r,withProxy:n,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=e,m=QT(e);let y,v;try{if(i.shapeFlag&4){const _=n||r,w=_;y=gs(u.call(w,_,c,d,h,f,p)),v=s}else{const _=t;y=gs(_.length>1?_(d,{attrs:s,slots:o,emit:l}):_(d,null)),v=t.props?s:gse(s)}}catch(_){kS.length=0,CE(_,e,1),y=B(_a)}let b=y;if(v&&g!==!1){const _=Object.keys(v),{shapeFlag:w}=b;_.length&&w&7&&(a&&_.some(lC)&&(v=mse(v,a)),b=cu(b,v,!1,!0))}return i.dirs&&(b=cu(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(i.dirs):i.dirs),i.transition&&xp(b,i.transition),y=b,QT(m),y}const gse=e=>{let t;for(const i in e)(i==="class"||i==="style"||TE(i))&&((t||(t={}))[i]=e[i]);return t},mse=(e,t)=>{const i={};for(const r in e)(!lC(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function yse(e,t,i){const{props:r,children:n,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?z4(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!FE(u,f))return!0}}}else return(n||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?z4(r,o,u):!0:!!o;return!1}function z4(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const a=r[n];if(t[a]!==e[a]&&!FE(i,a))return!0}return!1}function vse({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const nW=e=>e.__isSuspense;function bse(e,t){t&&t.pendingBranch?lr(e)?t.effects.push(...e):t.effects.push(e):Noe(e)}const Ot=Symbol.for("v-fgt"),x2=Symbol.for("v-txt"),_a=Symbol.for("v-cmt"),bT=Symbol.for("v-stc"),kS=[];let Ka=null;function wt(e=!1){kS.push(Ka=e?null:[])}function _se(){kS.pop(),Ka=kS[kS.length-1]||null}let WS=1;function G4(e,t=!1){WS+=e,e<0&&Ka&&t&&(Ka.hasOnce=!0)}function iW(e){return e.dynamicChildren=WS>0?Ka||qg:null,_se(),WS>0&&Ka&&Ka.push(e),e}function Ct(e,t,i,r,n,a){return iW(Me(e,t,i,r,n,a,!0))}function ja(e,t,i,r,n){return iW(B(e,t,i,r,n,!0))}function KS(e){return e?e.__v_isVNode===!0:!1}function dp(e,t){return e.type===t.type&&e.key===t.key}const aW=({key:e})=>e??null,_T=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?qn(e)||Pn(e)||wr(e)?{i:Fa,r:e,k:t,f:!!i}:e:null);function Me(e,t=null,i=null,r=0,n=null,a=e===Ot?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&aW(t),ref:t&&_T(t),scopeId:OG,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Fa};return s?(CC(l,i),a&128&&e.normalize(l)):i&&(l.shapeFlag|=qn(i)?8:16),WS>0&&!o&&Ka&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Ka.push(l),l}const B=wse;function wse(e,t=null,i=null,r=0,n=null,a=!1){if((!e||e===$oe)&&(e=_a),KS(e)){const s=cu(e,t,!0);return i&&CC(s,i),WS>0&&!a&&Ka&&(s.shapeFlag&6?Ka[Ka.indexOf(e)]=s:Ka.push(s)),s.patchFlag=-2,s}if(Cse(e)&&(e=e.__vccOpts),t){t=Sse(t);let{class:s,style:l}=t;s&&!qn(s)&&(t.class=Na(s)),un(l)&&(bC(l)&&!lr(l)&&(l=mi({},l)),t.style=fC(l))}const o=qn(e)?1:nW(e)?128:IG(e)?64:un(e)?4:wr(e)?2:0;return Me(e,t,i,r,n,o,a,!0)}function Sse(e){return e?bC(e)||GG(e)?mi({},e):e:null}function cu(e,t,i=!1,r=!1){const{props:n,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?ct(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&aW(u),ref:t&&t.ref?i&&a?lr(a)?a.concat(_T(t)):[a,_T(t)]:_T(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cu(e.ssContent),ssFallback:e.ssFallback&&cu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&xp(c,l.clone(c)),c}function $t(e=" ",t=0){return B(x2,null,e,t)}function ul(e,t){const i=B(bT,null,e);return i.staticCount=t,i}function nr(e="",t=!1){return t?(wt(),ja(_a,null,e)):B(_a,null,e)}function gs(e){return e==null||typeof e=="boolean"?B(_a):lr(e)?B(Ot,null,e.slice()):KS(e)?Ju(e):B(x2,null,String(e))}function Ju(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cu(e)}function CC(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(lr(t))i=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),CC(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!GG(t)?t._ctx=Fa:n===3&&Fa&&(Fa.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else wr(t)?(t={default:t,_ctx:Fa},i=32):(t=String(t),r&64?(i=16,t=[$t(t)]):i=8);e.children=t,e.shapeFlag|=i}function ct(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=Na([t.class,r.class]));else if(n==="style")t.style=fC([t.style,r.style]);else if(TE(n)){const a=t[n],o=r[n];o&&a!==o&&!(lr(a)&&a.includes(o))&&(t[n]=a?[].concat(a,o):o)}else n!==""&&(t[n]=r[n])}return t}function as(e,t,i,r=null){Ho(e,t,7,[i,r])}const Ase=$G();let Tse=0;function Ese(e,t,i){const r=e.type,n=(t?t.appContext:e.appContext)||Ase,a={uid:Tse++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new aG(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:KG(r,n),emitsOptions:rW(r,n),emit:null,emitted:null,propsDefaults:dn,inheritAttrs:r.inheritAttrs,ctx:dn,data:dn,props:dn,attrs:dn,slots:dn,refs:dn,setupState:dn,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=pse.bind(null,a),e.ce&&e.ce(a),a}let ji=null;const DC=()=>ji||Fa;let WT,DP;{const e=RE(),t=(i,r)=>{let n;return(n=e[i])||(n=e[i]=[]),n.push(r),a=>{n.length>1?n.forEach(o=>o(a)):n[0](a)}};WT=t("__VUE_INSTANCE_SETTERS__",i=>ji=i),DP=t("__VUE_SSR_SETTERS__",i=>JS=i)}const R2=e=>{const t=ji;return WT(e),e.scope.on(),()=>{e.scope.off(),WT(t)}},W4=()=>{ji&&ji.scope.off(),WT(null)};function oW(e){return e.vnode.shapeFlag&4}let JS=!1;function xse(e,t=!1,i=!1){t&&DP(t);const{props:r,children:n}=e.vnode,a=oW(e);ese(e,r,a,t),ise(e,n,i);const o=a?Rse(e,t):void 0;return t&&DP(!1),o}function Rse(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zoe);const{setup:r}=i;if(r){gl();const n=e.setupContext=r.length>1?Pse(e):null,a=R2(e),o=T2(r,e,0,[e.props,n]),s=Xz(o);if(ml(),a(),(s||e.sp)&&!MS(e)&&kG(e),s){if(o.then(W4,W4),t)return o.then(l=>{K4(e,l)}).catch(l=>{CE(l,e,0)});e.asyncDep=o}else K4(e,o)}else sW(e)}function K4(e,t,i){wr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:un(t)&&(e.setupState=SG(t)),sW(e)}function sW(e,t,i){const r=e.type;e.render||(e.render=r.render||ws);{const n=R2(e);gl();try{Goe(e)}finally{ml(),n()}}}const Ose={get(e,t){return Ji(e,"get",""),e[t]}};function Pse(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,Ose),slots:e.slots,emit:e.emit,expose:t}}function LE(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(SG(_C(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in jS)return jS[i](e)},has(t,i){return i in t||i in jS}})):e.proxy}function Ise(e,t=!0){return wr(e)?e.displayName||e.name:e.name||t&&e.__name}function Cse(e){return wr(e)&&"__vccOpts"in e}const ue=(e,t)=>Ooe(e,t,JS);function Wo(e,t,i){const r=arguments.length;return r===2?un(t)&&!lr(t)?KS(t)?B(e,null,[t]):B(e,t):B(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&KS(i)&&(i=[i]),B(e,t,i))}const Dse="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let NP;const J4=typeof window<"u"&&window.trustedTypes;if(J4)try{NP=J4.createPolicy("vue",{createHTML:e=>e})}catch{}const uW=NP?e=>NP.createHTML(e):e=>e,Nse="http://www.w3.org/2000/svg",Fse="http://www.w3.org/1998/Math/MathML",su=typeof document<"u"?document:null,X4=su&&su.createElement("template"),Lse={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const n=t==="svg"?su.createElementNS(Nse,e):t==="mathml"?su.createElementNS(Fse,e):i?su.createElement(e,{is:i}):su.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>su.createTextNode(e),createComment:e=>su.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>su.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,n,a){const o=i?i.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===a||!(n=n.nextSibling)););else{X4.innerHTML=uW(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=X4.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Lu="transition",tm="animation",Wg=Symbol("_vtc"),lW={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cW=mi({},FG,lW),Mse=e=>(e.displayName="Transition",e.props=cW,e),ll=Mse((e,{slots:t})=>Wo(joe,dW(e),t)),Vl=(e,t=[])=>{lr(e)?e.forEach(i=>i(...t)):e&&e(...t)},Y4=e=>e?lr(e)?e.some(t=>t.length>1):e.length>1:!1;function dW(e){const t={};for(const N in e)N in lW||(t[N]=e[N]);if(e.css===!1)return t;const{name:i="v",type:r,duration:n,enterFromClass:a=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:s=`${i}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:h=`${i}-leave-to`}=e,p=jse(n),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:_,onLeaveCancelled:w,onBeforeAppear:T=y,onAppear:R=v,onAppearCancelled:F=b}=t,D=(N,j,H,M)=>{N._enterCancelled=M,qu(N,j?c:s),qu(N,j?u:o),H&&H()},A=(N,j)=>{N._isLeaving=!1,qu(N,d),qu(N,h),qu(N,f),j&&j()},x=N=>(j,H)=>{const M=N?R:v,$=()=>D(j,N,H);Vl(M,[j,$]),Z4(()=>{qu(j,N?l:a),ds(j,N?c:s),Y4(M)||e6(j,r,g,$)})};return mi(t,{onBeforeEnter(N){Vl(y,[N]),ds(N,a),ds(N,o)},onBeforeAppear(N){Vl(T,[N]),ds(N,l),ds(N,u)},onEnter:x(!1),onAppear:x(!0),onLeave(N,j){N._isLeaving=!0;const H=()=>A(N,j);ds(N,d),N._enterCancelled?(ds(N,f),FP()):(FP(),ds(N,f)),Z4(()=>{N._isLeaving&&(qu(N,d),ds(N,h),Y4(_)||e6(N,r,m,H))}),Vl(_,[N,H])},onEnterCancelled(N){D(N,!1,void 0,!0),Vl(b,[N])},onAppearCancelled(N){D(N,!0,void 0,!0),Vl(F,[N])},onLeaveCancelled(N){A(N),Vl(w,[N])}})}function jse(e){if(e==null)return null;if(un(e))return[Ax(e.enter),Ax(e.leave)];{const t=Ax(e);return[t,t]}}function Ax(e){return Kae(e)}function ds(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[Wg]||(e[Wg]=new Set)).add(t)}function qu(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[Wg];i&&(i.delete(t),i.size||(e[Wg]=void 0))}function Z4(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kse=0;function e6(e,t,i,r){const n=e._endId=++kse,a=()=>{n===e._endId&&r()};if(i!=null)return setTimeout(a,i);const{type:o,timeout:s,propCount:l}=fW(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),a()},f=h=>{h.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),e.addEventListener(u,f)}function fW(e,t){const i=window.getComputedStyle(e),r=p=>(i[p]||"").split(", "),n=r(`${Lu}Delay`),a=r(`${Lu}Duration`),o=t6(n,a),s=r(`${tm}Delay`),l=r(`${tm}Duration`),u=t6(s,l);let c=null,d=0,f=0;t===Lu?o>0&&(c=Lu,d=o,f=a.length):t===tm?u>0&&(c=tm,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?Lu:tm:null,f=c?c===Lu?a.length:l.length:0);const h=c===Lu&&/\b(transform|all)(,|$)/.test(r(`${Lu}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function t6(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>r6(i)+r6(e[r])))}function r6(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function FP(){return document.body.offsetHeight}function Bse(e,t,i){const r=e[Wg];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const KT=Symbol("_vod"),hW=Symbol("_vsh"),to={beforeMount(e,{value:t},{transition:i}){e[KT]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):rm(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),rm(e,!0),r.enter(e)):r.leave(e,()=>{rm(e,!1)}):rm(e,t))},beforeUnmount(e,{value:t}){rm(e,t)}};function rm(e,t){e.style.display=t?e[KT]:"none",e[hW]=!t}const qse=Symbol(""),Vse=/(^|;)\s*display\s*:/;function Use(e,t,i){const r=e.style,n=qn(i);let a=!1;if(i&&!n){if(t)if(qn(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();i[s]==null&&wT(r,s,"")}else for(const o in t)i[o]==null&&wT(r,o,"");for(const o in i)o==="display"&&(a=!0),wT(r,o,i[o])}else if(n){if(t!==i){const o=r[qse];o&&(i+=";"+o),r.cssText=i,a=Vse.test(i)}}else t&&e.removeAttribute("style");KT in e&&(e[KT]=a?r.display:"",e[hW]&&(r.display="none"))}const n6=/\s*!important$/;function wT(e,t,i){if(lr(i))i.forEach(r=>wT(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=Hse(e,t);n6.test(i)?e.setProperty(qp(r),i.replace(n6,""),"important"):e[r]=i}}const i6=["Webkit","Moz","ms"],Tx={};function Hse(e,t){const i=Tx[t];if(i)return i;let r=Ba(t);if(r!=="filter"&&r in e)return Tx[t]=r;r=xs(r);for(let n=0;n<i6.length;n++){const a=i6[n]+r;if(a in e)return Tx[t]=a}return t}const a6="http://www.w3.org/1999/xlink";function o6(e,t,i,r,n,a=toe(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(a6,t.slice(6,t.length)):e.setAttributeNS(a6,t,i):i==null||a&&!tG(i)?e.removeAttribute(t):e.setAttribute(t,a?"":As(i)?String(i):i)}function s6(e,t,i,r,n){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?uW(i):i);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(s!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const s=typeof e[t];s==="boolean"?i=tG(i):i==null&&s==="string"?(i="",o=!0):s==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(n||t)}function fp(e,t,i,r){e.addEventListener(t,i,r)}function $se(e,t,i,r){e.removeEventListener(t,i,r)}const u6=Symbol("_vei");function Qse(e,t,i,r,n=null){const a=e[u6]||(e[u6]={}),o=a[t];if(r&&o)o.value=r;else{const[s,l]=zse(t);if(r){const u=a[t]=Kse(r,n);fp(e,s,u,l)}else o&&($se(e,s,o,l),a[t]=void 0)}}const l6=/(?:Once|Passive|Capture)$/;function zse(e){let t;if(l6.test(e)){t={};let r;for(;r=e.match(l6);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qp(e.slice(2)),t]}let Ex=0;const Gse=Promise.resolve(),Wse=()=>Ex||(Gse.then(()=>Ex=0),Ex=Date.now());function Kse(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Ho(Jse(r,i.value),t,5,[r])};return i.value=e,i.attached=Wse(),i}function Jse(e,t){if(lr(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const c6=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xse=(e,t,i,r,n,a)=>{const o=n==="svg";t==="class"?Bse(e,r,o):t==="style"?Use(e,i,r):TE(t)?lC(t)||Qse(e,t,i,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yse(e,t,r,o))?(s6(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&o6(e,t,r,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qn(r))?s6(e,Ba(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),o6(e,t,r,o))};function Yse(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&c6(t)&&wr(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return c6(t)&&qn(i)?!1:t in e}const pW=new WeakMap,gW=new WeakMap,JT=Symbol("_moveCb"),d6=Symbol("_enterCb"),Zse=e=>(delete e.props.mode,e),eue=Zse({name:"TransitionGroup",props:mi({},cW,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=DC(),r=NG();let n,a;return TC(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!iue(n[0].el,i.vnode.el,o))return;n.forEach(tue),n.forEach(rue);const s=n.filter(nue);FP(),s.forEach(l=>{const u=l.el,c=u.style;ds(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[JT]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[JT]=null,qu(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=rr(e),s=dW(o);let l=o.tag||Ot;if(n=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(n.push(c),xp(c,GS(c,s,r,i)),pW.set(c,c.el.getBoundingClientRect()))}a=t.default?SC(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&xp(c,GS(c,s,r,i))}return B(l,null,a)}}}),NC=eue;function tue(e){const t=e.el;t[JT]&&t[JT](),t[d6]&&t[d6]()}function rue(e){gW.set(e,e.el.getBoundingClientRect())}function nue(e){const t=pW.get(e),i=gW.get(e),r=t.left-i.left,n=t.top-i.top;if(r||n){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${n}px)`,a.transitionDuration="0s",e}}function iue(e,t,i){const r=e.cloneNode(),n=e[Wg];n&&n.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:o}=fW(r);return a.removeChild(r),o}const XT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return lr(t)?i=>yT(t,i):t};function aue(e){e.target.composing=!0}function f6(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qg=Symbol("_assign"),FC={created(e,{modifiers:{lazy:t,trim:i,number:r}},n){e[Qg]=XT(n);const a=r||n.props&&n.props.type==="number";fp(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;i&&(s=s.trim()),a&&(s=SP(s)),e[Qg](s)}),i&&fp(e,"change",()=>{e.value=e.value.trim()}),t||(fp(e,"compositionstart",aue),fp(e,"compositionend",f6),fp(e,"change",f6))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:n,number:a}},o){if(e[Qg]=XT(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?SP(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||n&&e.value.trim()===l)||(e.value=l))}},DA={deep:!0,created(e,t,i){e[Qg]=XT(i),fp(e,"change",()=>{const r=e._modelValue,n=oue(e),a=e.checked,o=e[Qg];if(lr(r)){const s=rG(r,n),l=s!==-1;if(a&&!l)o(r.concat(n));else if(!a&&l){const u=[...r];u.splice(s,1),o(u)}}else if(EE(r)){const s=new Set(r);a?s.add(n):s.delete(n),o(s)}else o(mW(e,a))})},mounted:h6,beforeUpdate(e,t,i){e[Qg]=XT(i),h6(e,t,i)}};function h6(e,{value:t,oldValue:i},r){e._modelValue=t;let n;if(lr(t))n=rG(t,r.props.value)>-1;else if(EE(t))n=t.has(r.props.value);else{if(t===i)return;n=OE(t,mW(e,!0))}e.checked!==n&&(e.checked=n)}function oue(e){return"_value"in e?e._value:e.value}function mW(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const sue=["ctrl","shift","alt","meta"],uue={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sue.some(i=>e[`${i}Key`]&&!t.includes(i))},Fg=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(n,...a)=>{for(let o=0;o<t.length;o++){const s=uue[t[o]];if(s&&s(n,t))return}return e(n,...a)})},lue=mi({patchProp:Xse},Lse);let p6;function yW(){return p6||(p6=ose(lue))}const vW=(...e)=>{yW().render(...e)},cue=(...e)=>{const t=yW().createApp(...e),{mount:i}=t;return t.mount=r=>{const n=fue(r);if(!n)return;const a=t._component;!wr(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,due(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function due(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fue(e){return qn(e)?document.querySelector(e):e}const hue={data:()=>({tab:null,items:["Home","Data Upload","Pod Browser","Query","Data Privacy"]})},ro=(e,t)=>{const i=e.__vccOpts||e;for(const[r,n]of t)i[r]=n;return i},pue={class:"nav-nav"};function gue(e,t,i,r,n,a){const o=Xt("v-tab"),s=Xt("v-tabs"),l=Xt("v-card");return wt(),ja(l,null,{default:zt(()=>[Me("nav",pue,[B(s,{class:"nav-bar",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=u=>e.tab=u),"align-tabs":"center",color:"deep-purple-lighten-5","bg-color":"#445560","fixed-tabs":""},{default:zt(()=>[(wt(!0),Ct(Ot,null,ya(e.items,u=>(wt(),ja(o,{class:"specific-tab",border:"sm",key:u,to:{name:u}},{default:zt(()=>[$t(ir(u),1)]),_:2},1032,["to"]))),128))]),_:1},8,["modelValue"])])]),_:1})}const mue=ro(hue,[["render",gue],["__scopeId","data-v-16979851"]]),LC=crypto,bW=e=>e instanceof CryptoKey,Lg=new TextEncoder,LP=new TextDecoder;function yue(...e){const t=e.reduce((n,{length:a})=>n+a,0),i=new Uint8Array(t);let r=0;for(const n of e)i.set(n,r),r+=n.length;return i}const vue=e=>{let t=e;typeof t=="string"&&(t=Lg.encode(t));const i=32768,r=[];for(let n=0;n<t.length;n+=i)r.push(String.fromCharCode.apply(null,t.subarray(n,n+i)));return btoa(r.join(""))},xx=e=>vue(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),bue=e=>{const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i},MC=e=>{let t=e;t instanceof Uint8Array&&(t=LP.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return bue(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};let Oa=class extends Error{constructor(t,i){var r;super(t,i),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}};Oa.code="ERR_JOSE_GENERIC";let _ue=class extends Oa{constructor(t,i,r="unspecified",n="unspecified"){super(t,{cause:{claim:r,reason:n,payload:i}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=i}};_ue.code="ERR_JWT_CLAIM_VALIDATION_FAILED";let wue=class extends Oa{constructor(t,i,r="unspecified",n="unspecified"){super(t,{cause:{claim:r,reason:n,payload:i}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=i}};wue.code="ERR_JWT_EXPIRED";let Sue=class extends Oa{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}};Sue.code="ERR_JOSE_ALG_NOT_ALLOWED";let gp=class extends Oa{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}};gp.code="ERR_JOSE_NOT_SUPPORTED";let Aue=class extends Oa{constructor(t="decryption operation failed",i){super(t,i),this.code="ERR_JWE_DECRYPTION_FAILED"}};Aue.code="ERR_JWE_DECRYPTION_FAILED";let Tue=class extends Oa{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}};Tue.code="ERR_JWE_INVALID";let Rg=class extends Oa{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}};Rg.code="ERR_JWS_INVALID";let _W=class extends Oa{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}};_W.code="ERR_JWT_INVALID";let Eue=class extends Oa{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}};Eue.code="ERR_JWK_INVALID";let xue=class extends Oa{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}};xue.code="ERR_JWKS_INVALID";let Rue=class extends Oa{constructor(t="no applicable key found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_NO_MATCHING_KEY"}};Rue.code="ERR_JWKS_NO_MATCHING_KEY";let Oue=class extends Oa{constructor(t="multiple matching keys found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Oue.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";let Pue=class extends Oa{constructor(t="request timed out",i){super(t,i),this.code="ERR_JWKS_TIMEOUT"}};Pue.code="ERR_JWKS_TIMEOUT";let Iue=class extends Oa{constructor(t="signature verification failed",i){super(t,i),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};Iue.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function os(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function nm(e,t){return e.name===t}function Rx(e){return parseInt(e.name.slice(4),10)}function Cue(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Due(e,t){if(t.length&&!t.some(i=>e.usages.includes(i))){let i="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();i+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?i+=`one of ${t[0]} or ${t[1]}.`:i+=`${t[0]}.`;throw new TypeError(i)}}function Nue(e,t,...i){switch(t){case"HS256":case"HS384":case"HS512":{if(!nm(e.algorithm,"HMAC"))throw os("HMAC");const r=parseInt(t.slice(2),10);if(Rx(e.algorithm.hash)!==r)throw os(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!nm(e.algorithm,"RSASSA-PKCS1-v1_5"))throw os("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Rx(e.algorithm.hash)!==r)throw os(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!nm(e.algorithm,"RSA-PSS"))throw os("RSA-PSS");const r=parseInt(t.slice(2),10);if(Rx(e.algorithm.hash)!==r)throw os(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw os("Ed25519 or Ed448");break}case"Ed25519":{if(!nm(e.algorithm,"Ed25519"))throw os("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!nm(e.algorithm,"ECDSA"))throw os("ECDSA");const r=Cue(t);if(e.algorithm.namedCurve!==r)throw os(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Due(e,i)}function wW(e,t,...i){var r;if(i=i.filter(Boolean),i.length>2){const n=i.pop();e+=`one of type ${i.join(", ")}, or ${n}.`}else i.length===2?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const g6=(e,...t)=>wW("Key must be ",e,...t);function SW(e,t,...i){return wW(`Key for the ${e} algorithm must be `,t,...i)}const AW=e=>bW(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",YT=["CryptoKey"],Fue=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let i;for(const r of t){const n=Object.keys(r);if(!i||i.size===0){i=new Set(n);continue}for(const a of n){if(i.has(a))return!1;i.add(a)}}return!0};function Lue(e){return typeof e=="object"&&e!==null}function TW(e){if(!Lue(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Mue=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:i}=t.algorithm;if(typeof i!="number"||i<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function O2(e){return TW(e)&&typeof e.kty=="string"}function jue(e){return e.kty!=="oct"&&typeof e.d=="string"}function kue(e){return e.kty!=="oct"&&typeof e.d>"u"}function Bue(e){return O2(e)&&e.kty==="oct"&&typeof e.k=="string"}function que(e){let t,i;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},i=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new gp('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},i=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},i=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new gp('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":t={name:"Ed25519"},i=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new gp('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new gp('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:i}}const Vue=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:i}=que(e),r=[t,e.ext??!1,e.key_ops??i],n={...e};return delete n.alg,delete n.use,LC.subtle.importKey("jwk",n,...r)},EW=e=>MC(e);let hg,pg;const xW=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",ZT=async(e,t,i,r,n=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await Vue({...i,alg:r});return n&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},Uue=(e,t)=>{if(xW(e)){let i=e.export({format:"jwk"});return delete i.d,delete i.dp,delete i.dq,delete i.p,delete i.q,delete i.qi,i.k?EW(i.k):(pg||(pg=new WeakMap),ZT(pg,e,i,t))}return O2(e)?e.k?MC(e.k):(pg||(pg=new WeakMap),ZT(pg,e,e,t,!0)):e},Hue=(e,t)=>{if(xW(e)){let i=e.export({format:"jwk"});return i.k?EW(i.k):(hg||(hg=new WeakMap),ZT(hg,e,i,t))}return O2(e)?e.k?MC(e.k):(hg||(hg=new WeakMap),ZT(hg,e,e,t,!0)):e},$ue={normalizePublicKey:Uue,normalizePrivateKey:Hue},Og=e=>e==null?void 0:e[Symbol.toStringTag],MP=(e,t,i)=>{var r,n;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((n=(r=t.key_ops).includes)==null?void 0:n.call(r,i))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${i}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Que=(e,t,i,r)=>{if(!(t instanceof Uint8Array)){if(r&&O2(t)){if(Bue(t)&&MP(e,t,i))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!AW(t))throw new TypeError(SW(e,t,...YT,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${Og(t)} instances for symmetric algorithms must be of type "secret"`)}},zue=(e,t,i,r)=>{if(r&&O2(t))switch(i){case"sign":if(jue(t)&&MP(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(kue(t)&&MP(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!AW(t))throw new TypeError(SW(e,t,...YT,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${Og(t)} instances for asymmetric algorithms must not be of type "secret"`);if(i==="sign"&&t.type==="public")throw new TypeError(`${Og(t)} instances for asymmetric algorithm signing must be of type "private"`);if(i==="decrypt"&&t.type==="public")throw new TypeError(`${Og(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&i==="verify"&&t.type==="private")throw new TypeError(`${Og(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&i==="encrypt"&&t.type==="private")throw new TypeError(`${Og(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function RW(e,t,i,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Que(t,i,r,e):zue(t,i,r,e)}RW.bind(void 0,!1);const Gue=RW.bind(void 0,!0);function Wue(e,t,i,r,n){if(n.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;i!==void 0?a=new Map([...Object.entries(i),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new gp(`Extension Header Parameter "${o}" is not recognized`);if(n[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}function Kue(e,t){const i=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:i,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:i,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:i,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:i,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new gp(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function Jue(e,t,i){if(t=await $ue.normalizePrivateKey(t,e),bW(t))return Nue(t,e,i),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(g6(t,...YT));return LC.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[i])}throw new TypeError(g6(t,...YT,"Uint8Array","JSON Web Key"))}const Ul=e=>Math.floor(e.getTime()/1e3),OW=60,PW=OW*60,jC=PW*24,Xue=jC*7,Yue=jC*365.25,Zue=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Ox=e=>{const t=Zue.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const i=parseFloat(t[2]),r=t[3].toLowerCase();let n;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(i*OW);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(i*PW);break;case"day":case"days":case"d":n=Math.round(i*jC);break;case"week":case"weeks":case"w":n=Math.round(i*Xue);break;default:n=Math.round(i*Yue);break}return t[1]==="-"||t[4]==="ago"?-n:n},ele=async(e,t,i)=>{const r=await Jue(e,t,"sign");Mue(e,r);const n=await LC.subtle.sign(Kue(e,r.algorithm),r,i);return new Uint8Array(n)};let tle=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,i){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Rg("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Fue(this._protectedHeader,this._unprotectedHeader))throw new Rg("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},n=Wue(Rg,new Map([["b64",!0]]),i==null?void 0:i.crit,this._protectedHeader,r);let a=!0;if(n.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Rg('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Rg('JWS "alg" (Algorithm) Header Parameter missing or invalid');Gue(o,t,"sign");let s=this._payload;a&&(s=Lg.encode(xx(s)));let l;this._protectedHeader?l=Lg.encode(xx(JSON.stringify(this._protectedHeader))):l=Lg.encode("");const u=yue(l,Lg.encode("."),s),c=await ele(o,t,u),d={signature:xx(c),payload:""};return a&&(d.payload=LP.decode(s)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=LP.decode(l)),d}},rle=class{constructor(t){this._flattened=new tle(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,i){const r=await this._flattened.sign(t,i);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}};function Hl(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}let nle=class{constructor(t={}){if(!TW(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:Hl("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:Hl("setNotBefore",Ul(t))}:this._payload={...this._payload,nbf:Ul(new Date)+Ox(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:Hl("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:Hl("setExpirationTime",Ul(t))}:this._payload={...this._payload,exp:Ul(new Date)+Ox(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Ul(new Date)}:t instanceof Date?this._payload={...this._payload,iat:Hl("setIssuedAt",Ul(t))}:typeof t=="string"?this._payload={...this._payload,iat:Hl("setIssuedAt",Ul(new Date)+Ox(t))}:this._payload={...this._payload,iat:Hl("setIssuedAt",t)},this}},ile=class extends nle{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,i){var n;const r=new rle(Lg.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)==null?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new _W("JWTs MUST NOT use unencoded payload");return r.sign(t,i)}};const Di=[];for(let e=0;e<256;++e)Di.push((e+256).toString(16).slice(1));function ale(e,t=0){return(Di[e[t+0]]+Di[e[t+1]]+Di[e[t+2]]+Di[e[t+3]]+"-"+Di[e[t+4]]+Di[e[t+5]]+"-"+Di[e[t+6]]+Di[e[t+7]]+"-"+Di[e[t+8]]+Di[e[t+9]]+"-"+Di[e[t+10]]+Di[e[t+11]]+Di[e[t+12]]+Di[e[t+13]]+Di[e[t+14]]+Di[e[t+15]]).toLowerCase()}let Px;const ole=new Uint8Array(16);function sle(){if(!Px){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Px=crypto.getRandomValues.bind(crypto)}return Px(ole)}const ule=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m6={randomUUID:ule};function kC(e,t,i){var n;if(m6.randomUUID&&!e)return m6.randomUUID();e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??sle();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ale(r)}const IW="solidClientAuthn:",lle=["ES256","RS256"],pi={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},y6=5,cle="openid",dle="offline_access",fle="webid",hle=[cle,dle,fle].join(" ");class ple{constructor(t){this.handleables=t,this.handleables=t}async getProperHandler(t){const i=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<i.length;r+=1)if(i[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const i=await this.getProperHandler(t);if(i)return i.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}function CW(e){try{const t=new URL(e),i=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return i&&r}catch{return!1}}function gle(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function mle(e,t){return typeof e=="boolean"?!!e:!!t}class yle{constructor(t,i){this.storageUtility=t,this.redirector=i,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=t,this.redirector=i}async canHandle(t){return this.parametersGuard(t)}async handleRedirect({oidcLoginOptions:t,state:i,codeVerifier:r,targetUrl:n}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(i,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:mle(t.keepAlive,!0).toString()})]),this.redirector.redirect(n,{handleRedirect:t.handleRedirect})}}class vle{constructor(t){this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class ble{constructor(t){this.redirector=t,this.redirector=t}async canHandle(t,i){return(i==null?void 0:i.logoutType)==="idp"}async handle(t,i){if((i==null?void 0:i.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(i.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(i.toLogoutUrl(i),{handleRedirect:i.handleRedirect})}}class _le{constructor(t,i){this.handlers=[new vle(t),new ble(i)]}async canHandle(){return!0}async handle(t,i){for(const r of this.handlers)await r.canHandle(t,i)&&await r.handle(t,i)}}function DW(){return{isLoggedIn:!1,sessionId:kC(),fetch:(...e)=>fetch(...e)}}async function NW(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class wle{constructor(t){this.storageUtility=t,this.storageUtility=t}update(t,i){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return NW(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Sle({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:i,state:r}){const n=new URL(e);return t!==void 0&&n.searchParams.append("id_token_hint",t),i!==void 0&&(n.searchParams.append("post_logout_redirect_uri",i),r!==void 0&&n.searchParams.append("state",r)),n.toString()}function Ale({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:n}){return Sle({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:n})}}function Tle(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function FW(e){try{return new URL(e),!0}catch{return!1}}function Ele(e){return e.clientId!==void 0&&!FW(e.clientId)}function xle(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&FW(e.clientId)}function Rle(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function Ole(e,t,i,r){let n;if(xle(e,t))n={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(Ele(e))n={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const a={clientId:n.clientId,clientType:n.clientType};return n.clientType==="static"&&(a.clientSecret=n.clientSecret),n.clientName&&(a.clientName=n.clientName),await i.setForUser(e.sessionId,a),n}const v6=(e,t)=>fetch(e,t);let Ple=class{constructor(t,i,r,n,a){this.loginHandler=t,this.redirectHandler=i,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=a,this.fetch=v6,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=v6,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=t,this.redirectHandler=i,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=a}};async function LW(e,t,i){try{const[r,n,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await i.fetchConfig(r);return{codeVerifier:n,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function Ile(e,t,i,r,n,a,o,s){i!==void 0&&await e.setForUser(t,{webId:i},{secure:o}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:o}),await e.setForUser(t,{isLoggedIn:n},{secure:o})}class Cle{constructor(t,i){this.secureStorage=t,this.insecureStorage=i,this.secureStorage=t,this.insecureStorage=i}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,i){const r=await(i?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${i?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,i,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(i))}async get(t,i){const r=await(i!=null&&i.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&(i!=null&&i.errorIfNull))throw new Error(`[${t}] is not stored`);return r}async set(t,i,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(t,i)}async delete(t,i){return(i!=null&&i.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,i,r){const n=await this.getUserData(t,r==null?void 0:r.secure);let a;if((!n||!n[i])&&(a=void 0),a=n[i],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${i}] for user [${t}] is not stored`);return a||void 0}async setForUser(t,i,r){let n;try{n=await this.getUserData(t,r==null?void 0:r.secure)}catch{n={}}await this.setUserData(t,{...n,...i},r==null?void 0:r.secure)}async deleteForUser(t,i,r){const n=await this.getUserData(t,r==null?void 0:r.secure);delete n[i],await this.setUserData(t,n,r==null?void 0:r.secure)}async deleteAllUserData(t,i){await(i!=null&&i.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class Dle{constructor(){this.map={}}async get(t){return this.map[t]||void 0}async set(t,i){this.map[t]=i}async delete(t){delete this.map[t]}}class jP extends Error{constructor(t){super(t)}}let Nle=class extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}},Fle=class extends Error{constructor(t,i,r){super(t),this.error=i,this.errorDescription=r}};function Lle(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function Mle(e,t,i){return new ile({htu:Lle(e),htm:t.toUpperCase(),jti:kC()}).setProtectedHeader({alg:lle[0],jwk:i.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(i.privateKey,{})}const MW=600;function jle(e){return[401,403].includes(e)}async function kle(e,t,i,r){var n;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await Mle(e,(n=r==null?void 0:r.method)!==null&&n!==void 0?n:"get",i)),{...r,headers:a}}async function Ble(e,t,i,r){if(i!==void 0)return kle(e,t,i,r);const n=new Headers(r==null?void 0:r.headers);return n.set("Authorization",`Bearer ${t}`),{...r,headers:n}}async function b6(e,t,i,r){return fetch(t,await Ble(t.toString(),e,r,i))}async function qle(e,t,i){var r;const n=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return i==null||i.emit(pi.SESSION_EXTENDED,(r=n.expiresIn)!==null&&r!==void 0?r:MW),typeof n.refreshToken=="string"&&(i==null||i.emit(pi.NEW_REFRESH_TOKEN,n.refreshToken)),{accessToken:n.accessToken,refreshToken:n.refreshToken,expiresIn:n.expiresIn}}const Ix=e=>e!==void 0?e-y6>0?e-y6:e:MW;async function Vle(e,t){var i;let r=e,n;const a=t==null?void 0:t.refreshOptions;if(a!==void 0){const o=async()=>{var s,l,u,c;try{const{accessToken:d,refreshToken:f,expiresIn:h}=await qle(a,t.dpopKey,t.eventEmitter);r=d,f!==void 0&&(a.refreshToken=f),clearTimeout(n),n=setTimeout(o,Ix(h)*1e3),(s=t.eventEmitter)===null||s===void 0||s.emit(pi.TIMEOUT_SET,n)}catch(d){d instanceof Fle&&((l=t==null?void 0:t.eventEmitter)===null||l===void 0||l.emit(pi.ERROR,d.error,d.errorDescription),(u=t==null?void 0:t.eventEmitter)===null||u===void 0||u.emit(pi.SESSION_EXPIRED)),d instanceof Nle&&d.missingFields.includes("access_token")&&((c=t==null?void 0:t.eventEmitter)===null||c===void 0||c.emit(pi.SESSION_EXPIRED))}};n=setTimeout(o,Ix(t.expiresIn)*1e3),(i=t.eventEmitter)===null||i===void 0||i.emit(pi.TIMEOUT_SET,n)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(pi.SESSION_EXPIRED)},Ix(t.expiresIn)*1e3);t.eventEmitter.emit(pi.TIMEOUT_SET,o)}return async(o,s)=>{let l=await b6(r,o,s,t==null?void 0:t.dpopKey);const u=!l.ok&&!jle(l.status);return l.ok||u||l.url!==o&&(t==null?void 0:t.dpopKey)!==void 0&&(l=await b6(r,l.url,s,t.dpopKey)),l}}var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qC(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}var NA={exports:{}},_6;function b0(){if(_6)return NA.exports;_6=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(w,T,R){return Function.prototype.apply.call(w,T,R)},i;e&&typeof e.ownKeys=="function"?i=e.ownKeys:Object.getOwnPropertySymbols?i=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:i=function(w){return Object.getOwnPropertyNames(w)};function r(_){console&&console.warn&&console.warn(_)}var n=Number.isNaN||function(w){return w!==w};function a(){a.init.call(this)}NA.exports=a,NA.exports.once=y,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(_){if(typeof _!="number"||_<0||n(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");o=_}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||n(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function l(_){return _._maxListeners===void 0?a.defaultMaxListeners:_._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(w){for(var T=[],R=1;R<arguments.length;R++)T.push(arguments[R]);var F=w==="error",D=this._events;if(D!==void 0)F=F&&D.error===void 0;else if(!F)return!1;if(F){var A;if(T.length>0&&(A=T[0]),A instanceof Error)throw A;var x=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw x.context=A,x}var N=D[w];if(N===void 0)return!1;if(typeof N=="function")t(N,this,T);else for(var j=N.length,H=p(N,j),R=0;R<j;++R)t(H[R],this,T);return!0};function u(_,w,T,R){var F,D,A;if(s(T),D=_._events,D===void 0?(D=_._events=Object.create(null),_._eventsCount=0):(D.newListener!==void 0&&(_.emit("newListener",w,T.listener?T.listener:T),D=_._events),A=D[w]),A===void 0)A=D[w]=T,++_._eventsCount;else if(typeof A=="function"?A=D[w]=R?[T,A]:[A,T]:R?A.unshift(T):A.push(T),F=l(_),F>0&&A.length>F&&!A.warned){A.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+A.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=_,x.type=w,x.count=A.length,r(x)}return _}a.prototype.addListener=function(w,T){return u(this,w,T,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(w,T){return u(this,w,T,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(_,w,T){var R={fired:!1,wrapFn:void 0,target:_,type:w,listener:T},F=c.bind(R);return F.listener=T,R.wrapFn=F,F}a.prototype.once=function(w,T){return s(T),this.on(w,d(this,w,T)),this},a.prototype.prependOnceListener=function(w,T){return s(T),this.prependListener(w,d(this,w,T)),this},a.prototype.removeListener=function(w,T){var R,F,D,A,x;if(s(T),F=this._events,F===void 0)return this;if(R=F[w],R===void 0)return this;if(R===T||R.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete F[w],F.removeListener&&this.emit("removeListener",w,R.listener||T));else if(typeof R!="function"){for(D=-1,A=R.length-1;A>=0;A--)if(R[A]===T||R[A].listener===T){x=R[A].listener,D=A;break}if(D<0)return this;D===0?R.shift():g(R,D),R.length===1&&(F[w]=R[0]),F.removeListener!==void 0&&this.emit("removeListener",w,x||T)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(w){var T,R,F;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[w]),this;if(arguments.length===0){var D=Object.keys(R),A;for(F=0;F<D.length;++F)A=D[F],A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=R[w],typeof T=="function")this.removeListener(w,T);else if(T!==void 0)for(F=T.length-1;F>=0;F--)this.removeListener(w,T[F]);return this};function f(_,w,T){var R=_._events;if(R===void 0)return[];var F=R[w];return F===void 0?[]:typeof F=="function"?T?[F.listener||F]:[F]:T?m(F):p(F,F.length)}a.prototype.listeners=function(w){return f(this,w,!0)},a.prototype.rawListeners=function(w){return f(this,w,!1)},a.listenerCount=function(_,w){return typeof _.listenerCount=="function"?_.listenerCount(w):h.call(_,w)},a.prototype.listenerCount=h;function h(_){var w=this._events;if(w!==void 0){var T=w[_];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};function p(_,w){for(var T=new Array(w),R=0;R<w;++R)T[R]=_[R];return T}function g(_,w){for(;w+1<_.length;w++)_[w]=_[w+1];_.pop()}function m(_){for(var w=new Array(_.length),T=0;T<w.length;++T)w[T]=_[T].listener||_[T];return w}function y(_,w){return new Promise(function(T,R){function F(A){_.removeListener(w,D),R(A)}function D(){typeof _.removeListener=="function"&&_.removeListener("error",F),T([].slice.call(arguments))}b(_,w,D,{once:!0}),w!=="error"&&v(_,F,{once:!0})})}function v(_,w,T){typeof _.on=="function"&&b(_,"error",w,T)}function b(_,w,T,R){if(typeof _.on=="function")R.once?_.once(w,T):_.on(w,T);else if(typeof _.addEventListener=="function")_.addEventListener(w,function F(D){R.once&&_.removeEventListener(w,F),T(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}return NA.exports}var Ule=b0();const Hle=BC(Ule);var ST={exports:{}},$le=ST.exports,w6;function Qle(){return w6||(w6=1,function(e,t){(function(r,n){e.exports=n()})($le,function(){return function(i){var r={};function n(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return i[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=i,n.c=r,n.d=function(a,o,s){n.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,o){if(1&o&&(a=n(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)n.d(s,l,(function(u){return a[u]}).bind(null,l));return s},n.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(o,"a",o),o},n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},n.p="",n(n.s=22)}([function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&u(c.prototype,d),f&&u(c,f),c}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.reset=function(){l=3,s=o},u.debug=function(){if(l>=4){for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];s.debug.apply(s,Array.from(f))}},u.info=function(){if(l>=3){for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];s.info.apply(s,Array.from(f))}},u.warn=function(){if(l>=2){for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];s.warn.apply(s,Array.from(f))}},u.error=function(){if(l>=1){for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];s.error.apply(s,Array.from(f))}},a(u,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(d){if(!(0<=d&&d<=4))throw new Error("Invalid log level");l=d}},{key:"logger",get:function(){return s},set:function(d){if(!d.debug&&d.info&&(d.debug=d.info),!(d.debug&&d.info&&d.warn&&d.error))throw new Error("Invalid logger");s=d}}]),u}()).reset()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&u(c.prototype,d),f&&u(c,f),c}}(),o={setInterval:function(u){function c(d,f){return u.apply(this,arguments)}return c.toString=function(){return u.toString()},c}(function(u,c){return setInterval(u,c)}),clearInterval:function(u){function c(d){return u.apply(this,arguments)}return c.toString=function(){return u.toString()},c}(function(u){return clearInterval(u)})},s=!1,l=null;r.Global=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u)}return u._testing=function(){s=!0},u.setXMLHttpRequest=function(d){l=d},a(u,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),u}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),o=n(0),s=n(7);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var u=".well-known/openid-configuration";r.MetadataService=function(){function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,c),!d)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=d,this._jsonService=new f(["application/jwk-set+json"])}return c.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},c.prototype.getMetadata=function(){var f=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(h){o.Log.debug("MetadataService.getMetadata: json received");var p=f._settings.metadataSeed||{};return f._settings.metadata=Object.assign({},p,h),f._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},c.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},c.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},c.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},c.prototype.getTokenEndpoint=function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",f)},c.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},c.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},c.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},c.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},c.prototype._getMetadataProperty=function(f){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+f),this.getMetadata().then(function(p){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),p[f]===void 0){if(h===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+f);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+f),new Error("Metadata does not contain property "+f)}return p[f]})},c.prototype.getSigningKeys=function(){var f=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(h){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",h),f._jsonService.getJson(h).then(function(p){if(o.Log.debug("MetadataService.getSigningKeys: key set received",p),!p.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return f._settings.signingKeys=p.keys,f._settings.signingKeys})})},a(c,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(u)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=u))),this._metadataUrl}}]),c}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=n(0),o=n(1);r.UrlUtility=function(){function s(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(u,c,d){return u.indexOf("?")<0&&(u+="?"),u[u.length-1]!=="?"&&(u+="&"),u+=encodeURIComponent(c),u+="=",u+=encodeURIComponent(d)},s.parseUrlFragment=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof u!="string"&&(u=d.location.href);var f=u.lastIndexOf(c);f>=0&&(u=u.substr(f+1)),c==="?"&&(f=u.indexOf("#"))>=0&&(u=u.substr(0,f));for(var h,p={},g=/([^&=]+)=([^&]*)/g,m=0;h=g.exec(u);)if(p[decodeURIComponent(h[1])]=decodeURIComponent(h[2].replace(/\+/g," ")),m++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",u),{error:"Response exceeded expected number of parameters"};for(var y in p)return p;return{}},s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=n(26),o=function(l){return l&&l.__esModule?l:{default:l}}(n(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o=function(){function y(v,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,b,_){return b&&y(v.prototype,b),_&&y(v,_),v}}(),s=n(0),l=n(23),u=n(6),c=n(24),d=n(2);function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=".well-known/openid-configuration",p="id_token",g="openid",m="client_secret_post";r.OidcClientSettings=function(){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=v.authority,_=v.metadataUrl,w=v.metadata,T=v.signingKeys,R=v.metadataSeed,F=v.client_id,D=v.client_secret,A=v.response_type,x=A===void 0?p:A,N=v.scope,j=N===void 0?g:N,H=v.redirect_uri,M=v.post_logout_redirect_uri,$=v.client_authentication,te=$===void 0?m:$,re=v.prompt,oe=v.display,J=v.max_age,fe=v.ui_locales,xe=v.acr_values,de=v.resource,ae=v.response_mode,Fe=v.filterProtocolClaims,Le=Fe===void 0||Fe,me=v.loadUserInfo,pe=me===void 0||me,_e=v.staleStateAge,X=_e===void 0?900:_e,C=v.clockSkew,E=C===void 0?300:C,S=v.clockService,I=S===void 0?new l.ClockService:S,k=v.userInfoJwtIssuer,Q=k===void 0?"OP":k,G=v.mergeClaims,ne=G!==void 0&&G,ee=v.stateStore,se=ee===void 0?new u.WebStorageStateStore:ee,ge=v.ResponseValidatorCtor,Ae=ge===void 0?c.ResponseValidator:ge,Ve=v.MetadataServiceCtor,Ge=Ve===void 0?d.MetadataService:Ve,qe=v.extraQueryParams,Ee=qe===void 0?{}:qe,W=v.extraTokenParams,V=W===void 0?{}:W;f(this,y),this._authority=b,this._metadataUrl=_,this._metadata=w,this._metadataSeed=R,this._signingKeys=T,this._client_id=F,this._client_secret=D,this._response_type=x,this._scope=j,this._redirect_uri=H,this._post_logout_redirect_uri=M,this._client_authentication=te,this._prompt=re,this._display=oe,this._max_age=J,this._ui_locales=fe,this._acr_values=xe,this._resource=de,this._response_mode=ae,this._filterProtocolClaims=!!Le,this._loadUserInfo=!!pe,this._staleStateAge=X,this._clockSkew=E,this._clockService=I,this._userInfoJwtIssuer=Q,this._mergeClaims=!!ne,this._stateStore=se,this._validator=new Ae(this),this._metadataService=new Ge(this),this._extraQueryParams=(Ee===void 0?"undefined":a(Ee))==="object"?Ee:{},this._extraTokenParams=(V===void 0?"undefined":a(V))==="object"?V:{}}return y.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(y,[{key:"client_id",get:function(){return this._client_id},set:function(b){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=b}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(b){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=b}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=h)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(b){this._metadata=b}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(b){this._metadataSeed=b}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(b){this._signingKeys=b}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(b){(b===void 0?"undefined":a(b))==="object"?this._extraQueryParams=b:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(b){(b===void 0?"undefined":a(b))==="object"?this._extraTokenParams=b:this._extraTokenParams={}}}]),y}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=n(0),o=n(1);function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=u.prefix,d=c===void 0?"oidc.":c,f=u.store,h=f===void 0?o.Global.localStorage:f;s(this,l),this._store=h,this._prefix=d}return l.prototype.set=function(c,d){return a.Log.debug("WebStorageStateStore.set",c),c=this._prefix+c,this._store.setItem(c,d),Promise.resolve()},l.prototype.get=function(c){a.Log.debug("WebStorageStateStore.get",c),c=this._prefix+c;var d=this._store.getItem(c);return Promise.resolve(d)},l.prototype.remove=function(c){a.Log.debug("WebStorageStateStore.remove",c),c=this._prefix+c;var d=this._store.getItem(c);return this._store.removeItem(c),Promise.resolve(d)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var c=[],d=0;d<this._store.length;d++){var f=this._store.key(d);f.indexOf(this._prefix)===0&&c.push(f.substr(this._prefix.length))}return Promise.resolve(c)},l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=n(0),o=n(1);function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),u&&Array.isArray(u)?this._contentTypes=u.slice():this._contentTypes=[],this._contentTypes.push("application/json"),d&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=c,this._jwtHandler=d}return l.prototype.getJson=function(c,d){var f=this;if(!c)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",c),new Promise(function(h,p){var g=new f._XMLHttpRequest;g.open("GET",c);var m=f._contentTypes,y=f._jwtHandler;g.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",g.status),g.status===200){var v=g.getResponseHeader("Content-Type");if(v){var b=m.find(function(_){if(v.startsWith(_))return!0});if(b=="application/jwt")return void y(g).then(h,p);if(b)try{return void h(JSON.parse(g.responseText))}catch(_){return a.Log.error("JsonService.getJson: Error parsing JSON response",_.message),void p(_)}}p(Error("Invalid response Content-Type: "+v+", from URL: "+c))}else p(Error(g.statusText+" ("+g.status+")"))},g.onerror=function(){a.Log.error("JsonService.getJson: network error"),p(Error("Network Error"))},d&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),g.setRequestHeader("Authorization","Bearer "+d)),g.send()})},l.prototype.postForm=function(c,d,f){var h=this;if(!c)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",c),new Promise(function(p,g){var m=new h._XMLHttpRequest;m.open("POST",c);var y=h._contentTypes;m.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",m.status),m.status!==200){if(m.status===400&&(T=m.getResponseHeader("Content-Type"))&&y.find(function(R){if(T.startsWith(R))return!0}))try{var w=JSON.parse(m.responseText);if(w&&w.error)return a.Log.error("JsonService.postForm: Error from server: ",w.error),void g(new Error(w.error))}catch(R){return a.Log.error("JsonService.postForm: Error parsing JSON response",R.message),void g(R)}g(Error(m.statusText+" ("+m.status+")"))}else{var T;if((T=m.getResponseHeader("Content-Type"))&&y.find(function(R){if(T.startsWith(R))return!0}))try{return void p(JSON.parse(m.responseText))}catch(R){return a.Log.error("JsonService.postForm: Error parsing JSON response",R.message),void g(R)}g(Error("Invalid response Content-Type: "+T+", from URL: "+c))}},m.onerror=function(){a.Log.error("JsonService.postForm: network error"),g(Error("Network Error"))};var v="";for(var b in d){var _=d[b];_&&(v.length>0&&(v+="&"),v+=encodeURIComponent(b),v+="=",v+=encodeURIComponent(_))}m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f!==void 0&&m.setRequestHeader("Authorization","Basic "+btoa(f)),m.send(v)})},l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=n(0),o=n(3),s=n(13);r.SigninRequest=function(){function l(u){var c=u.url,d=u.client_id,f=u.redirect_uri,h=u.response_type,p=u.scope,g=u.authority,m=u.data,y=u.prompt,v=u.display,b=u.max_age,_=u.ui_locales,w=u.id_token_hint,T=u.login_hint,R=u.acr_values,F=u.resource,D=u.response_mode,A=u.request,x=u.request_uri,N=u.extraQueryParams,j=u.request_type,H=u.client_secret,M=u.extraTokenParams,$=u.skipUserInfo;if(function(de,ae){if(!(de instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,l),!c)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!d)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!f)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!h)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!p)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!g)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var te=l.isOidc(h),re=l.isCode(h);D||(D=l.isCode(h)?"query":null),this.state=new s.SigninState({nonce:te,data:m,client_id:d,authority:g,redirect_uri:f,code_verifier:re,request_type:j,response_mode:D,client_secret:H,scope:p,extraTokenParams:M,skipUserInfo:$}),c=o.UrlUtility.addQueryParam(c,"client_id",d),c=o.UrlUtility.addQueryParam(c,"redirect_uri",f),c=o.UrlUtility.addQueryParam(c,"response_type",h),c=o.UrlUtility.addQueryParam(c,"scope",p),c=o.UrlUtility.addQueryParam(c,"state",this.state.id),te&&(c=o.UrlUtility.addQueryParam(c,"nonce",this.state.nonce)),re&&(c=o.UrlUtility.addQueryParam(c,"code_challenge",this.state.code_challenge),c=o.UrlUtility.addQueryParam(c,"code_challenge_method","S256"));var oe={prompt:y,display:v,max_age:b,ui_locales:_,id_token_hint:w,login_hint:T,acr_values:R,resource:F,request:A,request_uri:x,response_mode:D};for(var J in oe)oe[J]&&(c=o.UrlUtility.addQueryParam(c,J,oe[J]));for(var fe in N)c=o.UrlUtility.addQueryParam(c,fe,N[fe]);this.url=c}return l.isOidc=function(c){return!!c.split(/\s+/g).filter(function(d){return d==="id_token"})[0]},l.isOAuth=function(c){return!!c.split(/\s+/g).filter(function(d){return d==="token"})[0]},l.isCode=function(c){return!!c.split(/\s+/g).filter(function(d){return d==="code"})[0]},l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function u(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&u(c.prototype,d),f&&u(c,f),c}}(),o=n(0),s=function(c){return c&&c.__esModule?c:{default:c}}(n(14));function l(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}r.State=function(){function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.id,f=c.data,h=c.created,p=c.request_type;l(this,u),this._id=d||(0,s.default)(),this._data=f,this._created=typeof h=="number"&&h>0?h:parseInt(Date.now()/1e3),this._request_type=p}return u.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},u.fromStorageString=function(d){return o.Log.debug("State.fromStorageString"),new u(JSON.parse(d))},u.clearStaleState=function(d,f){var h=Date.now()/1e3-f;return d.getAllKeys().then(function(p){o.Log.debug("State.clearStaleState: got keys",p);for(var g=[],m=function(_){var w=p[_];v=d.get(w).then(function(T){var R=!1;if(T)try{var F=u.fromStorageString(T);o.Log.debug("State.clearStaleState: got item from key: ",w,F.created),F.created<=h&&(R=!0)}catch(D){o.Log.error("State.clearStaleState: Error parsing state for key",w,D.message),R=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",w),R=!0;if(R)return o.Log.debug("State.clearStaleState: removed item for key: ",w),d.remove(w)}),g.push(v)},y=0;y<p.length;y++){var v;m(y)}return o.Log.debug("State.clearStaleState: waiting on promise count:",g.length),Promise.all(g)})},a(u,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),u}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function m(y,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,v,b){return v&&m(y.prototype,v),b&&m(y,b),y}}(),o=n(0),s=n(5),l=n(12),u=n(8),c=n(34),d=n(35),f=n(36),h=n(13),p=n(9);function g(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};g(this,m),y instanceof s.OidcClientSettings?this._settings=y:this._settings=new s.OidcClientSettings(y)}return m.prototype.createSigninRequest=function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=b.response_type,w=b.scope,T=b.redirect_uri,R=b.data,F=b.state,D=b.prompt,A=b.display,x=b.max_age,N=b.ui_locales,j=b.id_token_hint,H=b.login_hint,M=b.acr_values,$=b.resource,te=b.request,re=b.request_uri,oe=b.response_mode,J=b.extraQueryParams,fe=b.extraTokenParams,xe=b.request_type,de=b.skipUserInfo,ae=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var Fe=this._settings.client_id;_=_||this._settings.response_type,w=w||this._settings.scope,T=T||this._settings.redirect_uri,D=D||this._settings.prompt,A=A||this._settings.display,x=x||this._settings.max_age,N=N||this._settings.ui_locales,M=M||this._settings.acr_values,$=$||this._settings.resource,oe=oe||this._settings.response_mode,J=J||this._settings.extraQueryParams,fe=fe||this._settings.extraTokenParams;var Le=this._settings.authority;return u.SigninRequest.isCode(_)&&_!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(me){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",me);var pe=new u.SigninRequest({url:me,client_id:Fe,redirect_uri:T,response_type:_,scope:w,data:R||F,authority:Le,prompt:D,display:A,max_age:x,ui_locales:N,id_token_hint:j,login_hint:H,acr_values:M,resource:$,request:te,request_uri:re,extraQueryParams:J,extraTokenParams:fe,request_type:xe,response_mode:oe,client_secret:v._settings.client_secret,skipUserInfo:de}),_e=pe.state;return(ae=ae||v._stateStore).set(_e.id,_e.toStorageString()).then(function(){return pe})})},m.prototype.readSigninResponseState=function(v,b){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var w=this._settings.response_mode==="query"||!this._settings.response_mode&&u.SigninRequest.isCode(this._settings.response_type),T=w?"?":"#",R=new c.SigninResponse(v,T);if(!R.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));b=b||this._stateStore;var F=_?b.remove.bind(b):b.get.bind(b);return F(R.state).then(function(D){if(!D)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(D),response:R}})},m.prototype.processSigninResponse=function(v,b){var _=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(v,b,!0).then(function(w){var T=w.state,R=w.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),_._validator.validateSigninResponse(T,R)})},m.prototype.createSignoutRequest=function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=b.id_token_hint,w=b.data,T=b.state,R=b.post_logout_redirect_uri,F=b.extraQueryParams,D=b.request_type,A=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),R=R||this._settings.post_logout_redirect_uri,F=F||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(x){if(!x)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",x);var N=new d.SignoutRequest({url:x,id_token_hint:_,post_logout_redirect_uri:R,data:w||T,extraQueryParams:F,request_type:D}),j=N.state;return j&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(A=A||v._stateStore).set(j.id,j.toStorageString())),N})},m.prototype.readSignoutResponseState=function(v,b){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var w=new f.SignoutResponse(v);if(!w.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),w.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",w.error),Promise.reject(new l.ErrorResponse(w))):Promise.resolve({state:void 0,response:w});var T=w.state;b=b||this._stateStore;var R=_?b.remove.bind(b):b.get.bind(b);return R(T).then(function(F){if(!F)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.State.fromStorageString(F),response:w}})},m.prototype.processSignoutResponse=function(v,b){var _=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(v,b,!0).then(function(w){var T=w.state,R=w.response;return T?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),_._validator.validateSignoutResponse(T,R)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),R)})},m.prototype.clearStaleState=function(v){return o.Log.debug("OidcClient.clearStaleState"),v=v||this._stateStore,p.State.clearStaleState(v,this.settings.staleStateAge)},a(m,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),m}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=n(7),o=n(2),s=n(0);function l(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,u),!c)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=c,this._jsonService=new d,this._metadataService=new f(this._settings)}return u.prototype.exchangeCode=function(){var d=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(f=Object.assign({},f)).grant_type=f.grant_type||"authorization_code",f.client_id=f.client_id||this._settings.client_id,f.client_secret=f.client_secret||this._settings.client_secret,f.redirect_uri=f.redirect_uri||this._settings.redirect_uri;var h=void 0,p=f._client_authentication||this._settings._client_authentication;return delete f._client_authentication,f.code?f.redirect_uri?f.code_verifier?f.client_id?f.client_secret||p!="client_secret_basic"?(p=="client_secret_basic"&&(h=f.client_id+":"+f.client_secret,delete f.client_id,delete f.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(g){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),d._jsonService.postForm(g,f,h).then(function(m){return s.Log.debug("TokenClient.exchangeCode: response received"),m})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},u.prototype.exchangeRefreshToken=function(){var d=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(f=Object.assign({},f)).grant_type=f.grant_type||"refresh_token",f.client_id=f.client_id||this._settings.client_id,f.client_secret=f.client_secret||this._settings.client_secret;var h=void 0,p=f._client_authentication||this._settings._client_authentication;return delete f._client_authentication,f.refresh_token?f.client_id?(p=="client_secret_basic"&&(h=f.client_id+":"+f.client_secret,delete f.client_id,delete f.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(g){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),d._jsonService.postForm(g,f,h).then(function(m){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),m})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},u}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=n(0);function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function s(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?l:u}r.ErrorResponse=function(l){function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.error,f=c.error_description,h=c.error_uri,p=c.state,g=c.session_state;if(o(this,u),!d)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var m=s(this,l.call(this,f||d));return m.name="ErrorResponse",m.error=d,m.error_description=f,m.error_uri=h,m.state=p,m.session_state=g,m}return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}(u,l),u}(Error)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function f(h,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,p,g){return p&&f(h.prototype,p),g&&f(h,g),h}}(),o=n(0),s=n(9),l=n(4),u=function(h){return h&&h.__esModule?h:{default:h}}(n(14));function c(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function d(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?f:h}r.SigninState=function(f){function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.nonce,m=p.authority,y=p.client_id,v=p.redirect_uri,b=p.code_verifier,_=p.response_mode,w=p.client_secret,T=p.scope,R=p.extraTokenParams,F=p.skipUserInfo;c(this,h);var D=d(this,f.call(this,arguments[0]));if(g===!0?D._nonce=(0,u.default)():g&&(D._nonce=g),b===!0?D._code_verifier=(0,u.default)()+(0,u.default)()+(0,u.default)():b&&(D._code_verifier=b),D.code_verifier){var A=l.JoseUtil.hashString(D.code_verifier,"SHA256");D._code_challenge=l.JoseUtil.hexToBase64Url(A)}return D._redirect_uri=v,D._authority=m,D._client_id=y,D._response_mode=_,D._client_secret=w,D._scope=T,D._extraTokenParams=R,D._skipUserInfo=F,D}return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}(h,f),h.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},h.fromStorageString=function(g){return o.Log.debug("SigninState.fromStorageString"),new h(JSON.parse(g))},a(h,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),h}(s.State)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}i.exports=r.default},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}(),o=n(0);r.User=function(){function s(l){var u=l.id_token,c=l.session_state,d=l.access_token,f=l.refresh_token,h=l.token_type,p=l.scope,g=l.profile,m=l.expires_at,y=l.state;(function(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=u,this.session_state=c,this.access_token=d,this.refresh_token=f,this.token_type=h,this.scope=p,this.profile=g,this.expires_at=m,this.state=y}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(u){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(u))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var u=parseInt(Date.now()/1e3);return this.expires_at-u}},set:function(u){var c=parseInt(u);if(typeof c=="number"&&c>0){var d=parseInt(Date.now()/1e3);this.expires_at=d+c}}},{key:"expired",get:function(){var u=this.expires_in;if(u!==void 0)return u<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=n(0),o=n(46);function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=u.accessTokenExpiringNotificationTime,d=c===void 0?60:c,f=u.accessTokenExpiringTimer,h=f===void 0?new o.Timer("Access token expiring"):f,p=u.accessTokenExpiredTimer,g=p===void 0?new o.Timer("Access token expired"):p;s(this,l),this._accessTokenExpiringNotificationTime=d,this._accessTokenExpiring=h,this._accessTokenExpired=g}return l.prototype.load=function(c){if(c.access_token&&c.expires_in!==void 0){var d=c.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",d),d>0){var f=d-this._accessTokenExpiringNotificationTime;f<=0&&(f=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",f),this._accessTokenExpiring.init(f)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var h=d+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",h),this._accessTokenExpired.init(h)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(c){this._accessTokenExpiring.addHandler(c)},l.prototype.removeAccessTokenExpiring=function(c){this._accessTokenExpiring.removeHandler(c)},l.prototype.addAccessTokenExpired=function(c){this._accessTokenExpired.addHandler(c)},l.prototype.removeAccessTokenExpired=function(c){this._accessTokenExpired.removeHandler(c)},l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=n(0);r.Event=function(){function o(s){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var u=this._callbacks.findIndex(function(c){return c===l});u>=0&&this._callbacks.splice(u,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var u;(u=this._callbacks)[l].apply(u,arguments)}},o}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),o=n(0),s=n(19),l=n(1);function u(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function c(d){var f=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(u(this,c),!d)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=d,this._CheckSessionIFrameCtor=h,this._timer=p,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(g){g?f._start(g):f._settings.monitorAnonymousSession&&f._userManager.querySessionStatus().then(function(m){var y={session_state:m.session_state};m.sub&&m.sid&&(y.profile={sub:m.sub,sid:m.sid}),f._start(y)}).catch(function(m){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",m.message)})}).catch(function(g){o.Log.error("SessionMonitor ctor: error from getUser:",g.message)}))}return c.prototype._start=function(f){var h=this,p=f.session_state;p&&(f.profile?(this._sub=f.profile.sub,this._sid=f.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",p,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",p,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(p):this._metadataService.getCheckSessionIframe().then(function(g){if(g){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var m=h._client_id,y=h._checkSessionInterval,v=h._stopCheckSessionOnError;h._checkSessionIFrame=new h._CheckSessionIFrameCtor(h._callback.bind(h),m,g,y,v),h._checkSessionIFrame.load().then(function(){h._checkSessionIFrame.start(p)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(g){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",g.message)}))},c.prototype._stop=function(){var f=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var h=this._timer.setInterval(function(){f._timer.clearInterval(h),f._userManager.querySessionStatus().then(function(p){var g={session_state:p.session_state};p.sub&&p.sid&&(g.profile={sub:p.sub,sid:p.sid}),f._start(g)}).catch(function(p){o.Log.error("SessionMonitor: error from querySessionStatus:",p.message)})},1e3)},c.prototype._callback=function(){var f=this;this._userManager.querySessionStatus().then(function(h){var p=!0;h?h.sub===f._sub?(p=!1,f._checkSessionIFrame.start(h.session_state),h.sid===f._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",h.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",h.session_state),f._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",h.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),p&&(f._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),f._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),f._userManager.events._raiseUserSignedIn()))}).catch(function(h){f._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",h.message),f._userManager.events._raiseUserSignedOut())})},a(c,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),c}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=n(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,u,c,d){var f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=u,this._url=c,this._interval=d||2e3,this._stopOnError=f;var h=c.indexOf("/",c.indexOf("//")+2);this._frame_origin=c.substr(0,h),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=c}return s.prototype.load=function(){var u=this;return new Promise(function(c){u._frame.onload=function(){c()},window.document.body.appendChild(u._frame),u._boundMessageEvent=u._message.bind(u),window.addEventListener("message",u._boundMessageEvent,!1)})},s.prototype._message=function(u){u.origin===this._frame_origin&&u.source===this._frame.contentWindow&&(u.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):u.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+u.data+" message from check session op iframe"))},s.prototype.start=function(u){var c=this;if(this._session_state!==u){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=u;var d=function(){c._frame.contentWindow.postMessage(c._client_id+" "+c._session_state,c._frame_origin)};d(),this._timer=window.setInterval(d,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=n(0),o=n(2),s=n(1);function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var u="access_token",c="refresh_token";r.TokenRevocationClient=function(){function d(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,d),!f)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=f,this._XMLHttpRequestCtor=h,this._metadataService=new p(this._settings)}return d.prototype.revoke=function(h,p){var g=this,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!h)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(m!==u&&m!=c)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(y){if(y){a.Log.debug("TokenRevocationClient.revoke: Revoking "+m);var v=g._settings.client_id,b=g._settings.client_secret;return g._revoke(y,v,b,h,m)}if(p)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},d.prototype._revoke=function(h,p,g,m,y){var v=this;return new Promise(function(b,_){var w=new v._XMLHttpRequestCtor;w.open("POST",h),w.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",w.status),w.status===200?b():_(Error(w.statusText+" ("+w.status+")"))},w.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),_("Network Error")};var T="client_id="+encodeURIComponent(p);g&&(T+="&client_secret="+encodeURIComponent(g)),T+="&token_type_hint="+encodeURIComponent(y),T+="&token="+encodeURIComponent(m),w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w.send(T)})},d}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}(),o=n(0);r.CordovaPopupWindow=function(){function s(l){var u=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(c,d){u._resolve=c,u._reject=d}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(u){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(c){return u.hasOwnProperty(c)})},s.prototype.navigate=function(u){if(u&&u.url){if(!window.cordova)return this._error("cordova is undefined");var c=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(c)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(u.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(u){u.url.indexOf(this.redirect_uri)===0&&this._success({url:u.url})},s.prototype._exitCallback=function(u){this._error(u)},s.prototype._success=function(u){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(u)},s.prototype._error=function(u){this._cleanup(),o.Log.error(u),this._reject(new Error(u))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0});var a=n(0),o=n(10),s=n(5),l=n(6),u=n(37),c=n(38),d=n(16),f=n(2),h=n(48),p=n(49),g=n(19),m=n(20),y=n(18),v=n(1),b=n(15),_=n(50);r.default={Version:_.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:u.InMemoryWebStorage,UserManager:c.UserManager,AccessTokenEvents:d.AccessTokenEvents,MetadataService:f.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:p.CordovaIFrameNavigator,CheckSessionIFrame:g.CheckSessionIFrame,TokenRevocationClient:m.TokenRevocationClient,SessionMonitor:y.SessionMonitor,Global:v.Global,User:b.User},i.exports=r.default},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},o=n(0),s=n(2),l=n(25),u=n(11),c=n(12),d=n(4);function f(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var h=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function p(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d.JoseUtil,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:u.TokenClient;if(f(this,p),!g)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=g,this._metadataService=new m(this._settings),this._userInfoService=new y(this._settings),this._joseUtil=v,this._tokenClient=new b(this._settings)}return p.prototype.validateSigninResponse=function(m,y){var v=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(m,y).then(function(b){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),v._validateTokens(m,b).then(function(_){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),v._processClaims(m,_).then(function(w){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),w})})})},p.prototype.validateSignoutResponse=function(m,y){return m.id!==y.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),y.state=m.data,y.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",y.error),Promise.reject(new c.ErrorResponse(y))):Promise.resolve(y))},p.prototype._processSigninParams=function(m,y){if(m.id!==y.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!m.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!m.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==m.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=m.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==m.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=m.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),y.state=m.data,y.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",y.error),Promise.reject(new c.ErrorResponse(y))):m.nonce&&!y.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!m.nonce&&y.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):m.code_verifier&&!y.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!m.code_verifier&&y.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(y.scope||(y.scope=m.scope),Promise.resolve(y))},p.prototype._processClaims=function(m,y){var v=this;if(y.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),y.profile=this._filterProtocolClaims(y.profile),m.skipUserInfo!==!0&&this._settings.loadUserInfo&&y.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(y.access_token).then(function(b){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),b.sub!==y.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(y.profile=v._mergeClaims(y.profile,b),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",y.profile),y)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(y)},p.prototype._mergeClaims=function(m,y){var v=Object.assign({},m);for(var b in y){var _=y[b];Array.isArray(_)||(_=[_]);for(var w=0;w<_.length;w++){var T=_[w];v[b]?Array.isArray(v[b])?v[b].indexOf(T)<0&&v[b].push(T):v[b]!==T&&((T===void 0?"undefined":a(T))==="object"&&this._settings.mergeClaims?v[b]=this._mergeClaims(v[b],T):v[b]=[v[b],T]):v[b]=T}}return v},p.prototype._filterProtocolClaims=function(m){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",m);var y=Object.assign({},m);return this._settings._filterProtocolClaims?(h.forEach(function(v){delete y[v]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",y)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),y},p.prototype._validateTokens=function(m,y){return y.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(m,y)):y.id_token?y.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(m,y)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(m,y)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(y))},p.prototype._processCode=function(m,y){var v=this,b={client_id:m.client_id,client_secret:m.client_secret,code:y.code,redirect_uri:m.redirect_uri,code_verifier:m.code_verifier};return m.extraTokenParams&&a(m.extraTokenParams)==="object"&&Object.assign(b,m.extraTokenParams),this._tokenClient.exchangeCode(b).then(function(_){for(var w in _)y[w]=_[w];return y.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),v._validateIdTokenAttributes(m,y)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),y)})},p.prototype._validateIdTokenAttributes=function(m,y){var v=this;return this._metadataService.getIssuer().then(function(b){var _=m.client_id,w=v._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",w),v._settings.getEpochTime().then(function(T){return v._joseUtil.validateJwtAttributes(y.id_token,b,_,w,T).then(function(R){return m.nonce&&m.nonce!==R.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):R.sub?(y.profile=R,y):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},p.prototype._validateIdTokenAndAccessToken=function(m,y){var v=this;return this._validateIdToken(m,y).then(function(b){return v._validateAccessToken(b)})},p.prototype._getSigningKeyForJwt=function(m){var y=this;return this._metadataService.getSigningKeys().then(function(v){var b=m.header.kid;if(!v)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var _=void 0;if(b)_=v.filter(function(w){return w.kid===b})[0];else{if((v=y._filterByAlg(v,m.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));_=v[0]}return Promise.resolve(_)})},p.prototype._getSigningKeyForJwtWithSingleRetry=function(m){var y=this;return this._getSigningKeyForJwt(m).then(function(v){return v?Promise.resolve(v):(y._metadataService.resetSigningKeys(),y._getSigningKeyForJwt(m))})},p.prototype._validateIdToken=function(m,y){var v=this;if(!m.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var b=this._joseUtil.parseJwt(y.id_token);return b&&b.header&&b.payload?m.nonce!==b.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(_){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),v._getSigningKeyForJwtWithSingleRetry(b).then(function(w){if(!w)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var T=m.client_id,R=v._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",R),v._joseUtil.validateJwt(y.id_token,w,_,T,R).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),b.payload.sub?(y.profile=b.payload,y):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",b),Promise.reject(new Error("Failed to parse id_token")))},p.prototype._filterByAlg=function(m,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",y),[];v="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",v),m=m.filter(function(b){return b.kty===v}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",v,m.length),m},p.prototype._validateAccessToken=function(m){if(!m.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!m.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!m.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var y=this._joseUtil.parseJwt(m.id_token);if(!y||!y.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",y),Promise.reject(new Error("Failed to parse id_token"));var v=y.header.alg;if(!v||v.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",v),Promise.reject(new Error("Unsupported alg: "+v));var b=v.substr(2,3);if(!b)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",v,b),Promise.reject(new Error("Unsupported alg: "+v));if((b=parseInt(b))!==256&&b!==384&&b!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",v,b),Promise.reject(new Error("Unsupported alg: "+v));var _="sha"+b,w=this._joseUtil.hashString(m.access_token,_);if(!w)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",_),Promise.reject(new Error("Failed to validate at_hash"));var T=w.substr(0,w.length/2),R=this._joseUtil.hexToBase64Url(T);return R!==m.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",R,m.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(m))},p}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=n(7),o=n(2),s=n(0),l=n(4);function u(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(u(this,c),!d)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new f(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new h(this._settings),this._joseUtil=p}return c.prototype.getClaims=function(f){var h=this;return f?this._metadataService.getUserInfoEndpoint().then(function(p){return s.Log.debug("UserInfoService.getClaims: received userinfo url",p),h._jsonService.getJson(p,f).then(function(g){return s.Log.debug("UserInfoService.getClaims: claims received",g),g})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},c.prototype._getClaimsFromJwt=function(f){var h=this;try{var p=this._joseUtil.parseJwt(f.responseText);if(!p||!p.header||!p.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",p),Promise.reject(new Error("Failed to parse id_token"));var g=p.header.kid,m=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":m=this._metadataService.getIssuer();break;case"ANY":m=Promise.resolve(p.payload.iss);break;default:m=Promise.resolve(this._settings.userInfoJwtIssuer)}return m.then(function(y){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+y),h._metadataService.getSigningKeys().then(function(v){if(!v)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var b=void 0;if(g)b=v.filter(function(T){return T.kid===g})[0];else{if((v=h._filterByAlg(v,p.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));b=v[0]}if(!b)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var _=h._settings.client_id,w=h._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",w),h._joseUtil.validateJwt(f.responseText,b,y,_,w,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),p.payload})})})}catch(y){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",y.message),void reject(y)}},c.prototype._filterByAlg=function(f,h){var p=null;if(h.startsWith("RS"))p="RSA";else if(h.startsWith("PS"))p="PS";else{if(!h.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",h),[];p="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",p),f=f.filter(function(g){return g.kty===p}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",p,f.length),f},c}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=n(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(i,r,n){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,u,c,d,f,h,p,g,m,y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},v={},b={},_=_||(o=Math,l=(s={}).lib={},u=l.Base=function(){function P(){}return{extend:function(L){P.prototype=this;var q=new P;return L&&q.mixIn(L),q.hasOwnProperty("init")||(q.init=function(){q.$super.init.apply(this,arguments)}),q.init.prototype=q,q.$super=this,q},create:function(){var L=this.extend();return L.init.apply(L,arguments),L},init:function(){},mixIn:function(L){for(var q in L)L.hasOwnProperty(q)&&(this[q]=L[q]);L.hasOwnProperty("toString")&&(this.toString=L.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=u.extend({init:function(O,L){O=this.words=O||[],this.sigBytes=L??4*O.length},toString:function(O){return(O||f).stringify(this)},concat:function(O){var L=this.words,q=O.words,Y=this.sigBytes,ce=O.sigBytes;if(this.clamp(),Y%4)for(var we=0;we<ce;we++){var Z=q[we>>>2]>>>24-we%4*8&255;L[Y+we>>>2]|=Z<<24-(Y+we)%4*8}else for(we=0;we<ce;we+=4)L[Y+we>>>2]=q[we>>>2];return this.sigBytes+=ce,this},clamp:function(){var O=this.words,L=this.sigBytes;O[L>>>2]&=4294967295<<32-L%4*8,O.length=o.ceil(L/4)},clone:function(){var O=u.clone.call(this);return O.words=this.words.slice(0),O},random:function(O){for(var L=[],q=0;q<O;q+=4)L.push(4294967296*o.random()|0);return new c.init(L,O)}}),d=s.enc={},f=d.Hex={stringify:function(O){for(var L=O.words,q=O.sigBytes,Y=[],ce=0;ce<q;ce++){var we=L[ce>>>2]>>>24-ce%4*8&255;Y.push((we>>>4).toString(16)),Y.push((15&we).toString(16))}return Y.join("")},parse:function(O){for(var L=O.length,q=[],Y=0;Y<L;Y+=2)q[Y>>>3]|=parseInt(O.substr(Y,2),16)<<24-Y%8*4;return new c.init(q,L/2)}},h=d.Latin1={stringify:function(O){for(var L=O.words,q=O.sigBytes,Y=[],ce=0;ce<q;ce++){var we=L[ce>>>2]>>>24-ce%4*8&255;Y.push(String.fromCharCode(we))}return Y.join("")},parse:function(O){for(var L=O.length,q=[],Y=0;Y<L;Y++)q[Y>>>2]|=(255&O.charCodeAt(Y))<<24-Y%4*8;return new c.init(q,L)}},p=d.Utf8={stringify:function(O){try{return decodeURIComponent(escape(h.stringify(O)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(O){return h.parse(unescape(encodeURIComponent(O)))}},g=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(O){typeof O=="string"&&(O=p.parse(O)),this._data.concat(O),this._nDataBytes+=O.sigBytes},_process:function(O){var L=this._data,q=L.words,Y=L.sigBytes,ce=this.blockSize,we=Y/(4*ce),Z=(we=O?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*ce,ie=o.min(4*Z,Y);if(Z){for(var le=0;le<Z;le+=ce)this._doProcessBlock(q,le);var Se=q.splice(0,Z);L.sigBytes-=ie}return new c.init(Se,ie)},clone:function(){var O=u.clone.call(this);return O._data=this._data.clone(),O},_minBufferSize:0}),l.Hasher=g.extend({cfg:u.extend(),init:function(O){this.cfg=this.cfg.extend(O),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(O){return this._append(O),this._process(),this},finalize:function(O){return O&&this._append(O),this._doFinalize()},blockSize:16,_createHelper:function(O){return function(L,q){return new O.init(q).finalize(L)}},_createHmacHelper:function(O){return function(L,q){return new m.HMAC.init(O,q).finalize(L)}}}),m=s.algo={},s);(function(P){var O,L=(O=_).lib,q=L.Base,Y=L.WordArray;(O=O.x64={}).Word=q.extend({init:function(we,Z){this.high=we,this.low=Z}}),O.WordArray=q.extend({init:function(we,Z){we=this.words=we||[],this.sigBytes=Z??8*we.length},toX32:function(){for(var we=this.words,Z=we.length,ie=[],le=0;le<Z;le++){var Se=we[le];ie.push(Se.high),ie.push(Se.low)}return Y.create(ie,this.sigBytes)},clone:function(){for(var we=q.clone.call(this),Z=we.words=this.words.slice(0),ie=Z.length,le=0;le<ie;le++)Z[le]=Z[le].clone();return we}})})(),function(){var P=_,O=P.lib.WordArray;P.enc.Base64={stringify:function(q){var Y=q.words,ce=q.sigBytes,we=this._map;q.clamp(),q=[];for(var Z=0;Z<ce;Z+=3)for(var ie=(Y[Z>>>2]>>>24-Z%4*8&255)<<16|(Y[Z+1>>>2]>>>24-(Z+1)%4*8&255)<<8|Y[Z+2>>>2]>>>24-(Z+2)%4*8&255,le=0;4>le&&Z+.75*le<ce;le++)q.push(we.charAt(ie>>>6*(3-le)&63));if(Y=we.charAt(64))for(;q.length%4;)q.push(Y);return q.join("")},parse:function(q){var Y=q.length,ce=this._map;(we=ce.charAt(64))&&(we=q.indexOf(we))!=-1&&(Y=we);for(var we=[],Z=0,ie=0;ie<Y;ie++)if(ie%4){var le=ce.indexOf(q.charAt(ie-1))<<ie%4*2,Se=ce.indexOf(q.charAt(ie))>>>6-ie%4*2;we[Z>>>2]|=(le|Se)<<24-Z%4*8,Z++}return O.create(we,Z)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(P){for(var O=_,L=(Y=O.lib).WordArray,q=Y.Hasher,Y=O.algo,ce=[],we=[],Z=function(Ye){return 4294967296*(Ye-(0|Ye))|0},ie=2,le=0;64>le;){var Se;e:{Se=ie;for(var Re=P.sqrt(Se),De=2;De<=Re;De++)if(!(Se%De)){Se=!1;break e}Se=!0}Se&&(8>le&&(ce[le]=Z(P.pow(ie,.5))),we[le]=Z(P.pow(ie,1/3)),le++),ie++}var Ue=[];Y=Y.SHA256=q.extend({_doReset:function(){this._hash=new L.init(ce.slice(0))},_doProcessBlock:function(Ye,rt){for(var ye=this._hash.words,Ne=ye[0],Be=ye[1],$e=ye[2],Je=ye[3],it=ye[4],Vt=ye[5],yt=ye[6],cr=ye[7],Ut=0;64>Ut;Ut++){if(16>Ut)Ue[Ut]=0|Ye[rt+Ut];else{var tr=Ue[Ut-15],ar=Ue[Ut-2];Ue[Ut]=((tr<<25|tr>>>7)^(tr<<14|tr>>>18)^tr>>>3)+Ue[Ut-7]+((ar<<15|ar>>>17)^(ar<<13|ar>>>19)^ar>>>10)+Ue[Ut-16]}tr=cr+((it<<26|it>>>6)^(it<<21|it>>>11)^(it<<7|it>>>25))+(it&Vt^~it&yt)+we[Ut]+Ue[Ut],ar=((Ne<<30|Ne>>>2)^(Ne<<19|Ne>>>13)^(Ne<<10|Ne>>>22))+(Ne&Be^Ne&$e^Be&$e),cr=yt,yt=Vt,Vt=it,it=Je+tr|0,Je=$e,$e=Be,Be=Ne,Ne=tr+ar|0}ye[0]=ye[0]+Ne|0,ye[1]=ye[1]+Be|0,ye[2]=ye[2]+$e|0,ye[3]=ye[3]+Je|0,ye[4]=ye[4]+it|0,ye[5]=ye[5]+Vt|0,ye[6]=ye[6]+yt|0,ye[7]=ye[7]+cr|0},_doFinalize:function(){var Ye=this._data,rt=Ye.words,ye=8*this._nDataBytes,Ne=8*Ye.sigBytes;return rt[Ne>>>5]|=128<<24-Ne%32,rt[14+(Ne+64>>>9<<4)]=P.floor(ye/4294967296),rt[15+(Ne+64>>>9<<4)]=ye,Ye.sigBytes=4*rt.length,this._process(),this._hash},clone:function(){var Ye=q.clone.call(this);return Ye._hash=this._hash.clone(),Ye}}),O.SHA256=q._createHelper(Y),O.HmacSHA256=q._createHmacHelper(Y)}(Math),function(){function P(){return q.create.apply(q,arguments)}for(var O=_,L=O.lib.Hasher,q=(ce=O.x64).Word,Y=ce.WordArray,ce=O.algo,we=[P(1116352408,3609767458),P(1899447441,602891725),P(3049323471,3964484399),P(3921009573,2173295548),P(961987163,4081628472),P(1508970993,3053834265),P(2453635748,2937671579),P(2870763221,3664609560),P(3624381080,2734883394),P(310598401,1164996542),P(607225278,1323610764),P(1426881987,3590304994),P(1925078388,4068182383),P(2162078206,991336113),P(2614888103,633803317),P(3248222580,3479774868),P(3835390401,2666613458),P(4022224774,944711139),P(264347078,2341262773),P(604807628,2007800933),P(770255983,1495990901),P(1249150122,1856431235),P(1555081692,3175218132),P(1996064986,2198950837),P(2554220882,3999719339),P(2821834349,766784016),P(2952996808,2566594879),P(3210313671,3203337956),P(3336571891,1034457026),P(3584528711,2466948901),P(113926993,3758326383),P(338241895,168717936),P(666307205,1188179964),P(773529912,1546045734),P(1294757372,1522805485),P(1396182291,2643833823),P(1695183700,2343527390),P(1986661051,1014477480),P(2177026350,1206759142),P(2456956037,344077627),P(2730485921,1290863460),P(2820302411,3158454273),P(3259730800,3505952657),P(3345764771,106217008),P(3516065817,3606008344),P(3600352804,1432725776),P(4094571909,1467031594),P(275423344,851169720),P(430227734,3100823752),P(506948616,1363258195),P(659060556,3750685593),P(883997877,3785050280),P(958139571,3318307427),P(1322822218,3812723403),P(1537002063,2003034995),P(1747873779,3602036899),P(1955562222,1575990012),P(2024104815,1125592928),P(2227730452,2716904306),P(2361852424,442776044),P(2428436474,593698344),P(2756734187,3733110249),P(3204031479,2999351573),P(3329325298,3815920427),P(3391569614,3928383900),P(3515267271,566280711),P(3940187606,3454069534),P(4118630271,4000239992),P(116418474,1914138554),P(174292421,2731055270),P(289380356,3203993006),P(460393269,320620315),P(685471733,587496836),P(852142971,1086792851),P(1017036298,365543100),P(1126000580,2618297676),P(1288033470,3409855158),P(1501505948,4234509866),P(1607167915,987167468),P(1816402316,1246189591)],Z=[],ie=0;80>ie;ie++)Z[ie]=P();ce=ce.SHA512=L.extend({_doReset:function(){this._hash=new Y.init([new q.init(1779033703,4089235720),new q.init(3144134277,2227873595),new q.init(1013904242,4271175723),new q.init(2773480762,1595750129),new q.init(1359893119,2917565137),new q.init(2600822924,725511199),new q.init(528734635,4215389547),new q.init(1541459225,327033209)])},_doProcessBlock:function(Se,Re){for(var De=(Be=this._hash.words)[0],Ue=Be[1],ze=Be[2],Ye=Be[3],rt=Be[4],ye=Be[5],Ne=Be[6],Be=Be[7],$e=De.high,Je=De.low,it=Ue.high,Vt=Ue.low,yt=ze.high,cr=ze.low,Ut=Ye.high,tr=Ye.low,ar=rt.high,Ar=rt.low,Dr=ye.high,Fn=ye.low,Kn=Ne.high,bi=Ne.low,hn=Be.high,ln=Be.low,ai=$e,_i=Je,ks=it,Bs=Vt,so=yt,qs=cr,$a=Ut,Iu=tr,Jn=ar,fi=Ar,Vs=Dr,ua=Fn,Ll=Kn,Yo=bi,ig=hn,Cu=ln,la=0;80>la;la++){var uo=Z[la];if(16>la)var Ca=uo.high=0|Se[Re+2*la],pn=uo.low=0|Se[Re+2*la+1];else{Ca=((pn=(Ca=Z[la-15]).high)>>>1|(Eo=Ca.low)<<31)^(pn>>>8|Eo<<24)^pn>>>7;var Eo=(Eo>>>1|pn<<31)^(Eo>>>8|pn<<24)^(Eo>>>7|pn<<25),Du=((pn=(Du=Z[la-2]).high)>>>19|($n=Du.low)<<13)^(pn<<3|$n>>>29)^pn>>>6,$n=($n>>>19|pn<<13)^($n<<3|pn>>>29)^($n>>>6|pn<<26),Nu=(pn=Z[la-7]).high,Zo=(es=Z[la-16]).high,es=es.low;Ca=(Ca=(Ca=Ca+Nu+((pn=Eo+pn.low)>>>0<Eo>>>0?1:0))+Du+((pn=pn+$n)>>>0<$n>>>0?1:0))+Zo+((pn=pn+es)>>>0<es>>>0?1:0),uo.high=Ca,uo.low=pn}Nu=Jn&Vs^~Jn&Ll,es=fi&ua^~fi&Yo,uo=ai&ks^ai&so^ks&so;var bA=_i&Bs^_i&qs^Bs&qs,ex=(Eo=(ai>>>28|_i<<4)^(ai<<30|_i>>>2)^(ai<<25|_i>>>7),Du=(_i>>>28|ai<<4)^(_i<<30|ai>>>2)^(_i<<25|ai>>>7),($n=we[la]).high),ts=$n.low;Zo=ig+((Jn>>>14|fi<<18)^(Jn>>>18|fi<<14)^(Jn<<23|fi>>>9))+(($n=Cu+((fi>>>14|Jn<<18)^(fi>>>18|Jn<<14)^(fi<<23|Jn>>>9)))>>>0<Cu>>>0?1:0),ig=Ll,Cu=Yo,Ll=Vs,Yo=ua,Vs=Jn,ua=fi,Jn=$a+(Zo=(Zo=(Zo=Zo+Nu+(($n=$n+es)>>>0<es>>>0?1:0))+ex+(($n=$n+ts)>>>0<ts>>>0?1:0))+Ca+(($n=$n+pn)>>>0<pn>>>0?1:0))+((fi=Iu+$n|0)>>>0<Iu>>>0?1:0)|0,$a=so,Iu=qs,so=ks,qs=Bs,ks=ai,Bs=_i,ai=Zo+(uo=Eo+uo+((pn=Du+bA)>>>0<Du>>>0?1:0))+((_i=$n+pn|0)>>>0<$n>>>0?1:0)|0}Je=De.low=Je+_i,De.high=$e+ai+(Je>>>0<_i>>>0?1:0),Vt=Ue.low=Vt+Bs,Ue.high=it+ks+(Vt>>>0<Bs>>>0?1:0),cr=ze.low=cr+qs,ze.high=yt+so+(cr>>>0<qs>>>0?1:0),tr=Ye.low=tr+Iu,Ye.high=Ut+$a+(tr>>>0<Iu>>>0?1:0),Ar=rt.low=Ar+fi,rt.high=ar+Jn+(Ar>>>0<fi>>>0?1:0),Fn=ye.low=Fn+ua,ye.high=Dr+Vs+(Fn>>>0<ua>>>0?1:0),bi=Ne.low=bi+Yo,Ne.high=Kn+Ll+(bi>>>0<Yo>>>0?1:0),ln=Be.low=ln+Cu,Be.high=hn+ig+(ln>>>0<Cu>>>0?1:0)},_doFinalize:function(){var Se=this._data,Re=Se.words,De=8*this._nDataBytes,Ue=8*Se.sigBytes;return Re[Ue>>>5]|=128<<24-Ue%32,Re[30+(Ue+128>>>10<<5)]=Math.floor(De/4294967296),Re[31+(Ue+128>>>10<<5)]=De,Se.sigBytes=4*Re.length,this._process(),this._hash.toX32()},clone:function(){var Se=L.clone.call(this);return Se._hash=this._hash.clone(),Se},blockSize:32}),O.SHA512=L._createHelper(ce),O.HmacSHA512=L._createHmacHelper(ce)}(),function(){var P=_,O=(Y=P.x64).Word,L=Y.WordArray,q=(Y=P.algo).SHA512,Y=Y.SHA384=q.extend({_doReset:function(){this._hash=new L.init([new O.init(3418070365,3238371032),new O.init(1654270250,914150663),new O.init(2438529370,812702999),new O.init(355462360,4144912697),new O.init(1731405415,4290775857),new O.init(2394180231,1750603025),new O.init(3675008525,1694076839),new O.init(1203062813,3204075428)])},_doFinalize:function(){var we=q._doFinalize.call(this);return we.sigBytes-=16,we}});P.SHA384=q._createHelper(Y),P.HmacSHA384=q._createHmacHelper(Y)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var w,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function R(P){var O,L,q="";for(O=0;O+3<=P.length;O+=3)L=parseInt(P.substring(O,O+3),16),q+=T.charAt(L>>6)+T.charAt(63&L);for(O+1==P.length?(L=parseInt(P.substring(O,O+1),16),q+=T.charAt(L<<2)):O+2==P.length&&(L=parseInt(P.substring(O,O+2),16),q+=T.charAt(L>>2)+T.charAt((3&L)<<4)),"=";(3&q.length)>0;)q+="=";return q}function F(P){var O,L,q,Y="",ce=0;for(O=0;O<P.length&&P.charAt(O)!="=";++O)(q=T.indexOf(P.charAt(O)))<0||(ce==0?(Y+=M(q>>2),L=3&q,ce=1):ce==1?(Y+=M(L<<2|q>>4),L=15&q,ce=2):ce==2?(Y+=M(L),Y+=M(q>>2),L=3&q,ce=3):(Y+=M(L<<2|q>>4),Y+=M(15&q),ce=0));return ce==1&&(Y+=M(L<<2)),Y}function D(P){var O,L=F(P),q=new Array;for(O=0;2*O<L.length;++O)q[O]=parseInt(L.substring(2*O,2*O+2),16);return q}function A(P,O,L){P!=null&&(typeof P=="number"?this.fromNumber(P,O,L):O==null&&typeof P!="string"?this.fromString(P,256):this.fromString(P,O))}function x(){return new A(null)}v.appName=="Microsoft Internet Explorer"?(A.prototype.am=function(O,L,q,Y,ce,we){for(var Z=32767&L,ie=L>>15;--we>=0;){var le=32767&this[O],Se=this[O++]>>15,Re=ie*le+Se*Z;ce=((le=Z*le+((32767&Re)<<15)+q[Y]+(1073741823&ce))>>>30)+(Re>>>15)+ie*Se+(ce>>>30),q[Y++]=1073741823&le}return ce},w=30):v.appName!="Netscape"?(A.prototype.am=function(O,L,q,Y,ce,we){for(;--we>=0;){var Z=L*this[O++]+q[Y]+ce;ce=Math.floor(Z/67108864),q[Y++]=67108863&Z}return ce},w=26):(A.prototype.am=function(O,L,q,Y,ce,we){for(var Z=16383&L,ie=L>>14;--we>=0;){var le=16383&this[O],Se=this[O++]>>14,Re=ie*le+Se*Z;ce=((le=Z*le+((16383&Re)<<14)+q[Y]+ce)>>28)+(Re>>14)+ie*Se,q[Y++]=268435455&le}return ce},w=28),A.prototype.DB=w,A.prototype.DM=(1<<w)-1,A.prototype.DV=1<<w,A.prototype.FV=Math.pow(2,52),A.prototype.F1=52-w,A.prototype.F2=2*w-52;var N,j,H=new Array;for(N=48,j=0;j<=9;++j)H[N++]=j;for(N=97,j=10;j<36;++j)H[N++]=j;for(N=65,j=10;j<36;++j)H[N++]=j;function M(P){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(P)}function $(P,O){var L=H[P.charCodeAt(O)];return L??-1}function te(P){var O=x();return O.fromInt(P),O}function re(P){var O,L=1;return(O=P>>>16)!=0&&(P=O,L+=16),(O=P>>8)!=0&&(P=O,L+=8),(O=P>>4)!=0&&(P=O,L+=4),(O=P>>2)!=0&&(P=O,L+=2),(O=P>>1)!=0&&(P=O,L+=1),L}function oe(P){this.m=P}function J(P){this.m=P,this.mp=P.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<P.DB-15)-1,this.mt2=2*P.t}function fe(P,O){return P&O}function xe(P,O){return P|O}function de(P,O){return P^O}function ae(P,O){return P&~O}function Fe(P){if(P==0)return-1;var O=0;return(65535&P)==0&&(P>>=16,O+=16),(255&P)==0&&(P>>=8,O+=8),(15&P)==0&&(P>>=4,O+=4),(3&P)==0&&(P>>=2,O+=2),(1&P)==0&&++O,O}function Le(P){for(var O=0;P!=0;)P&=P-1,++O;return O}function me(){}function pe(P){return P}function _e(P){this.r2=x(),this.q3=x(),A.ONE.dlShiftTo(2*P.t,this.r2),this.mu=this.r2.divide(P),this.m=P}oe.prototype.convert=function(O){return O.s<0||O.compareTo(this.m)>=0?O.mod(this.m):O},oe.prototype.revert=function(O){return O},oe.prototype.reduce=function(O){O.divRemTo(this.m,null,O)},oe.prototype.mulTo=function(O,L,q){O.multiplyTo(L,q),this.reduce(q)},oe.prototype.sqrTo=function(O,L){O.squareTo(L),this.reduce(L)},J.prototype.convert=function(O){var L=x();return O.abs().dlShiftTo(this.m.t,L),L.divRemTo(this.m,null,L),O.s<0&&L.compareTo(A.ZERO)>0&&this.m.subTo(L,L),L},J.prototype.revert=function(O){var L=x();return O.copyTo(L),this.reduce(L),L},J.prototype.reduce=function(O){for(;O.t<=this.mt2;)O[O.t++]=0;for(var L=0;L<this.m.t;++L){var q=32767&O[L],Y=q*this.mpl+((q*this.mph+(O[L]>>15)*this.mpl&this.um)<<15)&O.DM;for(O[q=L+this.m.t]+=this.m.am(0,Y,O,L,0,this.m.t);O[q]>=O.DV;)O[q]-=O.DV,O[++q]++}O.clamp(),O.drShiftTo(this.m.t,O),O.compareTo(this.m)>=0&&O.subTo(this.m,O)},J.prototype.mulTo=function(O,L,q){O.multiplyTo(L,q),this.reduce(q)},J.prototype.sqrTo=function(O,L){O.squareTo(L),this.reduce(L)},A.prototype.copyTo=function(O){for(var L=this.t-1;L>=0;--L)O[L]=this[L];O.t=this.t,O.s=this.s},A.prototype.fromInt=function(O){this.t=1,this.s=O<0?-1:0,O>0?this[0]=O:O<-1?this[0]=O+this.DV:this.t=0},A.prototype.fromString=function(O,L){var q;if(L==16)q=4;else if(L==8)q=3;else if(L==256)q=8;else if(L==2)q=1;else if(L==32)q=5;else{if(L!=4)return void this.fromRadix(O,L);q=2}this.t=0,this.s=0;for(var Y=O.length,ce=!1,we=0;--Y>=0;){var Z=q==8?255&O[Y]:$(O,Y);Z<0?O.charAt(Y)=="-"&&(ce=!0):(ce=!1,we==0?this[this.t++]=Z:we+q>this.DB?(this[this.t-1]|=(Z&(1<<this.DB-we)-1)<<we,this[this.t++]=Z>>this.DB-we):this[this.t-1]|=Z<<we,(we+=q)>=this.DB&&(we-=this.DB))}q==8&&(128&O[0])!=0&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),ce&&A.ZERO.subTo(this,this)},A.prototype.clamp=function(){for(var O=this.s&this.DM;this.t>0&&this[this.t-1]==O;)--this.t},A.prototype.dlShiftTo=function(O,L){var q;for(q=this.t-1;q>=0;--q)L[q+O]=this[q];for(q=O-1;q>=0;--q)L[q]=0;L.t=this.t+O,L.s=this.s},A.prototype.drShiftTo=function(O,L){for(var q=O;q<this.t;++q)L[q-O]=this[q];L.t=Math.max(this.t-O,0),L.s=this.s},A.prototype.lShiftTo=function(O,L){var q,Y=O%this.DB,ce=this.DB-Y,we=(1<<ce)-1,Z=Math.floor(O/this.DB),ie=this.s<<Y&this.DM;for(q=this.t-1;q>=0;--q)L[q+Z+1]=this[q]>>ce|ie,ie=(this[q]&we)<<Y;for(q=Z-1;q>=0;--q)L[q]=0;L[Z]=ie,L.t=this.t+Z+1,L.s=this.s,L.clamp()},A.prototype.rShiftTo=function(O,L){L.s=this.s;var q=Math.floor(O/this.DB);if(q>=this.t)L.t=0;else{var Y=O%this.DB,ce=this.DB-Y,we=(1<<Y)-1;L[0]=this[q]>>Y;for(var Z=q+1;Z<this.t;++Z)L[Z-q-1]|=(this[Z]&we)<<ce,L[Z-q]=this[Z]>>Y;Y>0&&(L[this.t-q-1]|=(this.s&we)<<ce),L.t=this.t-q,L.clamp()}},A.prototype.subTo=function(O,L){for(var q=0,Y=0,ce=Math.min(O.t,this.t);q<ce;)Y+=this[q]-O[q],L[q++]=Y&this.DM,Y>>=this.DB;if(O.t<this.t){for(Y-=O.s;q<this.t;)Y+=this[q],L[q++]=Y&this.DM,Y>>=this.DB;Y+=this.s}else{for(Y+=this.s;q<O.t;)Y-=O[q],L[q++]=Y&this.DM,Y>>=this.DB;Y-=O.s}L.s=Y<0?-1:0,Y<-1?L[q++]=this.DV+Y:Y>0&&(L[q++]=Y),L.t=q,L.clamp()},A.prototype.multiplyTo=function(O,L){var q=this.abs(),Y=O.abs(),ce=q.t;for(L.t=ce+Y.t;--ce>=0;)L[ce]=0;for(ce=0;ce<Y.t;++ce)L[ce+q.t]=q.am(0,Y[ce],L,ce,0,q.t);L.s=0,L.clamp(),this.s!=O.s&&A.ZERO.subTo(L,L)},A.prototype.squareTo=function(O){for(var L=this.abs(),q=O.t=2*L.t;--q>=0;)O[q]=0;for(q=0;q<L.t-1;++q){var Y=L.am(q,L[q],O,2*q,0,1);(O[q+L.t]+=L.am(q+1,2*L[q],O,2*q+1,Y,L.t-q-1))>=L.DV&&(O[q+L.t]-=L.DV,O[q+L.t+1]=1)}O.t>0&&(O[O.t-1]+=L.am(q,L[q],O,2*q,0,1)),O.s=0,O.clamp()},A.prototype.divRemTo=function(O,L,q){var Y=O.abs();if(!(Y.t<=0)){var ce=this.abs();if(ce.t<Y.t)return L!=null&&L.fromInt(0),void(q!=null&&this.copyTo(q));q==null&&(q=x());var we=x(),Z=this.s,ie=O.s,le=this.DB-re(Y[Y.t-1]);le>0?(Y.lShiftTo(le,we),ce.lShiftTo(le,q)):(Y.copyTo(we),ce.copyTo(q));var Se=we.t,Re=we[Se-1];if(Re!=0){var De=Re*(1<<this.F1)+(Se>1?we[Se-2]>>this.F2:0),Ue=this.FV/De,ze=(1<<this.F1)/De,Ye=1<<this.F2,rt=q.t,ye=rt-Se,Ne=L??x();for(we.dlShiftTo(ye,Ne),q.compareTo(Ne)>=0&&(q[q.t++]=1,q.subTo(Ne,q)),A.ONE.dlShiftTo(Se,Ne),Ne.subTo(we,we);we.t<Se;)we[we.t++]=0;for(;--ye>=0;){var Be=q[--rt]==Re?this.DM:Math.floor(q[rt]*Ue+(q[rt-1]+Ye)*ze);if((q[rt]+=we.am(0,Be,q,ye,0,Se))<Be)for(we.dlShiftTo(ye,Ne),q.subTo(Ne,q);q[rt]<--Be;)q.subTo(Ne,q)}L!=null&&(q.drShiftTo(Se,L),Z!=ie&&A.ZERO.subTo(L,L)),q.t=Se,q.clamp(),le>0&&q.rShiftTo(le,q),Z<0&&A.ZERO.subTo(q,q)}}},A.prototype.invDigit=function(){if(this.t<1)return 0;var O=this[0];if((1&O)==0)return 0;var L=3&O;return(L=(L=(L=(L=L*(2-(15&O)*L)&15)*(2-(255&O)*L)&255)*(2-((65535&O)*L&65535))&65535)*(2-O*L%this.DV)%this.DV)>0?this.DV-L:-L},A.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},A.prototype.exp=function(O,L){if(O>4294967295||O<1)return A.ONE;var q=x(),Y=x(),ce=L.convert(this),we=re(O)-1;for(ce.copyTo(q);--we>=0;)if(L.sqrTo(q,Y),(O&1<<we)>0)L.mulTo(Y,ce,q);else{var Z=q;q=Y,Y=Z}return L.revert(q)},A.prototype.toString=function(O){if(this.s<0)return"-"+this.negate().toString(O);var L;if(O==16)L=4;else if(O==8)L=3;else if(O==2)L=1;else if(O==32)L=5;else{if(O!=4)return this.toRadix(O);L=2}var q,Y=(1<<L)-1,ce=!1,we="",Z=this.t,ie=this.DB-Z*this.DB%L;if(Z-- >0)for(ie<this.DB&&(q=this[Z]>>ie)>0&&(ce=!0,we=M(q));Z>=0;)ie<L?(q=(this[Z]&(1<<ie)-1)<<L-ie,q|=this[--Z]>>(ie+=this.DB-L)):(q=this[Z]>>(ie-=L)&Y,ie<=0&&(ie+=this.DB,--Z)),q>0&&(ce=!0),ce&&(we+=M(q));return ce?we:"0"},A.prototype.negate=function(){var O=x();return A.ZERO.subTo(this,O),O},A.prototype.abs=function(){return this.s<0?this.negate():this},A.prototype.compareTo=function(O){var L=this.s-O.s;if(L!=0)return L;var q=this.t;if((L=q-O.t)!=0)return this.s<0?-L:L;for(;--q>=0;)if((L=this[q]-O[q])!=0)return L;return 0},A.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+re(this[this.t-1]^this.s&this.DM)},A.prototype.mod=function(O){var L=x();return this.abs().divRemTo(O,null,L),this.s<0&&L.compareTo(A.ZERO)>0&&O.subTo(L,L),L},A.prototype.modPowInt=function(O,L){var q;return q=O<256||L.isEven()?new oe(L):new J(L),this.exp(O,q)},A.ZERO=te(0),A.ONE=te(1),me.prototype.convert=pe,me.prototype.revert=pe,me.prototype.mulTo=function(O,L,q){O.multiplyTo(L,q)},me.prototype.sqrTo=function(O,L){O.squareTo(L)},_e.prototype.convert=function(O){if(O.s<0||O.t>2*this.m.t)return O.mod(this.m);if(O.compareTo(this.m)<0)return O;var L=x();return O.copyTo(L),this.reduce(L),L},_e.prototype.revert=function(O){return O},_e.prototype.reduce=function(O){for(O.drShiftTo(this.m.t-1,this.r2),O.t>this.m.t+1&&(O.t=this.m.t+1,O.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);O.compareTo(this.r2)<0;)O.dAddOffset(1,this.m.t+1);for(O.subTo(this.r2,O);O.compareTo(this.m)>=0;)O.subTo(this.m,O)},_e.prototype.mulTo=function(O,L,q){O.multiplyTo(L,q),this.reduce(q)},_e.prototype.sqrTo=function(O,L){O.squareTo(L),this.reduce(L)};var X=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/X[X.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function E(){this.i=0,this.j=0,this.S=new Array}A.prototype.chunkSize=function(O){return Math.floor(Math.LN2*this.DB/Math.log(O))},A.prototype.toRadix=function(O){if(O==null&&(O=10),this.signum()==0||O<2||O>36)return"0";var L=this.chunkSize(O),q=Math.pow(O,L),Y=te(q),ce=x(),we=x(),Z="";for(this.divRemTo(Y,ce,we);ce.signum()>0;)Z=(q+we.intValue()).toString(O).substr(1)+Z,ce.divRemTo(Y,ce,we);return we.intValue().toString(O)+Z},A.prototype.fromRadix=function(O,L){this.fromInt(0),L==null&&(L=10);for(var q=this.chunkSize(L),Y=Math.pow(L,q),ce=!1,we=0,Z=0,ie=0;ie<O.length;++ie){var le=$(O,ie);le<0?O.charAt(ie)=="-"&&this.signum()==0&&(ce=!0):(Z=L*Z+le,++we>=q&&(this.dMultiply(Y),this.dAddOffset(Z,0),we=0,Z=0))}we>0&&(this.dMultiply(Math.pow(L,we)),this.dAddOffset(Z,0)),ce&&A.ZERO.subTo(this,this)},A.prototype.fromNumber=function(O,L,q){if(typeof L=="number")if(O<2)this.fromInt(1);else for(this.fromNumber(O,q),this.testBit(O-1)||this.bitwiseTo(A.ONE.shiftLeft(O-1),xe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(L);)this.dAddOffset(2,0),this.bitLength()>O&&this.subTo(A.ONE.shiftLeft(O-1),this);else{var Y=new Array,ce=7&O;Y.length=1+(O>>3),L.nextBytes(Y),ce>0?Y[0]&=(1<<ce)-1:Y[0]=0,this.fromString(Y,256)}},A.prototype.bitwiseTo=function(O,L,q){var Y,ce,we=Math.min(O.t,this.t);for(Y=0;Y<we;++Y)q[Y]=L(this[Y],O[Y]);if(O.t<this.t){for(ce=O.s&this.DM,Y=we;Y<this.t;++Y)q[Y]=L(this[Y],ce);q.t=this.t}else{for(ce=this.s&this.DM,Y=we;Y<O.t;++Y)q[Y]=L(ce,O[Y]);q.t=O.t}q.s=L(this.s,O.s),q.clamp()},A.prototype.changeBit=function(O,L){var q=A.ONE.shiftLeft(O);return this.bitwiseTo(q,L,q),q},A.prototype.addTo=function(O,L){for(var q=0,Y=0,ce=Math.min(O.t,this.t);q<ce;)Y+=this[q]+O[q],L[q++]=Y&this.DM,Y>>=this.DB;if(O.t<this.t){for(Y+=O.s;q<this.t;)Y+=this[q],L[q++]=Y&this.DM,Y>>=this.DB;Y+=this.s}else{for(Y+=this.s;q<O.t;)Y+=O[q],L[q++]=Y&this.DM,Y>>=this.DB;Y+=O.s}L.s=Y<0?-1:0,Y>0?L[q++]=Y:Y<-1&&(L[q++]=this.DV+Y),L.t=q,L.clamp()},A.prototype.dMultiply=function(O){this[this.t]=this.am(0,O-1,this,0,0,this.t),++this.t,this.clamp()},A.prototype.dAddOffset=function(O,L){if(O!=0){for(;this.t<=L;)this[this.t++]=0;for(this[L]+=O;this[L]>=this.DV;)this[L]-=this.DV,++L>=this.t&&(this[this.t++]=0),++this[L]}},A.prototype.multiplyLowerTo=function(O,L,q){var Y,ce=Math.min(this.t+O.t,L);for(q.s=0,q.t=ce;ce>0;)q[--ce]=0;for(Y=q.t-this.t;ce<Y;++ce)q[ce+this.t]=this.am(0,O[ce],q,ce,0,this.t);for(Y=Math.min(O.t,L);ce<Y;++ce)this.am(0,O[ce],q,ce,0,L-ce);q.clamp()},A.prototype.multiplyUpperTo=function(O,L,q){--L;var Y=q.t=this.t+O.t-L;for(q.s=0;--Y>=0;)q[Y]=0;for(Y=Math.max(L-this.t,0);Y<O.t;++Y)q[this.t+Y-L]=this.am(L-Y,O[Y],q,0,0,this.t+Y-L);q.clamp(),q.drShiftTo(1,q)},A.prototype.modInt=function(O){if(O<=0)return 0;var L=this.DV%O,q=this.s<0?O-1:0;if(this.t>0)if(L==0)q=this[0]%O;else for(var Y=this.t-1;Y>=0;--Y)q=(L*q+this[Y])%O;return q},A.prototype.millerRabin=function(O){var L=this.subtract(A.ONE),q=L.getLowestSetBit();if(q<=0)return!1;var Y=L.shiftRight(q);(O=O+1>>1)>X.length&&(O=X.length);for(var ce=x(),we=0;we<O;++we){ce.fromInt(X[Math.floor(Math.random()*X.length)]);var Z=ce.modPow(Y,this);if(Z.compareTo(A.ONE)!=0&&Z.compareTo(L)!=0){for(var ie=1;ie++<q&&Z.compareTo(L)!=0;)if((Z=Z.modPowInt(2,this)).compareTo(A.ONE)==0)return!1;if(Z.compareTo(L)!=0)return!1}}return!0},A.prototype.clone=function(){var O=x();return this.copyTo(O),O},A.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},A.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},A.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},A.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},A.prototype.toByteArray=function(){var O=this.t,L=new Array;L[0]=this.s;var q,Y=this.DB-O*this.DB%8,ce=0;if(O-- >0)for(Y<this.DB&&(q=this[O]>>Y)!=(this.s&this.DM)>>Y&&(L[ce++]=q|this.s<<this.DB-Y);O>=0;)Y<8?(q=(this[O]&(1<<Y)-1)<<8-Y,q|=this[--O]>>(Y+=this.DB-8)):(q=this[O]>>(Y-=8)&255,Y<=0&&(Y+=this.DB,--O)),(128&q)!=0&&(q|=-256),ce==0&&(128&this.s)!=(128&q)&&++ce,(ce>0||q!=this.s)&&(L[ce++]=q);return L},A.prototype.equals=function(O){return this.compareTo(O)==0},A.prototype.min=function(O){return this.compareTo(O)<0?this:O},A.prototype.max=function(O){return this.compareTo(O)>0?this:O},A.prototype.and=function(O){var L=x();return this.bitwiseTo(O,fe,L),L},A.prototype.or=function(O){var L=x();return this.bitwiseTo(O,xe,L),L},A.prototype.xor=function(O){var L=x();return this.bitwiseTo(O,de,L),L},A.prototype.andNot=function(O){var L=x();return this.bitwiseTo(O,ae,L),L},A.prototype.not=function(){for(var O=x(),L=0;L<this.t;++L)O[L]=this.DM&~this[L];return O.t=this.t,O.s=~this.s,O},A.prototype.shiftLeft=function(O){var L=x();return O<0?this.rShiftTo(-O,L):this.lShiftTo(O,L),L},A.prototype.shiftRight=function(O){var L=x();return O<0?this.lShiftTo(-O,L):this.rShiftTo(O,L),L},A.prototype.getLowestSetBit=function(){for(var O=0;O<this.t;++O)if(this[O]!=0)return O*this.DB+Fe(this[O]);return this.s<0?this.t*this.DB:-1},A.prototype.bitCount=function(){for(var O=0,L=this.s&this.DM,q=0;q<this.t;++q)O+=Le(this[q]^L);return O},A.prototype.testBit=function(O){var L=Math.floor(O/this.DB);return L>=this.t?this.s!=0:(this[L]&1<<O%this.DB)!=0},A.prototype.setBit=function(O){return this.changeBit(O,xe)},A.prototype.clearBit=function(O){return this.changeBit(O,ae)},A.prototype.flipBit=function(O){return this.changeBit(O,de)},A.prototype.add=function(O){var L=x();return this.addTo(O,L),L},A.prototype.subtract=function(O){var L=x();return this.subTo(O,L),L},A.prototype.multiply=function(O){var L=x();return this.multiplyTo(O,L),L},A.prototype.divide=function(O){var L=x();return this.divRemTo(O,L,null),L},A.prototype.remainder=function(O){var L=x();return this.divRemTo(O,null,L),L},A.prototype.divideAndRemainder=function(O){var L=x(),q=x();return this.divRemTo(O,L,q),new Array(L,q)},A.prototype.modPow=function(O,L){var q,Y,ce=O.bitLength(),we=te(1);if(ce<=0)return we;q=ce<18?1:ce<48?3:ce<144?4:ce<768?5:6,Y=ce<8?new oe(L):L.isEven()?new _e(L):new J(L);var Z=new Array,ie=3,le=q-1,Se=(1<<q)-1;if(Z[1]=Y.convert(this),q>1){var Re=x();for(Y.sqrTo(Z[1],Re);ie<=Se;)Z[ie]=x(),Y.mulTo(Re,Z[ie-2],Z[ie]),ie+=2}var De,Ue,ze=O.t-1,Ye=!0,rt=x();for(ce=re(O[ze])-1;ze>=0;){for(ce>=le?De=O[ze]>>ce-le&Se:(De=(O[ze]&(1<<ce+1)-1)<<le-ce,ze>0&&(De|=O[ze-1]>>this.DB+ce-le)),ie=q;(1&De)==0;)De>>=1,--ie;if((ce-=ie)<0&&(ce+=this.DB,--ze),Ye)Z[De].copyTo(we),Ye=!1;else{for(;ie>1;)Y.sqrTo(we,rt),Y.sqrTo(rt,we),ie-=2;ie>0?Y.sqrTo(we,rt):(Ue=we,we=rt,rt=Ue),Y.mulTo(rt,Z[De],we)}for(;ze>=0&&(O[ze]&1<<ce)==0;)Y.sqrTo(we,rt),Ue=we,we=rt,rt=Ue,--ce<0&&(ce=this.DB-1,--ze)}return Y.revert(we)},A.prototype.modInverse=function(O){var L=O.isEven();if(this.isEven()&&L||O.signum()==0)return A.ZERO;for(var q=O.clone(),Y=this.clone(),ce=te(1),we=te(0),Z=te(0),ie=te(1);q.signum()!=0;){for(;q.isEven();)q.rShiftTo(1,q),L?(ce.isEven()&&we.isEven()||(ce.addTo(this,ce),we.subTo(O,we)),ce.rShiftTo(1,ce)):we.isEven()||we.subTo(O,we),we.rShiftTo(1,we);for(;Y.isEven();)Y.rShiftTo(1,Y),L?(Z.isEven()&&ie.isEven()||(Z.addTo(this,Z),ie.subTo(O,ie)),Z.rShiftTo(1,Z)):ie.isEven()||ie.subTo(O,ie),ie.rShiftTo(1,ie);q.compareTo(Y)>=0?(q.subTo(Y,q),L&&ce.subTo(Z,ce),we.subTo(ie,we)):(Y.subTo(q,Y),L&&Z.subTo(ce,Z),ie.subTo(we,ie))}return Y.compareTo(A.ONE)!=0?A.ZERO:ie.compareTo(O)>=0?ie.subtract(O):ie.signum()<0?(ie.addTo(O,ie),ie.signum()<0?ie.add(O):ie):ie},A.prototype.pow=function(O){return this.exp(O,new me)},A.prototype.gcd=function(O){var L=this.s<0?this.negate():this.clone(),q=O.s<0?O.negate():O.clone();if(L.compareTo(q)<0){var Y=L;L=q,q=Y}var ce=L.getLowestSetBit(),we=q.getLowestSetBit();if(we<0)return L;for(ce<we&&(we=ce),we>0&&(L.rShiftTo(we,L),q.rShiftTo(we,q));L.signum()>0;)(ce=L.getLowestSetBit())>0&&L.rShiftTo(ce,L),(ce=q.getLowestSetBit())>0&&q.rShiftTo(ce,q),L.compareTo(q)>=0?(L.subTo(q,L),L.rShiftTo(1,L)):(q.subTo(L,q),q.rShiftTo(1,q));return we>0&&q.lShiftTo(we,q),q},A.prototype.isProbablePrime=function(O){var L,q=this.abs();if(q.t==1&&q[0]<=X[X.length-1]){for(L=0;L<X.length;++L)if(q[0]==X[L])return!0;return!1}if(q.isEven())return!1;for(L=1;L<X.length;){for(var Y=X[L],ce=L+1;ce<X.length&&Y<C;)Y*=X[ce++];for(Y=q.modInt(Y);L<ce;)if(Y%X[L++]==0)return!1}return q.millerRabin(O)},A.prototype.square=function(){var O=x();return this.squareTo(O),O},E.prototype.init=function(O){var L,q,Y;for(L=0;L<256;++L)this.S[L]=L;for(q=0,L=0;L<256;++L)q=q+this.S[L]+O[L%O.length]&255,Y=this.S[L],this.S[L]=this.S[q],this.S[q]=Y;this.i=0,this.j=0},E.prototype.next=function(){var O;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,O=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=O,this.S[O+this.S[this.i]&255]};var S,I,k;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Q(){(function(O){I[k++]^=255&O,I[k++]^=O>>8&255,I[k++]^=O>>16&255,I[k++]^=O>>24&255,k>=256&&(k-=256)})(new Date().getTime())}if(I==null){var G;if(I=new Array,k=0,b!==void 0&&(b.crypto!==void 0||b.msCrypto!==void 0)){var ne=b.crypto||b.msCrypto;if(ne.getRandomValues){var ee=new Uint8Array(32);for(ne.getRandomValues(ee),G=0;G<32;++G)I[k++]=ee[G]}else if(v.appName=="Netscape"&&v.appVersion<"5"){var se=b.crypto.random(32);for(G=0;G<se.length;++G)I[k++]=255&se.charCodeAt(G)}}for(;k<256;)G=Math.floor(65536*Math.random()),I[k++]=G>>>8,I[k++]=255&G;k=0,Q()}function ge(){if(S==null){for(Q(),(S=function(){return new E}()).init(I),k=0;k<I.length;++k)I[k]=0;k=0}return S.next()}function Ae(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ve(P,O){return new A(P,O)}function Ge(P,O,L){for(var q="",Y=0;q.length<O;)q+=L(String.fromCharCode.apply(String,P.concat([(4278190080&Y)>>24,(16711680&Y)>>16,(65280&Y)>>8,255&Y]))),Y+=1;return q}function qe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ee(P,O){this.x=O,this.q=P}function W(P,O,L,q){this.curve=P,this.x=O,this.y=L,this.z=q??A.ONE,this.zinv=null}function V(P,O,L){this.q=P,this.a=this.fromBigInteger(O),this.b=this.fromBigInteger(L),this.infinity=new W(this,null,null)}Ae.prototype.nextBytes=function(O){var L;for(L=0;L<O.length;++L)O[L]=ge()},qe.prototype.doPublic=function(O){return O.modPowInt(this.e,this.n)},qe.prototype.setPublic=function(O,L){if(this.isPublic=!0,this.isPrivate=!1,typeof O!="string")this.n=O,this.e=L;else{if(!(O!=null&&L!=null&&O.length>0&&L.length>0))throw"Invalid RSA public key";this.n=Ve(O,16),this.e=parseInt(L,16)}},qe.prototype.encrypt=function(O){var L=function(we,Z){if(Z<we.length+11)throw"Message too long for RSA";for(var ie=new Array,le=we.length-1;le>=0&&Z>0;){var Se=we.charCodeAt(le--);Se<128?ie[--Z]=Se:Se>127&&Se<2048?(ie[--Z]=63&Se|128,ie[--Z]=Se>>6|192):(ie[--Z]=63&Se|128,ie[--Z]=Se>>6&63|128,ie[--Z]=Se>>12|224)}ie[--Z]=0;for(var Re=new Ae,De=new Array;Z>2;){for(De[0]=0;De[0]==0;)Re.nextBytes(De);ie[--Z]=De[0]}return ie[--Z]=2,ie[--Z]=0,new A(ie)}(O,this.n.bitLength()+7>>3);if(L==null)return null;var q=this.doPublic(L);if(q==null)return null;var Y=q.toString(16);return(1&Y.length)==0?Y:"0"+Y},qe.prototype.encryptOAEP=function(O,L,q){var Y=function(ie,le,Se,Re){var De=z.crypto.MessageDigest,Ue=z.crypto.Util,ze=null;if(Se||(Se="sha1"),typeof Se=="string"&&(ze=De.getCanonicalAlgName(Se),Re=De.getHashLength(ze),Se=function(yt){return Nt(Ue.hashHex(Lt(yt),ze))}),ie.length+2*Re+2>le)throw"Message too long for RSA";var Ye,rt="";for(Ye=0;Ye<le-ie.length-2*Re-2;Ye+=1)rt+="\0";var ye=Se("")+rt+""+ie,Ne=new Array(Re);new Ae().nextBytes(Ne);var Be=Ge(Ne,ye.length,Se),$e=[];for(Ye=0;Ye<ye.length;Ye+=1)$e[Ye]=ye.charCodeAt(Ye)^Be.charCodeAt(Ye);var Je=Ge($e,Ne.length,Se),it=[0];for(Ye=0;Ye<Ne.length;Ye+=1)it[Ye+1]=Ne[Ye]^Je.charCodeAt(Ye);return new A(it.concat($e))}(O,this.n.bitLength()+7>>3,L,q);if(Y==null)return null;var ce=this.doPublic(Y);if(ce==null)return null;var we=ce.toString(16);return(1&we.length)==0?we:"0"+we},qe.prototype.type="RSA",Ee.prototype.equals=function(O){return O==this||this.q.equals(O.q)&&this.x.equals(O.x)},Ee.prototype.toBigInteger=function(){return this.x},Ee.prototype.negate=function(){return new Ee(this.q,this.x.negate().mod(this.q))},Ee.prototype.add=function(O){return new Ee(this.q,this.x.add(O.toBigInteger()).mod(this.q))},Ee.prototype.subtract=function(O){return new Ee(this.q,this.x.subtract(O.toBigInteger()).mod(this.q))},Ee.prototype.multiply=function(O){return new Ee(this.q,this.x.multiply(O.toBigInteger()).mod(this.q))},Ee.prototype.square=function(){return new Ee(this.q,this.x.square().mod(this.q))},Ee.prototype.divide=function(O){return new Ee(this.q,this.x.multiply(O.toBigInteger().modInverse(this.q)).mod(this.q))},W.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},W.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},W.prototype.equals=function(O){return O==this||(this.isInfinity()?O.isInfinity():O.isInfinity()?this.isInfinity():!!O.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(O.z)).mod(this.curve.q).equals(A.ZERO)&&O.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(O.z)).mod(this.curve.q).equals(A.ZERO))},W.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(A.ZERO)&&!this.y.toBigInteger().equals(A.ZERO)},W.prototype.negate=function(){return new W(this.curve,this.x,this.y.negate(),this.z)},W.prototype.add=function(O){if(this.isInfinity())return O;if(O.isInfinity())return this;var L=O.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(O.z)).mod(this.curve.q),q=O.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(O.z)).mod(this.curve.q);if(A.ZERO.equals(q))return A.ZERO.equals(L)?this.twice():this.curve.getInfinity();var Y=new A("3"),ce=this.x.toBigInteger(),we=this.y.toBigInteger(),Z=(O.x.toBigInteger(),O.y.toBigInteger(),q.square()),ie=Z.multiply(q),le=ce.multiply(Z),Se=L.square().multiply(this.z),Re=Se.subtract(le.shiftLeft(1)).multiply(O.z).subtract(ie).multiply(q).mod(this.curve.q),De=le.multiply(Y).multiply(L).subtract(we.multiply(ie)).subtract(Se.multiply(L)).multiply(O.z).add(L.multiply(ie)).mod(this.curve.q),Ue=ie.multiply(this.z).multiply(O.z).mod(this.curve.q);return new W(this.curve,this.curve.fromBigInteger(Re),this.curve.fromBigInteger(De),Ue)},W.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var O=new A("3"),L=this.x.toBigInteger(),q=this.y.toBigInteger(),Y=q.multiply(this.z),ce=Y.multiply(q).mod(this.curve.q),we=this.curve.a.toBigInteger(),Z=L.square().multiply(O);A.ZERO.equals(we)||(Z=Z.add(this.z.square().multiply(we)));var ie=(Z=Z.mod(this.curve.q)).square().subtract(L.shiftLeft(3).multiply(ce)).shiftLeft(1).multiply(Y).mod(this.curve.q),le=Z.multiply(O).multiply(L).subtract(ce.shiftLeft(1)).shiftLeft(2).multiply(ce).subtract(Z.square().multiply(Z)).mod(this.curve.q),Se=Y.square().multiply(Y).shiftLeft(3).mod(this.curve.q);return new W(this.curve,this.curve.fromBigInteger(ie),this.curve.fromBigInteger(le),Se)},W.prototype.multiply=function(O){if(this.isInfinity())return this;if(O.signum()==0)return this.curve.getInfinity();var L,q=O,Y=q.multiply(new A("3")),ce=this.negate(),we=this,Z=this.curve.q.subtract(O),ie=Z.multiply(new A("3")),le=new W(this.curve,this.x,this.y),Se=le.negate();for(L=Y.bitLength()-2;L>0;--L){we=we.twice();var Re=Y.testBit(L);Re!=q.testBit(L)&&(we=we.add(Re?this:ce))}for(L=ie.bitLength()-2;L>0;--L){le=le.twice();var De=ie.testBit(L);De!=Z.testBit(L)&&(le=le.add(De?le:Se))}return we},W.prototype.multiplyTwo=function(O,L,q){var Y;Y=O.bitLength()>q.bitLength()?O.bitLength()-1:q.bitLength()-1;for(var ce=this.curve.getInfinity(),we=this.add(L);Y>=0;)ce=ce.twice(),O.testBit(Y)?ce=q.testBit(Y)?ce.add(we):ce.add(this):q.testBit(Y)&&(ce=ce.add(L)),--Y;return ce},V.prototype.getQ=function(){return this.q},V.prototype.getA=function(){return this.a},V.prototype.getB=function(){return this.b},V.prototype.equals=function(O){return O==this||this.q.equals(O.q)&&this.a.equals(O.a)&&this.b.equals(O.b)},V.prototype.getInfinity=function(){return this.infinity},V.prototype.fromBigInteger=function(O){return new Ee(this.q,O)},V.prototype.decodePointHex=function(O){switch(parseInt(O.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var L=(O.length-2)/2,q=O.substr(2,L),Y=O.substr(L+2,L);return new W(this,this.fromBigInteger(new A(q,16)),this.fromBigInteger(new A(Y,16)));default:return null}},Ee.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},W.prototype.getEncoded=function(P){var O=function(we,Z){var ie=we.toByteArrayUnsigned();if(Z<ie.length)ie=ie.slice(ie.length-Z);else for(;Z>ie.length;)ie.unshift(0);return ie},L=this.getX().toBigInteger(),q=this.getY().toBigInteger(),Y=O(L,32);return P?q.isEven()?Y.unshift(2):Y.unshift(3):(Y.unshift(4),Y=Y.concat(O(q,32))),Y},W.decodeFrom=function(P,O){O[0];var L=O.length-1,q=O.slice(1,1+L/2),Y=O.slice(1+L/2,1+L);q.unshift(0),Y.unshift(0);var ce=new A(q),we=new A(Y);return new W(P,P.fromBigInteger(ce),P.fromBigInteger(we))},W.decodeFromHex=function(P,O){O.substr(0,2);var L=O.length-2,q=O.substr(2,L/2),Y=O.substr(2+L/2,L/2),ce=new A(q,16),we=new A(Y,16);return new W(P,P.fromBigInteger(ce),P.fromBigInteger(we))},W.prototype.add2D=function(P){if(this.isInfinity())return P;if(P.isInfinity())return this;if(this.x.equals(P.x))return this.y.equals(P.y)?this.twice():this.curve.getInfinity();var O=P.x.subtract(this.x),L=P.y.subtract(this.y).divide(O),q=L.square().subtract(this.x).subtract(P.x),Y=L.multiply(this.x.subtract(q)).subtract(this.y);return new W(this.curve,q,Y)},W.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var P=this.curve.fromBigInteger(A.valueOf(2)),O=this.curve.fromBigInteger(A.valueOf(3)),L=this.x.square().multiply(O).add(this.curve.a).divide(this.y.multiply(P)),q=L.square().subtract(this.x.multiply(P)),Y=L.multiply(this.x.subtract(q)).subtract(this.y);return new W(this.curve,q,Y)},W.prototype.multiply2D=function(P){if(this.isInfinity())return this;if(P.signum()==0)return this.curve.getInfinity();var O,L=P,q=L.multiply(new A("3")),Y=this.negate(),ce=this;for(O=q.bitLength()-2;O>0;--O){ce=ce.twice();var we=q.testBit(O);we!=L.testBit(O)&&(ce=ce.add2D(we?this:Y))}return ce},W.prototype.isOnCurve=function(){var P=this.getX().toBigInteger(),O=this.getY().toBigInteger(),L=this.curve.getA().toBigInteger(),q=this.curve.getB().toBigInteger(),Y=this.curve.getQ(),ce=O.multiply(O).mod(Y),we=P.multiply(P).multiply(P).add(L.multiply(P)).add(q).mod(Y);return ce.equals(we)},W.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},W.prototype.validate=function(){var P=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var O=this.getX().toBigInteger(),L=this.getY().toBigInteger();if(O.compareTo(A.ONE)<0||O.compareTo(P.subtract(A.ONE))>0)throw new Error("x coordinate out of bounds");if(L.compareTo(A.ONE)<0||L.compareTo(P.subtract(A.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(P).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var P=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),O=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),L={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function q(we,Z,ie){return Z?L[Z]:String.fromCharCode(parseInt(ie,16))}var Y=new String(""),ce=Object.hasOwnProperty;return function(we,Z){var ie,le,Se=we.match(P),Re=Se[0],De=!1;Re==="{"?ie={}:Re==="["?ie=[]:(ie=[],De=!0);for(var Ue=[ie],ze=1-De,Ye=Se.length;ze<Ye;++ze){var rt;switch((Re=Se[ze]).charCodeAt(0)){default:(rt=Ue[0])[le||rt.length]=+Re,le=void 0;break;case 34:if((Re=Re.substring(1,Re.length-1)).indexOf("\\")!==-1&&(Re=Re.replace(O,q)),rt=Ue[0],!le){if(!(rt instanceof Array)){le=Re||Y;break}le=rt.length}rt[le]=Re,le=void 0;break;case 91:rt=Ue[0],Ue.unshift(rt[le||rt.length]=[]),le=void 0;break;case 93:Ue.shift();break;case 102:(rt=Ue[0])[le||rt.length]=!1,le=void 0;break;case 110:(rt=Ue[0])[le||rt.length]=null,le=void 0;break;case 116:(rt=Ue[0])[le||rt.length]=!0,le=void 0;break;case 123:rt=Ue[0],Ue.unshift(rt[le||rt.length]={}),le=void 0;break;case 125:Ue.shift()}}if(De){if(Ue.length!==1)throw new Error;ie=ie[0]}else if(Ue.length)throw new Error;return Z&&(ie=function ye(Ne,Be){var $e=Ne[Be];if($e&&($e===void 0?"undefined":y($e))==="object"){var Je=null;for(var it in $e)if(ce.call($e,it)&&$e!==Ne){var Vt=ye($e,it);Vt!==void 0?$e[it]=Vt:(Je||(Je=[]),Je.push(it))}if(Je)for(var yt=Je.length;--yt>=0;)delete $e[Je[yt]]}return Z.call(Ne,Be,$e)}({"":ie},"")),ie}}();z!==void 0&&z||(r.KJUR=z={}),z.asn1!==void 0&&z.asn1||(z.asn1={}),z.asn1.ASN1Util=new function(){this.integerToByteHex=function(P){var O=P.toString(16);return O.length%2==1&&(O="0"+O),O},this.bigIntToMinTwosComplementsHex=function(P){var O=P.toString(16);if(O.substr(0,1)!="-")O.length%2==1?O="0"+O:O.match(/^[0-7]/)||(O="00"+O);else{var L=O.substr(1).length;L%2==1?L+=1:O.match(/^[0-7]/)||(L+=2);for(var q="",Y=0;Y<L;Y++)q+="f";O=new A(q,16).xor(P).add(A.ONE).toString(16).replace(/^-/,"")}return O},this.getPEMStringFromHex=function(P,O){return he(P,O)},this.newObject=function(P){var O=z.asn1,L=O.ASN1Object,q=O.DERBoolean,Y=O.DERInteger,ce=O.DERBitString,we=O.DEROctetString,Z=O.DERNull,ie=O.DERObjectIdentifier,le=O.DEREnumerated,Se=O.DERUTF8String,Re=O.DERNumericString,De=O.DERPrintableString,Ue=O.DERTeletexString,ze=O.DERIA5String,Ye=O.DERUTCTime,rt=O.DERGeneralizedTime,ye=O.DERVisibleString,Ne=O.DERBMPString,Be=O.DERSequence,$e=O.DERSet,Je=O.DERTaggedObject,it=O.ASN1Util.newObject;if(P instanceof O.ASN1Object)return P;var Vt=Object.keys(P);if(Vt.length!=1)throw new Error("key of param shall be only one.");var yt=Vt[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+yt+":")==-1)throw new Error("undefined key: "+yt);if(yt=="bool")return new q(P[yt]);if(yt=="int")return new Y(P[yt]);if(yt=="bitstr")return new ce(P[yt]);if(yt=="octstr")return new we(P[yt]);if(yt=="null")return new Z(P[yt]);if(yt=="oid")return new ie(P[yt]);if(yt=="enum")return new le(P[yt]);if(yt=="utf8str")return new Se(P[yt]);if(yt=="numstr")return new Re(P[yt]);if(yt=="prnstr")return new De(P[yt]);if(yt=="telstr")return new Ue(P[yt]);if(yt=="ia5str")return new ze(P[yt]);if(yt=="utctime")return new Ye(P[yt]);if(yt=="gentime")return new rt(P[yt]);if(yt=="visstr")return new ye(P[yt]);if(yt=="bmpstr")return new Ne(P[yt]);if(yt=="asn1")return new L(P[yt]);if(yt=="seq"){for(var cr=P[yt],Ut=[],tr=0;tr<cr.length;tr++){var ar=it(cr[tr]);Ut.push(ar)}return new Be({array:Ut})}if(yt=="set"){for(cr=P[yt],Ut=[],tr=0;tr<cr.length;tr++)ar=it(cr[tr]),Ut.push(ar);return new $e({array:Ut})}if(yt=="tag"){var Ar=P[yt];if(Object.prototype.toString.call(Ar)==="[object Array]"&&Ar.length==3){var Dr=it(Ar[2]);return new Je({tag:Ar[0],explicit:Ar[1],obj:Dr})}return new Je(Ar)}},this.jsonToASN1HEX=function(P){return this.newObject(P).getEncodedHex()}},z.asn1.ASN1Util.oidHexToInt=function(P){for(var O="",L=parseInt(P.substr(0,2),16),q=(O=Math.floor(L/40)+"."+L%40,""),Y=2;Y<P.length;Y+=2){var ce=("00000000"+parseInt(P.substr(Y,2),16).toString(2)).slice(-8);q+=ce.substr(1,7),ce.substr(0,1)=="0"&&(O=O+"."+new A(q,2).toString(10),q="")}return O},z.asn1.ASN1Util.oidIntToHex=function(P){var O=function(ie){var le=ie.toString(16);return le.length==1&&(le="0"+le),le},L=function(ie){var le="",Se=new A(ie,10).toString(2),Re=7-Se.length%7;Re==7&&(Re=0);for(var De="",Ue=0;Ue<Re;Ue++)De+="0";for(Se=De+Se,Ue=0;Ue<Se.length-1;Ue+=7){var ze=Se.substr(Ue,7);Ue!=Se.length-7&&(ze="1"+ze),le+=O(parseInt(ze,2))}return le};if(!P.match(/^[0-9.]+$/))throw"malformed oid string: "+P;var q="",Y=P.split("."),ce=40*parseInt(Y[0])+parseInt(Y[1]);q+=O(ce),Y.splice(0,2);for(var we=0;we<Y.length;we++)q+=L(Y[we]);return q},z.asn1.ASN1Object=function(P){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var O=this.hV.length/2,L=O.toString(16);if(L.length%2==1&&(L="0"+L),O<128)return L;var q=L.length/2;if(q>15)throw"ASN.1 length too long to represent by 8x: n = "+O.toString(16);return(128+q).toString(16)+L},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(O){this.params=O},P!=null&&P.tlv!=null&&(this.hTLV=P.tlv,this.isModified=!1)},z.asn1.DERAbstractString=function(P){z.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(O){this.hTLV=null,this.isModified=!0,this.s=O,this.hV=ut(this.s).toLowerCase()},this.setStringHex=function(O){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=O},this.getFreshValueHex=function(){return this.hV},P!==void 0&&(typeof P=="string"?this.setString(P):P.str!==void 0?this.setString(P.str):P.hex!==void 0&&this.setStringHex(P.hex))},Ce(z.asn1.DERAbstractString,z.asn1.ASN1Object),z.asn1.DERAbstractTime=function(P){z.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(O){var L=O.getTime()+6e4*O.getTimezoneOffset();return new Date(L)},this.formatDate=function(O,L,q){var Y=this.zeroPadding,ce=this.localDateToUTC(O),we=String(ce.getFullYear());L=="utc"&&(we=we.substr(2,2));var Z=we+Y(String(ce.getMonth()+1),2)+Y(String(ce.getDate()),2)+Y(String(ce.getHours()),2)+Y(String(ce.getMinutes()),2)+Y(String(ce.getSeconds()),2);if(q===!0){var ie=ce.getMilliseconds();if(ie!=0){var le=Y(String(ie),3);Z=Z+"."+(le=le.replace(/[0]+$/,""))}}return Z+"Z"},this.zeroPadding=function(O,L){return O.length>=L?O:new Array(L-O.length+1).join("0")+O},this.getString=function(){return this.s},this.setString=function(O){this.hTLV=null,this.isModified=!0,this.s=O,this.hV=At(O)},this.setByDateValue=function(O,L,q,Y,ce,we){var Z=new Date(Date.UTC(O,L-1,q,Y,ce,we,0));this.setByDate(Z)},this.getFreshValueHex=function(){return this.hV}},Ce(z.asn1.DERAbstractTime,z.asn1.ASN1Object),z.asn1.DERAbstractStructured=function(P){z.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(O){this.hTLV=null,this.isModified=!0,this.asn1Array=O},this.appendASN1Object=function(O){this.hTLV=null,this.isModified=!0,this.asn1Array.push(O)},this.asn1Array=new Array,P!==void 0&&P.array!==void 0&&(this.asn1Array=P.array)},Ce(z.asn1.DERAbstractStructured,z.asn1.ASN1Object),z.asn1.DERBoolean=function(P){z.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=P==0?"010100":"0101ff"},Ce(z.asn1.DERBoolean,z.asn1.ASN1Object),z.asn1.DERInteger=function(P){z.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(O){this.hTLV=null,this.isModified=!0,this.hV=z.asn1.ASN1Util.bigIntToMinTwosComplementsHex(O)},this.setByInteger=function(O){var L=new A(String(O),10);this.setByBigInteger(L)},this.setValueHex=function(O){this.hV=O},this.getFreshValueHex=function(){return this.hV},P!==void 0&&(P.bigint!==void 0?this.setByBigInteger(P.bigint):P.int!==void 0?this.setByInteger(P.int):typeof P=="number"?this.setByInteger(P):P.hex!==void 0&&this.setValueHex(P.hex))},Ce(z.asn1.DERInteger,z.asn1.ASN1Object),z.asn1.DERBitString=function(P){if(P!==void 0&&P.obj!==void 0){var O=z.asn1.ASN1Util.newObject(P.obj);P.hex="00"+O.getEncodedHex()}z.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(L){this.hTLV=null,this.isModified=!0,this.hV=L},this.setUnusedBitsAndHexValue=function(L,q){if(L<0||7<L)throw"unused bits shall be from 0 to 7: u = "+L;var Y="0"+L;this.hTLV=null,this.isModified=!0,this.hV=Y+q},this.setByBinaryString=function(L){var q=8-(L=L.replace(/0+$/,"")).length%8;q==8&&(q=0);for(var Y=0;Y<=q;Y++)L+="0";var ce="";for(Y=0;Y<L.length-1;Y+=8){var we=L.substr(Y,8),Z=parseInt(we,2).toString(16);Z.length==1&&(Z="0"+Z),ce+=Z}this.hTLV=null,this.isModified=!0,this.hV="0"+q+ce},this.setByBooleanArray=function(L){for(var q="",Y=0;Y<L.length;Y++)L[Y]==1?q+="1":q+="0";this.setByBinaryString(q)},this.newFalseArray=function(L){for(var q=new Array(L),Y=0;Y<L;Y++)q[Y]=!1;return q},this.getFreshValueHex=function(){return this.hV},P!==void 0&&(typeof P=="string"&&P.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(P):P.hex!==void 0?this.setHexValueIncludingUnusedBits(P.hex):P.bin!==void 0?this.setByBinaryString(P.bin):P.array!==void 0&&this.setByBooleanArray(P.array))},Ce(z.asn1.DERBitString,z.asn1.ASN1Object),z.asn1.DEROctetString=function(P){if(P!==void 0&&P.obj!==void 0){var O=z.asn1.ASN1Util.newObject(P.obj);P.hex=O.getEncodedHex()}z.asn1.DEROctetString.superclass.constructor.call(this,P),this.hT="04"},Ce(z.asn1.DEROctetString,z.asn1.DERAbstractString),z.asn1.DERNull=function(){z.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ce(z.asn1.DERNull,z.asn1.ASN1Object),z.asn1.DERObjectIdentifier=function(P){z.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(O){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=O},this.setValueOidString=function(O){var L=function(Y){var ce=function(De){var Ue=De.toString(16);return Ue.length==1&&(Ue="0"+Ue),Ue},we=function(De){var Ue="",ze=parseInt(De,10).toString(2),Ye=7-ze.length%7;Ye==7&&(Ye=0);for(var rt="",ye=0;ye<Ye;ye++)rt+="0";for(ze=rt+ze,ye=0;ye<ze.length-1;ye+=7){var Ne=ze.substr(ye,7);ye!=ze.length-7&&(Ne="1"+Ne),Ue+=ce(parseInt(Ne,2))}return Ue};try{if(!Y.match(/^[0-9.]+$/))return null;var Z="",ie=Y.split("."),le=40*parseInt(ie[0],10)+parseInt(ie[1],10);Z+=ce(le),ie.splice(0,2);for(var Se=0;Se<ie.length;Se++)Z+=we(ie[Se]);return Z}catch{return null}}(O);if(L==null)throw new Error("malformed oid string: "+O);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=L},this.setValueName=function(O){var L=z.asn1.x509.OID.name2oid(O);if(L==="")throw new Error("DERObjectIdentifier oidName undefined: "+O);this.setValueOidString(L)},this.setValueNameOrOid=function(O){O.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(O):this.setValueName(O)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(O){typeof O=="string"?this.setValueNameOrOid(O):O.oid!==void 0?this.setValueNameOrOid(O.oid):O.name!==void 0?this.setValueNameOrOid(O.name):O.hex!==void 0&&this.setValueHex(O.hex)},P!==void 0&&this.setByParam(P)},Ce(z.asn1.DERObjectIdentifier,z.asn1.ASN1Object),z.asn1.DEREnumerated=function(P){z.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(O){this.hTLV=null,this.isModified=!0,this.hV=z.asn1.ASN1Util.bigIntToMinTwosComplementsHex(O)},this.setByInteger=function(O){var L=new A(String(O),10);this.setByBigInteger(L)},this.setValueHex=function(O){this.hV=O},this.getFreshValueHex=function(){return this.hV},P!==void 0&&(P.int!==void 0?this.setByInteger(P.int):typeof P=="number"?this.setByInteger(P):P.hex!==void 0&&this.setValueHex(P.hex))},Ce(z.asn1.DEREnumerated,z.asn1.ASN1Object),z.asn1.DERUTF8String=function(P){z.asn1.DERUTF8String.superclass.constructor.call(this,P),this.hT="0c"},Ce(z.asn1.DERUTF8String,z.asn1.DERAbstractString),z.asn1.DERNumericString=function(P){z.asn1.DERNumericString.superclass.constructor.call(this,P),this.hT="12"},Ce(z.asn1.DERNumericString,z.asn1.DERAbstractString),z.asn1.DERPrintableString=function(P){z.asn1.DERPrintableString.superclass.constructor.call(this,P),this.hT="13"},Ce(z.asn1.DERPrintableString,z.asn1.DERAbstractString),z.asn1.DERTeletexString=function(P){z.asn1.DERTeletexString.superclass.constructor.call(this,P),this.hT="14"},Ce(z.asn1.DERTeletexString,z.asn1.DERAbstractString),z.asn1.DERIA5String=function(P){z.asn1.DERIA5String.superclass.constructor.call(this,P),this.hT="16"},Ce(z.asn1.DERIA5String,z.asn1.DERAbstractString),z.asn1.DERVisibleString=function(P){z.asn1.DERIA5String.superclass.constructor.call(this,P),this.hT="1a"},Ce(z.asn1.DERVisibleString,z.asn1.DERAbstractString),z.asn1.DERBMPString=function(P){z.asn1.DERBMPString.superclass.constructor.call(this,P),this.hT="1e"},Ce(z.asn1.DERBMPString,z.asn1.DERAbstractString),z.asn1.DERUTCTime=function(P){z.asn1.DERUTCTime.superclass.constructor.call(this,P),this.hT="17",this.setByDate=function(O){this.hTLV=null,this.isModified=!0,this.date=O,this.s=this.formatDate(this.date,"utc"),this.hV=At(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=At(this.s)),this.hV},P!==void 0&&(P.str!==void 0?this.setString(P.str):typeof P=="string"&&P.match(/^[0-9]{12}Z$/)?this.setString(P):P.hex!==void 0?this.setStringHex(P.hex):P.date!==void 0&&this.setByDate(P.date))},Ce(z.asn1.DERUTCTime,z.asn1.DERAbstractTime),z.asn1.DERGeneralizedTime=function(P){z.asn1.DERGeneralizedTime.superclass.constructor.call(this,P),this.hT="18",this.withMillis=!1,this.setByDate=function(O){this.hTLV=null,this.isModified=!0,this.date=O,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=At(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=At(this.s)),this.hV},P!==void 0&&(P.str!==void 0?this.setString(P.str):typeof P=="string"&&P.match(/^[0-9]{14}Z$/)?this.setString(P):P.hex!==void 0?this.setStringHex(P.hex):P.date!==void 0&&this.setByDate(P.date),P.millis===!0&&(this.withMillis=!0))},Ce(z.asn1.DERGeneralizedTime,z.asn1.DERAbstractTime),z.asn1.DERSequence=function(P){z.asn1.DERSequence.superclass.constructor.call(this,P),this.hT="30",this.getFreshValueHex=function(){for(var O="",L=0;L<this.asn1Array.length;L++)O+=this.asn1Array[L].getEncodedHex();return this.hV=O,this.hV}},Ce(z.asn1.DERSequence,z.asn1.DERAbstractStructured),z.asn1.DERSet=function(P){z.asn1.DERSet.superclass.constructor.call(this,P),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var O=new Array,L=0;L<this.asn1Array.length;L++){var q=this.asn1Array[L];O.push(q.getEncodedHex())}return this.sortFlag==1&&O.sort(),this.hV=O.join(""),this.hV},P!==void 0&&P.sortflag!==void 0&&P.sortflag==0&&(this.sortFlag=!1)},Ce(z.asn1.DERSet,z.asn1.DERAbstractStructured),z.asn1.DERTaggedObject=function(P){z.asn1.DERTaggedObject.superclass.constructor.call(this);var O=z.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(L,q,Y){this.hT=q,this.isExplicit=L,this.asn1Object=Y,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=Y.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,q),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(L){L.tag!=null&&(this.hT=L.tag),L.explicit!=null&&(this.isExplicit=L.explicit),L.tage!=null&&(this.hT=L.tage,this.isExplicit=!0),L.tagi!=null&&(this.hT=L.tagi,this.isExplicit=!1),L.obj!=null&&(L.obj instanceof O.ASN1Object?(this.asn1Object=L.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):y(L.obj)=="object"&&(this.asn1Object=O.ASN1Util.newObject(L.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},P!=null&&this.setByParam(P)},Ce(z.asn1.DERTaggedObject,z.asn1.ASN1Object);var z,be,ke,Pe=new function(){};function dt(P){for(var O=new Array,L=0;L<P.length;L++)O[L]=P.charCodeAt(L);return O}function pt(P){for(var O="",L=0;L<P.length;L++)O+=String.fromCharCode(P[L]);return O}function tt(P){for(var O="",L=0;L<P.length;L++){var q=P[L].toString(16);q.length==1&&(q="0"+q),O+=q}return O}function At(P){return tt(dt(P))}function ve(P){return P=(P=(P=P.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function et(P){return P.length%4==2?P+="==":P.length%4==3&&(P+="="),P=(P=P.replace(/-/g,"+")).replace(/_/g,"/")}function Ze(P){return P.length%2==1&&(P="0"+P),ve(R(P))}function st(P){return F(et(P))}function ut(P){return lt(Zt(P))}function xt(P){return decodeURIComponent(qt(P))}function Nt(P){for(var O="",L=0;L<P.length-1;L+=2)O+=String.fromCharCode(parseInt(P.substr(L,2),16));return O}function Lt(P){for(var O="",L=0;L<P.length;L++)O+=("0"+P.charCodeAt(L).toString(16)).slice(-2);return O}function er(P){return R(P)}function Ie(P){var O=er(P).replace(/(.{64})/g,`$1\r
`);return O=O.replace(/\r\n$/,"")}function U(P){return F(P.replace(/[^0-9A-Za-z\/+=]*/g,""))}function he(P,O){return"-----BEGIN "+O+`-----\r
`+Ie(P)+`\r
-----END `+O+`-----\r
`}function je(P,O){if(P.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+O;return U(P=O!==void 0?(P=P.replace(new RegExp("^[^]*-----BEGIN "+O+"-----"),"")).replace(new RegExp("-----END "+O+"-----[^]*$"),""):(P=P.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ke(P){var O,L,q,Y,ce,we,Z,ie,le,Se,Re;if(Re=P.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return ie=Re[1],O=parseInt(ie),ie.length===2&&(50<=O&&O<100?O=1900+O:0<=O&&O<50&&(O=2e3+O)),L=parseInt(Re[2])-1,q=parseInt(Re[3]),Y=parseInt(Re[4]),ce=parseInt(Re[5]),we=parseInt(Re[6]),Z=0,(le=Re[7])!==""&&(Se=(le.substr(1)+"00").substr(0,3),Z=parseInt(Se)),Date.UTC(O,L,q,Y,ce,we,Z);throw"unsupported zulu format: "+P}function Et(P){return~~(Ke(P)/1e3)}function lt(P){return P.replace(/%/g,"")}function qt(P){return P.replace(/(..)/g,"%$1")}function bt(P){var O="malformed IPv6 address";if(!P.match(/^[0-9A-Fa-f:]+$/))throw O;var L=(P=P.toLowerCase()).split(":").length-1;if(L<2)throw O;var q=":".repeat(7-L+2),Y=(P=P.replace("::",q)).split(":");if(Y.length!=8)throw O;for(var ce=0;ce<8;ce++)Y[ce]=("0000"+Y[ce]).slice(-4);return Y.join("")}function Rt(P){if(!P.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var O=(P=P.toLowerCase()).match(/.{1,4}/g),L=0;L<8;L++)O[L]=O[L].replace(/^0+/,""),O[L]==""&&(O[L]="0");var q=(P=":"+O.join(":")+":").match(/:(0:){2,}/g);if(q===null)return P.slice(1,-1);var Y="";for(L=0;L<q.length;L++)q[L].length>Y.length&&(Y=q[L]);return(P=P.replace(Y,"::")).slice(1,-1)}function Qt(P){var O="malformed hex value";if(!P.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw O;if(P.length!=8)return P.length==32?Rt(P):P;try{return parseInt(P.substr(0,2),16)+"."+parseInt(P.substr(2,2),16)+"."+parseInt(P.substr(4,2),16)+"."+parseInt(P.substr(6,2),16)}catch{throw O}}function gr(P){return P.match(/.{4}/g).map(function(L){var q=parseInt(L.substr(0,2),16),Y=parseInt(L.substr(2),16);if(q==0&Y<128)return String.fromCharCode(Y);if(q<8){var ce=128|63&Y;return xt((192|(7&q)<<3|(192&Y)>>6).toString(16)+ce.toString(16))}ce=128|(15&q)<<2|(192&Y)>>6;var we=128|63&Y;return xt((224|(240&q)>>4).toString(16)+ce.toString(16)+we.toString(16))}).join("")}function Zt(P){for(var O=encodeURIComponent(P),L="",q=0;q<O.length;q++)O[q]=="%"?(L+=O.substr(q,3),q+=2):L=L+"%"+At(O[q]);return L}function Dt(P){return!(P.length%2!=0||!P.match(/^[0-9a-f]+$/)&&!P.match(/^[0-9A-F]+$/))}function Hn(P){return P.length%2==1?"0"+P:P.substr(0,1)>"7"?"00"+P:P}Pe.getLblen=function(P,O){if(P.substr(O+2,1)!="8")return 1;var L=parseInt(P.substr(O+3,1));return L==0?-1:0<L&&L<10?L+1:-2},Pe.getL=function(P,O){var L=Pe.getLblen(P,O);return L<1?"":P.substr(O+2,2*L)},Pe.getVblen=function(P,O){var L;return(L=Pe.getL(P,O))==""?-1:(L.substr(0,1)==="8"?new A(L.substr(2),16):new A(L,16)).intValue()},Pe.getVidx=function(P,O){var L=Pe.getLblen(P,O);return L<0?L:O+2*(L+1)},Pe.getV=function(P,O){var L=Pe.getVidx(P,O),q=Pe.getVblen(P,O);return P.substr(L,2*q)},Pe.getTLV=function(P,O){return P.substr(O,2)+Pe.getL(P,O)+Pe.getV(P,O)},Pe.getTLVblen=function(P,O){return 2+2*Pe.getLblen(P,O)+2*Pe.getVblen(P,O)},Pe.getNextSiblingIdx=function(P,O){return Pe.getVidx(P,O)+2*Pe.getVblen(P,O)},Pe.getChildIdx=function(P,O){var L,q,Y,ce=Pe,we=[];L=ce.getVidx(P,O),q=2*ce.getVblen(P,O),P.substr(O,2)=="03"&&(L+=2,q-=2),Y=0;for(var Z=L;Y<=q;){var ie=ce.getTLVblen(P,Z);if((Y+=ie)<=q&&we.push(Z),Z+=ie,Y>=q)break}return we},Pe.getNthChildIdx=function(P,O,L){return Pe.getChildIdx(P,O)[L]},Pe.getIdxbyList=function(P,O,L,q){var Y,ce,we=Pe;return L.length==0?q!==void 0&&P.substr(O,2)!==q?-1:O:(Y=L.shift())>=(ce=we.getChildIdx(P,O)).length?-1:we.getIdxbyList(P,ce[Y],L,q)},Pe.getIdxbyListEx=function(P,O,L,q){var Y,ce,we=Pe;if(L.length==0)return q!==void 0&&P.substr(O,2)!==q?-1:O;Y=L.shift(),ce=we.getChildIdx(P,O);for(var Z=0,ie=0;ie<ce.length;ie++){var le=P.substr(ce[ie],2);if(typeof Y=="number"&&!we.isContextTag(le)&&Z==Y||typeof Y=="string"&&we.isContextTag(le,Y))return we.getIdxbyListEx(P,ce[ie],L,q);we.isContextTag(le)||Z++}return-1},Pe.getTLVbyList=function(P,O,L,q){var Y=Pe,ce=Y.getIdxbyList(P,O,L,q);return ce==-1||ce>=P.length?null:Y.getTLV(P,ce)},Pe.getTLVbyListEx=function(P,O,L,q){var Y=Pe,ce=Y.getIdxbyListEx(P,O,L,q);return ce==-1?null:Y.getTLV(P,ce)},Pe.getVbyList=function(P,O,L,q,Y){var ce,we,Z=Pe;return(ce=Z.getIdxbyList(P,O,L,q))==-1||ce>=P.length?null:(we=Z.getV(P,ce),Y===!0&&(we=we.substr(2)),we)},Pe.getVbyListEx=function(P,O,L,q,Y){var ce,we,Z=Pe;return(ce=Z.getIdxbyListEx(P,O,L,q))==-1?null:(we=Z.getV(P,ce),P.substr(ce,2)=="03"&&Y!==!1&&(we=we.substr(2)),we)},Pe.getInt=function(P,O,L){L==null&&(L=-1);try{var q=P.substr(O,2);if(q!="02"&&q!="03")return L;var Y=Pe.getV(P,O);return q=="02"?parseInt(Y,16):function(we){try{var Z=we.substr(0,2);if(Z=="00")return parseInt(we.substr(2),16);var ie=parseInt(Z,16),le=we.substr(2),Se=parseInt(le,16).toString(2);return Se=="0"&&(Se="00000000"),Se=Se.slice(0,0-ie),parseInt(Se,2)}catch{return-1}}(Y)}catch{return L}},Pe.getOID=function(P,O,L){L==null&&(L=null);try{return P.substr(O,2)!="06"?L:function(Y){if(!Dt(Y))return null;try{var ce=[],we=Y.substr(0,2),Z=parseInt(we,16);ce[0]=new String(Math.floor(Z/40)),ce[1]=new String(Z%40);for(var ie=Y.substr(2),le=[],Se=0;Se<ie.length/2;Se++)le.push(parseInt(ie.substr(2*Se,2),16));var Re=[],De="";for(Se=0;Se<le.length;Se++)128&le[Se]?De+=St((127&le[Se]).toString(2),7):(De+=St((127&le[Se]).toString(2),7),Re.push(new String(parseInt(De,2))),De="");var Ue=ce.join(".");return Re.length>0&&(Ue=Ue+"."+Re.join(".")),Ue}catch{return null}}(Pe.getV(P,O))}catch{return L}},Pe.getOIDName=function(P,O,L){L==null&&(L=null);try{var q=Pe.getOID(P,O,L);if(q==L)return L;var Y=z.asn1.x509.OID.oid2name(q);return Y==""?q:Y}catch{return L}},Pe.getString=function(P,O,L){L==null&&(L=null);try{return Nt(Pe.getV(P,O))}catch{return L}},Pe.hextooidstr=function(P){var O=function(De,Ue){return De.length>=Ue?De:new Array(Ue-De.length+1).join("0")+De},L=[],q=P.substr(0,2),Y=parseInt(q,16);L[0]=new String(Math.floor(Y/40)),L[1]=new String(Y%40);for(var ce=P.substr(2),we=[],Z=0;Z<ce.length/2;Z++)we.push(parseInt(ce.substr(2*Z,2),16));var ie=[],le="";for(Z=0;Z<we.length;Z++)128&we[Z]?le+=O((127&we[Z]).toString(2),7):(le+=O((127&we[Z]).toString(2),7),ie.push(new String(parseInt(le,2))),le="");var Se=L.join(".");return ie.length>0&&(Se=Se+"."+ie.join(".")),Se},Pe.dump=function(P,O,L,q){var Y=Pe,ce=Y.getV,we=Y.dump,Z=Y.getChildIdx,ie=P;P instanceof z.asn1.ASN1Object&&(ie=P.getEncodedHex());var le=function(yt,cr){return yt.length<=2*cr?yt:yt.substr(0,cr)+"..(total "+yt.length/2+"bytes).."+yt.substr(yt.length-cr,cr)};O===void 0&&(O={ommit_long_octet:32}),L===void 0&&(L=0),q===void 0&&(q="");var Se,Re=O.ommit_long_octet;if((Se=ie.substr(L,2))=="01")return(De=ce(ie,L))=="00"?q+`BOOLEAN FALSE
`:q+`BOOLEAN TRUE
`;if(Se=="02")return q+"INTEGER "+le(De=ce(ie,L),Re)+`
`;if(Se=="03"){var De=ce(ie,L);if(Y.isASN1HEX(De.substr(2))){var Ue=q+`BITSTRING, encapsulates
`;return Ue+=we(De.substr(2),O,0,q+"  ")}return q+"BITSTRING "+le(De,Re)+`
`}if(Se=="04")return De=ce(ie,L),Y.isASN1HEX(De)?(Ue=q+`OCTETSTRING, encapsulates
`,Ue+=we(De,O,0,q+"  ")):q+"OCTETSTRING "+le(De,Re)+`
`;if(Se=="05")return q+`NULL
`;if(Se=="06"){var ze=ce(ie,L),Ye=z.asn1.ASN1Util.oidHexToInt(ze),rt=z.asn1.x509.OID.oid2name(Ye),ye=Ye.replace(/\./g," ");return rt!=""?q+"ObjectIdentifier "+rt+" ("+ye+`)
`:q+"ObjectIdentifier ("+ye+`)
`}if(Se=="0a")return q+"ENUMERATED "+parseInt(ce(ie,L))+`
`;if(Se=="0c")return q+"UTF8String '"+xt(ce(ie,L))+`'
`;if(Se=="13")return q+"PrintableString '"+xt(ce(ie,L))+`'
`;if(Se=="14")return q+"TeletexString '"+xt(ce(ie,L))+`'
`;if(Se=="16")return q+"IA5String '"+xt(ce(ie,L))+`'
`;if(Se=="17")return q+"UTCTime "+xt(ce(ie,L))+`
`;if(Se=="18")return q+"GeneralizedTime "+xt(ce(ie,L))+`
`;if(Se=="1a")return q+"VisualString '"+xt(ce(ie,L))+`'
`;if(Se=="1e")return q+"BMPString '"+gr(ce(ie,L))+`'
`;if(Se=="30"){if(ie.substr(L,4)=="3000")return q+`SEQUENCE {}
`;Ue=q+`SEQUENCE
`;var Ne=O;if(((Je=Z(ie,L)).length==2||Je.length==3)&&ie.substr(Je[0],2)=="06"&&ie.substr(Je[Je.length-1],2)=="04"){rt=Y.oidname(ce(ie,Je[0]));var Be=JSON.parse(JSON.stringify(O));Be.x509ExtName=rt,Ne=Be}for(var $e=0;$e<Je.length;$e++)Ue+=we(ie,Ne,Je[$e],q+"  ");return Ue}if(Se=="31"){Ue=q+`SET
`;var Je=Z(ie,L);for($e=0;$e<Je.length;$e++)Ue+=we(ie,O,Je[$e],q+"  ");return Ue}if((128&(Se=parseInt(Se,16)))!=0){var it=31&Se;if((32&Se)!=0){for(Ue=q+"["+it+`]
`,Je=Z(ie,L),$e=0;$e<Je.length;$e++)Ue+=we(ie,O,Je[$e],q+"  ");return Ue}if(De=ce(ie,L),Pe.isASN1HEX(De)){var Ue=q+"["+it+`]
`;return Ue+=we(De,O,0,q+"  ")}return(De.substr(0,8)=="68747470"||O.x509ExtName==="subjectAltName"&&it==2)&&(De=xt(De)),Ue=q+"["+it+"] "+De+`
`}return q+"UNKNOWN("+Se+") "+ce(ie,L)+`
`},Pe.isContextTag=function(P,O){var L,q;P=P.toLowerCase();try{L=parseInt(P,16)}catch{return-1}if(O===void 0)return(192&L)==128;try{return O.match(/^\[[0-9]+\]$/)!=null&&!((q=parseInt(O.substr(1,O.length-1),10))>31)&&(192&L)==128&&(31&L)==q}catch{return!1}},Pe.isASN1HEX=function(P){var O=Pe;if(P.length%2==1)return!1;var L=O.getVblen(P,0),q=P.substr(0,2),Y=O.getL(P,0);return P.length-q.length-Y.length==2*L},Pe.checkStrictDER=function(P,O,L,q,Y){var ce=Pe;if(L===void 0){if(typeof P!="string")throw new Error("not hex string");if(P=P.toLowerCase(),!z.lang.String.isHex(P))throw new Error("not hex string");L=P.length,Y=(q=P.length/2)<128?1:Math.ceil(q.toString(16))+1}if(ce.getL(P,O).length>2*Y)throw new Error("L of TLV too long: idx="+O);var we=ce.getVblen(P,O);if(we>q)throw new Error("value of L too long than hex: idx="+O);var Z=ce.getTLV(P,O),ie=Z.length-2-ce.getL(P,O).length;if(ie!==2*we)throw new Error("V string length and L's value not the same:"+ie+"/"+2*we);if(O===0&&P.length!=Z.length)throw new Error("total length and TLV length unmatch:"+P.length+"!="+Z.length);var le=P.substr(O,2);if(le==="02"){var Se=ce.getVidx(P,O);if(P.substr(Se,2)=="00"&&P.charCodeAt(Se+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(le,16)){for(var Re=ce.getVblen(P,O),De=0,Ue=ce.getChildIdx(P,O),ze=0;ze<Ue.length;ze++)De+=ce.getTLV(P,Ue[ze]).length,ce.checkStrictDER(P,Ue[ze],L,q,Y);if(2*Re!=De)throw new Error("sum of children's TLV length and L unmatch: "+2*Re+"!="+De)}},Pe.oidname=function(P){var O=z.asn1;z.lang.String.isHex(P)&&(P=O.ASN1Util.oidHexToInt(P));var L=O.x509.OID.oid2name(P);return L===""&&(L=P),L},z!==void 0&&z||(r.KJUR=z={}),z.lang!==void 0&&z.lang||(z.lang={}),z.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=be=function(O){return ve(a.from(O,"utf8").toString("base64"))},r.b64utoutf8=ke=function(O){return a.from(et(O),"base64").toString("utf8")}):(r.utf8tob64u=be=function(O){return Ze(lt(Zt(O)))},r.b64utoutf8=ke=function(O){return decodeURIComponent(qt(st(O)))}),z.lang.String.isInteger=function(P){return!!P.match(/^[0-9]+$/)||!!P.match(/^-[0-9]+$/)},z.lang.String.isHex=function(P){return Dt(P)},z.lang.String.isBase64=function(P){return!(!(P=P.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||P.length%4!=0)},z.lang.String.isBase64URL=function(P){return!P.match(/[+/=]/)&&(P=et(P),z.lang.String.isBase64(P))},z.lang.String.isIntegerArray=function(P){return!!(P=P.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},z.lang.String.isPrintable=function(P){return P.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},z.lang.String.isIA5=function(P){return P.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},z.lang.String.isMail=function(P){return P.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var St=function(O,L,q){return q==null&&(q="0"),O.length>=L?O:new Array(L-O.length+1).join(q)+O};function Ce(P,O){var L=function(){};L.prototype=O.prototype,P.prototype=new L,P.prototype.constructor=P,P.superclass=O.prototype,O.prototype.constructor==Object.prototype.constructor&&(O.prototype.constructor=O)}z!==void 0&&z||(r.KJUR=z={}),z.crypto!==void 0&&z.crypto||(z.crypto={}),z.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:_.algo.MD5,sha1:_.algo.SHA1,sha224:_.algo.SHA224,sha256:_.algo.SHA256,sha384:_.algo.SHA384,sha512:_.algo.SHA512,ripemd160:_.algo.RIPEMD160},this.getDigestInfoHex=function(P,O){if(this.DIGESTINFOHEAD[O]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+O;return this.DIGESTINFOHEAD[O]+P},this.getPaddedDigestInfoHex=function(P,O,L){var q=this.getDigestInfoHex(P,O),Y=L/4;if(q.length+22>Y)throw"key is too short for SigAlg: keylen="+L+","+O;for(var ce="0001",we="00"+q,Z="",ie=Y-ce.length-we.length,le=0;le<ie;le+=2)Z+="ff";return ce+Z+we},this.hashString=function(P,O){return new z.crypto.MessageDigest({alg:O}).digestString(P)},this.hashHex=function(P,O){return new z.crypto.MessageDigest({alg:O}).digestHex(P)},this.sha1=function(P){return this.hashString(P,"sha1")},this.sha256=function(P){return this.hashString(P,"sha256")},this.sha256Hex=function(P){return this.hashHex(P,"sha256")},this.sha512=function(P){return this.hashString(P,"sha512")},this.sha512Hex=function(P){return this.hashHex(P,"sha512")},this.isKey=function(P){return P instanceof qe||P instanceof z.crypto.DSA||P instanceof z.crypto.ECDSA}},z.crypto.Util.md5=function(P){return new z.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(P)},z.crypto.Util.ripemd160=function(P){return new z.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(P)},z.crypto.Util.SECURERANDOMGEN=new Ae,z.crypto.Util.getRandomHexOfNbytes=function(P){var O=new Array(P);return z.crypto.Util.SECURERANDOMGEN.nextBytes(O),tt(O)},z.crypto.Util.getRandomBigIntegerOfNbytes=function(P){return new A(z.crypto.Util.getRandomHexOfNbytes(P),16)},z.crypto.Util.getRandomHexOfNbits=function(P){var O=P%8,L=new Array((P-O)/8+1);return z.crypto.Util.SECURERANDOMGEN.nextBytes(L),L[0]=(255<<O&255^255)&L[0],tt(L)},z.crypto.Util.getRandomBigIntegerOfNbits=function(P){return new A(z.crypto.Util.getRandomHexOfNbits(P),16)},z.crypto.Util.getRandomBigIntegerZeroToMax=function(P){for(var O=P.bitLength();;){var L=z.crypto.Util.getRandomBigIntegerOfNbits(O);if(P.compareTo(L)!=-1)return L}},z.crypto.Util.getRandomBigIntegerMinToMax=function(P,O){var L=P.compareTo(O);if(L==1)throw"biMin is greater than biMax";if(L==0)return P;var q=O.subtract(P);return z.crypto.Util.getRandomBigIntegerZeroToMax(q).add(P)},z.crypto.MessageDigest=function(P){this.setAlgAndProvider=function(O,L){if((O=z.crypto.MessageDigest.getCanonicalAlgName(O))!==null&&L===void 0&&(L=z.crypto.Util.DEFAULTPROVIDER[O]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(O)!=-1&&L=="cryptojs"){try{this.md=z.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[O].create()}catch(q){throw"setAlgAndProvider hash alg set fail alg="+O+"/"+q}this.updateString=function(q){this.md.update(q)},this.updateHex=function(q){var Y=_.enc.Hex.parse(q);this.md.update(Y)},this.digest=function(){return this.md.finalize().toString(_.enc.Hex)},this.digestString=function(q){return this.updateString(q),this.digest()},this.digestHex=function(q){return this.updateHex(q),this.digest()}}if(":sha256:".indexOf(O)!=-1&&L=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(q){throw"setAlgAndProvider hash alg set fail alg="+O+"/"+q}this.updateString=function(q){this.md.update(q)},this.updateHex=function(q){var Y=sjcl.codec.hex.toBits(q);this.md.update(Y)},this.digest=function(){var q=this.md.finalize();return sjcl.codec.hex.fromBits(q)},this.digestString=function(q){return this.updateString(q),this.digest()},this.digestHex=function(q){return this.updateHex(q),this.digest()}}},this.updateString=function(O){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(O){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(O){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(O){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},P!==void 0&&P.alg!==void 0&&(this.algName=P.alg,P.prov===void 0&&(this.provName=z.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},z.crypto.MessageDigest.getCanonicalAlgName=function(P){return typeof P=="string"&&(P=(P=P.toLowerCase()).replace(/-/,"")),P},z.crypto.MessageDigest.getHashLength=function(P){var O=z.crypto.MessageDigest,L=O.getCanonicalAlgName(P);if(O.HASHLENGTH[L]===void 0)throw"not supported algorithm: "+P;return O.HASHLENGTH[L]},z.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},z.crypto.Mac=function(P){this.setAlgAndProvider=function(O,L){if((O=O.toLowerCase())==null&&(O="hmacsha1"),(O=O.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+O;L===void 0&&(L=z.crypto.Util.DEFAULTPROVIDER[O]),this.algProv=O+"/"+L;var q=O.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(q)!=-1&&L=="cryptojs"){try{var Y=z.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[q];this.mac=_.algo.HMAC.create(Y,this.pass)}catch(ce){throw"setAlgAndProvider hash alg set fail hashAlg="+q+"/"+ce}this.updateString=function(ce){this.mac.update(ce)},this.updateHex=function(ce){var we=_.enc.Hex.parse(ce);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(_.enc.Hex)},this.doFinalString=function(ce){return this.updateString(ce),this.doFinal()},this.doFinalHex=function(ce){return this.updateHex(ce),this.doFinal()}}},this.updateString=function(O){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(O){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(O){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(O){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(O){if(typeof O=="string"){var L=O;return O.length%2!=1&&O.match(/^[0-9A-Fa-f]+$/)||(L=Lt(O)),void(this.pass=_.enc.Hex.parse(L))}if((O===void 0?"undefined":y(O))!="object")throw"KJUR.crypto.Mac unsupported password type: "+O;if(L=null,O.hex!==void 0){if(O.hex.length%2!=0||!O.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+O.hex;L=O.hex}if(O.utf8!==void 0&&(L=ut(O.utf8)),O.rstr!==void 0&&(L=Lt(O.rstr)),O.b64!==void 0&&(L=F(O.b64)),O.b64u!==void 0&&(L=st(O.b64u)),L==null)throw"KJUR.crypto.Mac unsupported password type: "+O;this.pass=_.enc.Hex.parse(L)},P!==void 0&&(P.pass!==void 0&&this.setPassword(P.pass),P.alg!==void 0&&(this.algName=P.alg,P.prov===void 0&&(this.provName=z.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},z.crypto.Signature=function(P){var O=null;if(this._setAlgNames=function(){var L=this.algName.match(/^(.+)with(.+)$/);L&&(this.mdAlgName=L[1].toLowerCase(),this.pubkeyAlgName=L[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(L,q){for(var Y="",ce=q/4-L.length,we=0;we<ce;we++)Y+="0";return Y+L},this.setAlgAndProvider=function(L,q){if(this._setAlgNames(),q!="cryptojs/jsrsa")throw new Error("provider not supported: "+q);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new z.crypto.MessageDigest({alg:this.mdAlgName})}catch(Y){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Y)}this.init=function(Y,ce){var we=null;try{we=ce===void 0?Qe.getKey(Y):Qe.getKey(Y,ce)}catch(Z){throw"init failed:"+Z}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(Y){this.md.updateString(Y)},this.updateHex=function(Y){this.md.updateHex(Y)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&z.crypto.ECDSA!==void 0&&(this.prvKey=new z.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof qe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof qe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof z.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof z.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Y){return this.updateString(Y),this.sign()},this.signHex=function(Y){return this.updateHex(Y),this.sign()},this.verify=function(Y){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&z.crypto.ECDSA!==void 0&&(this.pubKey=new z.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof qe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Y,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof qe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,Y);if(z.crypto.ECDSA!==void 0&&this.pubKey instanceof z.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Y);if(z.crypto.DSA!==void 0&&this.pubKey instanceof z.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Y);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(L,q){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(L){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(L){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(L){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(L){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(L){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=P,P!==void 0&&(P.alg!==void 0&&(this.algName=P.alg,P.prov===void 0?this.provName=z.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=P.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),P.psssaltlen!==void 0&&(this.pssSaltLen=P.psssaltlen),P.prvkeypem!==void 0)){if(P.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{O=Qe.getKey(P.prvkeypem),this.init(O)}catch(L){throw"fatal error to load pem private key: "+L}}},z.crypto.Cipher=function(P){},z.crypto.Cipher.encrypt=function(P,O,L){if(O instanceof qe&&O.isPublic){var q=z.crypto.Cipher.getAlgByKeyAndName(O,L);if(q==="RSA")return O.encrypt(P);if(q==="RSAOAEP")return O.encryptOAEP(P,"sha1");var Y=q.match(/^RSAOAEP(\d+)$/);if(Y!==null)return O.encryptOAEP(P,"sha"+Y[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+L}throw"Cipher.encrypt: unsupported key or algorithm"},z.crypto.Cipher.decrypt=function(P,O,L){if(O instanceof qe&&O.isPrivate){var q=z.crypto.Cipher.getAlgByKeyAndName(O,L);if(q==="RSA")return O.decrypt(P);if(q==="RSAOAEP")return O.decryptOAEP(P,"sha1");var Y=q.match(/^RSAOAEP(\d+)$/);if(Y!==null)return O.decryptOAEP(P,"sha"+Y[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+L}throw"Cipher.decrypt: unsupported key or algorithm"},z.crypto.Cipher.getAlgByKeyAndName=function(P,O){if(P instanceof qe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(O)!=-1)return O;if(O==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+O}throw"getAlgByKeyAndName: not supported algorithm name: "+O},z.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},z!==void 0&&z||(r.KJUR=z={}),z.crypto!==void 0&&z.crypto||(z.crypto={}),z.crypto.ECDSA=function(P){var O=Error,L=A,q=W,Y=z.crypto.ECDSA,ce=z.crypto.ECParameterDB,we=Y.getName,Z=Pe,ie=Z.getVbyListEx,le=Z.isASN1HEX,Se=new Ae;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Re){return new L(Re.bitLength(),Se).mod(Re.subtract(L.ONE)).add(L.ONE)},this.setNamedCurve=function(Re){this.ecparams=ce.getByName(Re),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Re},this.setPrivateKeyHex=function(Re){this.isPrivate=!0,this.prvKeyHex=Re},this.setPublicKeyHex=function(Re){this.isPublic=!0,this.pubKeyHex=Re},this.getPublicKeyXYHex=function(){var Re=this.pubKeyHex;if(Re.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var De=this.ecparams.keylen/4;if(Re.length!==2+2*De)throw"malformed public key hex length";var Ue={};return Ue.x=Re.substr(2,De),Ue.y=Re.substr(2+De),Ue},this.getShortNISTPCurveName=function(){var Re=this.curveName;return Re==="secp256r1"||Re==="NIST P-256"||Re==="P-256"||Re==="prime256v1"?"P-256":Re==="secp384r1"||Re==="NIST P-384"||Re==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Re=this.ecparams.n,De=this.getBigRandom(Re),Ue=this.ecparams.G.multiply(De),ze=Ue.getX().toBigInteger(),Ye=Ue.getY().toBigInteger(),rt=this.ecparams.keylen/4,ye=("0000000000"+De.toString(16)).slice(-rt),Ne="04"+("0000000000"+ze.toString(16)).slice(-rt)+("0000000000"+Ye.toString(16)).slice(-rt);return this.setPrivateKeyHex(ye),this.setPublicKeyHex(Ne),{ecprvhex:ye,ecpubhex:Ne}},this.signWithMessageHash=function(Re){return this.signHex(Re,this.prvKeyHex)},this.signHex=function(Re,De){var Ue=new L(De,16),ze=this.ecparams.n,Ye=new L(Re.substring(0,this.ecparams.keylen/4),16);do var rt=this.getBigRandom(ze),ye=this.ecparams.G.multiply(rt).getX().toBigInteger().mod(ze);while(ye.compareTo(L.ZERO)<=0);var Ne=rt.modInverse(ze).multiply(Ye.add(Ue.multiply(ye))).mod(ze);return Y.biRSSigToASN1Sig(ye,Ne)},this.sign=function(Re,De){var Ue=De,ze=this.ecparams.n,Ye=L.fromByteArrayUnsigned(Re);do var rt=this.getBigRandom(ze),ye=this.ecparams.G.multiply(rt).getX().toBigInteger().mod(ze);while(ye.compareTo(A.ZERO)<=0);var Ne=rt.modInverse(ze).multiply(Ye.add(Ue.multiply(ye))).mod(ze);return this.serializeSig(ye,Ne)},this.verifyWithMessageHash=function(Re,De){return this.verifyHex(Re,De,this.pubKeyHex)},this.verifyHex=function(Re,De,Ue){try{var ze,Ye,rt=Y.parseSigHex(De);ze=rt.r,Ye=rt.s;var ye=q.decodeFromHex(this.ecparams.curve,Ue),Ne=new L(Re.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ne,ze,Ye,ye)}catch{return!1}},this.verify=function(Re,De,Ue){var ze,Ye,rt;if(Bitcoin.Util.isArray(De)){var ye=this.parseSig(De);ze=ye.r,Ye=ye.s}else{if((De===void 0?"undefined":y(De))!=="object"||!De.r||!De.s)throw"Invalid value for signature";ze=De.r,Ye=De.s}if(Ue instanceof W)rt=Ue;else{if(!Bitcoin.Util.isArray(Ue))throw"Invalid format for pubkey value, must be byte array or ECPointFp";rt=q.decodeFrom(this.ecparams.curve,Ue)}var Ne=L.fromByteArrayUnsigned(Re);return this.verifyRaw(Ne,ze,Ye,rt)},this.verifyRaw=function(Re,De,Ue,ze){var Ye=this.ecparams.n,rt=this.ecparams.G;if(De.compareTo(L.ONE)<0||De.compareTo(Ye)>=0||Ue.compareTo(L.ONE)<0||Ue.compareTo(Ye)>=0)return!1;var ye=Ue.modInverse(Ye),Ne=Re.multiply(ye).mod(Ye),Be=De.multiply(ye).mod(Ye);return rt.multiply(Ne).add(ze.multiply(Be)).getX().toBigInteger().mod(Ye).equals(De)},this.serializeSig=function(Re,De){var Ue=Re.toByteArraySigned(),ze=De.toByteArraySigned(),Ye=[];return Ye.push(2),Ye.push(Ue.length),(Ye=Ye.concat(Ue)).push(2),Ye.push(ze.length),(Ye=Ye.concat(ze)).unshift(Ye.length),Ye.unshift(48),Ye},this.parseSig=function(Re){var De;if(Re[0]!=48)throw new Error("Signature not a valid DERSequence");if(Re[De=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ue=Re.slice(De+2,De+2+Re[De+1]);if(Re[De+=2+Re[De+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ze=Re.slice(De+2,De+2+Re[De+1]);return De+=2+Re[De+1],{r:L.fromByteArrayUnsigned(Ue),s:L.fromByteArrayUnsigned(ze)}},this.parseSigCompact=function(Re){if(Re.length!==65)throw"Signature has the wrong length";var De=Re[0]-27;if(De<0||De>7)throw"Invalid signature type";var Ue=this.ecparams.n;return{r:L.fromByteArrayUnsigned(Re.slice(1,33)).mod(Ue),s:L.fromByteArrayUnsigned(Re.slice(33,65)).mod(Ue),i:De}},this.readPKCS5PrvKeyHex=function(Re){if(le(Re)===!1)throw new Error("not ASN.1 hex string");var De,Ue,ze;try{De=ie(Re,0,["[0]",0],"06"),Ue=ie(Re,0,[1],"04");try{ze=ie(Re,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(De),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze),this.setPrivateKeyHex(Ue),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Re){if(le(Re)===!1)throw new O("not ASN.1 hex string");var De,Ue,ze;try{ie(Re,0,[1,0],"06"),De=ie(Re,0,[1,1],"06"),Ue=ie(Re,0,[2,0,1],"04");try{ze=ie(Re,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new O("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(De),this.curveName===void 0)throw new O("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze),this.setPrivateKeyHex(Ue),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Re){if(le(Re)===!1)throw new O("not ASN.1 hex string");var De,Ue;try{ie(Re,0,[0,0],"06"),De=ie(Re,0,[0,1],"06"),Ue=ie(Re,0,[1],"03")}catch{throw new O("malformed PKCS#8 ECC public key")}if(this.curveName=we(De),this.curveName===null)throw new O("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ue)},this.readCertPubKeyHex=function(Re,De){if(le(Re)===!1)throw new O("not ASN.1 hex string");var Ue,ze;try{Ue=ie(Re,0,[0,5,0,1],"06"),ze=ie(Re,0,[0,5,1],"03")}catch{throw new O("malformed X.509 certificate ECC public key")}if(this.curveName=we(Ue),this.curveName===null)throw new O("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze)},P!==void 0&&P.curve!==void 0&&(this.curveName=P.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),P!==void 0&&(P.prv!==void 0&&this.setPrivateKeyHex(P.prv),P.pub!==void 0&&this.setPublicKeyHex(P.pub))},z.crypto.ECDSA.parseSigHex=function(P){var O=z.crypto.ECDSA.parseSigHexInHexRS(P);return{r:new A(O.r,16),s:new A(O.s,16)}},z.crypto.ECDSA.parseSigHexInHexRS=function(P){var O=Pe,L=O.getChildIdx,q=O.getV;if(O.checkStrictDER(P,0),P.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var Y=L(P,0);if(Y.length!=2)throw new Error("signature shall have two elements");var ce=Y[0],we=Y[1];if(P.substr(ce,2)!="02")throw new Error("1st item not ASN.1 integer");if(P.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:q(P,ce),s:q(P,we)}},z.crypto.ECDSA.asn1SigToConcatSig=function(P){var O=z.crypto.ECDSA.parseSigHexInHexRS(P),L=O.r,q=O.s;if(L.substr(0,2)=="00"&&L.length%32==2&&(L=L.substr(2)),q.substr(0,2)=="00"&&q.length%32==2&&(q=q.substr(2)),L.length%32==30&&(L="00"+L),q.length%32==30&&(q="00"+q),L.length%32!=0)throw"unknown ECDSA sig r length error";if(q.length%32!=0)throw"unknown ECDSA sig s length error";return L+q},z.crypto.ECDSA.concatSigToASN1Sig=function(P){if(P.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var O=P.substr(0,P.length/2),L=P.substr(P.length/2);return z.crypto.ECDSA.hexRSSigToASN1Sig(O,L)},z.crypto.ECDSA.hexRSSigToASN1Sig=function(P,O){var L=new A(P,16),q=new A(O,16);return z.crypto.ECDSA.biRSSigToASN1Sig(L,q)},z.crypto.ECDSA.biRSSigToASN1Sig=function(P,O){var L=z.asn1,q=new L.DERInteger({bigint:P}),Y=new L.DERInteger({bigint:O});return new L.DERSequence({array:[q,Y]}).getEncodedHex()},z.crypto.ECDSA.getName=function(P){return P==="2b8104001f"?"secp192k1":P==="2a8648ce3d030107"?"secp256r1":P==="2b8104000a"?"secp256k1":P==="2b81040021"?"secp224r1":P==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(P)!==-1?"secp256r1":"|secp256k1|".indexOf(P)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(P)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(P)!==-1?"secp384r1":null},z!==void 0&&z||(r.KJUR=z={}),z.crypto!==void 0&&z.crypto||(z.crypto={}),z.crypto.ECParameterDB=new function(){var P={},O={};function L(q){return new A(q,16)}this.getByName=function(q){var Y=q;if(O[Y]!==void 0&&(Y=O[q]),P[Y]!==void 0)return P[Y];throw"unregistered EC curve name: "+Y},this.regist=function(q,Y,ce,we,Z,ie,le,Se,Re,De,Ue,ze){P[q]={};var Ye=L(ce),rt=L(we),ye=L(Z),Ne=L(ie),Be=L(le),$e=new V(Ye,rt,ye),Je=$e.decodePointHex("04"+Se+Re);P[q].name=q,P[q].keylen=Y,P[q].curve=$e,P[q].G=Je,P[q].n=Ne,P[q].h=Be,P[q].oid=Ue,P[q].info=ze;for(var it=0;it<De.length;it++)O[De[it]]=q}},z.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),z.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),z.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),z.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),z.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),z.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),z.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),z.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),z.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),z.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Qe=function(){var P=function(le,Se,Re){return O(_.AES,le,Se,Re)},O=function(le,Se,Re,De){var Ue=_.enc.Hex.parse(Se),ze=_.enc.Hex.parse(Re),Ye=_.enc.Hex.parse(De),rt={};rt.key=ze,rt.iv=Ye,rt.ciphertext=Ue;var ye=le.decrypt(rt,ze,{iv:Ye});return _.enc.Hex.stringify(ye)},L=function(le,Se,Re){return q(_.AES,le,Se,Re)},q=function(le,Se,Re,De){var Ue=_.enc.Hex.parse(Se),ze=_.enc.Hex.parse(Re),Ye=_.enc.Hex.parse(De),rt=le.encrypt(Ue,ze,{iv:Ye}),ye=_.enc.Hex.parse(rt.toString());return _.enc.Base64.stringify(ye)},Y={"AES-256-CBC":{proc:P,eproc:L,keylen:32,ivlen:16},"AES-192-CBC":{proc:P,eproc:L,keylen:24,ivlen:16},"AES-128-CBC":{proc:P,eproc:L,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(le,Se,Re){return O(_.TripleDES,le,Se,Re)},eproc:function(le,Se,Re){return q(_.TripleDES,le,Se,Re)},keylen:24,ivlen:8},"DES-CBC":{proc:function(le,Se,Re){return O(_.DES,le,Se,Re)},eproc:function(le,Se,Re){return q(_.DES,le,Se,Re)},keylen:8,ivlen:8}},ce=function(le){var Se={},Re=le.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Re&&(Se.cipher=Re[1],Se.ivsalt=Re[2]);var De=le.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));De&&(Se.type=De[1]);var Ue=-1,ze=0;le.indexOf(`\r
\r
`)!=-1&&(Ue=le.indexOf(`\r
\r
`),ze=2),le.indexOf(`

`)!=-1&&(Ue=le.indexOf(`

`),ze=1);var Ye=le.indexOf("-----END");if(Ue!=-1&&Ye!=-1){var rt=le.substring(Ue+2*ze,Ye-ze);rt=rt.replace(/\s+/g,""),Se.data=rt}return Se},we=function(le,Se,Re){for(var De=Re.substring(0,16),Ue=_.enc.Hex.parse(De),ze=_.enc.Utf8.parse(Se),Ye=Y[le].keylen+Y[le].ivlen,rt="",ye=null;;){var Ne=_.algo.MD5.create();if(ye!=null&&Ne.update(ye),Ne.update(ze),Ne.update(Ue),ye=Ne.finalize(),(rt+=_.enc.Hex.stringify(ye)).length>=2*Ye)break}var Be={};return Be.keyhex=rt.substr(0,2*Y[le].keylen),Be.ivhex=rt.substr(2*Y[le].keylen,2*Y[le].ivlen),Be},Z=function(le,Se,Re,De){var Ue=_.enc.Base64.parse(le),ze=_.enc.Hex.stringify(Ue);return(0,Y[Se].proc)(ze,Re,De)};return{version:"1.0.0",parsePKCS5PEM:function(le){return ce(le)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(le,Se,Re){return we(le,Se,Re)},decryptKeyB64:function(le,Se,Re,De){return Z(le,Se,Re,De)},getDecryptedKeyHex:function(le,Se){var Re=ce(le),De=(Re.type,Re.cipher),Ue=Re.ivsalt,ze=Re.data,Ye=we(De,Se,Ue).keyhex;return Z(ze,De,Ye,Ue)},getEncryptedPKCS5PEMFromPrvKeyHex:function(le,Se,Re,De,Ue){var ze="";if(De!==void 0&&De!=null||(De="AES-256-CBC"),Y[De]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+De);Ue!==void 0&&Ue!=null||(Ue=function(ye){var Ne=_.lib.WordArray.random(ye);return _.enc.Hex.stringify(Ne)}(Y[De].ivlen).toUpperCase());var Ye=function(ye,Ne,Be,$e){return(0,Y[Ne].eproc)(ye,Be,$e)}(Se,De,we(De,Re,Ue).keyhex,Ue);return ze="-----BEGIN "+le+` PRIVATE KEY-----\r
`,ze+=`Proc-Type: 4,ENCRYPTED\r
`,ze+="DEK-Info: "+De+","+Ue+`\r
`,ze+=`\r
`,ze+=Ye.replace(/(.{64})/g,`$1\r
`),ze+=`\r
-----END `+le+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(le){var Se=Pe,Re=Se.getChildIdx,De=Se.getV,Ue={},ze=Re(le,0);if(ze.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ze.length);Ue.ciphertext=De(le,ze[1]);var Ye=Re(le,ze[0]);if(Ye.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+Ye.length);if(De(le,Ye[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var rt=Re(le,Ye[1]);if(Ye.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+rt.length);var ye=Re(le,rt[1]);if(ye.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+ye.length);if(De(le,ye[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ue.encryptionSchemeAlg="TripleDES",Ue.encryptionSchemeIV=De(le,ye[1]);var Ne=Re(le,rt[0]);if(Ne.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ne.length);if(De(le,Ne[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Be=Re(le,Ne[1]);if(Be.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Be.length);Ue.pbkdf2Salt=De(le,Be[0]);var $e=De(le,Be[1]);try{Ue.pbkdf2Iter=parseInt($e,16)}catch{throw new Error("malformed format pbkdf2Iter: "+$e)}return Ue},getPBKDF2KeyHexFromParam:function(le,Se){var Re=_.enc.Hex.parse(le.pbkdf2Salt),De=le.pbkdf2Iter,Ue=_.PBKDF2(Se,Re,{keySize:6,iterations:De});return _.enc.Hex.stringify(Ue)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(le,Se){var Re=je(le,"ENCRYPTED PRIVATE KEY"),De=this.parseHexOfEncryptedPKCS8(Re),Ue=Qe.getPBKDF2KeyHexFromParam(De,Se),ze={};ze.ciphertext=_.enc.Hex.parse(De.ciphertext);var Ye=_.enc.Hex.parse(Ue),rt=_.enc.Hex.parse(De.encryptionSchemeIV),ye=_.TripleDES.decrypt(ze,Ye,{iv:rt});return _.enc.Hex.stringify(ye)},getKeyFromEncryptedPKCS8PEM:function(le,Se){var Re=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(le,Se);return this.getKeyFromPlainPrivatePKCS8Hex(Re)},parsePlainPrivatePKCS8Hex:function(le){var Se=Pe,Re=Se.getChildIdx,De=Se.getV,Ue={algparam:null};if(le.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ze=Re(le,0);if(ze.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(le.substr(ze[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var Ye=Re(le,ze[1]);if(Ye.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(le.substr(Ye[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ue.algoid=De(le,Ye[0]),le.substr(Ye[1],2)=="06"&&(Ue.algparam=De(le,Ye[1])),le.substr(ze[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ue.keyidx=Se.getVidx(le,ze[2]),Ue},getKeyFromPlainPrivatePKCS8PEM:function(le){var Se=je(le,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Se)},getKeyFromPlainPrivatePKCS8Hex:function(le){var Se,Re=this.parsePlainPrivatePKCS8Hex(le);if(Re.algoid=="2a864886f70d010101")Se=new qe;else if(Re.algoid=="2a8648ce380401")Se=new z.crypto.DSA;else{if(Re.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Se=new z.crypto.ECDSA}return Se.readPKCS8PrvKeyHex(le),Se},_getKeyFromPublicPKCS8Hex:function(le){var Se,Re=Pe.getVbyList(le,0,[0,0],"06");if(Re==="2a864886f70d010101")Se=new qe;else if(Re==="2a8648ce380401")Se=new z.crypto.DSA;else{if(Re!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Se=new z.crypto.ECDSA}return Se.readPKCS8PubKeyHex(le),Se},parsePublicRawRSAKeyHex:function(le){var Se=Pe,Re=Se.getChildIdx,De=Se.getV,Ue={};if(le.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ze=Re(le,0);if(ze.length!=2)throw new Error("malformed RSA key(code:002)");if(le.substr(ze[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ue.n=De(le,ze[0]),le.substr(ze[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ue.e=De(le,ze[1]),Ue},parsePublicPKCS8Hex:function(le){var Se=Pe,Re=Se.getChildIdx,De=Se.getV,Ue={algparam:null},ze=Re(le,0);if(ze.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ze.length);var Ye=ze[0];if(le.substr(Ye,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var rt=Re(le,Ye);if(rt.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(le.substr(rt[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ue.algoid=De(le,rt[0]),le.substr(rt[1],2)=="06"?Ue.algparam=De(le,rt[1]):le.substr(rt[1],2)=="30"&&(Ue.algparam={},Ue.algparam.p=Se.getVbyList(le,rt[1],[0],"02"),Ue.algparam.q=Se.getVbyList(le,rt[1],[1],"02"),Ue.algparam.g=Se.getVbyList(le,rt[1],[2],"02")),le.substr(ze[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ue.key=De(le,ze[1]).substr(2),Ue}}}();Qe.getKey=function(P,O,L){var q=(rt=Pe).getChildIdx,Y=(rt.getV,rt.getVbyList),ce=z.crypto,we=ce.ECDSA,Z=ce.DSA,ie=qe,le=je,Se=Qe;if(ie!==void 0&&P instanceof ie||we!==void 0&&P instanceof we||Z!==void 0&&P instanceof Z)return P;if(P.curve!==void 0&&P.xy!==void 0&&P.d===void 0)return new we({pub:P.xy,curve:P.curve});if(P.curve!==void 0&&P.d!==void 0)return new we({prv:P.d,curve:P.curve});if(P.kty===void 0&&P.n!==void 0&&P.e!==void 0&&P.d===void 0)return(tr=new ie).setPublic(P.n,P.e),tr;if(P.kty===void 0&&P.n!==void 0&&P.e!==void 0&&P.d!==void 0&&P.p!==void 0&&P.q!==void 0&&P.dp!==void 0&&P.dq!==void 0&&P.co!==void 0&&P.qi===void 0)return(tr=new ie).setPrivateEx(P.n,P.e,P.d,P.p,P.q,P.dp,P.dq,P.co),tr;if(P.kty===void 0&&P.n!==void 0&&P.e!==void 0&&P.d!==void 0&&P.p===void 0)return(tr=new ie).setPrivate(P.n,P.e,P.d),tr;if(P.p!==void 0&&P.q!==void 0&&P.g!==void 0&&P.y!==void 0&&P.x===void 0)return(tr=new Z).setPublic(P.p,P.q,P.g,P.y),tr;if(P.p!==void 0&&P.q!==void 0&&P.g!==void 0&&P.y!==void 0&&P.x!==void 0)return(tr=new Z).setPrivate(P.p,P.q,P.g,P.y,P.x),tr;if(P.kty==="RSA"&&P.n!==void 0&&P.e!==void 0&&P.d===void 0)return(tr=new ie).setPublic(st(P.n),st(P.e)),tr;if(P.kty==="RSA"&&P.n!==void 0&&P.e!==void 0&&P.d!==void 0&&P.p!==void 0&&P.q!==void 0&&P.dp!==void 0&&P.dq!==void 0&&P.qi!==void 0)return(tr=new ie).setPrivateEx(st(P.n),st(P.e),st(P.d),st(P.p),st(P.q),st(P.dp),st(P.dq),st(P.qi)),tr;if(P.kty==="RSA"&&P.n!==void 0&&P.e!==void 0&&P.d!==void 0)return(tr=new ie).setPrivate(st(P.n),st(P.e),st(P.d)),tr;if(P.kty==="EC"&&P.crv!==void 0&&P.x!==void 0&&P.y!==void 0&&P.d===void 0){var Re=(Ut=new we({curve:P.crv})).ecparams.keylen/4,De="04"+("0000000000"+st(P.x)).slice(-Re)+("0000000000"+st(P.y)).slice(-Re);return Ut.setPublicKeyHex(De),Ut}if(P.kty==="EC"&&P.crv!==void 0&&P.x!==void 0&&P.y!==void 0&&P.d!==void 0){Re=(Ut=new we({curve:P.crv})).ecparams.keylen/4,De="04"+("0000000000"+st(P.x)).slice(-Re)+("0000000000"+st(P.y)).slice(-Re);var Ue=("0000000000"+st(P.d)).slice(-Re);return Ut.setPublicKeyHex(De),Ut.setPrivateKeyHex(Ue),Ut}if(L==="pkcs5prv"){var ze,Ye=P,rt=Pe;if((ze=q(Ye,0)).length===9)(tr=new ie).readPKCS5PrvKeyHex(Ye);else if(ze.length===6)(tr=new Z).readPKCS5PrvKeyHex(Ye);else{if(!(ze.length>2&&Ye.substr(ze[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(tr=new we).readPKCS5PrvKeyHex(Ye)}return tr}if(L==="pkcs8prv")return tr=Se.getKeyFromPlainPrivatePKCS8Hex(P);if(L==="pkcs8pub")return Se._getKeyFromPublicPKCS8Hex(P);if(L==="x509pub")return Wt.getPublicKeyFromCertHex(P);if(P.indexOf("-END CERTIFICATE-",0)!=-1||P.indexOf("-END X509 CERTIFICATE-",0)!=-1||P.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Wt.getPublicKeyFromCertPEM(P);if(P.indexOf("-END PUBLIC KEY-")!=-1){var ye=je(P,"PUBLIC KEY");return Se._getKeyFromPublicPKCS8Hex(ye)}if(P.indexOf("-END RSA PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")==-1){var Ne=le(P,"RSA PRIVATE KEY");return Se.getKey(Ne,null,"pkcs5prv")}if(P.indexOf("-END DSA PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")==-1){var Be=Y(Dr=le(P,"DSA PRIVATE KEY"),0,[1],"02"),$e=Y(Dr,0,[2],"02"),Je=Y(Dr,0,[3],"02"),it=Y(Dr,0,[4],"02"),Vt=Y(Dr,0,[5],"02");return(tr=new Z).setPrivate(new A(Be,16),new A($e,16),new A(Je,16),new A(it,16),new A(Vt,16)),tr}if(P.indexOf("-END EC PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")==-1)return Ne=le(P,"EC PRIVATE KEY"),Se.getKey(Ne,null,"pkcs5prv");if(P.indexOf("-END PRIVATE KEY-")!=-1)return Se.getKeyFromPlainPrivatePKCS8PEM(P);if(P.indexOf("-END RSA PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")!=-1){var yt=Se.getDecryptedKeyHex(P,O),cr=new qe;return cr.readPKCS5PrvKeyHex(yt),cr}if(P.indexOf("-END EC PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")!=-1){var Ut,tr=Y(Dr=Se.getDecryptedKeyHex(P,O),0,[1],"04"),ar=Y(Dr,0,[2,0],"06"),Ar=Y(Dr,0,[3,0],"03").substr(2);if(z.crypto.OID.oidhex2name[ar]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+ar);return(Ut=new we({curve:z.crypto.OID.oidhex2name[ar]})).setPublicKeyHex(Ar),Ut.setPrivateKeyHex(tr),Ut.isPublic=!1,Ut}if(P.indexOf("-END DSA PRIVATE KEY-")!=-1&&P.indexOf("4,ENCRYPTED")!=-1){var Dr;return Be=Y(Dr=Se.getDecryptedKeyHex(P,O),0,[1],"02"),$e=Y(Dr,0,[2],"02"),Je=Y(Dr,0,[3],"02"),it=Y(Dr,0,[4],"02"),Vt=Y(Dr,0,[5],"02"),(tr=new Z).setPrivate(new A(Be,16),new A($e,16),new A(Je,16),new A(it,16),new A(Vt,16)),tr}if(P.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Se.getKeyFromEncryptedPKCS8PEM(P,O);throw new Error("not supported argument")},Qe.generateKeypair=function(P,O){if(P=="RSA"){var L=O;(we=new qe).generate(L,"10001"),we.isPrivate=!0,we.isPublic=!0;var q=new qe,Y=we.n.toString(16),ce=we.e.toString(16);return q.setPublic(Y,ce),q.isPrivate=!1,q.isPublic=!0,(Z={}).prvKeyObj=we,Z.pubKeyObj=q,Z}if(P=="EC"){var we,Z,ie=O,le=new z.crypto.ECDSA({curve:ie}).generateKeyPairHex();return(we=new z.crypto.ECDSA({curve:ie})).setPublicKeyHex(le.ecpubhex),we.setPrivateKeyHex(le.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(q=new z.crypto.ECDSA({curve:ie})).setPublicKeyHex(le.ecpubhex),q.isPrivate=!1,q.isPublic=!0,(Z={}).prvKeyObj=we,Z.pubKeyObj=q,Z}throw new Error("unknown algorithm: "+P)},Qe.getPEM=function(P,O,L,q,Y,ce){var we=z,Z=we.asn1,ie=Z.DERObjectIdentifier,le=Z.DERInteger,Se=Z.ASN1Util.newObject,Re=Z.x509.SubjectPublicKeyInfo,De=we.crypto,Ue=De.DSA,ze=De.ECDSA,Ye=qe;function rt(Ut){return Se({seq:[{int:0},{int:{bigint:Ut.n}},{int:Ut.e},{int:{bigint:Ut.d}},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.dmp1}},{int:{bigint:Ut.dmq1}},{int:{bigint:Ut.coeff}}]})}function ye(Ut){return Se({seq:[{int:1},{octstr:{hex:Ut.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ut.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ut.pubKeyHex}}]}]})}function Ne(Ut){return Se({seq:[{int:0},{int:{bigint:Ut.p}},{int:{bigint:Ut.q}},{int:{bigint:Ut.g}},{int:{bigint:Ut.y}},{int:{bigint:Ut.x}}]})}if((Ye!==void 0&&P instanceof Ye||Ue!==void 0&&P instanceof Ue||ze!==void 0&&P instanceof ze)&&P.isPublic==1&&(O===void 0||O=="PKCS8PUB"))return he(it=new Re(P).getEncodedHex(),"PUBLIC KEY");if(O=="PKCS1PRV"&&Ye!==void 0&&P instanceof Ye&&(L===void 0||L==null)&&P.isPrivate==1)return he(it=rt(P).getEncodedHex(),"RSA PRIVATE KEY");if(O=="PKCS1PRV"&&ze!==void 0&&P instanceof ze&&(L===void 0||L==null)&&P.isPrivate==1){var Be=new ie({name:P.curveName}).getEncodedHex(),$e=ye(P).getEncodedHex(),Je="";return Je+=he(Be,"EC PARAMETERS"),Je+=he($e,"EC PRIVATE KEY")}if(O=="PKCS1PRV"&&Ue!==void 0&&P instanceof Ue&&(L===void 0||L==null)&&P.isPrivate==1)return he(it=Ne(P).getEncodedHex(),"DSA PRIVATE KEY");if(O=="PKCS5PRV"&&Ye!==void 0&&P instanceof Ye&&L!==void 0&&L!=null&&P.isPrivate==1){var it=rt(P).getEncodedHex();return q===void 0&&(q="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",it,L,q,ce)}if(O=="PKCS5PRV"&&ze!==void 0&&P instanceof ze&&L!==void 0&&L!=null&&P.isPrivate==1)return it=ye(P).getEncodedHex(),q===void 0&&(q="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",it,L,q,ce);if(O=="PKCS5PRV"&&Ue!==void 0&&P instanceof Ue&&L!==void 0&&L!=null&&P.isPrivate==1)return it=Ne(P).getEncodedHex(),q===void 0&&(q="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",it,L,q,ce);var Vt=function(tr,ar){var Ar=yt(tr,ar);return new Se({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Ar.pbkdf2Salt}},{int:Ar.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Ar.encryptionSchemeIV}}]}]}]},{octstr:{hex:Ar.ciphertext}}]}).getEncodedHex()},yt=function(tr,ar){var Ar=_.lib.WordArray.random(8),Dr=_.lib.WordArray.random(8),Fn=_.PBKDF2(ar,Ar,{keySize:6,iterations:100}),Kn=_.enc.Hex.parse(tr),bi=_.TripleDES.encrypt(Kn,Fn,{iv:Dr})+"",hn={};return hn.ciphertext=bi,hn.pbkdf2Salt=_.enc.Hex.stringify(Ar),hn.pbkdf2Iter=100,hn.encryptionSchemeAlg="DES-EDE3-CBC",hn.encryptionSchemeIV=_.enc.Hex.stringify(Dr),hn};if(O=="PKCS8PRV"&&Ye!=null&&P instanceof Ye&&P.isPrivate==1){var cr=rt(P).getEncodedHex();return it=Se({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:cr}}]}).getEncodedHex(),L===void 0||L==null?he(it,"PRIVATE KEY"):he($e=Vt(it,L),"ENCRYPTED PRIVATE KEY")}if(O=="PKCS8PRV"&&ze!==void 0&&P instanceof ze&&P.isPrivate==1)return cr=new Se({seq:[{int:1},{octstr:{hex:P.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+P.pubKeyHex}}]}]}).getEncodedHex(),it=Se({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:P.curveName}}]},{octstr:{hex:cr}}]}).getEncodedHex(),L===void 0||L==null?he(it,"PRIVATE KEY"):he($e=Vt(it,L),"ENCRYPTED PRIVATE KEY");if(O=="PKCS8PRV"&&Ue!==void 0&&P instanceof Ue&&P.isPrivate==1)return cr=new le({bigint:P.x}).getEncodedHex(),it=Se({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:P.p}},{int:{bigint:P.q}},{int:{bigint:P.g}}]}]},{octstr:{hex:cr}}]}).getEncodedHex(),L===void 0||L==null?he(it,"PRIVATE KEY"):he($e=Vt(it,L),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Qe.getKeyFromCSRPEM=function(P){var O=je(P,"CERTIFICATE REQUEST");return Qe.getKeyFromCSRHex(O)},Qe.getKeyFromCSRHex=function(P){var O=Qe.parseCSRHex(P);return Qe.getKey(O.p8pubkeyhex,null,"pkcs8pub")},Qe.parseCSRHex=function(P){var O=Pe,L=O.getChildIdx,q=O.getTLV,Y={},ce=P;if(ce.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=L(ce,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(ce.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Z=L(ce,we[0]);if(Z.length<3)throw new Error("malformed CSR(code:004)");return Y.p8pubkeyhex=q(ce,Z[2]),Y},Qe.getKeyID=function(P){var O=Qe,L=Pe;typeof P=="string"&&P.indexOf("BEGIN ")!=-1&&(P=O.getKey(P));var q=je(O.getPEM(P)),Y=L.getIdxbyList(q,0,[1]),ce=L.getV(q,Y).substring(2);return z.crypto.Util.hashHex(ce,"sha1")},Qe.getJWKFromKey=function(P){var O={};if(P instanceof qe&&P.isPrivate)return O.kty="RSA",O.n=Ze(P.n.toString(16)),O.e=Ze(P.e.toString(16)),O.d=Ze(P.d.toString(16)),O.p=Ze(P.p.toString(16)),O.q=Ze(P.q.toString(16)),O.dp=Ze(P.dmp1.toString(16)),O.dq=Ze(P.dmq1.toString(16)),O.qi=Ze(P.coeff.toString(16)),O;if(P instanceof qe&&P.isPublic)return O.kty="RSA",O.n=Ze(P.n.toString(16)),O.e=Ze(P.e.toString(16)),O;if(P instanceof z.crypto.ECDSA&&P.isPrivate){if((q=P.getShortNISTPCurveName())!=="P-256"&&q!=="P-384")throw new Error("unsupported curve name for JWT: "+q);var L=P.getPublicKeyXYHex();return O.kty="EC",O.crv=q,O.x=Ze(L.x),O.y=Ze(L.y),O.d=Ze(P.prvKeyHex),O}if(P instanceof z.crypto.ECDSA&&P.isPublic){var q;if((q=P.getShortNISTPCurveName())!=="P-256"&&q!=="P-384")throw new Error("unsupported curve name for JWT: "+q);return L=P.getPublicKeyXYHex(),O.kty="EC",O.crv=q,O.x=Ze(L.x),O.y=Ze(L.y),O}throw new Error("not supported key object")},qe.getPosArrayOfChildrenFromHex=function(P){return Pe.getChildIdx(P,0)},qe.getHexValueArrayOfChildrenFromHex=function(P){var O,L=Pe.getV,q=L(P,(O=qe.getPosArrayOfChildrenFromHex(P))[0]),Y=L(P,O[1]),ce=L(P,O[2]),we=L(P,O[3]),Z=L(P,O[4]),ie=L(P,O[5]),le=L(P,O[6]),Se=L(P,O[7]),Re=L(P,O[8]);return(O=new Array).push(q,Y,ce,we,Z,ie,le,Se,Re),O},qe.prototype.readPrivateKeyFromPEMString=function(P){var O=je(P),L=qe.getHexValueArrayOfChildrenFromHex(O);this.setPrivateEx(L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8])},qe.prototype.readPKCS5PrvKeyHex=function(P){var O=qe.getHexValueArrayOfChildrenFromHex(P);this.setPrivateEx(O[1],O[2],O[3],O[4],O[5],O[6],O[7],O[8])},qe.prototype.readPKCS8PrvKeyHex=function(P){var O,L,q,Y,ce,we,Z,ie,le=Pe,Se=le.getVbyListEx;if(le.isASN1HEX(P)===!1)throw new Error("not ASN.1 hex string");try{O=Se(P,0,[2,0,1],"02"),L=Se(P,0,[2,0,2],"02"),q=Se(P,0,[2,0,3],"02"),Y=Se(P,0,[2,0,4],"02"),ce=Se(P,0,[2,0,5],"02"),we=Se(P,0,[2,0,6],"02"),Z=Se(P,0,[2,0,7],"02"),ie=Se(P,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(O,L,q,Y,ce,we,Z,ie)},qe.prototype.readPKCS5PubKeyHex=function(P){var O=Pe,L=O.getV;if(O.isASN1HEX(P)===!1)throw new Error("keyHex is not ASN.1 hex string");var q=O.getChildIdx(P,0);if(q.length!==2||P.substr(q[0],2)!=="02"||P.substr(q[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var Y=L(P,q[0]),ce=L(P,q[1]);this.setPublic(Y,ce)},qe.prototype.readPKCS8PubKeyHex=function(P){var O=Pe;if(O.isASN1HEX(P)===!1)throw new Error("not ASN.1 hex string");if(O.getTLVbyListEx(P,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var L=O.getTLVbyListEx(P,0,[1,0]);this.readPKCS5PubKeyHex(L)},qe.prototype.readCertPubKeyHex=function(P,O){var L,q;(L=new Wt).readCertHex(P),q=L.getPublicKeyHex(),this.readPKCS8PubKeyHex(q)};function Xe(P,O){for(var L="",q=O/4-P.length,Y=0;Y<q;Y++)L+="0";return L+P}function jt(P,O,L){for(var q="",Y=0;q.length<O;)q+=Nt(L(Lt(P+String.fromCharCode.apply(String,[(4278190080&Y)>>24,(16711680&Y)>>16,(65280&Y)>>8,255&Y])))),Y+=1;return q}function kt(P){for(var O in z.crypto.Util.DIGESTINFOHEAD){var L=z.crypto.Util.DIGESTINFOHEAD[O],q=L.length;if(P.substring(0,q)==L)return[O,P.substring(q)]}return[]}function Wt(P){var O,L=Pe,q=L.getChildIdx,Y=L.getV,ce=L.getTLV,we=L.getVbyList,Z=L.getVbyListEx,ie=L.getTLVbyList,le=L.getTLVbyListEx,Se=L.getIdxbyList,Re=L.getIdxbyListEx,De=L.getVidx,Ue=L.getInt,ze=L.oidname,Ye=L.hextooidstr,rt=je;try{O=z.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var ye=ie(this.hex,0,[0,0]);if(ye.substr(0,2)=="a0"){var Ne=ie(ye,0,[0]),Be=Ue(Ne,0);if(Be<0||2<Be)throw new Error("malformed version field");return this.version=Be+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Z(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var ye=le(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(ye)},this.getAlgorithmIdentifierName=function(ye){for(var Ne in O)if(ye===O[Ne])return Ne;return ze(Z(ye,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return ie(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return ie(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var ye=we(this.hex,0,[0,4+this.foffset,0]);return ye=ye.replace(/(..)/g,"%$1"),ye=decodeURIComponent(ye)},this.getNotAfter=function(){var ye=we(this.hex,0,[0,4+this.foffset,1]);return ye=ye.replace(/(..)/g,"%$1"),ye=decodeURIComponent(ye)},this.getPublicKeyHex=function(){return L.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Se(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var ye=this.getPublicKeyIdx();return Se(this.hex,ye,[1,0],"30")},this.getPublicKey=function(){return Qe.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var ye=ie(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(ye)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(ye){var Ne=this.getSignatureAlgorithmField(),Be=this.getSignatureValueHex(),$e=ie(this.hex,0,[0],"30"),Je=new z.crypto.Signature({alg:Ne});return Je.init(ye),Je.updateHex($e),Je.verify(Be)},this.parseExt=function(ye){var Ne,Be,$e;if(ye===void 0){if($e=this.hex,this.version!==3)return-1;Ne=Se($e,0,[0,7,0],"30"),Be=q($e,Ne)}else{$e=je(ye);var Je=Se($e,0,[0,3,0,0],"06");if(Y($e,Je)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);Ne=Se($e,0,[0,3,0,1,0],"30"),Be=q($e,Ne),this.hex=$e}this.aExtInfo=new Array;for(var it=0;it<Be.length;it++){var Vt={critical:!1},yt=0;q($e,Be[it]).length===3&&(Vt.critical=!0,yt=1),Vt.oid=L.hextooidstr(we($e,Be[it],[0],"06"));var cr=Se($e,Be[it],[1+yt]);Vt.vidx=De($e,cr),this.aExtInfo.push(Vt)}},this.getExtInfo=function(ye){var Ne=this.aExtInfo,Be=ye;if(ye.match(/^[0-9.]+$/)||(Be=z.asn1.x509.OID.name2oid(ye)),Be!==""){for(var $e=0;$e<Ne.length;$e++)if(Ne[$e].oid===Be)return Ne[$e]}},this.getExtBasicConstraints=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("basicConstraints");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"basicConstraints"};if(Ne&&($e.critical=!0),ye==="3000")return $e;if(ye==="30030101ff")return $e.cA=!0,$e;if(ye.substr(0,12)==="30060101ff02"){var Je=Y(ye,10),it=parseInt(Je,16);return $e.cA=!0,$e.pathLen=it,$e}throw new Error("hExtV parse error: "+ye)},this.getExtKeyUsage=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("keyUsage");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"keyUsage"};return Ne&&($e.critical=!0),$e.names=this.getExtKeyUsageString(ye).split(","),$e},this.getExtKeyUsageBin=function(ye){if(ye===void 0){var Ne=this.getExtInfo("keyUsage");if(Ne===void 0)return"";ye=ce(this.hex,Ne.vidx)}if(ye.length!=8&&ye.length!=10)throw new Error("malformed key usage value: "+ye);var Be="000000000000000"+parseInt(ye.substr(6),16).toString(2);return ye.length==8&&(Be=Be.slice(-8)),ye.length==10&&(Be=Be.slice(-16)),(Be=Be.replace(/0+$/,""))==""&&(Be="0"),Be},this.getExtKeyUsageString=function(ye){for(var Ne=this.getExtKeyUsageBin(ye),Be=new Array,$e=0;$e<Ne.length;$e++)Ne.substr($e,1)=="1"&&Be.push(Wt.KEYUSAGE_NAME[$e]);return Be.join(",")},this.getExtSubjectKeyIdentifier=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("subjectKeyIdentifier");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"subjectKeyIdentifier"};Ne&&($e.critical=!0);var Je=Y(ye,0);return $e.kid={hex:Je},$e},this.getExtAuthorityKeyIdentifier=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("authorityKeyIdentifier");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"authorityKeyIdentifier"};Ne&&($e.critical=!0);for(var Je=q(ye,0),it=0;it<Je.length;it++){var Vt=ye.substr(Je[it],2);if(Vt==="80"&&($e.kid={hex:Y(ye,Je[it])}),Vt==="a1"){var yt=ce(ye,Je[it]),cr=this.getGeneralNames(yt);$e.issuer=cr[0].dn}Vt==="82"&&($e.sn={hex:Y(ye,Je[it])})}return $e},this.getExtExtKeyUsage=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("extKeyUsage");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"extKeyUsage",array:[]};Ne&&($e.critical=!0);for(var Je=q(ye,0),it=0;it<Je.length;it++)$e.array.push(ze(Y(ye,Je[it])));return $e},this.getExtExtKeyUsageName=function(){var ye=this.getExtInfo("extKeyUsage");if(ye===void 0)return ye;var Ne=new Array,Be=ce(this.hex,ye.vidx);if(Be==="")return Ne;for(var $e=q(Be,0),Je=0;Je<$e.length;Je++)Ne.push(ze(Y(Be,$e[Je])));return Ne},this.getExtSubjectAltName=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("subjectAltName");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"subjectAltName",array:[]};return Ne&&($e.critical=!0),$e.array=this.getGeneralNames(ye),$e},this.getExtIssuerAltName=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("issuerAltName");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"issuerAltName",array:[]};return Ne&&($e.critical=!0),$e.array=this.getGeneralNames(ye),$e},this.getGeneralNames=function(ye){for(var Ne=q(ye,0),Be=[],$e=0;$e<Ne.length;$e++){var Je=this.getGeneralName(ce(ye,Ne[$e]));Je!==void 0&&Be.push(Je)}return Be},this.getGeneralName=function(ye){var Ne=ye.substr(0,2),Be=Y(ye,0),$e=Nt(Be);return Ne=="81"?{rfc822:$e}:Ne=="82"?{dns:$e}:Ne=="86"?{uri:$e}:Ne=="87"?{ip:Qt(Be)}:Ne=="a4"?{dn:this.getX500Name(Be)}:void 0},this.getExtSubjectAltName2=function(){var ye,Ne,Be,$e=this.getExtInfo("subjectAltName");if($e===void 0)return $e;for(var Je=new Array,it=ce(this.hex,$e.vidx),Vt=q(it,0),yt=0;yt<Vt.length;yt++)Be=it.substr(Vt[yt],2),ye=Y(it,Vt[yt]),Be==="81"&&(Ne=xt(ye),Je.push(["MAIL",Ne])),Be==="82"&&(Ne=xt(ye),Je.push(["DNS",Ne])),Be==="84"&&(Ne=Wt.hex2dn(ye,0),Je.push(["DN",Ne])),Be==="86"&&(Ne=xt(ye),Je.push(["URI",Ne])),Be==="87"&&(Ne=Qt(ye),Je.push(["IP",Ne]));return Je},this.getExtCRLDistributionPoints=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("cRLDistributionPoints");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"cRLDistributionPoints",array:[]};Ne&&($e.critical=!0);for(var Je=q(ye,0),it=0;it<Je.length;it++){var Vt=ce(ye,Je[it]);$e.array.push(this.getDistributionPoint(Vt))}return $e},this.getDistributionPoint=function(ye){for(var Ne={},Be=q(ye,0),$e=0;$e<Be.length;$e++){var Je=ye.substr(Be[$e],2),it=ce(ye,Be[$e]);Je=="a0"&&(Ne.dpname=this.getDistributionPointName(it))}return Ne},this.getDistributionPointName=function(ye){for(var Ne={},Be=q(ye,0),$e=0;$e<Be.length;$e++){var Je=ye.substr(Be[$e],2),it=ce(ye,Be[$e]);Je=="a0"&&(Ne.full=this.getGeneralNames(it))}return Ne},this.getExtCRLDistributionPointsURI=function(){var ye=this.getExtInfo("cRLDistributionPoints");if(ye===void 0)return ye;for(var Ne=new Array,Be=q(this.hex,ye.vidx),$e=0;$e<Be.length;$e++)try{var Je=xt(we(this.hex,Be[$e],[0,0,0],"86"));Ne.push(Je)}catch{}return Ne},this.getExtAIAInfo=function(){var ye=this.getExtInfo("authorityInfoAccess");if(ye===void 0)return ye;for(var Ne={ocsp:[],caissuer:[]},Be=q(this.hex,ye.vidx),$e=0;$e<Be.length;$e++){var Je=we(this.hex,Be[$e],[0],"06"),it=we(this.hex,Be[$e],[1],"86");Je==="2b06010505073001"&&Ne.ocsp.push(xt(it)),Je==="2b06010505073002"&&Ne.caissuer.push(xt(it))}return Ne},this.getExtAuthorityInfoAccess=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("authorityInfoAccess");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"authorityInfoAccess",array:[]};Ne&&($e.critical=!0);for(var Je=q(ye,0),it=0;it<Je.length;it++){var Vt=Z(ye,Je[it],[0],"06"),yt=xt(we(ye,Je[it],[1],"86"));if(Vt=="2b06010505073001")$e.array.push({ocsp:yt});else{if(Vt!="2b06010505073002")throw new Error("unknown method: "+Vt);$e.array.push({caissuer:yt})}}return $e},this.getExtCertificatePolicies=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("certificatePolicies");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"certificatePolicies",array:[]};Ne&&($e.critical=!0);for(var Je=q(ye,0),it=0;it<Je.length;it++){var Vt=ce(ye,Je[it]),yt=this.getPolicyInformation(Vt);$e.array.push(yt)}return $e},this.getPolicyInformation=function(ye){var Ne={},Be=we(ye,0,[0],"06");Ne.policyoid=ze(Be);var $e=Re(ye,0,[1],"30");if($e!=-1){Ne.array=[];for(var Je=q(ye,$e),it=0;it<Je.length;it++){var Vt=ce(ye,Je[it]),yt=this.getPolicyQualifierInfo(Vt);Ne.array.push(yt)}}return Ne},this.getPolicyQualifierInfo=function(ye){var Ne={},Be=we(ye,0,[0],"06");if(Be==="2b06010505070201"){var $e=Z(ye,0,[1],"16");Ne.cps=Nt($e)}else if(Be==="2b06010505070202"){var Je=ie(ye,0,[1],"30");Ne.unotice=this.getUserNotice(Je)}return Ne},this.getUserNotice=function(ye){for(var Ne={},Be=q(ye,0),$e=0;$e<Be.length;$e++){var Je=ce(ye,Be[$e]);Je.substr(0,2)!="30"&&(Ne.exptext=this.getDisplayText(Je))}return Ne},this.getDisplayText=function(ye){var Ne={};return Ne.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[ye.substr(0,2)],Ne.str=Nt(Y(ye,0)),Ne},this.getExtCRLNumber=function(ye,Ne){var Be={extname:"cRLNumber"};if(Ne&&(Be.critical=!0),ye.substr(0,2)=="02")return Be.num={hex:Y(ye,0)},Be;throw new Error("hExtV parse error: "+ye)},this.getExtCRLReason=function(ye,Ne){var Be={extname:"cRLReason"};if(Ne&&(Be.critical=!0),ye.substr(0,2)=="0a")return Be.code=parseInt(Y(ye,0),16),Be;throw new Error("hExtV parse error: "+ye)},this.getExtOcspNonce=function(ye,Ne){var Be={extname:"ocspNonce"};Ne&&(Be.critical=!0);var $e=Y(ye,0);return Be.hex=$e,Be},this.getExtOcspNoCheck=function(ye,Ne){var Be={extname:"ocspNoCheck"};return Ne&&(Be.critical=!0),Be},this.getExtAdobeTimeStamp=function(ye,Ne){if(ye===void 0&&Ne===void 0){var Be=this.getExtInfo("adobeTimeStamp");if(Be===void 0)return;ye=ce(this.hex,Be.vidx),Ne=Be.critical}var $e={extname:"adobeTimeStamp"};Ne&&($e.critical=!0);var Je=q(ye,0);if(Je.length>1){var it=ce(ye,Je[1]),Vt=this.getGeneralName(it);Vt.uri!=null&&($e.uri=Vt.uri)}if(Je.length>2){var yt=ce(ye,Je[2]);yt=="0101ff"&&($e.reqauth=!0),yt=="010100"&&($e.reqauth=!1)}return $e},this.getX500NameRule=function(ye){for(var Ne=null,Be=[],$e=0;$e<ye.length;$e++)for(var Je=ye[$e],it=0;it<Je.length;it++)Be.push(Je[it]);for($e=0;$e<Be.length;$e++){var Vt=Be[$e],yt=Vt.ds,cr=Vt.value,Ut=Vt.type;if(yt!="prn"&&yt!="utf8"&&yt!="ia5")return"mixed";if(yt=="ia5"){if(Ut!="CN")return"mixed";if(z.lang.String.isMail(cr))continue;return"mixed"}if(Ut=="C"){if(yt=="prn")continue;return"mixed"}if(Ne==null)Ne=yt;else if(Ne!==yt)return"mixed"}return Ne??"prn"},this.getX500Name=function(ye){var Ne=this.getX500NameArray(ye);return{array:Ne,str:this.dnarraytostr(Ne)}},this.getX500NameArray=function(ye){for(var Ne=[],Be=q(ye,0),$e=0;$e<Be.length;$e++)Ne.push(this.getRDN(ce(ye,Be[$e])));return Ne},this.getRDN=function(ye){for(var Ne=[],Be=q(ye,0),$e=0;$e<Be.length;$e++)Ne.push(this.getAttrTypeAndValue(ce(ye,Be[$e])));return Ne},this.getAttrTypeAndValue=function(ye){var Ne={type:null,value:null,ds:null},Be=q(ye,0),$e=we(ye,Be[0],[],"06"),Je=we(ye,Be[1],[]),it=z.asn1.ASN1Util.oidHexToInt($e);return Ne.type=z.asn1.x509.OID.oid2atype(it),Ne.ds=this.HEX2STAG[ye.substr(Be[1],2)],Ne.ds!="bmp"?Ne.value=xt(Je):Ne.value=gr(Je),Ne},this.readCertPEM=function(ye){this.readCertHex(rt(ye))},this.readCertHex=function(ye){this.hex=ye,this.getVersion();try{Se(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var ye={};return ye.version=this.getVersion(),ye.serial={hex:this.getSerialNumberHex()},ye.sigalg=this.getSignatureAlgorithmField(),ye.issuer=this.getIssuer(),ye.notbefore=this.getNotBefore(),ye.notafter=this.getNotAfter(),ye.subject=this.getSubject(),ye.sbjpubkey=he(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(ye.ext=this.getExtParamArray()),ye.sighex=this.getSignatureValueHex(),ye},this.getExtParamArray=function(ye){ye==null&&Re(this.hex,0,[0,"[3]"])!=-1&&(ye=le(this.hex,0,[0,"[3]",0],"30"));for(var Ne=[],Be=q(ye,0),$e=0;$e<Be.length;$e++){var Je=ce(ye,Be[$e]),it=this.getExtParam(Je);it!=null&&Ne.push(it)}return Ne},this.getExtParam=function(ye){var Ne=q(ye,0).length;if(Ne!=2&&Ne!=3)throw new Error("wrong number elements in Extension: "+Ne+" "+ye);var Be=Ye(we(ye,0,[0],"06")),$e=!1;Ne==3&&ie(ye,0,[1])=="0101ff"&&($e=!0);var Je=ie(ye,0,[Ne-1,0]),it=void 0;if(Be=="2.5.29.14"?it=this.getExtSubjectKeyIdentifier(Je,$e):Be=="2.5.29.15"?it=this.getExtKeyUsage(Je,$e):Be=="2.5.29.17"?it=this.getExtSubjectAltName(Je,$e):Be=="2.5.29.18"?it=this.getExtIssuerAltName(Je,$e):Be=="2.5.29.19"?it=this.getExtBasicConstraints(Je,$e):Be=="2.5.29.31"?it=this.getExtCRLDistributionPoints(Je,$e):Be=="2.5.29.32"?it=this.getExtCertificatePolicies(Je,$e):Be=="2.5.29.35"?it=this.getExtAuthorityKeyIdentifier(Je,$e):Be=="2.5.29.37"?it=this.getExtExtKeyUsage(Je,$e):Be=="1.3.6.1.5.5.7.1.1"?it=this.getExtAuthorityInfoAccess(Je,$e):Be=="2.5.29.20"?it=this.getExtCRLNumber(Je,$e):Be=="2.5.29.21"?it=this.getExtCRLReason(Je,$e):Be=="1.3.6.1.5.5.7.48.1.2"?it=this.getExtOcspNonce(Je,$e):Be=="1.3.6.1.5.5.7.48.1.5"?it=this.getExtOcspNoCheck(Je,$e):Be=="1.2.840.113583.1.1.9.1"&&(it=this.getExtAdobeTimeStamp(Je,$e)),it!=null)return it;var Vt={extname:Be,extn:Je};return $e&&(Vt.critical=!0),Vt},this.findExt=function(ye,Ne){for(var Be=0;Be<ye.length;Be++)if(ye[Be].extname==Ne)return ye[Be];return null},this.updateExtCDPFullURI=function(ye,Ne){var Be=this.findExt(ye,"cRLDistributionPoints");if(Be!=null&&Be.array!=null){for(var $e=Be.array,Je=0;Je<$e.length;Je++)if($e[Je].dpname!=null&&$e[Je].dpname.full!=null)for(var it=$e[Je].dpname.full,Vt=0;Vt<it.length;Vt++){var yt=it[Je];yt.uri!=null&&(yt.uri=Ne)}}},this.updateExtAIAOCSP=function(ye,Ne){var Be=this.findExt(ye,"authorityInfoAccess");if(Be!=null&&Be.array!=null)for(var $e=Be.array,Je=0;Je<$e.length;Je++)$e[Je].ocsp!=null&&($e[Je].ocsp=Ne)},this.updateExtAIACAIssuer=function(ye,Ne){var Be=this.findExt(ye,"authorityInfoAccess");if(Be!=null&&Be.array!=null)for(var $e=Be.array,Je=0;Je<$e.length;Je++)$e[Je].caissuer!=null&&($e[Je].caissuer=Ne)},this.dnarraytostr=function(ye){return"/"+ye.map(function(Ne){return function($e){return $e.map(function(Je){return function(Vt){return Vt.type+"="+Vt.value}(Je).replace(/\+/,"\\+")}).join("+")}(Ne).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var ye,Ne,Be,$e=function(Fn){return JSON.stringify(Fn.array).replace(/[\[\]\{\}\"]/g,"")},Je=function(Fn){for(var Kn="",bi=Fn.array,hn=0;hn<bi.length;hn++){var ln=bi[hn];if(Kn+="    policy oid: "+ln.policyoid+`
`,ln.array!==void 0)for(var ai=0;ai<ln.array.length;ai++){var _i=ln.array[ai];_i.cps!==void 0&&(Kn+="    cps: "+_i.cps+`
`)}}return Kn},it=function(Fn){for(var Kn="",bi=Fn.array,hn=0;hn<bi.length;hn++){var ln=bi[hn];try{ln.dpname.full[0].uri!==void 0&&(Kn+="    "+ln.dpname.full[0].uri+`
`)}catch{}try{ln.dname.full[0].dn.hex!==void 0&&(Kn+="    "+Wt.hex2dn(ln.dpname.full[0].dn.hex)+`
`)}catch{}}return Kn},Vt=function(Fn){for(var Kn="",bi=Fn.array,hn=0;hn<bi.length;hn++){var ln=bi[hn];ln.caissuer!==void 0&&(Kn+="    caissuer: "+ln.caissuer+`
`),ln.ocsp!==void 0&&(Kn+="    ocsp: "+ln.ocsp+`
`)}return Kn};if(ye=`Basic Fields
`,ye+="  serial number: "+this.getSerialNumberHex()+`
`,ye+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,ye+="  issuer: "+this.getIssuerString()+`
`,ye+="  notBefore: "+this.getNotBefore()+`
`,ye+="  notAfter: "+this.getNotAfter()+`
`,ye+="  subject: "+this.getSubjectString()+`
`,ye+=`  subject public key info: 
`,ye+="    key algorithm: "+(Ne=this.getPublicKey()).type+`
`,Ne.type==="RSA"&&(ye+="    n="+Hn(Ne.n.toString(16)).substr(0,16)+`...
`,ye+="    e="+Hn(Ne.e.toString(16))+`
`),(Be=this.aExtInfo)!=null){ye+=`X509v3 Extensions:
`;for(var yt=0;yt<Be.length;yt++){var cr=Be[yt],Ut=z.asn1.x509.OID.oid2name(cr.oid);Ut===""&&(Ut=cr.oid);var tr="";if(cr.critical===!0&&(tr="CRITICAL"),ye+="  "+Ut+" "+tr+`:
`,Ut==="basicConstraints"){var ar=this.getExtBasicConstraints();ar.cA===void 0?ye+=`    {}
`:(ye+="    cA=true",ar.pathLen!==void 0&&(ye+=", pathLen="+ar.pathLen),ye+=`
`)}else if(Ut==="keyUsage")ye+="    "+this.getExtKeyUsageString()+`
`;else if(Ut==="subjectKeyIdentifier")ye+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ut==="authorityKeyIdentifier"){var Ar=this.getExtAuthorityKeyIdentifier();Ar.kid!==void 0&&(ye+="    kid="+Ar.kid.hex+`
`)}else Ut==="extKeyUsage"?ye+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ut==="subjectAltName"?ye+="    "+$e(this.getExtSubjectAltName())+`
`:Ut==="cRLDistributionPoints"?ye+=it(this.getExtCRLDistributionPoints()):Ut==="authorityInfoAccess"?ye+=Vt(this.getExtAuthorityInfoAccess()):Ut==="certificatePolicies"&&(ye+=Je(this.getExtCertificatePolicies()))}}return ye+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,ye+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof P=="string"&&(P.indexOf("-----BEGIN")!=-1?this.readCertPEM(P):z.lang.String.isHex(P)&&this.readCertHex(P))}qe.prototype.sign=function(P,O){var L=function(Y){return z.crypto.Util.hashString(Y,O)}(P);return this.signWithMessageHash(L,O)},qe.prototype.signWithMessageHash=function(P,O){var L=Ve(z.crypto.Util.getPaddedDigestInfoHex(P,O,this.n.bitLength()),16);return Xe(this.doPrivate(L).toString(16),this.n.bitLength())},qe.prototype.signPSS=function(P,O,L){var q=function(ce){return z.crypto.Util.hashHex(ce,O)}(Lt(P));return L===void 0&&(L=-1),this.signWithMessageHashPSS(q,O,L)},qe.prototype.signWithMessageHashPSS=function(P,O,L){var q,Y=Nt(P),ce=Y.length,we=this.n.bitLength()-1,Z=Math.ceil(we/8),ie=function(ye){return z.crypto.Util.hashHex(ye,O)};if(L===-1||L===void 0)L=ce;else if(L===-2)L=Z-ce-2;else if(L<-2)throw new Error("invalid salt length");if(Z<ce+L+2)throw new Error("data too long");var le="";L>0&&(le=new Array(L),new Ae().nextBytes(le),le=String.fromCharCode.apply(String,le));var Se=Nt(ie(Lt("\0\0\0\0\0\0\0\0"+Y+le))),Re=[];for(q=0;q<Z-L-ce-2;q+=1)Re[q]=0;var De=String.fromCharCode.apply(String,Re)+""+le,Ue=jt(Se,De.length,ie),ze=[];for(q=0;q<De.length;q+=1)ze[q]=De.charCodeAt(q)^Ue.charCodeAt(q);var Ye=65280>>8*Z-we&255;for(ze[0]&=~Ye,q=0;q<ce;q++)ze.push(Se.charCodeAt(q));return ze.push(188),Xe(this.doPrivate(new A(ze)).toString(16),this.n.bitLength())},qe.prototype.verify=function(P,O){if((O=O.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var L=Ve(O,16),q=this.n.bitLength();if(L.bitLength()>q)return!1;var Y=this.doPublic(L).toString(16);if(Y.length+3!=q/4)return!1;var ce=kt(Y.replace(/^1f+00/,""));if(ce.length==0)return!1;var we=ce[0];return ce[1]==function(ie){return z.crypto.Util.hashString(ie,we)}(P)},qe.prototype.verifyWithMessageHash=function(P,O){if(O.length!=Math.ceil(this.n.bitLength()/4))return!1;var L=Ve(O,16);if(L.bitLength()>this.n.bitLength())return 0;var q=kt(this.doPublic(L).toString(16).replace(/^1f+00/,""));return q.length==0?!1:(q[0],q[1]==P)},qe.prototype.verifyPSS=function(P,O,L,q){var Y=function(we){return z.crypto.Util.hashHex(we,L)}(Lt(P));return q===void 0&&(q=-1),this.verifyWithMessageHashPSS(Y,O,L,q)},qe.prototype.verifyWithMessageHashPSS=function(P,O,L,q){if(O.length!=Math.ceil(this.n.bitLength()/4))return!1;var Y,ce=new A(O,16),we=function(Be){return z.crypto.Util.hashHex(Be,L)},Z=Nt(P),ie=Z.length,le=this.n.bitLength()-1,Se=Math.ceil(le/8);if(q===-1||q===void 0)q=ie;else if(q===-2)q=Se-ie-2;else if(q<-2)throw new Error("invalid salt length");if(Se<ie+q+2)throw new Error("data too long");var Re=this.doPublic(ce).toByteArray();for(Y=0;Y<Re.length;Y+=1)Re[Y]&=255;for(;Re.length<Se;)Re.unshift(0);if(Re[Se-1]!==188)throw new Error("encoded message does not end in 0xbc");var De=(Re=String.fromCharCode.apply(String,Re)).substr(0,Se-ie-1),Ue=Re.substr(De.length,ie),ze=65280>>8*Se-le&255;if((De.charCodeAt(0)&ze)!=0)throw new Error("bits beyond keysize not zero");var Ye=jt(Ue,De.length,we),rt=[];for(Y=0;Y<De.length;Y+=1)rt[Y]=De.charCodeAt(Y)^Ye.charCodeAt(Y);rt[0]&=~ze;var ye=Se-ie-q-2;for(Y=0;Y<ye;Y+=1)if(rt[Y]!==0)throw new Error("leftmost octets not zero");if(rt[ye]!==1)throw new Error("0x01 marker not found");return Ue===Nt(we(Lt("\0\0\0\0\0\0\0\0"+Z+String.fromCharCode.apply(String,rt.slice(-q)))))},qe.SALT_LEN_HLEN=-1,qe.SALT_LEN_MAX=-2,qe.SALT_LEN_RECOVER=-2,Wt.hex2dn=function(P,O){O===void 0&&(O=0);var L=new Wt;return Pe.getTLV(P,O),L.getX500Name(P).str},Wt.hex2rdn=function(P,O){if(O===void 0&&(O=0),P.substr(O,2)!=="31")throw new Error("malformed RDN");for(var L=new Array,q=Pe.getChildIdx(P,O),Y=0;Y<q.length;Y++)L.push(Wt.hex2attrTypeValue(P,q[Y]));return(L=L.map(function(ce){return ce.replace("+","\\+")})).join("+")},Wt.hex2attrTypeValue=function(P,O){var L=Pe,q=L.getV;if(O===void 0&&(O=0),P.substr(O,2)!=="30")throw new Error("malformed attribute type and value");var Y=L.getChildIdx(P,O);Y.length!==2||P.substr(Y[0],2);var ce=q(P,Y[0]),we=z.asn1.ASN1Util.oidHexToInt(ce);return z.asn1.x509.OID.oid2atype(we)+"="+Nt(q(P,Y[1]))},Wt.getPublicKeyFromCertHex=function(P){var O=new Wt;return O.readCertHex(P),O.getPublicKey()},Wt.getPublicKeyFromCertPEM=function(P){var O=new Wt;return O.readCertPEM(P),O.getPublicKey()},Wt.getPublicKeyInfoPropOfCertPEM=function(P){var O,L,q=Pe.getVbyList,Y={};return Y.algparam=null,(O=new Wt).readCertPEM(P),L=O.getPublicKeyHex(),Y.keyhex=q(L,0,[1],"03").substr(2),Y.algoid=q(L,0,[0,0],"06"),Y.algoid==="2a8648ce3d0201"&&(Y.algparam=q(L,0,[0,1],"06")),Y},Wt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],z!==void 0&&z||(r.KJUR=z={}),z.jws!==void 0&&z.jws||(z.jws={}),z.jws.JWS=function(){var P=z.jws.JWS.isSafeJSONString;this.parseJWS=function(O,L){if(this.parsedJWS===void 0||!L&&this.parsedJWS.sigvalH===void 0){var q=O.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(q==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var Y=q[1],ce=q[2],we=q[3],Z=Y+"."+ce;if(this.parsedJWS={},this.parsedJWS.headB64U=Y,this.parsedJWS.payloadB64U=ce,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Z,!L){var ie=st(we),le=Ve(ie,16);this.parsedJWS.sigvalH=ie,this.parsedJWS.sigvalBI=le}var Se=ke(Y),Re=ke(ce);if(this.parsedJWS.headS=Se,this.parsedJWS.payloadS=Re,!P(Se,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Se}}},z.jws.JWS.sign=function(P,O,L,q,Y){var ce,we,Z,ie=z,le=ie.jws.JWS,Se=le.readSafeJSONString,Re=le.isSafeJSONString,De=ie.crypto,Ue=(De.ECDSA,De.Mac),ze=De.Signature,Ye=JSON;if(typeof O!="string"&&(O===void 0?"undefined":y(O))!="object")throw"spHeader must be JSON string or object: "+O;if((O===void 0?"undefined":y(O))=="object"&&(we=O,ce=Ye.stringify(we)),typeof O=="string"){if(!Re(ce=O))throw"JWS Head is not safe JSON string: "+ce;we=Se(ce)}if(Z=L,(L===void 0?"undefined":y(L))=="object"&&(Z=Ye.stringify(L)),P!=""&&P!=null||we.alg===void 0||(P=we.alg),P!=""&&P!=null&&we.alg===void 0&&(we.alg=P,ce=Ye.stringify(we)),P!==we.alg)throw"alg and sHeader.alg doesn't match: "+P+"!="+we.alg;var rt=null;if(le.jwsalg2sigalg[P]===void 0)throw"unsupported alg name: "+P;rt=le.jwsalg2sigalg[P];var ye=be(ce)+"."+be(Z),Ne="";if(rt.substr(0,4)=="Hmac"){if(q===void 0)throw"mac key shall be specified for HS* alg";var Be=new Ue({alg:rt,prov:"cryptojs",pass:q});Be.updateString(ye),Ne=Be.doFinal()}else if(rt.indexOf("withECDSA")!=-1){(Je=new ze({alg:rt})).init(q,Y),Je.updateString(ye);var $e=Je.sign();Ne=z.crypto.ECDSA.asn1SigToConcatSig($e)}else{var Je;rt!="none"&&((Je=new ze({alg:rt})).init(q,Y),Je.updateString(ye),Ne=Je.sign())}return ye+"."+Ze(Ne)},z.jws.JWS.verify=function(P,O,L){var q,Y=z,ce=Y.jws.JWS,we=ce.readSafeJSONString,Z=Y.crypto,ie=Z.ECDSA,le=Z.Mac,Se=Z.Signature;y(qe)!==void 0&&(q=qe);var Re=P.split(".");if(Re.length!==3)return!1;var De=Re[0]+"."+Re[1],Ue=st(Re[2]),ze=we(ke(Re[0])),Ye=null,rt=null;if(ze.alg===void 0)throw"algorithm not specified in header";if(rt=(Ye=ze.alg).substr(0,2),L!=null&&Object.prototype.toString.call(L)==="[object Array]"&&L.length>0&&(":"+L.join(":")+":").indexOf(":"+Ye+":")==-1)throw"algorithm '"+Ye+"' not accepted in the list";if(Ye!="none"&&O===null)throw"key shall be specified to verify.";if(typeof O=="string"&&O.indexOf("-----BEGIN ")!=-1&&(O=Qe.getKey(O)),!(rt!="RS"&&rt!="PS"||O instanceof q))throw"key shall be a RSAKey obj for RS* and PS* algs";if(rt=="ES"&&!(O instanceof ie))throw"key shall be a ECDSA obj for ES* algs";var ye=null;if(ce.jwsalg2sigalg[ze.alg]===void 0)throw"unsupported alg name: "+Ye;if((ye=ce.jwsalg2sigalg[Ye])=="none")throw"not supported";if(ye.substr(0,4)=="Hmac"){if(O===void 0)throw"hexadecimal key shall be specified for HMAC";var Ne=new le({alg:ye,pass:O});return Ne.updateString(De),Ue==Ne.doFinal()}if(ye.indexOf("withECDSA")!=-1){var Be,$e=null;try{$e=ie.concatSigToASN1Sig(Ue)}catch{return!1}return(Be=new Se({alg:ye})).init(O),Be.updateString(De),Be.verify($e)}return(Be=new Se({alg:ye})).init(O),Be.updateString(De),Be.verify(Ue)},z.jws.JWS.parse=function(P){var O,L,q,Y=P.split("."),ce={};if(Y.length!=2&&Y.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return O=Y[0],L=Y[1],Y.length==3&&(q=Y[2]),ce.headerObj=z.jws.JWS.readSafeJSONString(ke(O)),ce.payloadObj=z.jws.JWS.readSafeJSONString(ke(L)),ce.headerPP=JSON.stringify(ce.headerObj,null,"  "),ce.payloadObj==null?ce.payloadPP=ke(L):ce.payloadPP=JSON.stringify(ce.payloadObj,null,"  "),q!==void 0&&(ce.sigHex=st(q)),ce},z.jws.JWS.verifyJWT=function(P,O,L){var q=z.jws,Y=q.JWS,ce=Y.readSafeJSONString,we=Y.inArray,Z=Y.includedArray,ie=P.split("."),le=ie[0],Se=ie[1],Re=(st(ie[2]),ce(ke(le))),De=ce(ke(Se));if(Re.alg===void 0)return!1;if(L.alg===void 0)throw"acceptField.alg shall be specified";if(!we(Re.alg,L.alg)||De.iss!==void 0&&y(L.iss)==="object"&&!we(De.iss,L.iss)||De.sub!==void 0&&y(L.sub)==="object"&&!we(De.sub,L.sub))return!1;if(De.aud!==void 0&&y(L.aud)==="object"){if(typeof De.aud=="string"){if(!we(De.aud,L.aud))return!1}else if(y(De.aud)=="object"&&!Z(De.aud,L.aud))return!1}var Ue=q.IntDate.getNow();return L.verifyAt!==void 0&&typeof L.verifyAt=="number"&&(Ue=L.verifyAt),L.gracePeriod!==void 0&&typeof L.gracePeriod=="number"||(L.gracePeriod=0),!(De.exp!==void 0&&typeof De.exp=="number"&&De.exp+L.gracePeriod<Ue)&&!(De.nbf!==void 0&&typeof De.nbf=="number"&&Ue<De.nbf-L.gracePeriod)&&!(De.iat!==void 0&&typeof De.iat=="number"&&Ue<De.iat-L.gracePeriod)&&(De.jti===void 0||L.jti===void 0||De.jti===L.jti)&&!!Y.verify(P,O,L.alg)},z.jws.JWS.includedArray=function(P,O){var L=z.jws.JWS.inArray;if(P===null||(P===void 0?"undefined":y(P))!=="object"||typeof P.length!="number")return!1;for(var q=0;q<P.length;q++)if(!L(P[q],O))return!1;return!0},z.jws.JWS.inArray=function(P,O){if(O===null||(O===void 0?"undefined":y(O))!=="object"||typeof O.length!="number")return!1;for(var L=0;L<O.length;L++)if(O[L]==P)return!0;return!1},z.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},z.jws.JWS.isSafeJSONString=function(P,O,L){var q=null;try{return((q=K(P))===void 0?"undefined":y(q))!="object"||q.constructor===Array?0:(O&&(O[L]=q),1)}catch{return 0}},z.jws.JWS.readSafeJSONString=function(P){var O=null;try{return((O=K(P))===void 0?"undefined":y(O))!="object"||O.constructor===Array?null:O}catch{return null}},z.jws.JWS.getEncodedSignatureValueFromJWS=function(P){var O=P.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(O==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return O[1]},z.jws.JWS.getJWKthumbprint=function(P){if(P.kty!=="RSA"&&P.kty!=="EC"&&P.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var O="{";if(P.kty==="RSA"){if(typeof P.n!="string"||typeof P.e!="string")throw"wrong n and e value for RSA key";O+='"e":"'+P.e+'",',O+='"kty":"'+P.kty+'",',O+='"n":"'+P.n+'"}'}else if(P.kty==="EC"){if(typeof P.crv!="string"||typeof P.x!="string"||typeof P.y!="string")throw"wrong crv, x and y value for EC key";O+='"crv":"'+P.crv+'",',O+='"kty":"'+P.kty+'",',O+='"x":"'+P.x+'",',O+='"y":"'+P.y+'"}'}else if(P.kty==="oct"){if(typeof P.k!="string")throw"wrong k value for oct(symmetric) key";O+='"kty":"'+P.kty+'",',O+='"k":"'+P.k+'"}'}var L=Lt(O);return Ze(z.crypto.Util.hashHex(L,"sha256"))},z.jws.IntDate={},z.jws.IntDate.get=function(P){var O=z.jws.IntDate,L=O.getNow,q=O.getZulu;if(P=="now")return L();if(P=="now + 1hour")return L()+3600;if(P=="now + 1day")return L()+86400;if(P=="now + 1month")return L()+2592e3;if(P=="now + 1year")return L()+31536e3;if(P.match(/Z$/))return q(P);if(P.match(/^[0-9]+$/))return parseInt(P);throw"unsupported format: "+P},z.jws.IntDate.getZulu=function(P){return Et(P)},z.jws.IntDate.getNow=function(){return~~(new Date/1e3)},z.jws.IntDate.intDate2UTCString=function(P){return new Date(1e3*P).toUTCString()},z.jws.IntDate.intDate2Zulu=function(P){var O=new Date(1e3*P);return("0000"+O.getUTCFullYear()).slice(-4)+("00"+(O.getUTCMonth()+1)).slice(-2)+("00"+O.getUTCDate()).slice(-2)+("00"+O.getUTCHours()).slice(-2)+("00"+O.getUTCMinutes()).slice(-2)+("00"+O.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=Ae,r.rng_seed_time=Q,r.BigInteger=A,r.RSAKey=qe;var Br=z.crypto.EDSA;r.EDSA=Br;var Yr=z.crypto.DSA;r.DSA=Yr;var Ua=z.crypto.Signature;r.Signature=Ua;var xi=z.crypto.MessageDigest;r.MessageDigest=xi;var an=z.crypto.Mac;r.Mac=an;var Gi=z.crypto.Cipher;r.Cipher=Gi,r.KEYUTIL=Qe,r.ASN1HEX=Pe,r.X509=Wt,r.CryptoJS=_,r.b64tohex=F,r.b64toBA=D,r.stoBA=dt,r.BAtos=pt,r.BAtohex=tt,r.stohex=At,r.stob64=function(O){return R(At(O))},r.stob64u=function(O){return ve(R(At(O)))},r.b64utos=function(O){return pt(D(et(O)))},r.b64tob64u=ve,r.b64utob64=et,r.hex2b64=R,r.hextob64u=Ze,r.b64utohex=st,r.utf8tob64u=be,r.b64utoutf8=ke,r.utf8tob64=function(O){return R(lt(Zt(O)))},r.b64toutf8=function(O){return decodeURIComponent(qt(F(O)))},r.utf8tohex=ut,r.hextoutf8=xt,r.hextorstr=Nt,r.rstrtohex=Lt,r.hextob64=er,r.hextob64nl=Ie,r.b64nltohex=U,r.hextopem=he,r.pemtohex=je,r.hextoArrayBuffer=function(O){if(O.length%2!=0)throw"input is not even length";if(O.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var L=new ArrayBuffer(O.length/2),q=new DataView(L),Y=0;Y<O.length/2;Y++)q.setUint8(Y,parseInt(O.substr(2*Y,2),16));return L},r.ArrayBuffertohex=function(O){for(var L="",q=new DataView(O),Y=0;Y<O.byteLength;Y++)L+=("00"+q.getUint8(Y).toString(16)).slice(-2);return L},r.zulutomsec=Ke,r.zulutosec=Et,r.zulutodate=function(O){return new Date(Ke(O))},r.datetozulu=function(O,L,q){var Y,ce=O.getUTCFullYear();if(L){if(ce<1950||2049<ce)throw"not proper year for UTCTime: "+ce;Y=(""+ce).slice(-2)}else Y=("000"+ce).slice(-4);if(Y+=("0"+(O.getUTCMonth()+1)).slice(-2),Y+=("0"+O.getUTCDate()).slice(-2),Y+=("0"+O.getUTCHours()).slice(-2),Y+=("0"+O.getUTCMinutes()).slice(-2),Y+=("0"+O.getUTCSeconds()).slice(-2),q){var we=O.getUTCMilliseconds();we!==0&&(Y+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return Y+="Z"},r.uricmptohex=lt,r.hextouricmp=qt,r.ipv6tohex=bt,r.hextoipv6=Rt,r.hextoip=Qt,r.iptohex=function(O){var L="malformed IP address";if(!(O=O.toLowerCase(O)).match(/^[0-9.]+$/)){if(O.match(/^[0-9a-f:]+$/)&&O.indexOf(":")!==-1)return bt(O);throw L}var q=O.split(".");if(q.length!==4)throw L;var Y="";try{for(var ce=0;ce<4;ce++)Y+=("0"+parseInt(q[ce]).toString(16)).slice(-2);return Y}catch{throw L}},r.encodeURIComponentAll=Zt,r.newline_toUnix=function(O){return O=O.replace(/\r\n/gm,`
`)},r.newline_toDos=function(O){return O=(O=O.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Hn,r.intarystrtohex=function(O){O=(O=(O=O.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return O.split(/,/).map(function(L,q,Y){var ce=parseInt(L);if(ce<0||255<ce)throw"integer not in range 0-255";return("00"+ce.toString(16)).slice(-2)}).join("")}catch(L){throw"malformed integer array string: "+L}},r.strdiffidx=function(O,L){var q=O.length;O.length>L.length&&(q=L.length);for(var Y=0;Y<q;Y++)if(O.charCodeAt(Y)!=L.charCodeAt(Y))return Y;return O.length!=L.length?q:-1},r.KJUR=z;var Wn=z.crypto;r.crypto=Wn;var sa=z.asn1;r.asn1=sa;var Nn=z.jws;r.jws=Nn;var Ha=z.lang;r.lang=Ha}).call(this,n(28).Buffer)},function(i,r,n){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=n(30),s=n(31),l=n(32);function u(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(C,E){if(u()<E)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(C=new Uint8Array(E)).__proto__=d.prototype:(C===null&&(C=new d(E)),C.length=E),C}function d(C,E,S){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(C,E,S);if(typeof C=="number"){if(typeof E=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,C)}return f(this,C,E,S)}function f(C,E,S,I){if(typeof E=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer?function(Q,G,ne,ee){if(G.byteLength,ne<0||G.byteLength<ne)throw new RangeError("'offset' is out of bounds");if(G.byteLength<ne+(ee||0))throw new RangeError("'length' is out of bounds");return G=ne===void 0&&ee===void 0?new Uint8Array(G):ee===void 0?new Uint8Array(G,ne):new Uint8Array(G,ne,ee),d.TYPED_ARRAY_SUPPORT?(Q=G).__proto__=d.prototype:Q=g(Q,G),Q}(C,E,S,I):typeof E=="string"?function(Q,G,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!d.isEncoding(ne))throw new TypeError('"encoding" must be a valid string encoding');var ee=0|y(G,ne),se=(Q=c(Q,ee)).write(G,ne);return se!==ee&&(Q=Q.slice(0,se)),Q}(C,E,S):function(Q,G){if(d.isBuffer(G)){var ne=0|m(G.length);return(Q=c(Q,ne)).length===0||G.copy(Q,0,0,ne),Q}if(G){if(typeof ArrayBuffer<"u"&&G.buffer instanceof ArrayBuffer||"length"in G)return typeof G.length!="number"||function(se){return se!=se}(G.length)?c(Q,0):g(Q,G);if(G.type==="Buffer"&&l(G.data))return g(Q,G.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(C,E)}function h(C){if(typeof C!="number")throw new TypeError('"size" argument must be a number');if(C<0)throw new RangeError('"size" argument must not be negative')}function p(C,E){if(h(E),C=c(C,E<0?0:0|m(E)),!d.TYPED_ARRAY_SUPPORT)for(var S=0;S<E;++S)C[S]=0;return C}function g(C,E){var S=E.length<0?0:0|m(E.length);C=c(C,S);for(var I=0;I<S;I+=1)C[I]=255&E[I];return C}function m(C){if(C>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|C}function y(C,E){if(d.isBuffer(C))return C.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(C)||C instanceof ArrayBuffer))return C.byteLength;typeof C!="string"&&(C=""+C);var S=C.length;if(S===0)return 0;for(var I=!1;;)switch(E){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":case void 0:return pe(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return _e(C).length;default:if(I)return pe(C).length;E=(""+E).toLowerCase(),I=!0}}function v(C,E,S){var I=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(E>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return te(this,E,S);case"utf8":case"utf-8":return j(this,E,S);case"ascii":return M(this,E,S);case"latin1":case"binary":return $(this,E,S);case"base64":return N(this,E,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,E,S);default:if(I)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),I=!0}}function b(C,E,S){var I=C[E];C[E]=C[S],C[S]=I}function _(C,E,S,I,k){if(C.length===0)return-1;if(typeof S=="string"?(I=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,isNaN(S)&&(S=k?0:C.length-1),S<0&&(S=C.length+S),S>=C.length){if(k)return-1;S=C.length-1}else if(S<0){if(!k)return-1;S=0}if(typeof E=="string"&&(E=d.from(E,I)),d.isBuffer(E))return E.length===0?-1:w(C,E,S,I,k);if(typeof E=="number")return E&=255,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(C,E,S):Uint8Array.prototype.lastIndexOf.call(C,E,S):w(C,[E],S,I,k);throw new TypeError("val must be string, number or Buffer")}function w(C,E,S,I,k){var Q,G=1,ne=C.length,ee=E.length;if(I!==void 0&&((I=String(I).toLowerCase())==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(C.length<2||E.length<2)return-1;G=2,ne/=2,ee/=2,S/=2}function se(Ge,qe){return G===1?Ge[qe]:Ge.readUInt16BE(qe*G)}if(k){var ge=-1;for(Q=S;Q<ne;Q++)if(se(C,Q)===se(E,ge===-1?0:Q-ge)){if(ge===-1&&(ge=Q),Q-ge+1===ee)return ge*G}else ge!==-1&&(Q-=Q-ge),ge=-1}else for(S+ee>ne&&(S=ne-ee),Q=S;Q>=0;Q--){for(var Ae=!0,Ve=0;Ve<ee;Ve++)if(se(C,Q+Ve)!==se(E,Ve)){Ae=!1;break}if(Ae)return Q}return-1}function T(C,E,S,I){S=Number(S)||0;var k=C.length-S;I?(I=Number(I))>k&&(I=k):I=k;var Q=E.length;if(Q%2!=0)throw new TypeError("Invalid hex string");I>Q/2&&(I=Q/2);for(var G=0;G<I;++G){var ne=parseInt(E.substr(2*G,2),16);if(isNaN(ne))return G;C[S+G]=ne}return G}function R(C,E,S,I){return X(pe(E,C.length-S),C,S,I)}function F(C,E,S,I){return X(function(Q){for(var G=[],ne=0;ne<Q.length;++ne)G.push(255&Q.charCodeAt(ne));return G}(E),C,S,I)}function D(C,E,S,I){return F(C,E,S,I)}function A(C,E,S,I){return X(_e(E),C,S,I)}function x(C,E,S,I){return X(function(Q,G){for(var ne,ee,se,ge=[],Ae=0;Ae<Q.length&&!((G-=2)<0);++Ae)ee=(ne=Q.charCodeAt(Ae))>>8,se=ne%256,ge.push(se),ge.push(ee);return ge}(E,C.length-S),C,S,I)}function N(C,E,S){return E===0&&S===C.length?o.fromByteArray(C):o.fromByteArray(C.slice(E,S))}function j(C,E,S){S=Math.min(C.length,S);for(var I=[],k=E;k<S;){var Q,G,ne,ee,se=C[k],ge=null,Ae=se>239?4:se>223?3:se>191?2:1;if(k+Ae<=S)switch(Ae){case 1:se<128&&(ge=se);break;case 2:(192&(Q=C[k+1]))==128&&(ee=(31&se)<<6|63&Q)>127&&(ge=ee);break;case 3:Q=C[k+1],G=C[k+2],(192&Q)==128&&(192&G)==128&&(ee=(15&se)<<12|(63&Q)<<6|63&G)>2047&&(ee<55296||ee>57343)&&(ge=ee);break;case 4:Q=C[k+1],G=C[k+2],ne=C[k+3],(192&Q)==128&&(192&G)==128&&(192&ne)==128&&(ee=(15&se)<<18|(63&Q)<<12|(63&G)<<6|63&ne)>65535&&ee<1114112&&(ge=ee)}ge===null?(ge=65533,Ae=1):ge>65535&&(ge-=65536,I.push(ge>>>10&1023|55296),ge=56320|1023&ge),I.push(ge),k+=Ae}return function(Ge){var qe=Ge.length;if(qe<=H)return String.fromCharCode.apply(String,Ge);for(var Ee="",W=0;W<qe;)Ee+=String.fromCharCode.apply(String,Ge.slice(W,W+=H));return Ee}(I)}r.Buffer=d,r.SlowBuffer=function(E){return+E!=E&&(E=0),d.alloc(+E)},r.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var E=new Uint8Array(1);return E.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},E.foo()===42&&typeof E.subarray=="function"&&E.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=u(),d.poolSize=8192,d._augment=function(C){return C.__proto__=d.prototype,C},d.from=function(C,E,S){return f(null,C,E,S)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(C,E,S){return function(k,Q,G,ne){return h(Q),Q<=0?c(k,Q):G!==void 0?typeof ne=="string"?c(k,Q).fill(G,ne):c(k,Q).fill(G):c(k,Q)}(null,C,E,S)},d.allocUnsafe=function(C){return p(null,C)},d.allocUnsafeSlow=function(C){return p(null,C)},d.isBuffer=function(E){return!(E==null||!E._isBuffer)},d.compare=function(E,S){if(!d.isBuffer(E)||!d.isBuffer(S))throw new TypeError("Arguments must be Buffers");if(E===S)return 0;for(var I=E.length,k=S.length,Q=0,G=Math.min(I,k);Q<G;++Q)if(E[Q]!==S[Q]){I=E[Q],k=S[Q];break}return I<k?-1:k<I?1:0},d.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(E,S){if(!l(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return d.alloc(0);var I;if(S===void 0)for(S=0,I=0;I<E.length;++I)S+=E[I].length;var k=d.allocUnsafe(S),Q=0;for(I=0;I<E.length;++I){var G=E[I];if(!d.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(k,Q),Q+=G.length}return k},d.byteLength=y,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<E;S+=2)b(this,S,S+1);return this},d.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<E;S+=4)b(this,S,S+3),b(this,S+1,S+2);return this},d.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<E;S+=8)b(this,S,S+7),b(this,S+1,S+6),b(this,S+2,S+5),b(this,S+3,S+4);return this},d.prototype.toString=function(){var E=0|this.length;return E===0?"":arguments.length===0?j(this,0,E):v.apply(this,arguments)},d.prototype.equals=function(E){if(!d.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||d.compare(this,E)===0},d.prototype.inspect=function(){var E="",S=r.INSPECT_MAX_BYTES;return this.length>0&&(E=this.toString("hex",0,S).match(/.{2}/g).join(" "),this.length>S&&(E+=" ... ")),"<Buffer "+E+">"},d.prototype.compare=function(E,S,I,k,Q){if(!d.isBuffer(E))throw new TypeError("Argument must be a Buffer");if(S===void 0&&(S=0),I===void 0&&(I=E?E.length:0),k===void 0&&(k=0),Q===void 0&&(Q=this.length),S<0||I>E.length||k<0||Q>this.length)throw new RangeError("out of range index");if(k>=Q&&S>=I)return 0;if(k>=Q)return-1;if(S>=I)return 1;if(this===E)return 0;for(var G=(Q>>>=0)-(k>>>=0),ne=(I>>>=0)-(S>>>=0),ee=Math.min(G,ne),se=this.slice(k,Q),ge=E.slice(S,I),Ae=0;Ae<ee;++Ae)if(se[Ae]!==ge[Ae]){G=se[Ae],ne=ge[Ae];break}return G<ne?-1:ne<G?1:0},d.prototype.includes=function(E,S,I){return this.indexOf(E,S,I)!==-1},d.prototype.indexOf=function(E,S,I){return _(this,E,S,I,!0)},d.prototype.lastIndexOf=function(E,S,I){return _(this,E,S,I,!1)},d.prototype.write=function(E,S,I,k){if(S===void 0)k="utf8",I=this.length,S=0;else if(I===void 0&&typeof S=="string")k=S,I=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S|=0,isFinite(I)?(I|=0,k===void 0&&(k="utf8")):(k=I,I=void 0)}var Q=this.length-S;if((I===void 0||I>Q)&&(I=Q),E.length>0&&(I<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var G=!1;;)switch(k){case"hex":return T(this,E,S,I);case"utf8":case"utf-8":return R(this,E,S,I);case"ascii":return F(this,E,S,I);case"latin1":case"binary":return D(this,E,S,I);case"base64":return A(this,E,S,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,E,S,I);default:if(G)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),G=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;function M(C,E,S){var I="";S=Math.min(C.length,S);for(var k=E;k<S;++k)I+=String.fromCharCode(127&C[k]);return I}function $(C,E,S){var I="";S=Math.min(C.length,S);for(var k=E;k<S;++k)I+=String.fromCharCode(C[k]);return I}function te(C,E,S){var I=C.length;(!E||E<0)&&(E=0),(!S||S<0||S>I)&&(S=I);for(var k="",Q=E;Q<S;++Q)k+=me(C[Q]);return k}function re(C,E,S){for(var I=C.slice(E,S),k="",Q=0;Q<I.length;Q+=2)k+=String.fromCharCode(I[Q]+256*I[Q+1]);return k}function oe(C,E,S){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+E>S)throw new RangeError("Trying to access beyond buffer length")}function J(C,E,S,I,k,Q){if(!d.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>k||E<Q)throw new RangeError('"value" argument is out of bounds');if(S+I>C.length)throw new RangeError("Index out of range")}function fe(C,E,S,I){E<0&&(E=65535+E+1);for(var k=0,Q=Math.min(C.length-S,2);k<Q;++k)C[S+k]=(E&255<<8*(I?k:1-k))>>>8*(I?k:1-k)}function xe(C,E,S,I){E<0&&(E=4294967295+E+1);for(var k=0,Q=Math.min(C.length-S,4);k<Q;++k)C[S+k]=E>>>8*(I?k:3-k)&255}function de(C,E,S,I,k,Q){if(S+I>C.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function ae(C,E,S,I,k){return k||de(C,0,S,4),s.write(C,E,S,I,23,4),S+4}function Fe(C,E,S,I,k){return k||de(C,0,S,8),s.write(C,E,S,I,52,8),S+8}d.prototype.slice=function(E,S){var I,k=this.length;if((E=~~E)<0?(E+=k)<0&&(E=0):E>k&&(E=k),(S=S===void 0?k:~~S)<0?(S+=k)<0&&(S=0):S>k&&(S=k),S<E&&(S=E),d.TYPED_ARRAY_SUPPORT)(I=this.subarray(E,S)).__proto__=d.prototype;else{var Q=S-E;I=new d(Q,void 0);for(var G=0;G<Q;++G)I[G]=this[G+E]}return I},d.prototype.readUIntLE=function(E,S,I){E|=0,S|=0,I||oe(E,S,this.length);for(var k=this[E],Q=1,G=0;++G<S&&(Q*=256);)k+=this[E+G]*Q;return k},d.prototype.readUIntBE=function(E,S,I){E|=0,S|=0,I||oe(E,S,this.length);for(var k=this[E+--S],Q=1;S>0&&(Q*=256);)k+=this[E+--S]*Q;return k},d.prototype.readUInt8=function(E,S){return S||oe(E,1,this.length),this[E]},d.prototype.readUInt16LE=function(E,S){return S||oe(E,2,this.length),this[E]|this[E+1]<<8},d.prototype.readUInt16BE=function(E,S){return S||oe(E,2,this.length),this[E]<<8|this[E+1]},d.prototype.readUInt32LE=function(E,S){return S||oe(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},d.prototype.readUInt32BE=function(E,S){return S||oe(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},d.prototype.readIntLE=function(E,S,I){E|=0,S|=0,I||oe(E,S,this.length);for(var k=this[E],Q=1,G=0;++G<S&&(Q*=256);)k+=this[E+G]*Q;return k>=(Q*=128)&&(k-=Math.pow(2,8*S)),k},d.prototype.readIntBE=function(E,S,I){E|=0,S|=0,I||oe(E,S,this.length);for(var k=S,Q=1,G=this[E+--k];k>0&&(Q*=256);)G+=this[E+--k]*Q;return G>=(Q*=128)&&(G-=Math.pow(2,8*S)),G},d.prototype.readInt8=function(E,S){return S||oe(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},d.prototype.readInt16LE=function(E,S){S||oe(E,2,this.length);var I=this[E]|this[E+1]<<8;return 32768&I?4294901760|I:I},d.prototype.readInt16BE=function(E,S){S||oe(E,2,this.length);var I=this[E+1]|this[E]<<8;return 32768&I?4294901760|I:I},d.prototype.readInt32LE=function(E,S){return S||oe(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},d.prototype.readInt32BE=function(E,S){return S||oe(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},d.prototype.readFloatLE=function(E,S){return S||oe(E,4,this.length),s.read(this,E,!0,23,4)},d.prototype.readFloatBE=function(E,S){return S||oe(E,4,this.length),s.read(this,E,!1,23,4)},d.prototype.readDoubleLE=function(E,S){return S||oe(E,8,this.length),s.read(this,E,!0,52,8)},d.prototype.readDoubleBE=function(E,S){return S||oe(E,8,this.length),s.read(this,E,!1,52,8)},d.prototype.writeUIntLE=function(E,S,I,k){E=+E,S|=0,I|=0,k||J(this,E,S,I,Math.pow(2,8*I)-1,0);var Q=1,G=0;for(this[S]=255&E;++G<I&&(Q*=256);)this[S+G]=E/Q&255;return S+I},d.prototype.writeUIntBE=function(E,S,I,k){E=+E,S|=0,I|=0,k||J(this,E,S,I,Math.pow(2,8*I)-1,0);var Q=I-1,G=1;for(this[S+Q]=255&E;--Q>=0&&(G*=256);)this[S+Q]=E/G&255;return S+I},d.prototype.writeUInt8=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,1,255,0),d.TYPED_ARRAY_SUPPORT||(E=Math.floor(E)),this[S]=255&E,S+1},d.prototype.writeUInt16LE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[S]=255&E,this[S+1]=E>>>8):fe(this,E,S,!0),S+2},d.prototype.writeUInt16BE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[S]=E>>>8,this[S+1]=255&E):fe(this,E,S,!1),S+2},d.prototype.writeUInt32LE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[S+3]=E>>>24,this[S+2]=E>>>16,this[S+1]=E>>>8,this[S]=255&E):xe(this,E,S,!0),S+4},d.prototype.writeUInt32BE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[S]=E>>>24,this[S+1]=E>>>16,this[S+2]=E>>>8,this[S+3]=255&E):xe(this,E,S,!1),S+4},d.prototype.writeIntLE=function(E,S,I,k){if(E=+E,S|=0,!k){var Q=Math.pow(2,8*I-1);J(this,E,S,I,Q-1,-Q)}var G=0,ne=1,ee=0;for(this[S]=255&E;++G<I&&(ne*=256);)E<0&&ee===0&&this[S+G-1]!==0&&(ee=1),this[S+G]=(E/ne>>0)-ee&255;return S+I},d.prototype.writeIntBE=function(E,S,I,k){if(E=+E,S|=0,!k){var Q=Math.pow(2,8*I-1);J(this,E,S,I,Q-1,-Q)}var G=I-1,ne=1,ee=0;for(this[S+G]=255&E;--G>=0&&(ne*=256);)E<0&&ee===0&&this[S+G+1]!==0&&(ee=1),this[S+G]=(E/ne>>0)-ee&255;return S+I},d.prototype.writeInt8=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,1,127,-128),d.TYPED_ARRAY_SUPPORT||(E=Math.floor(E)),E<0&&(E=255+E+1),this[S]=255&E,S+1},d.prototype.writeInt16LE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[S]=255&E,this[S+1]=E>>>8):fe(this,E,S,!0),S+2},d.prototype.writeInt16BE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[S]=E>>>8,this[S+1]=255&E):fe(this,E,S,!1),S+2},d.prototype.writeInt32LE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[S]=255&E,this[S+1]=E>>>8,this[S+2]=E>>>16,this[S+3]=E>>>24):xe(this,E,S,!0),S+4},d.prototype.writeInt32BE=function(E,S,I){return E=+E,S|=0,I||J(this,E,S,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),d.TYPED_ARRAY_SUPPORT?(this[S]=E>>>24,this[S+1]=E>>>16,this[S+2]=E>>>8,this[S+3]=255&E):xe(this,E,S,!1),S+4},d.prototype.writeFloatLE=function(E,S,I){return ae(this,E,S,!0,I)},d.prototype.writeFloatBE=function(E,S,I){return ae(this,E,S,!1,I)},d.prototype.writeDoubleLE=function(E,S,I){return Fe(this,E,S,!0,I)},d.prototype.writeDoubleBE=function(E,S,I){return Fe(this,E,S,!1,I)},d.prototype.copy=function(E,S,I,k){if(I||(I=0),k||k===0||(k=this.length),S>=E.length&&(S=E.length),S||(S=0),k>0&&k<I&&(k=I),k===I||E.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("sourceStart out of bounds");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),E.length-S<k-I&&(k=E.length-S+I);var Q,G=k-I;if(this===E&&I<S&&S<k)for(Q=G-1;Q>=0;--Q)E[Q+S]=this[Q+I];else if(G<1e3||!d.TYPED_ARRAY_SUPPORT)for(Q=0;Q<G;++Q)E[Q+S]=this[Q+I];else Uint8Array.prototype.set.call(E,this.subarray(I,I+G),S);return G},d.prototype.fill=function(E,S,I,k){if(typeof E=="string"){if(typeof S=="string"?(k=S,S=0,I=this.length):typeof I=="string"&&(k=I,I=this.length),E.length===1){var Q=E.charCodeAt(0);Q<256&&(E=Q)}if(k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!d.isEncoding(k))throw new TypeError("Unknown encoding: "+k)}else typeof E=="number"&&(E&=255);if(S<0||this.length<S||this.length<I)throw new RangeError("Out of range index");if(I<=S)return this;var G;if(S>>>=0,I=I===void 0?this.length:I>>>0,E||(E=0),typeof E=="number")for(G=S;G<I;++G)this[G]=E;else{var ne=d.isBuffer(E)?E:pe(new d(E,k).toString()),ee=ne.length;for(G=0;G<I-S;++G)this[G+S]=ne[G%ee]}return this};var Le=/[^+\/0-9A-Za-z-_]/g;function me(C){return C<16?"0"+C.toString(16):C.toString(16)}function pe(C,E){var S;E=E||1/0;for(var I=C.length,k=null,Q=[],G=0;G<I;++G){if((S=C.charCodeAt(G))>55295&&S<57344){if(!k){if(S>56319){(E-=3)>-1&&Q.push(239,191,189);continue}if(G+1===I){(E-=3)>-1&&Q.push(239,191,189);continue}k=S;continue}if(S<56320){(E-=3)>-1&&Q.push(239,191,189),k=S;continue}S=65536+(k-55296<<10|S-56320)}else k&&(E-=3)>-1&&Q.push(239,191,189);if(k=null,S<128){if((E-=1)<0)break;Q.push(S)}else if(S<2048){if((E-=2)<0)break;Q.push(S>>6|192,63&S|128)}else if(S<65536){if((E-=3)<0)break;Q.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;Q.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return Q}function _e(C){return o.toByteArray(function(S){if((S=function(k){return k.trim?k.trim():k.replace(/^\s+|\s+$/g,"")}(S).replace(Le,"")).length<2)return"";for(;S.length%4!=0;)S+="=";return S}(C))}function X(C,E,S,I){for(var k=0;k<I&&!(k+S>=E.length||k>=C.length);++k)E[k+S]=C[k];return k}}).call(this,n(29))},function(i,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}i.exports=n},function(i,r,n){r.byteLength=function(p){var g=d(p),m=g[0],y=g[1];return 3*(m+y)/4-y},r.toByteArray=function(p){var g,m,y=d(p),v=y[0],b=y[1],_=new s(function(F,D,A){return 3*(D+A)/4-A}(0,v,b)),w=0,T=b>0?v-4:v;for(m=0;m<T;m+=4)g=o[p.charCodeAt(m)]<<18|o[p.charCodeAt(m+1)]<<12|o[p.charCodeAt(m+2)]<<6|o[p.charCodeAt(m+3)],_[w++]=g>>16&255,_[w++]=g>>8&255,_[w++]=255&g;return b===2&&(g=o[p.charCodeAt(m)]<<2|o[p.charCodeAt(m+1)]>>4,_[w++]=255&g),b===1&&(g=o[p.charCodeAt(m)]<<10|o[p.charCodeAt(m+1)]<<4|o[p.charCodeAt(m+2)]>>2,_[w++]=g>>8&255,_[w++]=255&g),_},r.fromByteArray=function(p){for(var g,m=p.length,y=m%3,v=[],b=16383,_=0,w=m-y;_<w;_+=b)v.push(f(p,_,_+b>w?w:_+b));return y===1?(g=p[m-1],v.push(a[g>>2]+a[g<<4&63]+"==")):y===2&&(g=(p[m-2]<<8)+p[m-1],v.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"=")),v.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)a[u]=l[u],o[l.charCodeAt(u)]=u;function d(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function f(h,p,g){for(var m,y,v=[],b=p;b<g;b+=3)m=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),v.push(a[(y=m)>>18&63]+a[y>>12&63]+a[y>>6&63]+a[63&y]);return v.join("")}o[45]=62,o[95]=63},function(i,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(n,a,o,s,l){var u,c,d=8*l-s-1,f=(1<<d)-1,h=f>>1,p=-7,g=o?l-1:0,m=o?-1:1,y=n[a+g];for(g+=m,u=y&(1<<-p)-1,y>>=-p,p+=d;p>0;u=256*u+n[a+g],g+=m,p-=8);for(c=u&(1<<-p)-1,u>>=-p,p+=s;p>0;c=256*c+n[a+g],g+=m,p-=8);if(u===0)u=1-h;else{if(u===f)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,s),u-=h}return(y?-1:1)*c*Math.pow(2,u-s)},r.write=function(n,a,o,s,l,u){var c,d,f,h=8*u-l-1,p=(1<<h)-1,g=p>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:u-1,v=s?1:-1,b=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,c=p):(c=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-c))<1&&(c--,f*=2),(a+=c+g>=1?m/f:m*Math.pow(2,1-g))*f>=2&&(c++,f/=2),c+g>=p?(d=0,c=p):c+g>=1?(d=(a*f-1)*Math.pow(2,l),c+=g):(d=a*Math.pow(2,g-1)*Math.pow(2,l),c=0));l>=8;n[o+y]=255&d,y+=v,d/=256,l-=8);for(c=c<<l|d,h+=l;h>0;n[o+y]=255&c,y+=v,c/=256,h-=8);n[o+y-v]|=128*b}},function(i,r){var n={}.toString;i.exports=Array.isArray||function(a){return n.call(a)=="[object Array]"}},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,u=s.KeyUtil,c=s.X509,d=s.crypto,f=s.hextob64u,h=s.b64tohex,p=s.AllowedSigningAlgs;return function(){function g(){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g)}return g.parseJwt=function(y){a.Log.debug("JoseUtil.parseJwt");try{var v=l.JWS.parse(y);return{header:v.headerObj,payload:v.payloadObj}}catch(b){a.Log.error(b)}},g.validateJwt=function(y,v,b,_,w,T,R){a.Log.debug("JoseUtil.validateJwt");try{if(v.kty==="RSA")if(v.e&&v.n)v=u.getKey(v);else{if(!v.x5c||!v.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",v),Promise.reject(new Error("RSA key missing key material"));var F=h(v.x5c[0]);v=c.getPublicKeyFromCertHex(F)}else{if(v.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",v&&v.kty),Promise.reject(new Error(v.kty));if(!(v.crv&&v.x&&v.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",v),Promise.reject(new Error("EC key missing key material"));v=u.getKey(v)}return g._validateJwt(y,v,b,_,w,T,R)}catch(D){return a.Log.error(D&&D.message||D),Promise.reject("JWT validation failed")}},g.validateJwtAttributes=function(y,v,b,_,w,T){_||(_=0),w||(w=parseInt(Date.now()/1e3));var R=g.parseJwt(y).payload;if(!R.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(R.iss!==v)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",R.iss),Promise.reject(new Error("Invalid issuer in token: "+R.iss));if(!R.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(R.aud===b||Array.isArray(R.aud)&&R.aud.indexOf(b)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",R.aud),Promise.reject(new Error("Invalid audience in token: "+R.aud));if(R.azp&&R.azp!==b)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",R.azp),Promise.reject(new Error("Invalid azp in token: "+R.azp));if(!T){var F=w+_,D=w-_;if(!R.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(F<R.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",R.iat),Promise.reject(new Error("iat is in the future: "+R.iat));if(R.nbf&&F<R.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",R.nbf),Promise.reject(new Error("nbf is in the future: "+R.nbf));if(!R.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(R.exp<D)return a.Log.error("JoseUtil._validateJwt: exp is in the past",R.exp),Promise.reject(new Error("exp is in the past:"+R.exp))}return Promise.resolve(R)},g._validateJwt=function(y,v,b,_,w,T,R){return g.validateJwtAttributes(y,b,_,w,T,R).then(function(F){try{return l.JWS.verify(y,v,p)?F:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(D){return a.Log.error(D&&D.message||D),Promise.reject(new Error("signature validation failed"))}})},g.hashString=function(y,v){try{return d.Util.hashString(y,v)}catch(b){a.Log.error(b)}},g.hexToBase64Url=function(y){try{return f(y)}catch(v){a.Log.error(v)}},g}()};var a=n(0);i.exports=r.default},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}(),o=n(3);function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var d=o.UrlUtility.parseUrlFragment(u,c);this.error=d.error,this.error_description=d.error_description,this.error_uri=d.error_uri,this.code=d.code,this.state=d.state,this.id_token=d.id_token,this.session_state=d.session_state,this.access_token=d.access_token,this.token_type=d.token_type,this.scope=d.scope,this.profile=void 0,this.expires_in=d.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var f=parseInt(Date.now()/1e3);this.expires_at=f+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=n(0),o=n(3),s=n(9);r.SignoutRequest=function l(u){var c=u.url,d=u.id_token_hint,f=u.post_logout_redirect_uri,h=u.data,p=u.extraQueryParams,g=u.request_type;if(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,l),!c)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var m in d&&(c=o.UrlUtility.addQueryParam(c,"id_token_hint",d)),f&&(c=o.UrlUtility.addQueryParam(c,"post_logout_redirect_uri",f),h&&(this.state=new s.State({data:h,request_type:g}),c=o.UrlUtility.addQueryParam(c,"state",this.state.id))),p)c=o.UrlUtility.addQueryParam(c,m,p[m]);this.url=c}},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=n(3);r.SignoutResponse=function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}(),o=n(0);r.InMemoryWebStorage=function(){function s(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(u){return o.Log.debug("InMemoryWebStorage.getItem",u),this._data[u]},s.prototype.setItem=function(u,c){o.Log.debug("InMemoryWebStorage.setItem",u),this._data[u]=c},s.prototype.removeItem=function(u){o.Log.debug("InMemoryWebStorage.removeItem",u),delete this._data[u]},s.prototype.key=function(u){return Object.getOwnPropertyNames(this._data)[u]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function b(_,w){for(var T=0;T<w.length;T++){var R=w[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,T){return w&&b(_.prototype,w),T&&b(_,T),_}}(),o=n(0),s=n(10),l=n(39),u=n(15),c=n(45),d=n(47),f=n(18),h=n(8),p=n(20),g=n(11),m=n(4);function y(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function v(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?b:_}r.UserManager=function(b){function _(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.SilentRenewService,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.SessionMonitor,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.TokenRevocationClient,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:g.TokenClient,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:m.JoseUtil;y(this,_),w instanceof l.UserManagerSettings||(w=new l.UserManagerSettings(w));var x=v(this,b.call(this,w));return x._events=new c.UserManagerEvents(w),x._silentRenewService=new T(x),x.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),x.startSilentRenew()),x.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),x._sessionMonitor=new R(x)),x._tokenRevocationClient=new F(x._settings),x._tokenClient=new D(x._settings),x._joseUtil=A,x}return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}(_,b),_.prototype.getUser=function(){var T=this;return this._loadUser().then(function(R){return R?(o.Log.info("UserManager.getUser: user loaded"),T._events.load(R,!1),R):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},_.prototype.removeUser=function(){var T=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),T._events.unload()})},_.prototype.signinRedirect=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(T=Object.assign({},T)).request_type="si:r";var R={useReplaceToNavigate:T.useReplaceToNavigate};return this._signinStart(T,this._redirectNavigator,R).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},_.prototype.signinRedirectCallback=function(T){return this._signinEnd(T||this._redirectNavigator.url).then(function(R){return R.profile&&R.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",R.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),R})},_.prototype.signinPopup=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(T=Object.assign({},T)).request_type="si:p";var R=T.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return R?(T.redirect_uri=R,T.display="popup",this._signin(T,this._popupNavigator,{startUrl:R,popupWindowFeatures:T.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:T.popupWindowTarget||this.settings.popupWindowTarget}).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),F})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},_.prototype.signinPopupCallback=function(T){return this._signinCallback(T,this._popupNavigator).then(function(R){return R&&(R.profile&&R.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",R.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),R}).catch(function(R){o.Log.error(R.message)})},_.prototype.signinSilent=function(){var T=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return R=Object.assign({},R),this._loadUser().then(function(F){return F&&F.refresh_token?(R.refresh_token=F.refresh_token,T._useRefreshToken(R)):(R.request_type="si:s",R.id_token_hint=R.id_token_hint||T.settings.includeIdTokenInSilentRenew&&F&&F.id_token,F&&T._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",F.profile.sub),R.current_sub=F.profile.sub),T._signinSilentIframe(R))})},_.prototype._useRefreshToken=function(){var T=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(R).then(function(F){return F?F.access_token?T._loadUser().then(function(D){if(D){var A=Promise.resolve();return F.id_token&&(A=T._validateIdTokenFromTokenRefreshToken(D.profile,F.id_token)),A.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),D.id_token=F.id_token||D.id_token,D.access_token=F.access_token,D.refresh_token=F.refresh_token||D.refresh_token,D.expires_in=F.expires_in,T.storeUser(D).then(function(){return T._events.load(D),D})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},_.prototype._validateIdTokenFromTokenRefreshToken=function(T,R){var F=this;return this._metadataService.getIssuer().then(function(D){return F.settings.getEpochTime().then(function(A){return F._joseUtil.validateJwtAttributes(R,D,F._settings.client_id,F._settings.clockSkew,A).then(function(x){return x?x.sub!==T.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):x.auth_time&&x.auth_time!==T.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):x.azp&&x.azp!==T.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!x.azp&&T.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},_.prototype._signinSilentIframe=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=T.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return R?(T.redirect_uri=R,T.prompt=T.prompt||"none",this._signin(T,this._iframeNavigator,{startUrl:R,silentRequestTimeout:T.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),F})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},_.prototype.signinSilentCallback=function(T){return this._signinCallback(T,this._iframeNavigator).then(function(R){return R&&(R.profile&&R.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",R.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),R})},_.prototype.signinCallback=function(T){var R=this;return this.readSigninResponseState(T).then(function(F){var D=F.state;return F.response,D.request_type==="si:r"?R.signinRedirectCallback(T):D.request_type==="si:p"?R.signinPopupCallback(T):D.request_type==="si:s"?R.signinSilentCallback(T):Promise.reject(new Error("invalid response_type in state"))})},_.prototype.signoutCallback=function(T,R){var F=this;return this.readSignoutResponseState(T).then(function(D){var A=D.state,x=D.response;return A?A.request_type==="so:r"?F.signoutRedirectCallback(T):A.request_type==="so:p"?F.signoutPopupCallback(T,R):Promise.reject(new Error("invalid response_type in state")):x})},_.prototype.querySessionStatus=function(){var T=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(R=Object.assign({},R)).request_type="si:s";var F=R.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(R.redirect_uri=F,R.prompt="none",R.response_type=R.response_type||this.settings.query_status_response_type,R.scope=R.scope||"openid",R.skipUserInfo=!0,this._signinStart(R,this._iframeNavigator,{startUrl:F,silentRequestTimeout:R.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(D){return T.processSigninResponse(D.url).then(function(A){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),A.session_state&&A.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",A.profile.sub),{session_state:A.session_state,sub:A.profile.sub,sid:A.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(A){if(A.session_state&&T.settings.monitorAnonymousSession&&(A.message=="login_required"||A.message=="consent_required"||A.message=="interaction_required"||A.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:A.session_state};throw A})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},_.prototype._signin=function(T,R){var F=this,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(T,R,D).then(function(A){return F._signinEnd(A.url,T)})},_.prototype._signinStart=function(T,R){var F=this,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.prepare(D).then(function(A){return o.Log.debug("UserManager._signinStart: got navigator window handle"),F.createSigninRequest(T).then(function(x){return o.Log.debug("UserManager._signinStart: got signin request"),D.url=x.url,D.id=x.state.id,A.navigate(D)}).catch(function(x){throw A.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),A.close()),x})})},_.prototype._signinEnd=function(T){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(T).then(function(D){o.Log.debug("UserManager._signinEnd: got signin response");var A=new u.User(D);if(F.current_sub){if(F.current_sub!==A.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",A.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return R.storeUser(A).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),R._events.load(A),A})})},_.prototype._signinCallback=function(T,R){o.Log.debug("UserManager._signinCallback");var F=this._settings.response_mode==="query"||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type)?"?":"#";return R.callback(T,void 0,F)},_.prototype.signoutRedirect=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(T=Object.assign({},T)).request_type="so:r";var R=T.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;R&&(T.post_logout_redirect_uri=R);var F={useReplaceToNavigate:T.useReplaceToNavigate};return this._signoutStart(T,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},_.prototype.signoutRedirectCallback=function(T){return this._signoutEnd(T||this._redirectNavigator.url).then(function(R){return o.Log.info("UserManager.signoutRedirectCallback: successful"),R})},_.prototype.signoutPopup=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(T=Object.assign({},T)).request_type="so:p";var R=T.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return T.post_logout_redirect_uri=R,T.display="popup",T.post_logout_redirect_uri&&(T.state=T.state||{}),this._signout(T,this._popupNavigator,{startUrl:R,popupWindowFeatures:T.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:T.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},_.prototype.signoutPopupCallback=function(T,R){return R===void 0&&typeof T=="boolean"&&(R=T,T=null),this._popupNavigator.callback(T,R,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},_.prototype._signout=function(T,R){var F=this,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(T,R,D).then(function(A){return F._signoutEnd(A.url)})},_.prototype._signoutStart=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=this,F=arguments[1],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(D).then(function(A){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),R._loadUser().then(function(x){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(R._settings.revokeAccessTokenOnSignout?R._revokeInternal(x):Promise.resolve()).then(function(){var N=T.id_token_hint||x&&x.id_token;return N&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),T.id_token_hint=N),R.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),R.createSignoutRequest(T).then(function(j){return o.Log.debug("UserManager._signoutStart: got signout request"),D.url=j.url,j.state&&(D.id=j.state.id),A.navigate(D)})})})}).catch(function(x){throw A.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),A.close()),x})})},_.prototype._signoutEnd=function(T){return this.processSignoutResponse(T).then(function(R){return o.Log.debug("UserManager._signoutEnd: got signout response"),R})},_.prototype.revokeAccessToken=function(){var T=this;return this._loadUser().then(function(R){return T._revokeInternal(R,!0).then(function(F){if(F)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),R.access_token=null,R.refresh_token=null,R.expires_at=null,R.token_type=null,T.storeUser(R).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),T._events.load(R)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},_.prototype._revokeInternal=function(T,R){var F=this;if(T){var D=T.access_token,A=T.refresh_token;return this._revokeAccessTokenInternal(D,R).then(function(x){return F._revokeRefreshTokenInternal(A,R).then(function(N){return x||N||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),x||N})})}return Promise.resolve(!1)},_.prototype._revokeAccessTokenInternal=function(T,R){return!T||T.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(T,R).then(function(){return!0})},_.prototype._revokeRefreshTokenInternal=function(T,R){return T?this._tokenRevocationClient.revoke(T,R,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},_.prototype.startSilentRenew=function(){this._silentRenewService.start()},_.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},_.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(T){return T?(o.Log.debug("UserManager._loadUser: user storageString loaded"),u.User.fromStorageString(T)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},_.prototype.storeUser=function(T){if(T){o.Log.debug("UserManager.storeUser: storing user");var R=T.toStorageString();return this._userStore.set(this._userStoreKey,R)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(_,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),_}(s.OidcClient)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function g(m,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,y,v){return y&&g(m.prototype,y),v&&g(m,v),m}}(),o=(n(0),n(5)),s=n(40),l=n(41),u=n(43),c=n(6),d=n(1),f=n(8);function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?g:m}r.UserManagerSettings=function(g){function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=y.popup_redirect_uri,b=y.popup_post_logout_redirect_uri,_=y.popupWindowFeatures,w=y.popupWindowTarget,T=y.silent_redirect_uri,R=y.silentRequestTimeout,F=y.automaticSilentRenew,D=F!==void 0&&F,A=y.validateSubOnSilentRenew,x=A!==void 0&&A,N=y.includeIdTokenInSilentRenew,j=N===void 0||N,H=y.monitorSession,M=H===void 0||H,$=y.monitorAnonymousSession,te=$!==void 0&&$,re=y.checkSessionInterval,oe=re===void 0?2e3:re,J=y.stopCheckSessionOnError,fe=J===void 0||J,xe=y.query_status_response_type,de=y.revokeAccessTokenOnSignout,ae=de!==void 0&&de,Fe=y.accessTokenExpiringNotificationTime,Le=Fe===void 0?60:Fe,me=y.redirectNavigator,pe=me===void 0?new s.RedirectNavigator:me,_e=y.popupNavigator,X=_e===void 0?new l.PopupNavigator:_e,C=y.iframeNavigator,E=C===void 0?new u.IFrameNavigator:C,S=y.userStore,I=S===void 0?new c.WebStorageStateStore({store:d.Global.sessionStorage}):S;h(this,m);var k=p(this,g.call(this,arguments[0]));return k._popup_redirect_uri=v,k._popup_post_logout_redirect_uri=b,k._popupWindowFeatures=_,k._popupWindowTarget=w,k._silent_redirect_uri=T,k._silentRequestTimeout=R,k._automaticSilentRenew=D,k._validateSubOnSilentRenew=x,k._includeIdTokenInSilentRenew=j,k._accessTokenExpiringNotificationTime=Le,k._monitorSession=M,k._monitorAnonymousSession=te,k._checkSessionInterval=oe,k._stopCheckSessionOnError=fe,xe?k._query_status_response_type=xe:arguments[0]&&arguments[0].response_type?k._query_status_response_type=f.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":k._query_status_response_type="id_token",k._revokeAccessTokenOnSignout=ae,k._redirectNavigator=pe,k._popupNavigator=X,k._iframeNavigator=E,k._userStore=I,k}return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}(m,g),a(m,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),m}(o.OidcClientSettings)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}(),o=n(0);r.RedirectNavigator=function(){function s(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(u){return u&&u.url?(u.useReplaceToNavigate?window.location.replace(u.url):window.location=u.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=n(0),o=n(42);r.PopupNavigator=function(){function s(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(u){var c=new o.PopupWindow(u);return Promise.resolve(c)},s.prototype.callback=function(u,c,d){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(u,c,d),Promise.resolve()}catch(f){return Promise.reject(f)}},s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}(),o=n(0),s=n(3);r.PopupWindow=function(){function l(u){var c=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(h,p){c._resolve=h,c._reject=p});var d=u.popupWindowTarget||"_blank",f=u.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",d,f),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(c){return this._popup?c&&c.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=c.id,this._id&&(window["popupCallback_"+c.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=c.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(c){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(c)},l.prototype._error=function(c){o.Log.error("PopupWindow.error: ",c),this._cleanup(),this._reject(new Error(c))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(c){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!c&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(c,d){this._cleanup(d),c?(o.Log.debug("PopupWindow.callback success"),this._success({url:c})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(c,d,f){if(window.opener){if(c=c||window.location.href){var h=s.UrlUtility.parseUrlFragment(c,f);if(h.state){var p="popupCallback_"+h.state,g=window.opener[p];g?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),g(c,d)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=n(0),o=n(44);r.IFrameNavigator=function(){function s(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(u){var c=new o.IFrameWindow(u);return Promise.resolve(c)},s.prototype.callback=function(u){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(u),Promise.resolve()}catch(c){return Promise.reject(c)}},s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}(),o=n(0);r.IFrameWindow=function(){function s(l){var u=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(c,d){u._resolve=c,u._reject=d}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(u){if(u&&u.url){var c=u.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",c),this._timer=window.setTimeout(this._timeout.bind(this),c),this._frame.src=u.url}else this._error("No url provided");return this.promise},s.prototype._success=function(u){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(u)},s.prototype._error=function(u){this._cleanup(),o.Log.error(u),this._reject(new Error(u))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(u){if(o.Log.debug("IFrameWindow.message"),this._timer&&u.origin===this._origin&&u.source===this._frame.contentWindow&&typeof u.data=="string"&&(u.data.startsWith("http://")||u.data.startsWith("https://"))){var c=u.data;c?this._success({url:c}):this._error("Invalid response from frame")}},s.notifyParent=function(u){o.Log.debug("IFrameWindow.notifyParent"),(u=u||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(u,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=n(0),o=n(16),s=n(17);r.UserManagerEvents=function(l){function u(c){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u);var d=function(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?h:p}(this,l.call(this,c));return d._userLoaded=new s.Event("User loaded"),d._userUnloaded=new s.Event("User unloaded"),d._silentRenewError=new s.Event("Silent renew error"),d._userSignedIn=new s.Event("User signed in"),d._userSignedOut=new s.Event("User signed out"),d._userSessionChanged=new s.Event("User session changed"),d}return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}(u,l),u.prototype.load=function(d){var f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,d),f&&this._userLoaded.raise(d)},u.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},u.prototype.addUserLoaded=function(d){this._userLoaded.addHandler(d)},u.prototype.removeUserLoaded=function(d){this._userLoaded.removeHandler(d)},u.prototype.addUserUnloaded=function(d){this._userUnloaded.addHandler(d)},u.prototype.removeUserUnloaded=function(d){this._userUnloaded.removeHandler(d)},u.prototype.addSilentRenewError=function(d){this._silentRenewError.addHandler(d)},u.prototype.removeSilentRenewError=function(d){this._silentRenewError.removeHandler(d)},u.prototype._raiseSilentRenewError=function(d){a.Log.debug("UserManagerEvents._raiseSilentRenewError",d.message),this._silentRenewError.raise(d)},u.prototype.addUserSignedIn=function(d){this._userSignedIn.addHandler(d)},u.prototype.removeUserSignedIn=function(d){this._userSignedIn.removeHandler(d)},u.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},u.prototype.addUserSignedOut=function(d){this._userSignedOut.addHandler(d)},u.prototype.removeUserSignedOut=function(d){this._userSignedOut.removeHandler(d)},u.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},u.prototype.addUserSessionChanged=function(d){this._userSessionChanged.addHandler(d)},u.prototype.removeUserSessionChanged=function(d){this._userSessionChanged.removeHandler(d)},u.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},u}(o.AccessTokenEvents)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function d(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),f}}(),o=n(0),s=n(1),l=n(17);function u(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function c(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?d:f}r.Timer=function(d){function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;u(this,f);var m=c(this,d.call(this,h));return m._timer=p,m._nowFunc=g||function(){return Date.now()/1e3},m}return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}(f,d),f.prototype.init=function(p){p<=0&&(p=1),p=parseInt(p);var g=this.now+p;if(this.expiration===g&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",p),this._expiration=g;var m=5;p<m&&(m=p),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*m)}},f.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},f.prototype._callback=function(){var p=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",p),this._expiration<=this.now&&(this.cancel(),d.prototype.raise.call(this))},a(f,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),f}(l.Event)},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=n(0);r.SilentRenewService=function(){function o(s){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(u){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(u){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",u.message),l._userManager.events._raiseSilentRenewError(u)})},o}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=n(21);r.CordovaPopupNavigator=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var u=new a.CordovaPopupWindow(l);return Promise.resolve(u)},o}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=n(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var u=new a.CordovaPopupWindow(l);return Promise.resolve(u)},o}()},function(i,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(ST)),ST.exports}var kP=Qle();const _0=crypto,VC=e=>e instanceof CryptoKey,vs=new TextEncoder,Kg=new TextDecoder;function jW(...e){const t=e.reduce((n,{length:a})=>n+a,0),i=new Uint8Array(t);let r=0;for(const n of e)i.set(n,r),r+=n.length;return i}const zle=e=>{let t=e;typeof t=="string"&&(t=vs.encode(t));const i=32768,r=[];for(let n=0;n<t.length;n+=i)r.push(String.fromCharCode.apply(null,t.subarray(n,n+i)));return btoa(r.join(""))},AT=e=>zle(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Gle=e=>{const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i},_p=e=>{let t=e;t instanceof Uint8Array&&(t=Kg.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Gle(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class qi extends Error{constructor(t,i){var r;super(t,i),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}qi.code="ERR_JOSE_GENERIC";class ko extends qi{constructor(t,i,r="unspecified",n="unspecified"){super(t,{cause:{claim:r,reason:n,payload:i}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=i}}ko.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class BP extends qi{constructor(t,i,r="unspecified",n="unspecified"){super(t,{cause:{claim:r,reason:n,payload:i}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=i}}BP.code="ERR_JWT_EXPIRED";class kW extends qi{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}kW.code="ERR_JOSE_ALG_NOT_ALLOWED";class La extends qi{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}La.code="ERR_JOSE_NOT_SUPPORTED";class Wle extends qi{constructor(t="decryption operation failed",i){super(t,i),this.code="ERR_JWE_DECRYPTION_FAILED"}}Wle.code="ERR_JWE_DECRYPTION_FAILED";class Kle extends qi{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Kle.code="ERR_JWE_INVALID";class jn extends qi{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}jn.code="ERR_JWS_INVALID";class ME extends qi{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}ME.code="ERR_JWT_INVALID";class Jle extends qi{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}Jle.code="ERR_JWK_INVALID";class UC extends qi{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}UC.code="ERR_JWKS_INVALID";class HC extends qi{constructor(t="no applicable key found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_NO_MATCHING_KEY"}}HC.code="ERR_JWKS_NO_MATCHING_KEY";class BW extends qi{constructor(t="multiple matching keys found in the JSON Web Key Set",i){super(t,i),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}BW.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class qW extends qi{constructor(t="request timed out",i){super(t,i),this.code="ERR_JWKS_TIMEOUT"}}qW.code="ERR_JWKS_TIMEOUT";class VW extends qi{constructor(t="signature verification failed",i){super(t,i),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}VW.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function ss(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function im(e,t){return e.name===t}function Cx(e){return parseInt(e.name.slice(4),10)}function Xle(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Yle(e,t){if(t.length&&!t.some(i=>e.usages.includes(i))){let i="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();i+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?i+=`one of ${t[0]} or ${t[1]}.`:i+=`${t[0]}.`;throw new TypeError(i)}}function Zle(e,t,...i){switch(t){case"HS256":case"HS384":case"HS512":{if(!im(e.algorithm,"HMAC"))throw ss("HMAC");const r=parseInt(t.slice(2),10);if(Cx(e.algorithm.hash)!==r)throw ss(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!im(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ss("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Cx(e.algorithm.hash)!==r)throw ss(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!im(e.algorithm,"RSA-PSS"))throw ss("RSA-PSS");const r=parseInt(t.slice(2),10);if(Cx(e.algorithm.hash)!==r)throw ss(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw ss("Ed25519 or Ed448");break}case"Ed25519":{if(!im(e.algorithm,"Ed25519"))throw ss("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!im(e.algorithm,"ECDSA"))throw ss("ECDSA");const r=Xle(t);if(e.algorithm.namedCurve!==r)throw ss(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Yle(e,i)}function UW(e,t,...i){var r;if(i=i.filter(Boolean),i.length>2){const n=i.pop();e+=`one of type ${i.join(", ")}, or ${n}.`}else i.length===2?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const qP=(e,...t)=>UW("Key must be ",e,...t);function HW(e,t,...i){return UW(`Key for the ${e} algorithm must be `,t,...i)}const $W=e=>VC(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",XS=["CryptoKey"],QW=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let i;for(const r of t){const n=Object.keys(r);if(!i||i.size===0){i=new Set(n);continue}for(const a of n){if(i.has(a))return!1;i.add(a)}}return!0};function ece(e){return typeof e=="object"&&e!==null}function du(e){if(!ece(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const zW=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:i}=t.algorithm;if(typeof i!="number"||i<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function w0(e){return du(e)&&typeof e.kty=="string"}function tce(e){return e.kty!=="oct"&&typeof e.d=="string"}function rce(e){return e.kty!=="oct"&&typeof e.d>"u"}function nce(e){return w0(e)&&e.kty==="oct"&&typeof e.k=="string"}function ice(e){let t,i;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},i=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},i=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},i=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},i=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":t={name:"Ed25519"},i=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},i=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},i=e.d?["deriveBits"]:[];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new La('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:i}}const GW=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:i}=ice(e),r=[t,e.ext??!1,e.key_ops??i],n={...e};return delete n.alg,delete n.use,_0.subtle.importKey("jwk",n,...r)},WW=e=>_p(e);let gg,mg;const KW=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",eE=async(e,t,i,r,n=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await GW({...i,alg:r});return n&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},ace=(e,t)=>{if(KW(e)){let i=e.export({format:"jwk"});return delete i.d,delete i.dp,delete i.dq,delete i.p,delete i.q,delete i.qi,i.k?WW(i.k):(mg||(mg=new WeakMap),eE(mg,e,i,t))}return w0(e)?e.k?_p(e.k):(mg||(mg=new WeakMap),eE(mg,e,e,t,!0)):e},oce=(e,t)=>{if(KW(e)){let i=e.export({format:"jwk"});return i.k?WW(i.k):(gg||(gg=new WeakMap),eE(gg,e,i,t))}return w0(e)?e.k?_p(e.k):(gg||(gg=new WeakMap),eE(gg,e,e,t,!0)):e},S6={normalizePublicKey:ace,normalizePrivateKey:oce};async function JW(e,t){if(!du(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return _p(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new La('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return GW({...e,alg:t});default:throw new La('Unsupported "kty" (Key Type) Parameter value')}}const Pg=e=>e==null?void 0:e[Symbol.toStringTag],VP=(e,t,i)=>{var r,n;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((n=(r=t.key_ops).includes)==null?void 0:n.call(r,i))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${i}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},sce=(e,t,i,r)=>{if(!(t instanceof Uint8Array)){if(r&&w0(t)){if(nce(t)&&VP(e,t,i))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!$W(t))throw new TypeError(HW(e,t,...XS,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${Pg(t)} instances for symmetric algorithms must be of type "secret"`)}},uce=(e,t,i,r)=>{if(r&&w0(t))switch(i){case"sign":if(tce(t)&&VP(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(rce(t)&&VP(e,t,i))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!$W(t))throw new TypeError(HW(e,t,...XS,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${Pg(t)} instances for asymmetric algorithms must not be of type "secret"`);if(i==="sign"&&t.type==="public")throw new TypeError(`${Pg(t)} instances for asymmetric algorithm signing must be of type "private"`);if(i==="decrypt"&&t.type==="public")throw new TypeError(`${Pg(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&i==="verify"&&t.type==="private")throw new TypeError(`${Pg(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&i==="encrypt"&&t.type==="private")throw new TypeError(`${Pg(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function XW(e,t,i,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?sce(t,i,r,e):uce(t,i,r,e)}XW.bind(void 0,!1);const UP=XW.bind(void 0,!0);function YW(e,t,i,r,n){if(n.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;i!==void 0?a=new Map([...Object.entries(i),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new La(`Extension Header Parameter "${o}" is not recognized`);if(n[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const lce=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(i=>typeof i!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},cce=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:AT(e)};if(!VC(e))throw new TypeError(qP(e,...XS,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:i,alg:r,use:n,...a}=await _0.subtle.exportKey("jwk",e);return a};async function dce(e){return cce(e)}function ZW(e,t){const i=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:i,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:i,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:i,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:i,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new La(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function eK(e,t,i){if(i==="sign"&&(t=await S6.normalizePrivateKey(t,e)),i==="verify"&&(t=await S6.normalizePublicKey(t,e)),VC(t))return Zle(t,e,i),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(qP(t,...XS));return _0.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[i])}throw new TypeError(qP(t,...XS,"Uint8Array","JSON Web Key"))}const fce=async(e,t,i,r)=>{const n=await eK(e,t,"verify");zW(e,n);const a=ZW(e,n.algorithm);try{return await _0.subtle.verify(a,n,i,r)}catch{return!1}};async function hce(e,t,i){if(!du(e))throw new jn("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new jn('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new jn("JWS Protected Header incorrect type");if(e.payload===void 0)throw new jn("JWS Payload missing");if(typeof e.signature!="string")throw new jn("JWS Signature missing or incorrect type");if(e.header!==void 0&&!du(e.header))throw new jn("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const g=_p(e.protected);r=JSON.parse(Kg.decode(g))}catch{throw new jn("JWS Protected Header is invalid")}if(!QW(r,e.header))throw new jn("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...r,...e.header},a=YW(jn,new Map([["b64",!0]]),i==null?void 0:i.crit,r,n);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new jn('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=n;if(typeof s!="string"||!s)throw new jn('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=i&&lce("algorithms",i.algorithms);if(l&&!l.has(s))throw new kW('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof e.payload!="string")throw new jn("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new jn("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof t=="function"?(t=await t(r,e),u=!0,UP(s,t,"verify"),w0(t)&&(t=await JW(t,s))):UP(s,t,"verify");const c=jW(vs.encode(e.protected??""),vs.encode("."),typeof e.payload=="string"?vs.encode(e.payload):e.payload);let d;try{d=_p(e.signature)}catch{throw new jn("Failed to base64url decode the signature")}if(!await fce(s,t,d,c))throw new VW;let h;if(o)try{h=_p(e.payload)}catch{throw new jn("Failed to base64url decode the payload")}else typeof e.payload=="string"?h=vs.encode(e.payload):h=e.payload;const p={payload:h};return e.protected!==void 0&&(p.protectedHeader=r),e.header!==void 0&&(p.unprotectedHeader=e.header),u?{...p,key:t}:p}async function pce(e,t,i){if(e instanceof Uint8Array&&(e=Kg.decode(e)),typeof e!="string")throw new jn("Compact JWS must be a string or Uint8Array");const{0:r,1:n,2:a,length:o}=e.split(".");if(o!==3)throw new jn("Invalid Compact JWS");const s=await hce({payload:n,protected:r,signature:a},t,i),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const Vu=e=>Math.floor(e.getTime()/1e3),tK=60,rK=tK*60,$C=rK*24,gce=$C*7,mce=$C*365.25,yce=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,BS=e=>{const t=yce.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const i=parseFloat(t[2]),r=t[3].toLowerCase();let n;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(i*tK);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(i*rK);break;case"day":case"days":case"d":n=Math.round(i*$C);break;case"week":case"weeks":case"w":n=Math.round(i*gce);break;default:n=Math.round(i*mce);break}return t[1]==="-"||t[4]==="ago"?-n:n},A6=e=>e.toLowerCase().replace(/^application\//,""),vce=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,bce=(e,t,i={})=>{let r;try{r=JSON.parse(Kg.decode(t))}catch{}if(!du(r))throw new ME("JWT Claims Set must be a top-level JSON object");const{typ:n}=i;if(n&&(typeof e.typ!="string"||A6(e.typ)!==A6(n)))throw new ko('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:u}=i,c=[...a];u!==void 0&&c.push("iat"),l!==void 0&&c.push("aud"),s!==void 0&&c.push("sub"),o!==void 0&&c.push("iss");for(const p of new Set(c.reverse()))if(!(p in r))throw new ko(`missing required "${p}" claim`,r,p,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new ko('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new ko('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!vce(r.aud,typeof l=="string"?[l]:l))throw new ko('unexpected "aud" claim value',r,"aud","check_failed");let d;switch(typeof i.clockTolerance){case"string":d=BS(i.clockTolerance);break;case"number":d=i.clockTolerance;break;case"undefined":d=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=i,h=Vu(f||new Date);if((r.iat!==void 0||u)&&typeof r.iat!="number")throw new ko('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new ko('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>h+d)throw new ko('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new ko('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=h-d)throw new BP('"exp" claim timestamp check failed',r,"exp","check_failed")}if(u){const p=h-r.iat,g=typeof u=="number"?u:BS(u);if(p-d>g)throw new BP('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(p<0-d)throw new ko('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function _ce(e,t,i){var o;const r=await pce(e,t,i);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new ME("JWTs MUST NOT use unencoded payload");const a={payload:bce(r.protectedHeader,r.payload,i),protectedHeader:r.protectedHeader};return typeof t=="function"?{...a,key:r.key}:a}const wce=async(e,t,i)=>{const r=await eK(e,t,"sign");zW(e,r);const n=await _0.subtle.sign(ZW(e,r.algorithm),r,i);return new Uint8Array(n)};class Sce{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,i){if(!this._protectedHeader&&!this._unprotectedHeader)throw new jn("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!QW(this._protectedHeader,this._unprotectedHeader))throw new jn("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},n=YW(jn,new Map([["b64",!0]]),i==null?void 0:i.crit,this._protectedHeader,r);let a=!0;if(n.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new jn('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new jn('JWS "alg" (Algorithm) Header Parameter missing or invalid');UP(o,t,"sign");let s=this._payload;a&&(s=vs.encode(AT(s)));let l;this._protectedHeader?l=vs.encode(AT(JSON.stringify(this._protectedHeader))):l=vs.encode("");const u=jW(l,vs.encode("."),s),c=await wce(o,t,u),d={signature:AT(c),payload:""};return a&&(d.payload=Kg.decode(s)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=Kg.decode(l)),d}}class Ace{constructor(t){this._flattened=new Sce(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,i){const r=await this._flattened.sign(t,i);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function $l(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Tce{constructor(t={}){if(!du(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:$l("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:$l("setNotBefore",Vu(t))}:this._payload={...this._payload,nbf:Vu(new Date)+BS(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:$l("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:$l("setExpirationTime",Vu(t))}:this._payload={...this._payload,exp:Vu(new Date)+BS(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Vu(new Date)}:t instanceof Date?this._payload={...this._payload,iat:$l("setIssuedAt",Vu(t))}:typeof t=="string"?this._payload={...this._payload,iat:$l("setIssuedAt",Vu(new Date)+BS(t))}:this._payload={...this._payload,iat:$l("setIssuedAt",t)},this}}class Ece extends Tce{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,i){var n;const r=new Ace(vs.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)==null?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ME("JWTs MUST NOT use unencoded payload");return r.sign(t,i)}}function xce(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new La('Unsupported "alg" value for a JSON Web Key Set')}}function Rce(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(Oce)}function Oce(e){return du(e)}function nK(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class Pce{constructor(t){if(this._cached=new WeakMap,!Rce(t))throw new UC("JSON Web Key Set malformed");this._jwks=nK(t)}async getKey(t,i){const{alg:r,kid:n}={...t,...i==null?void 0:i.header},a=xce(r),o=this._jwks.keys.filter(u=>{let c=a===u.kty;if(c&&typeof n=="string"&&(c=n===u.kid),c&&typeof u.alg=="string"&&(c=r===u.alg),c&&typeof u.use=="string"&&(c=u.use==="sig"),c&&Array.isArray(u.key_ops)&&(c=u.key_ops.includes("verify")),c)switch(r){case"ES256":c=u.crv==="P-256";break;case"ES256K":c=u.crv==="secp256k1";break;case"ES384":c=u.crv==="P-384";break;case"ES512":c=u.crv==="P-521";break;case"Ed25519":c=u.crv==="Ed25519";break;case"EdDSA":c=u.crv==="Ed25519"||u.crv==="Ed448";break}return c}),{0:s,length:l}=o;if(l===0)throw new HC;if(l!==1){const u=new BW,{_cached:c}=this;throw u[Symbol.asyncIterator]=async function*(){for(const d of o)try{yield await T6(c,d,r)}catch{}},u}return T6(this._cached,s,r)}}async function T6(e,t,i){const r=e.get(t)||e.set(t,{}).get(t);if(r[i]===void 0){const n=await JW({...t,ext:!0},i);if(n instanceof Uint8Array||n.type!=="public")throw new UC("JSON Web Key Set members must be public keys");r[i]=n}return r[i]}function E6(e){const t=new Pce(e),i=async(r,n)=>t.getKey(r,n);return Object.defineProperties(i,{jwks:{value:()=>nK(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),i}const Ice=async(e,t,i)=>{let r,n,a=!1;typeof AbortController=="function"&&(r=new AbortController,n=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:i.headers}).catch(s=>{throw a?new qW:s});if(n!==void 0&&clearTimeout(n),o.status!==200)throw new qi("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new qi("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Cce(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let HP;var mT,Kz;(typeof navigator>"u"||!((Kz=(mT=navigator.userAgent)==null?void 0:mT.startsWith)!=null&&Kz.call(mT,"Mozilla/5.0 ")))&&(HP="jose/v5.10.0");const Dx=Symbol();function Dce(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!du(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,du))}class Nce{constructor(t,i){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:i==null?void 0:i.agent,headers:i==null?void 0:i.headers},this._timeoutDuration=typeof(i==null?void 0:i.timeoutDuration)=="number"?i==null?void 0:i.timeoutDuration:5e3,this._cooldownDuration=typeof(i==null?void 0:i.cooldownDuration)=="number"?i==null?void 0:i.cooldownDuration:3e4,this._cacheMaxAge=typeof(i==null?void 0:i.cacheMaxAge)=="number"?i==null?void 0:i.cacheMaxAge:6e5,(i==null?void 0:i[Dx])!==void 0&&(this._cache=i==null?void 0:i[Dx],Dce(i==null?void 0:i[Dx],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=E6(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,i){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,i)}catch(r){if(r instanceof HC&&this.coolingDown()===!1)return await this.reload(),this._local(t,i);throw r}}async reload(){this._pendingFetch&&Cce()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);HP&&!t.has("User-Agent")&&(t.set("User-Agent",HP),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=Ice(this._url,this._timeoutDuration,this._options).then(i=>{this._local=E6(i),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=i),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(i=>{throw this._pendingFetch=void 0,i})),await this._pendingFetch}}function Fce(e,t){const i=new Nce(e,t),r=async(n,a)=>i.getKey(n,a);return Object.defineProperties(r,{coolingDown:{get:()=>i.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>i.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>i.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!i._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var n;return(n=i._local)==null?void 0:n.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function Nx(e){const t=(e==null?void 0:e.modulusLength)??2048;if(typeof t!="number"||t<2048)throw new La("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function Lce(e,t){let i,r;switch(e){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Nx(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Nx(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Nx(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"Ed25519":i={name:"Ed25519"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const n="Ed25519";switch(n){case"Ed25519":case"Ed448":i={name:n};break;default:throw new La("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const n="P-256";switch(n){case"P-256":case"P-384":case"P-521":{i={name:"ECDH",namedCurve:n};break}case"X25519":case"X448":i={name:n};break;default:throw new La("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return _0.subtle.generateKey(i,!1,r)}async function Mce(e,t){return Lce(e,t)}const Ni=[];for(let e=0;e<256;++e)Ni.push((e+256).toString(16).slice(1));function jce(e,t=0){return(Ni[e[t+0]]+Ni[e[t+1]]+Ni[e[t+2]]+Ni[e[t+3]]+"-"+Ni[e[t+4]]+Ni[e[t+5]]+"-"+Ni[e[t+6]]+Ni[e[t+7]]+"-"+Ni[e[t+8]]+Ni[e[t+9]]+"-"+Ni[e[t+10]]+Ni[e[t+11]]+Ni[e[t+12]]+Ni[e[t+13]]+Ni[e[t+14]]+Ni[e[t+15]]).toLowerCase()}let Fx;const kce=new Uint8Array(16);function Bce(){if(!Fx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fx=crypto.getRandomValues.bind(crypto)}return Fx(kce)}const qce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),x6={randomUUID:qce};function Vce(e,t,i){var n;if(x6.randomUUID&&!e)return x6.randomUUID();e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??Bce();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jce(r)}const tE=["ES256","RS256"],Uce="openid",Hce="offline_access",$ce="webid",Qce=[Uce,Hce,$ce].join(" ");async function iK(e,t,i,r){let n,a;try{const{payload:o}=await _ce(e,Fce(new URL(t)),{issuer:i,audience:r});n=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof n.azp=="string"&&(a=n.azp),typeof n.webid=="string")return{webId:n.webid,clientId:a};if(typeof n.sub!="string")throw new Error(`The token ${JSON.stringify(n)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(n.sub),{webId:n.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${n.sub}] is invalid as a URL - error [${o}].`)}}function zce(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function Gce(e,t){var i;return(i=t.find(r=>e.includes(r)))!==null&&i!==void 0?i:null}class FA extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class Wce extends Error{constructor(t,i,r){super(t),this.error=i,this.errorDescription=r}}function Kce(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function aK(e,t,i){return new Ece({htu:Kce(e),htm:t.toUpperCase(),jti:Vce()}).setProtectedHeader({alg:tE[0],jwk:i.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(i.privateKey,{})}async function Jce(){const{privateKey:e,publicKey:t}=await Mce(tE[0]),i={privateKey:e,publicKey:await dce(t)};return[i.publicKey.alg]=tE,i}function Xce(e,t){var i,r,n,a;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(i=t.redirectUrl)===null||i===void 0?void 0:i.toString()}] is invalid - ${(r=e.error_description)!==null&&r!==void 0?r:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(n=e.error_description)!==null&&n!==void 0?n:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(a=e.error_description)!==null&&a!==void 0?a:""}`)}function Yce(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function Zce(e,t){var i;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=Gce(t.idTokenSigningAlgValuesSupported,tE),n={client_name:e.clientName,application_type:"web",redirect_uris:[(i=e.redirectUrl)===null||i===void 0?void 0:i.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(n)});if(o.ok){const s=await o.json();return Yce(s,e),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&Xce(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function ede(e){return e.error!==void 0&&typeof e.error=="string"}function R6(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function tde(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function rde(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function nde(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function ide(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function ade(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function ode(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function sde(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function oK(e,t){if(ede(e))throw new Wce(`Token endpoint returned error [${e.error}]${R6(e)?`: ${e.error_description}`:""}${tde(e)?` (see ${e.error_uri})`:""}`,e.error,R6(e)?e.error_description:void 0);if(!rde(e))throw new FA(["access_token"]);if(!nde(e))throw new FA(["id_token"]);if(!ade(e))throw new FA(["token_type"]);if(!ode(e))throw new FA(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function ude(e,t,i,r){sde(e,i);const n={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await Jce(),n.DPoP=await aK(e.tokenEndpoint,"POST",a)),t.clientSecret&&(n.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:i.grantType,redirect_uri:i.redirectUrl,code:i.code,code_verifier:i.codeVerifier,client_id:t.clientId},s={method:"POST",headers:n,body:new URLSearchParams(o).toString()},u=await(await fetch(e.tokenEndpoint,s)).json(),c=oK(u,r),{webId:d,clientId:f}=await iK(c.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:ide(c)?c.refresh_token:void 0,webId:d,clientId:f,dpopKey:a,expiresIn:c.expires_in}}const lde=e=>{try{return new URL(e),!0}catch{return!1}};async function cde(e,t,i,r){if(i.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const n={grant_type:"refresh_token",refresh_token:e,scope:Qce};let a={};r!==void 0&&(a={DPoP:await aK(t.tokenEndpoint,"POST",r)});let o={};i.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${i.clientId}:${i.clientSecret}`)}`}:lde(i.clientId)&&(n.client_id=i.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(n).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const u=oK(l,r!==void 0),{webId:c}=await iK(u.id_token,t.jwksUri,t.issuer,i.clientId);return{accessToken:u.access_token,idToken:u.id_token,refreshToken:typeof u.refresh_token=="string"?u.refresh_token:void 0,webId:c,dpopKey:r,expiresIn:u.expires_in}}function dde(e){const t=zce(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function fde(){await new kP.OidcClient({response_mode:"query"}).clearStaleState(new kP.WebStorageStateStore({}));const t=window.localStorage,i=[];for(let r=0;r<=t.length;r+=1){const n=t.key(r);n&&(n.match(/^oidc\..+$/)||n.match(/^solidClientAuthenticationUser:.+$/))&&i.push(n)}i.forEach(r=>t.removeItem(r))}class hde extends Cle{constructor(t,i){super(t,i)}}class pde extends Ple{constructor(){super(...arguments),this.login=async(t,i)=>{var r,n;await this.sessionInfoManager.clear(t.sessionId);const a=(r=t.redirectUrl)!==null&&r!==void 0?r:dde(window.location.href);if(!CW(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...t,redirectUrl:a,clientName:(n=t.clientName)!==null&&n!==void 0?n:t.clientId,eventEmitter:i})},this.validateCurrentSession=async t=>{const i=await this.sessionInfoManager.get(t);return i===void 0||i.clientAppId===void 0||i.issuer===void 0?null:i},this.handleIncomingRedirect=async(t,i)=>{try{const r=await this.redirectHandler.handle(t,i,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(t),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(t),i.emit(pi.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(t){const i=gle(t).href;for(window.history.replaceState(null,"",i);window.location.href!==i;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function O6(e){return typeof e.oidcIssuer=="string"}function P6(e){return typeof e.redirectUrl=="string"}class gde{constructor(t,i,r,n){this.storageUtility=t,this.oidcHandler=i,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.storageUtility=t,this.oidcHandler=i,this.issuerConfigFetcher=r,this.clientRegistrar=n}async canHandle(t){return O6(t)&&P6(t)}async handle(t){if(!O6(t))throw new jP(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!P6(t))throw new jP(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const i=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await Ole(t,i,this.storageUtility,this.clientRegistrar),n={issuer:i.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:i,client:r};return this.oidcHandler.handle(n)}}class mde extends yle{async handle(t){var i;const r={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:hle,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(i=t.prompt)!==null&&i!==void 0?i:"consent"},n=new kP.OidcClient(r);try{const a=await n.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:t,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const yde=".well-known/openid-configuration",I6={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function vde(e){const t={};return Object.keys(e).forEach(i=>{I6[i]&&(t[I6[i].toKey]=e[i])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class QC{constructor(t){this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let i;const r=new URL(yde,t.endsWith("/")?t:`${t}/`).href,n=await fetch(r);try{i=vde(await n.json())}catch(a){throw new jP(`[${t.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(QC.getLocalStorageKey(t),JSON.stringify(i)),i}}async function bde(e,t){await NW(e,t),await fde()}class _de extends wle{async get(t){const[i,r,n,a,o,s,l,u]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof o=="string"&&!CW(o)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(u!==void 0&&!Tle(u))throw new Error(`Tokens of type [${u}] are not supported.`);if(!(n===void 0&&i===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:i==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:n,clientAppSecret:a,tokenType:u??"DPoP"}}async clear(t){return bde(t,this.storageUtility)}}class wde{async canHandle(t){try{return new URL(t),!0}catch(i){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${i}`)}}async handle(t){return DW()}}class Sde{constructor(t,i,r,n,a){this.storageUtility=t,this.sessionInfoManager=i,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=a,this.storageUtility=t,this.sessionInfoManager=i,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=a}async canHandle(t){try{const i=new URL(t);return i.searchParams.get("code")!==null&&i.searchParams.get("state")!==null}catch(i){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${i}`)}}async handle(t,i){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),n=r.searchParams.get("state"),a=await this.storageUtility.getForUser(n,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:u}=await LW(a,this.storageUtility,this.issuerConfigFetcher),c=r.searchParams.get("iss");if(typeof c=="string"&&c!==o.issuer)throw new Error(`The value of the iss parameter (${c}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const d=await this.clientRegistrar.getClient({sessionId:a},o),f=Date.now(),h=await ude(o,d,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},u);window.localStorage.removeItem(`oidc.${n}`);let p;h.refreshToken!==void 0&&(p={sessionId:a,refreshToken:h.refreshToken,tokenRefresher:this.tokerRefresher});const g=await Vle(h.accessToken,{dpopKey:h.dpopKey,refreshOptions:p,eventEmitter:i,expiresIn:h.expiresIn});await Ile(this.storageUtility,a,h.webId,h.clientId,"true",void 0,!0);const m=await this.sessionInfoManager.get(a);if(!m)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(m,{fetch:g,getLogoutUrl:Ale({idTokenHint:h.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof h.expiresIn=="number"?f+h.expiresIn*1e3:void 0})}}class Ade extends ple{constructor(t){super(t)}}class Tde{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,i){this.storage.setItem(t,i)}async delete(t){this.storage.removeItem(t)}}class Ede{redirect(t,i){i&&i.handleRedirect?i.handleRedirect(t):i&&i.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class xde{constructor(t){this.storageUtility=t,this.storageUtility=t}async getClient(t,i){const[r,n,a,o]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]);if(r&&Rle(o))return{clientId:r,clientSecret:n,clientName:a,clientType:o};try{const s=await Zce(t,i),l={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(l.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,l,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class Rde{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(i){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${i}`)}}async handle(t,i){if(i!==void 0){const r=new URL(t),n=r.searchParams.get("error"),a=r.searchParams.get("error_description");i.emit(pi.ERROR,n,a)}return DW()}}class Ode{constructor(t,i,r){this.storageUtility=t,this.issuerConfigFetcher=i,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=i,this.clientRegistrar=r}async refresh(t,i,r,n){const a=await LW(t,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);if(i===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await cde(i,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(n==null||n.emit(pi.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function C6(e){const t=new Dle,i=e.secureStorage||t,r=e.insecureStorage||new Tde,n=new hde(i,r),a=new QC(n),o=new xde(n),s=new _de(n),l=new Ode(n,a,o),u=new Ede,c=new gde(n,new mde(n,u),a,o),d=new Ade([new Rde,new Sde(n,s,a,o,l),new wde]);return new pde(c,d,new _le(s,u),s,a)}const Lx=`${IW}currentSession`,$P=`${IW}currentUrl`;async function Pde(e,t,i){var r;const n=await t.validateCurrentSession(e);return n!==null?(window.localStorage.setItem($P,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:n.issuer,redirectUrl:n.redirectUrl,clientId:n.clientAppId,clientSecret:n.clientAppSecret,tokenType:(r=n.tokenType)!==null&&r!==void 0?r:"DPoP"},i.events),!0):!1}function Ide(e){return!!(e!=null&&e.isLoggedIn)}class Cde{constructor(t={},i=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var n;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(n=r.tokenType)!==null&&n!==void 0?n:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,n)=>this.clientAuthentication.fetch(r,n),this.internalLogout=async(r,n)=>{window.localStorage.removeItem(Lx),await this.clientAuthentication.logout(this.info.sessionId,n),this.info.isLoggedIn=!1,r&&this.events.emit(pi.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var n;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(n=a.url)!==null&&n!==void 0?n:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(Ide(s)){this.setSessionInfo(s);const l=window.localStorage.getItem($P);l===null?this.events.emit(pi.LOGIN):(window.localStorage.removeItem($P),this.events.emit(pi.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(Lx);if(l!==null&&await Pde(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new Hle,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=C6({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=C6({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:i??kC(),isLoggedIn:!1},this.events.on(pi.LOGIN,()=>window.localStorage.setItem(Lx,this.info.sessionId)),this.events.on(pi.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(pi.ERROR,()=>this.internalLogout(!1))}setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(pi.SESSION_EXTENDED,i=>{this.info.expirationDate=Date.now()+i*1e3})}}let Mx;function zC(){return typeof Mx>"u"&&(Mx=new Cde),Mx}const Lr=(...e)=>zC().fetch(...e),Dde=(...e)=>zC().handleIncomingRedirect(...e);var jx={},am={},D6;function Nde(){if(D6)return am;D6=1,am.byteLength=s,am.toByteArray=u,am.fromByteArray=f;for(var e=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,a=r.length;n<a;++n)e[n]=r[n],t[r.charCodeAt(n)]=n;t[45]=62,t[95]=63;function o(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=p);var m=g===p?0:4-g%4;return[g,m]}function s(h){var p=o(h),g=p[0],m=p[1];return(g+m)*3/4-m}function l(h,p,g){return(p+g)*3/4-g}function u(h){var p,g=o(h),m=g[0],y=g[1],v=new i(l(h,m,y)),b=0,_=y>0?m-4:m,w;for(w=0;w<_;w+=4)p=t[h.charCodeAt(w)]<<18|t[h.charCodeAt(w+1)]<<12|t[h.charCodeAt(w+2)]<<6|t[h.charCodeAt(w+3)],v[b++]=p>>16&255,v[b++]=p>>8&255,v[b++]=p&255;return y===2&&(p=t[h.charCodeAt(w)]<<2|t[h.charCodeAt(w+1)]>>4,v[b++]=p&255),y===1&&(p=t[h.charCodeAt(w)]<<10|t[h.charCodeAt(w+1)]<<4|t[h.charCodeAt(w+2)]>>2,v[b++]=p>>8&255,v[b++]=p&255),v}function c(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}function d(h,p,g){for(var m,y=[],v=p;v<g;v+=3)m=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(h[v+2]&255),y.push(c(m));return y.join("")}function f(h){for(var p,g=h.length,m=g%3,y=[],v=16383,b=0,_=g-m;b<_;b+=v)y.push(d(h,b,b+v>_?_:b+v));return m===1?(p=h[g-1],y.push(e[p>>2]+e[p<<4&63]+"==")):m===2&&(p=(h[g-2]<<8)+h[g-1],y.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),y.join("")}return am}var LA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var N6;function Fde(){return N6||(N6=1,LA.read=function(e,t,i,r,n){var a,o,s=n*8-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?n-1:0,f=i?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=a*256+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=o*256+e[t+d],d+=f,c-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-u}return(h?-1:1)*o*Math.pow(2,a-r)},LA.write=function(e,t,i,r,n,a){var o,s,l,u=a*8-n-1,c=(1<<u)-1,d=c>>1,f=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,n),o=o+d):(s=t*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;e[i+h]=s&255,h+=p,s/=256,n-=8);for(o=o<<n|s,u+=n;u>0;e[i+h]=o&255,h+=p,o/=256,u-=8);e[i+h-p]|=g*128}),LA}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var F6;function Rs(){return F6||(F6=1,function(e){const t=Nde(),i=Fde(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50;const n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const W=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(W,V),W.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const V=new Uint8Array(W);return Object.setPrototypeOf(V,s.prototype),V}function s(W,V,K){if(typeof W=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(W)}return l(W,V,K)}s.poolSize=8192;function l(W,V,K){if(typeof W=="string")return f(W,V);if(ArrayBuffer.isView(W))return p(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Ae(W,ArrayBuffer)||W&&Ae(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(W,SharedArrayBuffer)||W&&Ae(W.buffer,SharedArrayBuffer)))return g(W,V,K);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=W.valueOf&&W.valueOf();if(z!=null&&z!==W)return s.from(z,V,K);const be=m(W);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return s.from(W[Symbol.toPrimitive]("string"),V,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}s.from=function(W,V,K){return l(W,V,K)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function c(W,V,K){return u(W),W<=0?o(W):V!==void 0?typeof K=="string"?o(W).fill(V,K):o(W).fill(V):o(W)}s.alloc=function(W,V,K){return c(W,V,K)};function d(W){return u(W),o(W<0?0:y(W)|0)}s.allocUnsafe=function(W){return d(W)},s.allocUnsafeSlow=function(W){return d(W)};function f(W,V){if((typeof V!="string"||V==="")&&(V="utf8"),!s.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const K=b(W,V)|0;let z=o(K);const be=z.write(W,V);return be!==K&&(z=z.slice(0,be)),z}function h(W){const V=W.length<0?0:y(W.length)|0,K=o(V);for(let z=0;z<V;z+=1)K[z]=W[z]&255;return K}function p(W){if(Ae(W,Uint8Array)){const V=new Uint8Array(W);return g(V.buffer,V.byteOffset,V.byteLength)}return h(W)}function g(W,V,K){if(V<0||W.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<V+(K||0))throw new RangeError('"length" is outside of buffer bounds');let z;return V===void 0&&K===void 0?z=new Uint8Array(W):K===void 0?z=new Uint8Array(W,V):z=new Uint8Array(W,V,K),Object.setPrototypeOf(z,s.prototype),z}function m(W){if(s.isBuffer(W)){const V=y(W.length)|0,K=o(V);return K.length===0||W.copy(K,0,0,V),K}if(W.length!==void 0)return typeof W.length!="number"||Ve(W.length)?o(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function y(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function v(W){return+W!=W&&(W=0),s.alloc(+W)}s.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==s.prototype},s.compare=function(V,K){if(Ae(V,Uint8Array)&&(V=s.from(V,V.offset,V.byteLength)),Ae(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer(V)||!s.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===K)return 0;let z=V.length,be=K.length;for(let ke=0,Pe=Math.min(z,be);ke<Pe;++ke)if(V[ke]!==K[ke]){z=V[ke],be=K[ke];break}return z<be?-1:be<z?1:0},s.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(V,K){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return s.alloc(0);let z;if(K===void 0)for(K=0,z=0;z<V.length;++z)K+=V[z].length;const be=s.allocUnsafe(K);let ke=0;for(z=0;z<V.length;++z){let Pe=V[z];if(Ae(Pe,Uint8Array))ke+Pe.length>be.length?(s.isBuffer(Pe)||(Pe=s.from(Pe)),Pe.copy(be,ke)):Uint8Array.prototype.set.call(be,Pe,ke);else if(s.isBuffer(Pe))Pe.copy(be,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=Pe.length}return be};function b(W,V){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Ae(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const K=W.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&K===0)return 0;let be=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return G(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return se(W).length;default:if(be)return z?-1:G(W).length;V=(""+V).toLowerCase(),be=!0}}s.byteLength=b;function _(W,V,K){let z=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,V>>>=0,K<=V))return"";for(W||(W="utf8");;)switch(W){case"hex":return oe(this,V,K);case"utf8":case"utf-8":return H(this,V,K);case"ascii":return te(this,V,K);case"latin1":case"binary":return re(this,V,K);case"base64":return j(this,V,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,V,K);default:if(z)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),z=!0}}s.prototype._isBuffer=!0;function w(W,V,K){const z=W[V];W[V]=W[K],W[K]=z}s.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<V;K+=2)w(this,K,K+1);return this},s.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<V;K+=4)w(this,K,K+3),w(this,K+1,K+2);return this},s.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<V;K+=8)w(this,K,K+7),w(this,K+1,K+6),w(this,K+2,K+5),w(this,K+3,K+4);return this},s.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?H(this,0,V):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(V){if(!s.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:s.compare(this,V)===0},s.prototype.inspect=function(){let V="";const K=e.INSPECT_MAX_BYTES;return V=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(V+=" ... "),"<Buffer "+V+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(V,K,z,be,ke){if(Ae(V,Uint8Array)&&(V=s.from(V,V.offset,V.byteLength)),!s.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(K===void 0&&(K=0),z===void 0&&(z=V?V.length:0),be===void 0&&(be=0),ke===void 0&&(ke=this.length),K<0||z>V.length||be<0||ke>this.length)throw new RangeError("out of range index");if(be>=ke&&K>=z)return 0;if(be>=ke)return-1;if(K>=z)return 1;if(K>>>=0,z>>>=0,be>>>=0,ke>>>=0,this===V)return 0;let Pe=ke-be,dt=z-K;const pt=Math.min(Pe,dt),tt=this.slice(be,ke),At=V.slice(K,z);for(let ve=0;ve<pt;++ve)if(tt[ve]!==At[ve]){Pe=tt[ve],dt=At[ve];break}return Pe<dt?-1:dt<Pe?1:0};function T(W,V,K,z,be){if(W.length===0)return-1;if(typeof K=="string"?(z=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,Ve(K)&&(K=be?0:W.length-1),K<0&&(K=W.length+K),K>=W.length){if(be)return-1;K=W.length-1}else if(K<0)if(be)K=0;else return-1;if(typeof V=="string"&&(V=s.from(V,z)),s.isBuffer(V))return V.length===0?-1:R(W,V,K,z,be);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?be?Uint8Array.prototype.indexOf.call(W,V,K):Uint8Array.prototype.lastIndexOf.call(W,V,K):R(W,[V],K,z,be);throw new TypeError("val must be string, number or Buffer")}function R(W,V,K,z,be){let ke=1,Pe=W.length,dt=V.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(W.length<2||V.length<2)return-1;ke=2,Pe/=2,dt/=2,K/=2}function pt(At,ve){return ke===1?At[ve]:At.readUInt16BE(ve*ke)}let tt;if(be){let At=-1;for(tt=K;tt<Pe;tt++)if(pt(W,tt)===pt(V,At===-1?0:tt-At)){if(At===-1&&(At=tt),tt-At+1===dt)return At*ke}else At!==-1&&(tt-=tt-At),At=-1}else for(K+dt>Pe&&(K=Pe-dt),tt=K;tt>=0;tt--){let At=!0;for(let ve=0;ve<dt;ve++)if(pt(W,tt+ve)!==pt(V,ve)){At=!1;break}if(At)return tt}return-1}s.prototype.includes=function(V,K,z){return this.indexOf(V,K,z)!==-1},s.prototype.indexOf=function(V,K,z){return T(this,V,K,z,!0)},s.prototype.lastIndexOf=function(V,K,z){return T(this,V,K,z,!1)};function F(W,V,K,z){K=Number(K)||0;const be=W.length-K;z?(z=Number(z),z>be&&(z=be)):z=be;const ke=V.length;z>ke/2&&(z=ke/2);let Pe;for(Pe=0;Pe<z;++Pe){const dt=parseInt(V.substr(Pe*2,2),16);if(Ve(dt))return Pe;W[K+Pe]=dt}return Pe}function D(W,V,K,z){return ge(G(V,W.length-K),W,K,z)}function A(W,V,K,z){return ge(ne(V),W,K,z)}function x(W,V,K,z){return ge(se(V),W,K,z)}function N(W,V,K,z){return ge(ee(V,W.length-K),W,K,z)}s.prototype.write=function(V,K,z,be){if(K===void 0)be="utf8",z=this.length,K=0;else if(z===void 0&&typeof K=="string")be=K,z=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(z)?(z=z>>>0,be===void 0&&(be="utf8")):(be=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-K;if((z===void 0||z>ke)&&(z=ke),V.length>0&&(z<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let Pe=!1;for(;;)switch(be){case"hex":return F(this,V,K,z);case"utf8":case"utf-8":return D(this,V,K,z);case"ascii":case"latin1":case"binary":return A(this,V,K,z);case"base64":return x(this,V,K,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,V,K,z);default:if(Pe)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Pe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(W,V,K){return V===0&&K===W.length?t.fromByteArray(W):t.fromByteArray(W.slice(V,K))}function H(W,V,K){K=Math.min(W.length,K);const z=[];let be=V;for(;be<K;){const ke=W[be];let Pe=null,dt=ke>239?4:ke>223?3:ke>191?2:1;if(be+dt<=K){let pt,tt,At,ve;switch(dt){case 1:ke<128&&(Pe=ke);break;case 2:pt=W[be+1],(pt&192)===128&&(ve=(ke&31)<<6|pt&63,ve>127&&(Pe=ve));break;case 3:pt=W[be+1],tt=W[be+2],(pt&192)===128&&(tt&192)===128&&(ve=(ke&15)<<12|(pt&63)<<6|tt&63,ve>2047&&(ve<55296||ve>57343)&&(Pe=ve));break;case 4:pt=W[be+1],tt=W[be+2],At=W[be+3],(pt&192)===128&&(tt&192)===128&&(At&192)===128&&(ve=(ke&15)<<18|(pt&63)<<12|(tt&63)<<6|At&63,ve>65535&&ve<1114112&&(Pe=ve))}}Pe===null?(Pe=65533,dt=1):Pe>65535&&(Pe-=65536,z.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),z.push(Pe),be+=dt}return $(z)}const M=4096;function $(W){const V=W.length;if(V<=M)return String.fromCharCode.apply(String,W);let K="",z=0;for(;z<V;)K+=String.fromCharCode.apply(String,W.slice(z,z+=M));return K}function te(W,V,K){let z="";K=Math.min(W.length,K);for(let be=V;be<K;++be)z+=String.fromCharCode(W[be]&127);return z}function re(W,V,K){let z="";K=Math.min(W.length,K);for(let be=V;be<K;++be)z+=String.fromCharCode(W[be]);return z}function oe(W,V,K){const z=W.length;(!V||V<0)&&(V=0),(!K||K<0||K>z)&&(K=z);let be="";for(let ke=V;ke<K;++ke)be+=Ge[W[ke]];return be}function J(W,V,K){const z=W.slice(V,K);let be="";for(let ke=0;ke<z.length-1;ke+=2)be+=String.fromCharCode(z[ke]+z[ke+1]*256);return be}s.prototype.slice=function(V,K){const z=this.length;V=~~V,K=K===void 0?z:~~K,V<0?(V+=z,V<0&&(V=0)):V>z&&(V=z),K<0?(K+=z,K<0&&(K=0)):K>z&&(K=z),K<V&&(K=V);const be=this.subarray(V,K);return Object.setPrototypeOf(be,s.prototype),be};function fe(W,V,K){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+V>K)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(V,K,z){V=V>>>0,K=K>>>0,z||fe(V,K,this.length);let be=this[V],ke=1,Pe=0;for(;++Pe<K&&(ke*=256);)be+=this[V+Pe]*ke;return be},s.prototype.readUintBE=s.prototype.readUIntBE=function(V,K,z){V=V>>>0,K=K>>>0,z||fe(V,K,this.length);let be=this[V+--K],ke=1;for(;K>0&&(ke*=256);)be+=this[V+--K]*ke;return be},s.prototype.readUint8=s.prototype.readUInt8=function(V,K){return V=V>>>0,K||fe(V,1,this.length),this[V]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(V,K){return V=V>>>0,K||fe(V,2,this.length),this[V]|this[V+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(V,K){return V=V>>>0,K||fe(V,2,this.length),this[V]<<8|this[V+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},s.prototype.readBigUInt64LE=qe(function(V){V=V>>>0,S(V,"offset");const K=this[V],z=this[V+7];(K===void 0||z===void 0)&&I(V,this.length-8);const be=K+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,ke=this[++V]+this[++V]*2**8+this[++V]*2**16+z*2**24;return BigInt(be)+(BigInt(ke)<<BigInt(32))}),s.prototype.readBigUInt64BE=qe(function(V){V=V>>>0,S(V,"offset");const K=this[V],z=this[V+7];(K===void 0||z===void 0)&&I(V,this.length-8);const be=K*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],ke=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+z;return(BigInt(be)<<BigInt(32))+BigInt(ke)}),s.prototype.readIntLE=function(V,K,z){V=V>>>0,K=K>>>0,z||fe(V,K,this.length);let be=this[V],ke=1,Pe=0;for(;++Pe<K&&(ke*=256);)be+=this[V+Pe]*ke;return ke*=128,be>=ke&&(be-=Math.pow(2,8*K)),be},s.prototype.readIntBE=function(V,K,z){V=V>>>0,K=K>>>0,z||fe(V,K,this.length);let be=K,ke=1,Pe=this[V+--be];for(;be>0&&(ke*=256);)Pe+=this[V+--be]*ke;return ke*=128,Pe>=ke&&(Pe-=Math.pow(2,8*K)),Pe},s.prototype.readInt8=function(V,K){return V=V>>>0,K||fe(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},s.prototype.readInt16LE=function(V,K){V=V>>>0,K||fe(V,2,this.length);const z=this[V]|this[V+1]<<8;return z&32768?z|4294901760:z},s.prototype.readInt16BE=function(V,K){V=V>>>0,K||fe(V,2,this.length);const z=this[V+1]|this[V]<<8;return z&32768?z|4294901760:z},s.prototype.readInt32LE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},s.prototype.readInt32BE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},s.prototype.readBigInt64LE=qe(function(V){V=V>>>0,S(V,"offset");const K=this[V],z=this[V+7];(K===void 0||z===void 0)&&I(V,this.length-8);const be=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(z<<24);return(BigInt(be)<<BigInt(32))+BigInt(K+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),s.prototype.readBigInt64BE=qe(function(V){V=V>>>0,S(V,"offset");const K=this[V],z=this[V+7];(K===void 0||z===void 0)&&I(V,this.length-8);const be=(K<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(be)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+z)}),s.prototype.readFloatLE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),i.read(this,V,!0,23,4)},s.prototype.readFloatBE=function(V,K){return V=V>>>0,K||fe(V,4,this.length),i.read(this,V,!1,23,4)},s.prototype.readDoubleLE=function(V,K){return V=V>>>0,K||fe(V,8,this.length),i.read(this,V,!0,52,8)},s.prototype.readDoubleBE=function(V,K){return V=V>>>0,K||fe(V,8,this.length),i.read(this,V,!1,52,8)};function xe(W,V,K,z,be,ke){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>be||V<ke)throw new RangeError('"value" argument is out of bounds');if(K+z>W.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(V,K,z,be){if(V=+V,K=K>>>0,z=z>>>0,!be){const dt=Math.pow(2,8*z)-1;xe(this,V,K,z,dt,0)}let ke=1,Pe=0;for(this[K]=V&255;++Pe<z&&(ke*=256);)this[K+Pe]=V/ke&255;return K+z},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(V,K,z,be){if(V=+V,K=K>>>0,z=z>>>0,!be){const dt=Math.pow(2,8*z)-1;xe(this,V,K,z,dt,0)}let ke=z-1,Pe=1;for(this[K+ke]=V&255;--ke>=0&&(Pe*=256);)this[K+ke]=V/Pe&255;return K+z},s.prototype.writeUint8=s.prototype.writeUInt8=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,1,255,0),this[K]=V&255,K+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,2,65535,0),this[K]=V&255,this[K+1]=V>>>8,K+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,2,65535,0),this[K]=V>>>8,this[K+1]=V&255,K+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,4,4294967295,0),this[K+3]=V>>>24,this[K+2]=V>>>16,this[K+1]=V>>>8,this[K]=V&255,K+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,4,4294967295,0),this[K]=V>>>24,this[K+1]=V>>>16,this[K+2]=V>>>8,this[K+3]=V&255,K+4};function de(W,V,K,z,be){E(V,z,be,W,K,7);let ke=Number(V&BigInt(4294967295));W[K++]=ke,ke=ke>>8,W[K++]=ke,ke=ke>>8,W[K++]=ke,ke=ke>>8,W[K++]=ke;let Pe=Number(V>>BigInt(32)&BigInt(4294967295));return W[K++]=Pe,Pe=Pe>>8,W[K++]=Pe,Pe=Pe>>8,W[K++]=Pe,Pe=Pe>>8,W[K++]=Pe,K}function ae(W,V,K,z,be){E(V,z,be,W,K,7);let ke=Number(V&BigInt(4294967295));W[K+7]=ke,ke=ke>>8,W[K+6]=ke,ke=ke>>8,W[K+5]=ke,ke=ke>>8,W[K+4]=ke;let Pe=Number(V>>BigInt(32)&BigInt(4294967295));return W[K+3]=Pe,Pe=Pe>>8,W[K+2]=Pe,Pe=Pe>>8,W[K+1]=Pe,Pe=Pe>>8,W[K]=Pe,K+8}s.prototype.writeBigUInt64LE=qe(function(V,K=0){return de(this,V,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=qe(function(V,K=0){return ae(this,V,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(V,K,z,be){if(V=+V,K=K>>>0,!be){const pt=Math.pow(2,8*z-1);xe(this,V,K,z,pt-1,-pt)}let ke=0,Pe=1,dt=0;for(this[K]=V&255;++ke<z&&(Pe*=256);)V<0&&dt===0&&this[K+ke-1]!==0&&(dt=1),this[K+ke]=(V/Pe>>0)-dt&255;return K+z},s.prototype.writeIntBE=function(V,K,z,be){if(V=+V,K=K>>>0,!be){const pt=Math.pow(2,8*z-1);xe(this,V,K,z,pt-1,-pt)}let ke=z-1,Pe=1,dt=0;for(this[K+ke]=V&255;--ke>=0&&(Pe*=256);)V<0&&dt===0&&this[K+ke+1]!==0&&(dt=1),this[K+ke]=(V/Pe>>0)-dt&255;return K+z},s.prototype.writeInt8=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,1,127,-128),V<0&&(V=255+V+1),this[K]=V&255,K+1},s.prototype.writeInt16LE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,2,32767,-32768),this[K]=V&255,this[K+1]=V>>>8,K+2},s.prototype.writeInt16BE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,2,32767,-32768),this[K]=V>>>8,this[K+1]=V&255,K+2},s.prototype.writeInt32LE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,4,2147483647,-2147483648),this[K]=V&255,this[K+1]=V>>>8,this[K+2]=V>>>16,this[K+3]=V>>>24,K+4},s.prototype.writeInt32BE=function(V,K,z){return V=+V,K=K>>>0,z||xe(this,V,K,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[K]=V>>>24,this[K+1]=V>>>16,this[K+2]=V>>>8,this[K+3]=V&255,K+4},s.prototype.writeBigInt64LE=qe(function(V,K=0){return de(this,V,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=qe(function(V,K=0){return ae(this,V,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(W,V,K,z,be,ke){if(K+z>W.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Le(W,V,K,z,be){return V=+V,K=K>>>0,be||Fe(W,V,K,4),i.write(W,V,K,z,23,4),K+4}s.prototype.writeFloatLE=function(V,K,z){return Le(this,V,K,!0,z)},s.prototype.writeFloatBE=function(V,K,z){return Le(this,V,K,!1,z)};function me(W,V,K,z,be){return V=+V,K=K>>>0,be||Fe(W,V,K,8),i.write(W,V,K,z,52,8),K+8}s.prototype.writeDoubleLE=function(V,K,z){return me(this,V,K,!0,z)},s.prototype.writeDoubleBE=function(V,K,z){return me(this,V,K,!1,z)},s.prototype.copy=function(V,K,z,be){if(!s.isBuffer(V))throw new TypeError("argument should be a Buffer");if(z||(z=0),!be&&be!==0&&(be=this.length),K>=V.length&&(K=V.length),K||(K=0),be>0&&be<z&&(be=z),be===z||V.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),V.length-K<be-z&&(be=V.length-K+z);const ke=be-z;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,z,be):Uint8Array.prototype.set.call(V,this.subarray(z,be),K),ke},s.prototype.fill=function(V,K,z,be){if(typeof V=="string"){if(typeof K=="string"?(be=K,K=0,z=this.length):typeof z=="string"&&(be=z,z=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!s.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(V.length===1){const Pe=V.charCodeAt(0);(be==="utf8"&&Pe<128||be==="latin1")&&(V=Pe)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(K<0||this.length<K||this.length<z)throw new RangeError("Out of range index");if(z<=K)return this;K=K>>>0,z=z===void 0?this.length:z>>>0,V||(V=0);let ke;if(typeof V=="number")for(ke=K;ke<z;++ke)this[ke]=V;else{const Pe=s.isBuffer(V)?V:s.from(V,be),dt=Pe.length;if(dt===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ke=0;ke<z-K;++ke)this[ke+K]=Pe[ke%dt]}return this};const pe={};function _e(W,V,K){pe[W]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(W,V){return`The "${W}" argument must be of type number. Received type ${typeof V}`},TypeError),_e("ERR_OUT_OF_RANGE",function(W,V,K){let z=`The value of "${W}" is out of range.`,be=K;return Number.isInteger(K)&&Math.abs(K)>2**32?be=X(String(K)):typeof K=="bigint"&&(be=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(be=X(be)),be+="n"),z+=` It must be ${V}. Received ${be}`,z},RangeError);function X(W){let V="",K=W.length;const z=W[0]==="-"?1:0;for(;K>=z+4;K-=3)V=`_${W.slice(K-3,K)}${V}`;return`${W.slice(0,K)}${V}`}function C(W,V,K){S(V,"offset"),(W[V]===void 0||W[V+K]===void 0)&&I(V,W.length-(K+1))}function E(W,V,K,z,be,ke){if(W>K||W<V){const Pe=typeof V=="bigint"?"n":"";let dt;throw V===0||V===BigInt(0)?dt=`>= 0${Pe} and < 2${Pe} ** ${(ke+1)*8}${Pe}`:dt=`>= -(2${Pe} ** ${(ke+1)*8-1}${Pe}) and < 2 ** ${(ke+1)*8-1}${Pe}`,new pe.ERR_OUT_OF_RANGE("value",dt,W)}C(z,be,ke)}function S(W,V){if(typeof W!="number")throw new pe.ERR_INVALID_ARG_TYPE(V,"number",W)}function I(W,V,K){throw Math.floor(W)!==W?(S(W,K),new pe.ERR_OUT_OF_RANGE("offset","an integer",W)):V<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,W)}const k=/[^+/0-9A-Za-z-_]/g;function Q(W){if(W=W.split("=")[0],W=W.trim().replace(k,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function G(W,V){V=V||1/0;let K;const z=W.length;let be=null;const ke=[];for(let Pe=0;Pe<z;++Pe){if(K=W.charCodeAt(Pe),K>55295&&K<57344){if(!be){if(K>56319){(V-=3)>-1&&ke.push(239,191,189);continue}else if(Pe+1===z){(V-=3)>-1&&ke.push(239,191,189);continue}be=K;continue}if(K<56320){(V-=3)>-1&&ke.push(239,191,189),be=K;continue}K=(be-55296<<10|K-56320)+65536}else be&&(V-=3)>-1&&ke.push(239,191,189);if(be=null,K<128){if((V-=1)<0)break;ke.push(K)}else if(K<2048){if((V-=2)<0)break;ke.push(K>>6|192,K&63|128)}else if(K<65536){if((V-=3)<0)break;ke.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((V-=4)<0)break;ke.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return ke}function ne(W){const V=[];for(let K=0;K<W.length;++K)V.push(W.charCodeAt(K)&255);return V}function ee(W,V){let K,z,be;const ke=[];for(let Pe=0;Pe<W.length&&!((V-=2)<0);++Pe)K=W.charCodeAt(Pe),z=K>>8,be=K%256,ke.push(be),ke.push(z);return ke}function se(W){return t.toByteArray(Q(W))}function ge(W,V,K,z){let be;for(be=0;be<z&&!(be+K>=V.length||be>=W.length);++be)V[be+K]=W[be];return be}function Ae(W,V){return W instanceof V||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===V.name}function Ve(W){return W!==W}const Ge=function(){const W="0123456789abcdef",V=new Array(256);for(let K=0;K<16;++K){const z=K*16;for(let be=0;be<16;++be)V[z+be]=W[K]+W[be]}return V}();function qe(W){return typeof BigInt>"u"?Ee:W}function Ee(){throw new Error("BigInt not supported")}}(jx)),jx}var kx,L6;function sK(){if(L6)return kx;L6=1;var{Buffer:e}=Rs(),t={},i=t.LEFT_BRACE=1,r=t.RIGHT_BRACE=2,n=t.LEFT_BRACKET=3,a=t.RIGHT_BRACKET=4,o=t.COLON=5,s=t.COMMA=6,l=t.TRUE=7,u=t.FALSE=8,c=t.NULL=9,d=t.STRING=10,f=t.NUMBER=11,h=t.START=17,p=t.STOP=18,g=t.TRUE1=33,m=t.TRUE2=34,y=t.TRUE3=35,v=t.FALSE1=49,b=t.FALSE2=50,_=t.FALSE3=51,w=t.FALSE4=52,T=t.NULL1=65,R=t.NULL2=66,F=t.NULL3=67,D=t.NUMBER1=81,A=t.NUMBER3=83,x=t.STRING1=97,N=t.STRING2=98,j=t.STRING3=99,H=t.STRING4=100,M=t.STRING5=101,$=t.STRING6=102,te=t.VALUE=113,re=t.KEY=114,oe=t.OBJECT=129,J=t.ARRAY=130,fe=92,xe=47,de=8,ae=12,Fe=10,Le=13,me=9,pe=64*1024;function _e(E){return e.alloc?e.alloc(E):new e(E)}function X(){this.tState=h,this.value=void 0,this.string=void 0,this.stringBuffer=_e(pe),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=te,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:_e(2),3:_e(3),4:_e(4)},this.offset=-1}X.toknam=function(E){for(var S=Object.keys(t),I=0,k=S.length;I<k;I++){var Q=S[I];if(t[Q]===E)return Q}return E&&"0x"+E.toString(16)};var C=X.prototype;return C.onError=function(E){throw E},C.charError=function(E,S){this.tState=p,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(E[S]))+" at position "+S+" in state "+X.toknam(this.tState)))},C.appendStringChar=function(E){this.stringBufferOffset>=pe&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=E},C.appendStringBuf=function(E,S,I){var k=E.length;typeof S=="number"&&(typeof I=="number"?I<0?k=E.length-S+I:k=I-S:k=E.length-S),k<0&&(k=0),this.stringBufferOffset+k>pe&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),E.copy(this.stringBuffer,this.stringBufferOffset,S,I),this.stringBufferOffset+=k},C.write=function(E){typeof E=="string"&&(E=new e(E));for(var S,I=0,k=E.length;I<k;I++)if(this.tState===h){if(S=E[I],this.offset++,S===123)this.onToken(i,"{");else if(S===125)this.onToken(r,"}");else if(S===91)this.onToken(n,"[");else if(S===93)this.onToken(a,"]");else if(S===58)this.onToken(o,":");else if(S===44)this.onToken(s,",");else if(S===116)this.tState=g;else if(S===102)this.tState=v;else if(S===110)this.tState=T;else if(S===34)this.string="",this.stringBufferOffset=0,this.tState=x;else if(S===45)this.string="-",this.tState=D;else if(S>=48&&S<64)this.string=String.fromCharCode(S),this.tState=A;else if(!(S===32||S===9||S===10||S===13))return this.charError(E,I)}else if(this.tState===x)if(S=E[I],this.bytes_remaining>0){for(var Q=0;Q<this.bytes_remaining;Q++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+Q]=E[Q];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,I=I+Q-1}else if(this.bytes_remaining===0&&S>=128){if(S<=193||S>244)return this.onError(new Error("Invalid UTF-8 character at position "+I+" in state "+X.toknam(this.tState)));if(S>=194&&S<=223&&(this.bytes_in_sequence=2),S>=224&&S<=239&&(this.bytes_in_sequence=3),S>=240&&S<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+I>E.length){for(var G=0;G<=E.length-1-I;G++)this.temp_buffs[this.bytes_in_sequence][G]=E[I+G];this.bytes_remaining=I+this.bytes_in_sequence-E.length,I=E.length-1}else this.appendStringBuf(E,I,I+this.bytes_in_sequence),I=I+this.bytes_in_sequence-1}else if(S===34)this.tState=h,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(S===92)this.tState=N;else if(S>=32)this.appendStringChar(S);else return this.charError(E,I);else if(this.tState===N)if(S=E[I],S===34)this.appendStringChar(S),this.tState=x;else if(S===92)this.appendStringChar(fe),this.tState=x;else if(S===47)this.appendStringChar(xe),this.tState=x;else if(S===98)this.appendStringChar(de),this.tState=x;else if(S===102)this.appendStringChar(ae),this.tState=x;else if(S===110)this.appendStringChar(Fe),this.tState=x;else if(S===114)this.appendStringChar(Le),this.tState=x;else if(S===116)this.appendStringChar(me),this.tState=x;else if(S===117)this.unicode="",this.tState=j;else return this.charError(E,I);else if(this.tState===j||this.tState===H||this.tState===M||this.tState===$)if(S=E[I],S>=48&&S<64||S>64&&S<=70||S>96&&S<=102){if(this.unicode+=String.fromCharCode(S),this.tState++===$){var ne=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ne>=56320&&ne<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ne))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ne>=55296&&ne<56320?this.highSurrogate=ne:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ne)))),this.tState=x}}else return this.charError(E,I);else if(this.tState===D||this.tState===A)switch(S=E[I],S){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(S),this.tState=A;break;default:this.tState=h;var ee=this.numberReviver(this.string,E,I);if(ee)return ee;this.offset+=this.string.length-1,this.string=void 0,I--;break}else if(this.tState===g)if(E[I]===114)this.tState=m;else return this.charError(E,I);else if(this.tState===m)if(E[I]===117)this.tState=y;else return this.charError(E,I);else if(this.tState===y)if(E[I]===101)this.tState=h,this.onToken(l,!0),this.offset+=3;else return this.charError(E,I);else if(this.tState===v)if(E[I]===97)this.tState=b;else return this.charError(E,I);else if(this.tState===b)if(E[I]===108)this.tState=_;else return this.charError(E,I);else if(this.tState===_)if(E[I]===115)this.tState=w;else return this.charError(E,I);else if(this.tState===w)if(E[I]===101)this.tState=h,this.onToken(u,!1),this.offset+=4;else return this.charError(E,I);else if(this.tState===T)if(E[I]===117)this.tState=R;else return this.charError(E,I);else if(this.tState===R)if(E[I]===108)this.tState=F;else return this.charError(E,I);else if(this.tState===F)if(E[I]===108)this.tState=h,this.onToken(c,null),this.offset+=3;else return this.charError(E,I)},C.onToken=function(E,S){},C.parseError=function(E,S){this.tState=p,this.onError(new Error("Unexpected "+X.toknam(E)+(S?"("+JSON.stringify(S)+")":"")+" in state "+X.toknam(this.state)))},C.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},C.pop=function(){var E=this.value,S=this.stack.pop();this.value=S.value,this.key=S.key,this.mode=S.mode,this.emit(E),this.mode||(this.state=te)},C.emit=function(E){this.mode&&(this.state=s),this.onValue(E)},C.onValue=function(E){},C.onToken=function(E,S){if(this.state===te)if(E===d||E===f||E===l||E===u||E===c)this.value&&(this.value[this.key]=S),this.emit(S);else if(E===i)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=re,this.mode=oe;else if(E===n)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=J,this.state=te;else if(E===r)if(this.mode===oe)this.pop();else return this.parseError(E,S);else if(E===a)if(this.mode===J)this.pop();else return this.parseError(E,S);else return this.parseError(E,S);else if(this.state===re)if(E===d)this.key=S,this.state=o;else if(E===r)this.pop();else return this.parseError(E,S);else if(this.state===o)if(E===o)this.state=te;else return this.parseError(E,S);else if(this.state===s)if(E===s)this.mode===J?(this.key++,this.state=te):this.mode===oe&&(this.state=re);else if(E===a&&this.mode===J||E===r&&this.mode===oe)this.pop();else return this.parseError(E,S);else return this.parseError(E,S)},C.numberReviver=function(E,S,I){var k=Number(E);if(isNaN(k))return this.charError(S,I);E.match(/[0-9]+/)==E&&k.toString()!=E?this.onToken(d,E):this.onToken(f,k)},X.C=t,kx=X,kx}var Ql={},Qs={},M6;function Lde(){if(M6)return Qs;M6=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.removeDotSegmentsOfPath=Qs.removeDotSegments=Qs.resolve=void 0;function e(n,a){a=a||"";const o=a.indexOf("#");if(o>0&&(a=a.substr(0,o)),!n.length){if(a.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${a}' for value '${n}'`);return a}if(n.startsWith("?")){const h=a.indexOf("?");return h>0&&(a=a.substr(0,h)),a+n}if(n.startsWith("#"))return a+n;if(!a.length){const h=n.indexOf(":");if(h<0)throw new Error(`Found invalid relative IRI '${n}' for a missing baseIRI`);return i(n,h)}const s=n.indexOf(":");if(s>=0)return i(n,s);const l=a.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${a}' for value '${n}'`);const u=a.substr(0,l+1);if(n.indexOf("//")===0)return u+i(n,s);let c;if(a.indexOf("//",l)===l+1){if(c=a.indexOf("/",l+3),c<0)return a.length>l+3?a+"/"+i(n,s):u+i(n,s)}else if(c=a.indexOf("/",l+1),c<0)return u+i(n,s);if(n.indexOf("/")===0)return a.substr(0,c)+t(n);let d=a.substr(c);const f=d.lastIndexOf("/");return f>=0&&f<d.length-1&&(d=d.substr(0,f+1),n[0]==="."&&n[1]!=="."&&n[1]!=="/"&&n[2]&&(n=n.substr(1))),n=d+n,n=t(n),a.substr(0,c)+n}Qs.resolve=e;function t(n){const a=[];let o=0;for(;o<n.length;)switch(n[o]){case"/":if(n[o+1]===".")if(n[o+2]==="."){if(!r(n[o+3])){a.push([]),o++;break}a.pop(),n[o+3]||a.push([]),o+=3}else{if(!r(n[o+2])){a.push([]),o++;break}n[o+2]||a.push([]),o+=2}else a.push([]),o++;break;case"#":case"?":a.length||a.push([]),a[a.length-1].push(n.substr(o)),o=n.length;break;default:a.length||a.push([]),a[a.length-1].push(n[o]),o++;break}return"/"+a.map(s=>s.join("")).join("/")}Qs.removeDotSegments=t;function i(n,a){let o=a+1;a>=0?n[a+1]==="/"&&n[a+2]==="/"&&(o=a+3):n[0]==="/"&&n[1]==="/"&&(o=2);const s=n.indexOf("/",o);if(s<0)return n;const l=n.substr(0,s),u=n.substr(s);return l+t(u)}Qs.removeDotSegmentsOfPath=i;function r(n){return!n||n==="#"||n==="?"||n==="/"}return Qs}var j6;function Ko(){return j6||(j6=1,function(e){var t=Ql&&Ql.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ql&&Ql.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Lde(),e)}(Ql)),Ql}var Bx,k6;function GC(){if(k6)return Bx;k6=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,n=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(p){return p.replace(t,"")}function u(p){return i.test(p)}function c(p,g){for(;u(p[g]);)g++;return g}function d(p){return a.test(p)||!o.test(p)}function f(p,g){return Object.keys(p).length===Object.keys(g).length&&Object.keys(p).every(m=>m in g&&p[m]===g[m])}class h{constructor(g){this.refs=[],g&&this.parse(g)}rel(g){for(var m=[],y=g.toLowerCase(),v=0;v<this.refs.length;v++)typeof this.refs[v].rel=="string"&&this.refs[v].rel.toLowerCase()===y&&m.push(this.refs[v]);return m}get(g,m){g=g.toLowerCase(),m=m.toLowerCase();for(var y=[],v=0;v<this.refs.length;v++)typeof this.refs[v][g]=="string"&&this.refs[v][g].toLowerCase()===m&&y.push(this.refs[v]);return y}set(g){return this.refs.push(g),this}setUnique(g){return this.refs.some(m=>f(m,g))||this.refs.push(g),this}has(g,m){g=g.toLowerCase(),m=m.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][g]=="string"&&this.refs[y][g].toLowerCase()===m)return!0;return!1}parse(g,b){b=b||0,g=b?g.slice(b):g,g=l(g).replace(r,"");for(var y=s.IDLE,v=g.length,b=0,_=null;b<v;)if(y===s.IDLE){if(u(g[b])){b++;continue}else if(g[b]==="<"){_!=null&&(_.rel!=null?this.refs.push(...h.expandRelations(_)):this.refs.push(_));var w=g.indexOf(">",b);if(w===-1)throw new Error("Expected end of URI delimiter at offset "+b);_={uri:g.slice(b+1,w)},b=w,y=s.URI}else throw new Error('Unexpected character "'+g[b]+'" at offset '+b);b++}else if(y===s.URI)if(u(g[b])){b++;continue}else if(g[b]===";")y=s.ATTR,b++;else if(g[b]===",")y=s.IDLE,b++;else throw new Error('Unexpected character "'+g[b]+'" at offset '+b);else if(y===s.ATTR){if(g[b]===";"||u(g[b])){b++;continue}var w=g.indexOf("=",b);w===-1&&(w=g.indexOf(";",b)),w===-1&&(w=g.length);var T=l(g.slice(b,w)).toLowerCase(),R="";if(b=w+1,b=c(g,b),g[b]==='"')for(b++;b<v;){if(g[b]==='"'){b++;break}g[b]==="\\"&&b++,R+=g[b],b++}else{for(var w=b+1;!n.test(g[w])&&w<v;)w++;R=g.slice(b,w),b=w}switch(_[T]&&h.isSingleOccurenceAttr(T)||(T[T.length-1]==="*"?_[T]=h.parseExtendedValue(R):(R=T==="type"?R.toLowerCase():R,_[T]!=null?Array.isArray(_[T])?_[T].push(R):_[T]=[_[T],R]:_[T]=R)),g[b]){case",":y=s.IDLE;break;case";":y=s.ATTR;break}b++}else throw new Error('Unknown parser state "'+y+'"');return _!=null&&(_.rel!=null?this.refs.push(...h.expandRelations(_)):this.refs.push(_)),_=null,this}toString(){for(var g=[],m="",y=null,v=0;v<this.refs.length;v++)y=this.refs[v],m=Object.keys(this.refs[v]).reduce(function(b,_){return _==="uri"?b:b+"; "+h.formatAttribute(_,y[_])},"<"+y.uri+">"),g.push(m);return g.join(", ")}}return h.isCompatibleEncoding=function(p){return e.test(p)},h.parse=function(p,g){return new h().parse(p,g)},h.isSingleOccurenceAttr=function(p){return p==="rel"||p==="type"||p==="media"||p==="title"||p==="title*"},h.isTokenAttr=function(p){return p==="rel"||p==="type"||p==="anchor"},h.escapeQuotes=function(p){return p.replace(/"/g,'\\"')},h.expandRelations=function(p){var g=p.rel.split(" ");return g.map(function(m){var y=Object.assign({},p);return y.rel=m,y})},h.parseExtendedValue=function(p){var g=/([^']+)?(?:'([^']*)')?(.+)/.exec(p);return{language:g[2].toLowerCase(),encoding:h.isCompatibleEncoding(g[1])?null:g[1].toLowerCase(),value:h.isCompatibleEncoding(g[1])?decodeURIComponent(g[3]):g[3]}},h.formatExtendedAttribute=function(p,g){var m=(g.encoding||"utf-8").toUpperCase(),y=g.language||"en",v="";return Buffer.isBuffer(g.value)&&h.isCompatibleEncoding(m)?v=g.value.toString(m):Buffer.isBuffer(g.value)?v=g.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):v=encodeURIComponent(g.value),p+"="+m+"'"+y+"'"+v},h.formatAttribute=function(p,g){return Array.isArray(g)?g.map(m=>h.formatAttribute(p,m)).join("; "):p[p.length-1]==="*"||typeof g!="string"?h.formatExtendedAttribute(p,g):(h.isTokenAttr(p)?g=d(g)?'"'+h.escapeQuotes(g)+'"':h.escapeQuotes(g):d(g)&&(g=encodeURIComponent(g),g=g.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),g='"'+g+'"'),p+"="+g)},Bx=h,Bx}var qx={exports:{}},Vx={exports:{}},Ux,B6;function Bn(){if(B6)return Ux;B6=1;class e extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError(`Expected input to be an Array, got ${typeof i}`);let r="";for(let n=0;n<i.length;n++)r+=`    ${i[n].stack}
`;super(r),this.name="AggregateError",this.errors=i}}return Ux={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,i){return t.includes(i)},ArrayPrototypeIndexOf(t,i){return t.indexOf(i)},ArrayPrototypeJoin(t,i){return t.join(i)},ArrayPrototypeMap(t,i){return t.map(i)},ArrayPrototypePop(t,i){return t.pop(i)},ArrayPrototypePush(t,i){return t.push(i)},ArrayPrototypeSlice(t,i,r){return t.slice(i,r)},Error,FunctionPrototypeCall(t,i,...r){return t.call(i,...r)},FunctionPrototypeSymbolHasInstance(t,i){return Function.prototype[Symbol.hasInstance].call(t,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,i){return Object.defineProperties(t,i)},ObjectDefineProperty(t,i,r){return Object.defineProperty(t,i,r)},ObjectGetOwnPropertyDescriptor(t,i){return Object.getOwnPropertyDescriptor(t,i)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,i){return Object.setPrototypeOf(t,i)},Promise,PromisePrototypeCatch(t,i){return t.catch(i)},PromisePrototypeThen(t,i,r){return t.then(i,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,i){return t.test(i)},SafeSet:Set,String,StringPrototypeSlice(t,i,r){return t.slice(i,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,i,r){return t.set(i,r)},Boolean,Uint8Array},Ux}var Hx={exports:{}},$x,q6;function uK(){return q6||(q6=1,$x={format(e,...t){return e.replace(/%([sdifj])/g,function(...[i,r]){const n=t.shift();return r==="f"?n.toFixed(6):r==="j"?JSON.stringify(n):r==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),$x}var Qx,V6;function Pa(){if(V6)return Qx;V6=1;const{format:e,inspect:t}=uK(),{AggregateError:i}=Bn(),r=globalThis.AggregateError||i,n=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(m,y){if(!m)throw new l.ERR_INTERNAL_ASSERTION(y)}function c(m){let y="",v=m.length;const b=m[0]==="-"?1:0;for(;v>=b+4;v-=3)y=`_${m.slice(v-3,v)}${y}`;return`${m.slice(0,v)}${y}`}function d(m,y,v){if(typeof y=="function")return u(y.length<=v.length,`Code: ${m}; The provided arguments length (${v.length}) does not match the required ones (${y.length}).`),y(...v);const b=(y.match(/%[dfijoOs]/g)||[]).length;return u(b===v.length,`Code: ${m}; The provided arguments length (${v.length}) does not match the required ones (${b}).`),v.length===0?y:e(y,...v)}function f(m,y,v){v||(v=Error);class b extends v{constructor(...w){super(d(m,y,w))}toString(){return`${this.name} [${m}]: ${this.message}`}}Object.defineProperties(b.prototype,{name:{value:v.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${m}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),b.prototype.code=m,b.prototype[n]=!0,l[m]=b}function h(m){const y=s+m.name;return Object.defineProperty(m,"name",{value:y}),m}function p(m,y){if(m&&y&&m!==y){if(Array.isArray(y.errors))return y.errors.push(m),y;const v=new r([y,m],y.message);return v.code=y.code,v}return m||y}class g extends Error{constructor(y="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",v);super(y,v),this.code="ABORT_ERR",this.name="AbortError"}}return f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(m,y,v)=>{u(typeof m=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let b="The ";m.endsWith(" argument")?b+=`${m} `:b+=`"${m}" ${m.includes(".")?"property":"argument"} `,b+="must be ";const _=[],w=[],T=[];for(const F of y)u(typeof F=="string","All expected entries have to be of type string"),a.includes(F)?_.push(F.toLowerCase()):o.test(F)?w.push(F):(u(F!=="object",'The value "object" should be written as "Object"'),T.push(F));if(w.length>0){const F=_.indexOf("object");F!==-1&&(_.splice(_,F,1),w.push("Object"))}if(_.length>0){switch(_.length){case 1:b+=`of type ${_[0]}`;break;case 2:b+=`one of type ${_[0]} or ${_[1]}`;break;default:{const F=_.pop();b+=`one of type ${_.join(", ")}, or ${F}`}}(w.length>0||T.length>0)&&(b+=" or ")}if(w.length>0){switch(w.length){case 1:b+=`an instance of ${w[0]}`;break;case 2:b+=`an instance of ${w[0]} or ${w[1]}`;break;default:{const F=w.pop();b+=`an instance of ${w.join(", ")}, or ${F}`}}T.length>0&&(b+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(b+="an "),b+=`${T[0]}`;break;case 2:b+=`one of ${T[0]} or ${T[1]}`;break;default:{const F=T.pop();b+=`one of ${T.join(", ")}, or ${F}`}}if(v==null)b+=`. Received ${v}`;else if(typeof v=="function"&&v.name)b+=`. Received function ${v.name}`;else if(typeof v=="object"){var R;if((R=v.constructor)!==null&&R!==void 0&&R.name)b+=`. Received an instance of ${v.constructor.name}`;else{const F=t(v,{depth:-1});b+=`. Received ${F}`}}else{let F=t(v,{colors:!1});F.length>25&&(F=`${F.slice(0,25)}...`),b+=`. Received type ${typeof v} (${F})`}return b},TypeError),f("ERR_INVALID_ARG_VALUE",(m,y,v="is invalid")=>{let b=t(y);return b.length>128&&(b=b.slice(0,128)+"..."),`The ${m.includes(".")?"property":"argument"} '${m}' ${v}. Received ${b}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(m,y,v)=>{var b;const _=v!=null&&(b=v.constructor)!==null&&b!==void 0&&b.name?`instance of ${v.constructor.name}`:`type ${typeof v}`;return`Expected ${m} to be returned from the "${y}" function but got ${_}.`},TypeError),f("ERR_MISSING_ARGS",(...m)=>{u(m.length>0,"At least one arg needs to be specified");let y;const v=m.length;switch(m=(Array.isArray(m)?m:[m]).map(b=>`"${b}"`).join(" or "),v){case 1:y+=`The ${m[0]} argument`;break;case 2:y+=`The ${m[0]} and ${m[1]} arguments`;break;default:{const b=m.pop();y+=`The ${m.join(", ")}, and ${b} arguments`}break}return`${y} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(m,y,v)=>{u(y,'Missing "range" argument');let b;if(Number.isInteger(v)&&Math.abs(v)>2**32)b=c(String(v));else if(typeof v=="bigint"){b=String(v);const _=BigInt(2)**BigInt(32);(v>_||v<-_)&&(b=c(b)),b+="n"}else b=t(v);return`The value of "${m}" is out of range. It must be ${y}. Received ${b}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Qx={AbortError:g,aggregateTwoErrors:h(p),hideStackFrames:h,codes:l},Qx}var om={exports:{}},U6;function Jg(){if(U6)return om.exports;U6=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return om.exports=e,om.exports.AbortSignal=t,om.exports.default=e,om.exports}var H6;function ka(){return H6||(H6=1,function(e){const t=Rs(),{format:i,inspect:r}=uK(),{codes:{ERR_INVALID_ARG_TYPE:n}}=Pa(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:s}=Bn(),l=globalThis.AbortSignal||Jg().AbortSignal,u=globalThis.AbortController||Jg().AbortController,c=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,f=typeof d<"u"?function(m){return m instanceof d}:function(m){return!1},h=(g,m)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new n(m,"AbortSignal",g)},p=(g,m)=>{if(typeof g!="function")throw new n(m,"Function",g)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(g){let m=!1;return function(...y){m||(m=!0,g.apply(this,y))}},createDeferredPromise:function(){let g,m;return{promise:new Promise((v,b)=>{g=v,m=b}),resolve:g,reject:m}},promisify(g){return new Promise((m,y)=>{g((v,...b)=>v?y(v):m(...b))})},debuglog(){return function(){}},format:i,inspect:r,types:{isAsyncFunction(g){return g instanceof c},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:f,deprecate(g,m){return g},addAbortListener:b0().addAbortListener||function(m,y){if(m===void 0)throw new n("signal","AbortSignal",m);h(m,"signal"),p(y,"listener");let v;return m.aborted?queueMicrotask(()=>y()):(m.addEventListener("abort",y,{__proto__:null,once:!0,[a]:!0}),v=()=>{m.removeEventListener("abort",y)}),{__proto__:null,[s](){var b;(b=v)===null||b===void 0||b()}}},AbortSignalAny:l.any||function(m){if(m.length===1)return m[0];const y=new u,v=()=>y.abort();return m.forEach(b=>{h(b,"signals"),b.addEventListener("abort",v,{once:!0})}),y.signal.addEventListener("abort",()=>{m.forEach(b=>b.removeEventListener("abort",v))},{once:!0}),y.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Hx)),Hx.exports}var MA={},zx,$6;function P2(){if($6)return zx;$6=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:i,ArrayPrototypeMap:r,NumberIsInteger:n,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:c,String:d,StringPrototypeToUpperCase:f,StringPrototypeTrim:h}=Bn(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:b}}=Pa(),{normalizeEncoding:_}=ka(),{isAsyncFunction:w,isArrayBufferView:T}=ka().types,R={};function F(ee){return ee===(ee|0)}function D(ee){return ee===ee>>>0}const A=/^[0-7]+$/,x="must be a 32-bit unsigned integer or an octal string";function N(ee,se,ge){if(typeof ee>"u"&&(ee=ge),typeof ee=="string"){if(c(A,ee)===null)throw new y(se,ee,x);ee=l(ee,8)}return M(ee,se),ee}const j=p((ee,se,ge=s,Ae=o)=>{if(typeof ee!="number")throw new m(se,"number",ee);if(!n(ee))throw new v(se,"an integer",ee);if(ee<ge||ee>Ae)throw new v(se,`>= ${ge} && <= ${Ae}`,ee)}),H=p((ee,se,ge=-2147483648,Ae=2147483647)=>{if(typeof ee!="number")throw new m(se,"number",ee);if(!n(ee))throw new v(se,"an integer",ee);if(ee<ge||ee>Ae)throw new v(se,`>= ${ge} && <= ${Ae}`,ee)}),M=p((ee,se,ge=!1)=>{if(typeof ee!="number")throw new m(se,"number",ee);if(!n(ee))throw new v(se,"an integer",ee);const Ae=ge?1:0,Ve=4294967295;if(ee<Ae||ee>Ve)throw new v(se,`>= ${Ae} && <= ${Ve}`,ee)});function $(ee,se){if(typeof ee!="string")throw new m(se,"string",ee)}function te(ee,se,ge=void 0,Ae){if(typeof ee!="number")throw new m(se,"number",ee);if(ge!=null&&ee<ge||Ae!=null&&ee>Ae||(ge!=null||Ae!=null)&&a(ee))throw new v(se,`${ge!=null?`>= ${ge}`:""}${ge!=null&&Ae!=null?" && ":""}${Ae!=null?`<= ${Ae}`:""}`,ee)}const re=p((ee,se,ge)=>{if(!t(ge,ee)){const Ve="must be one of: "+i(r(ge,Ge=>typeof Ge=="string"?`'${Ge}'`:d(Ge)),", ");throw new y(se,ee,Ve)}});function oe(ee,se){if(typeof ee!="boolean")throw new m(se,"boolean",ee)}function J(ee,se,ge){return ee==null||!u(ee,se)?ge:ee[se]}const fe=p((ee,se,ge=null)=>{const Ae=J(ge,"allowArray",!1),Ve=J(ge,"allowFunction",!1);if(!J(ge,"nullable",!1)&&ee===null||!Ae&&e(ee)||typeof ee!="object"&&(!Ve||typeof ee!="function"))throw new m(se,"Object",ee)}),xe=p((ee,se)=>{if(ee!=null&&typeof ee!="object"&&typeof ee!="function")throw new m(se,"a dictionary",ee)}),de=p((ee,se,ge=0)=>{if(!e(ee))throw new m(se,"Array",ee);if(ee.length<ge){const Ae=`must be longer than ${ge}`;throw new y(se,ee,Ae)}});function ae(ee,se){de(ee,se);for(let ge=0;ge<ee.length;ge++)$(ee[ge],`${se}[${ge}]`)}function Fe(ee,se){de(ee,se);for(let ge=0;ge<ee.length;ge++)oe(ee[ge],`${se}[${ge}]`)}function Le(ee,se){de(ee,se);for(let ge=0;ge<ee.length;ge++){const Ae=ee[ge],Ve=`${se}[${ge}]`;if(Ae==null)throw new m(Ve,"AbortSignal",Ae);C(Ae,Ve)}}function me(ee,se="signal"){if($(ee,se),R[ee]===void 0)throw R[f(ee)]!==void 0?new b(ee+" (signals must use all capital letters)"):new b(ee)}const pe=p((ee,se="buffer")=>{if(!T(ee))throw new m(se,["Buffer","TypedArray","DataView"],ee)});function _e(ee,se){const ge=_(se),Ae=ee.length;if(ge==="hex"&&Ae%2!==0)throw new y("encoding",se,`is invalid for data of length ${Ae}`)}function X(ee,se="Port",ge=!0){if(typeof ee!="number"&&typeof ee!="string"||typeof ee=="string"&&h(ee).length===0||+ee!==+ee>>>0||ee>65535||ee===0&&!ge)throw new g(se,ee,ge);return ee|0}const C=p((ee,se)=>{if(ee!==void 0&&(ee===null||typeof ee!="object"||!("aborted"in ee)))throw new m(se,"AbortSignal",ee)}),E=p((ee,se)=>{if(typeof ee!="function")throw new m(se,"Function",ee)}),S=p((ee,se)=>{if(typeof ee!="function"||w(ee))throw new m(se,"Function",ee)}),I=p((ee,se)=>{if(ee!==void 0)throw new m(se,"undefined",ee)});function k(ee,se,ge){if(!t(ge,ee))throw new m(se,`('${i(ge,"|")}')`,ee)}const Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function G(ee,se){if(typeof ee>"u"||!c(Q,ee))throw new y(se,ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ne(ee){if(typeof ee=="string")return G(ee,"hints"),ee;if(e(ee)){const se=ee.length;let ge="";if(se===0)return ge;for(let Ae=0;Ae<se;Ae++){const Ve=ee[Ae];G(Ve,"hints"),ge+=Ve,Ae!==se-1&&(ge+=", ")}return ge}throw new y("hints",ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return zx={isInt32:F,isUint32:D,parseFileMode:N,validateArray:de,validateStringArray:ae,validateBooleanArray:Fe,validateAbortSignalArray:Le,validateBoolean:oe,validateBuffer:pe,validateDictionary:xe,validateEncoding:_e,validateFunction:E,validateInt32:H,validateInteger:j,validateNumber:te,validateObject:fe,validateOneOf:re,validatePlainFunction:S,validatePort:X,validateSignalName:me,validateString:$,validateUint32:M,validateUndefined:I,validateUnion:k,validateAbortSignal:C,validateLinkHeaderValue:ne},zx}var jA={exports:{}},Gx={exports:{}},Q6;function wu(){if(Q6)return Gx.exports;Q6=1;var e=Gx.exports={},t,i;function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?i=clearTimeout:i=n}catch{i=n}})();function a(g){if(t===setTimeout)return setTimeout(g,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(g,0);try{return t(g,0)}catch{try{return t.call(null,g,0)}catch{return t.call(this,g,0)}}}function o(g){if(i===clearTimeout)return clearTimeout(g);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(g);try{return i(g)}catch{try{return i.call(null,g)}catch{return i.call(this,g)}}}var s=[],l=!1,u,c=-1;function d(){!l||!u||(l=!1,u.length?s=u.concat(s):c=-1,s.length&&f())}function f(){if(!l){var g=a(d);l=!0;for(var m=s.length;m;){for(u=s,s=[];++c<m;)u&&u[c].run();c=-1,m=s.length}u=null,l=!1,o(g)}}e.nextTick=function(g){var m=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)m[y-1]=arguments[y];s.push(new h(g,m)),s.length===1&&!l&&a(f)};function h(g,m){this.fun=g,this.array=m}h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function p(){}return e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(g){return[]},e.binding=function(g){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(g){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Gx.exports}var Wx,z6;function Su(){if(z6)return Wx;z6=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:i}=Bn(),r=i("nodejs.stream.destroyed"),n=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),o=i("nodejs.stream.writable"),s=i("nodejs.stream.disturbed"),l=i("nodejs.webstream.isClosedPromise"),u=i("nodejs.webstream.controllerErrorFunction");function c(J,fe=!1){var xe;return!!(J&&typeof J.pipe=="function"&&typeof J.on=="function"&&(!fe||typeof J.pause=="function"&&typeof J.resume=="function")&&(!J._writableState||((xe=J._readableState)===null||xe===void 0?void 0:xe.readable)!==!1)&&(!J._writableState||J._readableState))}function d(J){var fe;return!!(J&&typeof J.write=="function"&&typeof J.on=="function"&&(!J._readableState||((fe=J._writableState)===null||fe===void 0?void 0:fe.writable)!==!1))}function f(J){return!!(J&&typeof J.pipe=="function"&&J._readableState&&typeof J.on=="function"&&typeof J.write=="function")}function h(J){return J&&(J._readableState||J._writableState||typeof J.write=="function"&&typeof J.on=="function"||typeof J.pipe=="function"&&typeof J.on=="function")}function p(J){return!!(J&&!h(J)&&typeof J.pipeThrough=="function"&&typeof J.getReader=="function"&&typeof J.cancel=="function")}function g(J){return!!(J&&!h(J)&&typeof J.getWriter=="function"&&typeof J.abort=="function")}function m(J){return!!(J&&!h(J)&&typeof J.readable=="object"&&typeof J.writable=="object")}function y(J){return p(J)||g(J)||m(J)}function v(J,fe){return J==null?!1:fe===!0?typeof J[e]=="function":fe===!1?typeof J[t]=="function":typeof J[e]=="function"||typeof J[t]=="function"}function b(J){if(!h(J))return null;const fe=J._writableState,xe=J._readableState,de=fe||xe;return!!(J.destroyed||J[r]||de!=null&&de.destroyed)}function _(J){if(!d(J))return null;if(J.writableEnded===!0)return!0;const fe=J._writableState;return fe!=null&&fe.errored?!1:typeof(fe==null?void 0:fe.ended)!="boolean"?null:fe.ended}function w(J,fe){if(!d(J))return null;if(J.writableFinished===!0)return!0;const xe=J._writableState;return xe!=null&&xe.errored?!1:typeof(xe==null?void 0:xe.finished)!="boolean"?null:!!(xe.finished||fe===!1&&xe.ended===!0&&xe.length===0)}function T(J){if(!c(J))return null;if(J.readableEnded===!0)return!0;const fe=J._readableState;return!fe||fe.errored?!1:typeof(fe==null?void 0:fe.ended)!="boolean"?null:fe.ended}function R(J,fe){if(!c(J))return null;const xe=J._readableState;return xe!=null&&xe.errored?!1:typeof(xe==null?void 0:xe.endEmitted)!="boolean"?null:!!(xe.endEmitted||fe===!1&&xe.ended===!0&&xe.length===0)}function F(J){return J&&J[a]!=null?J[a]:typeof(J==null?void 0:J.readable)!="boolean"?null:b(J)?!1:c(J)&&J.readable&&!R(J)}function D(J){return J&&J[o]!=null?J[o]:typeof(J==null?void 0:J.writable)!="boolean"?null:b(J)?!1:d(J)&&J.writable&&!_(J)}function A(J,fe){return h(J)?b(J)?!0:!((fe==null?void 0:fe.readable)!==!1&&F(J)||(fe==null?void 0:fe.writable)!==!1&&D(J)):null}function x(J){var fe,xe;return h(J)?J.writableErrored?J.writableErrored:(fe=(xe=J._writableState)===null||xe===void 0?void 0:xe.errored)!==null&&fe!==void 0?fe:null:null}function N(J){var fe,xe;return h(J)?J.readableErrored?J.readableErrored:(fe=(xe=J._readableState)===null||xe===void 0?void 0:xe.errored)!==null&&fe!==void 0?fe:null:null}function j(J){if(!h(J))return null;if(typeof J.closed=="boolean")return J.closed;const fe=J._writableState,xe=J._readableState;return typeof(fe==null?void 0:fe.closed)=="boolean"||typeof(xe==null?void 0:xe.closed)=="boolean"?(fe==null?void 0:fe.closed)||(xe==null?void 0:xe.closed):typeof J._closed=="boolean"&&H(J)?J._closed:null}function H(J){return typeof J._closed=="boolean"&&typeof J._defaultKeepAlive=="boolean"&&typeof J._removedConnection=="boolean"&&typeof J._removedContLen=="boolean"}function M(J){return typeof J._sent100=="boolean"&&H(J)}function $(J){var fe;return typeof J._consuming=="boolean"&&typeof J._dumped=="boolean"&&((fe=J.req)===null||fe===void 0?void 0:fe.upgradeOrConnect)===void 0}function te(J){if(!h(J))return null;const fe=J._writableState,xe=J._readableState,de=fe||xe;return!de&&M(J)||!!(de&&de.autoDestroy&&de.emitClose&&de.closed===!1)}function re(J){var fe;return!!(J&&((fe=J[s])!==null&&fe!==void 0?fe:J.readableDidRead||J.readableAborted))}function oe(J){var fe,xe,de,ae,Fe,Le,me,pe,_e,X;return!!(J&&((fe=(xe=(de=(ae=(Fe=(Le=J[n])!==null&&Le!==void 0?Le:J.readableErrored)!==null&&Fe!==void 0?Fe:J.writableErrored)!==null&&ae!==void 0?ae:(me=J._readableState)===null||me===void 0?void 0:me.errorEmitted)!==null&&de!==void 0?de:(pe=J._writableState)===null||pe===void 0?void 0:pe.errorEmitted)!==null&&xe!==void 0?xe:(_e=J._readableState)===null||_e===void 0?void 0:_e.errored)!==null&&fe!==void 0?fe:!((X=J._writableState)===null||X===void 0)&&X.errored))}return Wx={isDestroyed:b,kIsDestroyed:r,isDisturbed:re,kIsDisturbed:s,isErrored:oe,kIsErrored:n,isReadable:F,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:j,isDuplexNodeStream:f,isFinished:A,isIterable:v,isReadableNodeStream:c,isReadableStream:p,isReadableEnded:T,isReadableFinished:R,isReadableErrored:N,isNodeStream:h,isWebStream:y,isWritable:D,isWritableNodeStream:d,isWritableStream:g,isWritableEnded:_,isWritableFinished:w,isWritableErrored:x,isServerRequest:$,isServerResponse:M,willEmitClose:te,isTransformStream:m},Wx}var G6;function yl(){if(G6)return jA.exports;G6=1;const e=wu(),{AbortError:t,codes:i}=Pa(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:n}=i,{kEmptyObject:a,once:o}=ka(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:c}=P2(),{Promise:d,PromisePrototypeThen:f,SymbolDispose:h}=Bn(),{isClosed:p,isReadable:g,isReadableNodeStream:m,isReadableStream:y,isReadableFinished:v,isReadableErrored:b,isWritable:_,isWritableNodeStream:w,isWritableStream:T,isWritableFinished:R,isWritableErrored:F,isNodeStream:D,willEmitClose:A,kIsClosedPromise:x}=Su();let N;function j(re){return re.setHeader&&typeof re.abort=="function"}const H=()=>{};function M(re,oe,J){var fe,xe;if(arguments.length===2?(J=oe,oe=a):oe==null?oe=a:u(oe,"options"),l(J,"callback"),s(oe.signal,"options.signal"),J=o(J),y(re)||T(re))return $(re,oe,J);if(!D(re))throw new r("stream",["ReadableStream","WritableStream","Stream"],re);const de=(fe=oe.readable)!==null&&fe!==void 0?fe:m(re),ae=(xe=oe.writable)!==null&&xe!==void 0?xe:w(re),Fe=re._writableState,Le=re._readableState,me=()=>{re.writable||X()};let pe=A(re)&&m(re)===de&&w(re)===ae,_e=R(re,!1);const X=()=>{_e=!0,re.destroyed&&(pe=!1),!(pe&&(!re.readable||de))&&(!de||C)&&J.call(re)};let C=v(re,!1);const E=()=>{C=!0,re.destroyed&&(pe=!1),!(pe&&(!re.writable||ae))&&(!ae||_e)&&J.call(re)},S=ee=>{J.call(re,ee)};let I=p(re);const k=()=>{I=!0;const ee=F(re)||b(re);if(ee&&typeof ee!="boolean")return J.call(re,ee);if(de&&!C&&m(re,!0)&&!v(re,!1))return J.call(re,new n);if(ae&&!_e&&!R(re,!1))return J.call(re,new n);J.call(re)},Q=()=>{I=!0;const ee=F(re)||b(re);if(ee&&typeof ee!="boolean")return J.call(re,ee);J.call(re)},G=()=>{re.req.on("finish",X)};j(re)?(re.on("complete",X),pe||re.on("abort",k),re.req?G():re.on("request",G)):ae&&!Fe&&(re.on("end",me),re.on("close",me)),!pe&&typeof re.aborted=="boolean"&&re.on("aborted",k),re.on("end",E),re.on("finish",X),oe.error!==!1&&re.on("error",S),re.on("close",k),I?e.nextTick(k):Fe!=null&&Fe.errorEmitted||Le!=null&&Le.errorEmitted?pe||e.nextTick(Q):(!de&&(!pe||g(re))&&(_e||_(re)===!1)||!ae&&(!pe||_(re))&&(C||g(re)===!1)||Le&&re.req&&re.aborted)&&e.nextTick(Q);const ne=()=>{J=H,re.removeListener("aborted",k),re.removeListener("complete",X),re.removeListener("abort",k),re.removeListener("request",G),re.req&&re.req.removeListener("finish",X),re.removeListener("end",me),re.removeListener("close",me),re.removeListener("finish",X),re.removeListener("end",E),re.removeListener("error",S),re.removeListener("close",k)};if(oe.signal&&!I){const ee=()=>{const se=J;ne(),se.call(re,new t(void 0,{cause:oe.signal.reason}))};if(oe.signal.aborted)e.nextTick(ee);else{N=N||ka().addAbortListener;const se=N(oe.signal,ee),ge=J;J=o((...Ae)=>{se[h](),ge.apply(re,Ae)})}}return ne}function $(re,oe,J){let fe=!1,xe=H;if(oe.signal)if(xe=()=>{fe=!0,J.call(re,new t(void 0,{cause:oe.signal.reason}))},oe.signal.aborted)e.nextTick(xe);else{N=N||ka().addAbortListener;const ae=N(oe.signal,xe),Fe=J;J=o((...Le)=>{ae[h](),Fe.apply(re,Le)})}const de=(...ae)=>{fe||e.nextTick(()=>J.apply(re,ae))};return f(re[x].promise,de,de),H}function te(re,oe){var J;let fe=!1;return oe===null&&(oe=a),(J=oe)!==null&&J!==void 0&&J.cleanup&&(c(oe.cleanup,"cleanup"),fe=oe.cleanup),new d((xe,de)=>{const ae=M(re,oe,Fe=>{fe&&ae(),Fe?de(Fe):xe()})})}return jA.exports=M,jA.exports.finished=te,jA.exports}var Kx,W6;function S0(){if(W6)return Kx;W6=1;const e=wu(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:r}=Pa(),{Symbol:n}=Bn(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=Su(),u=n("kDestroy"),c=n("kConstruct");function d(A,x,N){A&&(A.stack,x&&!x.errored&&(x.errored=A),N&&!N.errored&&(N.errored=A))}function f(A,x){const N=this._readableState,j=this._writableState,H=j||N;return j!=null&&j.destroyed||N!=null&&N.destroyed?(typeof x=="function"&&x(),this):(d(A,j,N),j&&(j.destroyed=!0),N&&(N.destroyed=!0),H.constructed?h(this,A,x):this.once(u,function(M){h(this,t(M,A),x)}),this)}function h(A,x,N){let j=!1;function H(M){if(j)return;j=!0;const $=A._readableState,te=A._writableState;d(M,te,$),te&&(te.closed=!0),$&&($.closed=!0),typeof N=="function"&&N(M),M?e.nextTick(p,A,M):e.nextTick(g,A)}try{A._destroy(x||null,H)}catch(M){H(M)}}function p(A,x){m(A,x),g(A)}function g(A){const x=A._readableState,N=A._writableState;N&&(N.closeEmitted=!0),x&&(x.closeEmitted=!0),(N!=null&&N.emitClose||x!=null&&x.emitClose)&&A.emit("close")}function m(A,x){const N=A._readableState,j=A._writableState;j!=null&&j.errorEmitted||N!=null&&N.errorEmitted||(j&&(j.errorEmitted=!0),N&&(N.errorEmitted=!0),A.emit("error",x))}function y(){const A=this._readableState,x=this._writableState;A&&(A.constructed=!0,A.closed=!1,A.closeEmitted=!1,A.destroyed=!1,A.errored=null,A.errorEmitted=!1,A.reading=!1,A.ended=A.readable===!1,A.endEmitted=A.readable===!1),x&&(x.constructed=!0,x.destroyed=!1,x.closed=!1,x.closeEmitted=!1,x.errored=null,x.errorEmitted=!1,x.finalCalled=!1,x.prefinished=!1,x.ended=x.writable===!1,x.ending=x.writable===!1,x.finished=x.writable===!1)}function v(A,x,N){const j=A._readableState,H=A._writableState;if(H!=null&&H.destroyed||j!=null&&j.destroyed)return this;j!=null&&j.autoDestroy||H!=null&&H.autoDestroy?A.destroy(x):x&&(x.stack,H&&!H.errored&&(H.errored=x),j&&!j.errored&&(j.errored=x),N?e.nextTick(m,A,x):m(A,x))}function b(A,x){if(typeof A._construct!="function")return;const N=A._readableState,j=A._writableState;N&&(N.constructed=!1),j&&(j.constructed=!1),A.once(c,x),!(A.listenerCount(c)>1)&&e.nextTick(_,A)}function _(A){let x=!1;function N(j){if(x){v(A,j??new i);return}x=!0;const H=A._readableState,M=A._writableState,$=M||H;H&&(H.constructed=!0),M&&(M.constructed=!0),$.destroyed?A.emit(u,j):j?v(A,j,!0):e.nextTick(w,A)}try{A._construct(j=>{e.nextTick(N,j)})}catch(j){e.nextTick(N,j)}}function w(A){A.emit(c)}function T(A){return(A==null?void 0:A.setHeader)&&typeof A.abort=="function"}function R(A){A.emit("close")}function F(A,x){A.emit("error",x),e.nextTick(R,A)}function D(A,x){!A||o(A)||(!x&&!s(A)&&(x=new r),l(A)?(A.socket=null,A.destroy(x)):T(A)?A.abort():T(A.req)?A.req.abort():typeof A.destroy=="function"?A.destroy(x):typeof A.close=="function"?A.close():x?e.nextTick(F,A,x):e.nextTick(R,A),A.destroyed||(A[a]=!0))}return Kx={construct:b,destroyer:D,destroy:f,undestroy:y,errorOrDestroy:v},Kx}var Jx,K6;function WC(){if(K6)return Jx;K6=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Bn(),{EventEmitter:i}=b0();function r(a){i.call(this,a)}t(r.prototype,i.prototype),t(r,i),r.prototype.pipe=function(a,o){const s=this;function l(g){a.writable&&a.write(g)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}a.on("drain",u),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",d),s.on("close",f));let c=!1;function d(){c||(c=!0,a.end())}function f(){c||(c=!0,typeof a.destroy=="function"&&a.destroy())}function h(g){p(),i.listenerCount(this,"error")===0&&this.emit("error",g)}n(s,"error",h),n(a,"error",h);function p(){s.removeListener("data",l),a.removeListener("drain",u),s.removeListener("end",d),s.removeListener("close",f),s.removeListener("error",h),a.removeListener("error",h),s.removeListener("end",p),s.removeListener("close",p),a.removeListener("close",p)}return s.on("end",p),s.on("close",p),a.on("close",p),a.emit("pipe",s),a};function n(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return Jx={Stream:r,prependListener:n},Jx}var Xx={exports:{}},J6;function jE(){return J6||(J6=1,function(e){const{SymbolDispose:t}=Bn(),{AbortError:i,codes:r}=Pa(),{isNodeStream:n,isWebStream:a,kControllerErrorFunction:o}=Su(),s=yl(),{ERR_INVALID_ARG_TYPE:l}=r;let u;const c=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new l(f,"AbortSignal",d)};e.exports.addAbortSignal=function(f,h){if(c(f,"signal"),!n(h)&&!a(h))throw new l("stream",["ReadableStream","WritableStream","Stream"],h);return e.exports.addAbortSignalNoValidate(f,h)},e.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;const h=n(f)?()=>{f.destroy(new i(void 0,{cause:d.reason}))}:()=>{f[o](new i(void 0,{cause:d.reason}))};if(d.aborted)h();else{u=u||ka().addAbortListener;const p=u(d,h);s(f,p[t])}return f}}(Xx)),Xx.exports}var Yx,X6;function Mde(){if(X6)return Yx;X6=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:i,Uint8Array:r}=Bn(),{Buffer:n}=Rs(),{inspect:a}=ka();return Yx=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return n.alloc(0);const l=n.allocUnsafe(s>>>0);let u=this.head,c=0;for(;u;)i(l,u.data,c),c+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const c=u.slice(0,s);return this.head.data=u.slice(s),c}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,c=0;do{const d=u.data;if(s>d.length)l+=d,s-=d.length;else{s===d.length?(l+=d,++c,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(d,0,s),this.head=u,u.data=e(d,s));break}++c}while((u=u.next)!==null);return this.length-=c,l}_getBuffer(s){const l=n.allocUnsafe(s),u=s;let c=this.head,d=0;do{const f=c.data;if(s>f.length)i(l,f,u-s),s-=f.length;else{s===f.length?(i(l,f,u-s),++d,c.next?this.head=c.next:this.head=this.tail=null):(i(l,new r(f.buffer,f.byteOffset,s),u-s),this.head=c,c.data=f.slice(s));break}++d}while((c=c.next)!==null);return this.length-=d,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},Yx}var Zx,Y6;function kE(){if(Y6)return Zx;Y6=1;const{MathFloor:e,NumberIsInteger:t}=Bn(),{validateInteger:i}=P2(),{ERR_INVALID_ARG_VALUE:r}=Pa().codes;let n=16*1024,a=16;function o(c,d,f){return c.highWaterMark!=null?c.highWaterMark:d?c[f]:null}function s(c){return c?a:n}function l(c,d){i(d,"value",0),c?a=d:n=d}function u(c,d,f,h){const p=o(d,h,f);if(p!=null){if(!t(p)||p<0){const g=h?`options.${f}`:"options.highWaterMark";throw new r(g,p)}return e(p)}return s(c.objectMode)}return Zx={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},Zx}var eR={},kA={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Z6;function jde(){return Z6||(Z6=1,function(e,t){var i=Rs(),r=i.Buffer;function n(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(n(i,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),n(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return s!==void 0?typeof l=="string"?u.fill(s,l):u.fill(s):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}}(kA,kA.exports)),kA.exports}var eF;function kde(){if(eF)return eR;eF=1;var e=jde().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function r(y){var v=i(y);if(typeof v!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return v||y}eR.StringDecoder=n;function n(y){this.encoding=r(y);var v;switch(this.encoding){case"utf16le":this.text=d,this.end=f,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=h,this.end=p,v=3;break;default:this.write=g,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}n.prototype.write=function(y){if(y.length===0)return"";var v,b;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<y.length?v?v+this.text(y,b):this.text(y,b):v||""},n.prototype.end=c,n.prototype.text=u,n.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,v,b){var _=v.length-1;if(_<b)return 0;var w=a(v[_]);return w>=0?(w>0&&(y.lastNeed=w-1),w):--_<b||w===-2?0:(w=a(v[_]),w>=0?(w>0&&(y.lastNeed=w-2),w):--_<b||w===-2?0:(w=a(v[_]),w>=0?(w>0&&(w===2?w=0:y.lastNeed=w-3),w):0))}function s(y,v,b){if((v[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,"�"}}function l(y){var v=this.lastTotal-this.lastNeed,b=s(this,y);if(b!==void 0)return b;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function u(y,v){var b=o(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=b;var _=y.length-(b-this.lastNeed);return y.copy(this.lastChar,0,_),y.toString("utf8",v,_)}function c(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"�":v}function d(y,v){if((y.length-v)%2===0){var b=y.toString("utf16le",v);if(b){var _=b.charCodeAt(b.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function f(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function h(y,v){var b=(y.length-v)%3;return b===0?y.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-b))}function p(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(y){return y.toString(this.encoding)}function m(y){return y&&y.length?this.write(y):""}return eR}var tR,tF;function lK(){if(tF)return tR;tF=1;const e=wu(),{PromisePrototypeThen:t,SymbolAsyncIterator:i,SymbolIterator:r}=Bn(),{Buffer:n}=Rs(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Pa().codes;function s(l,u,c){let d;if(typeof u=="string"||u instanceof n)return new l({objectMode:!0,...c,read(){this.push(u),this.push(null)}});let f;if(u&&u[i])f=!0,d=u[i]();else if(u&&u[r])f=!1,d=u[r]();else throw new a("iterable",["Iterable"],u);const h=new l({objectMode:!0,highWaterMark:1,...c});let p=!1;h._read=function(){p||(p=!0,m())},h._destroy=function(y,v){t(g(y),()=>e.nextTick(v,y),b=>e.nextTick(v,b||y))};async function g(y){const v=y!=null,b=typeof d.throw=="function";if(v&&b){const{value:_,done:w}=await d.throw(y);if(await _,w)return}if(typeof d.return=="function"){const{value:_}=await d.return();await _}}async function m(){for(;;){try{const{value:y,done:v}=f?await d.next():d.next();if(v)h.push(null);else{const b=y&&typeof y.then=="function"?await y:y;if(b===null)throw p=!1,new o;if(h.push(b))continue;p=!1}}catch(y){h.destroy(y)}break}}return h}return tR=s,tR}var rR,rF;function BE(){if(rF)return rR;rF=1;const e=wu(),{ArrayPrototypeIndexOf:t,NumberIsInteger:i,NumberIsNaN:r,NumberParseInt:n,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:d,Symbol:f}=Bn();rR=Ae,Ae.ReadableState=ge;const{EventEmitter:h}=b0(),{Stream:p,prependListener:g}=WC(),{Buffer:m}=Rs(),{addAbortSignal:y}=jE(),v=yl();let b=ka().debuglog("stream",Ie=>{b=Ie});const _=Mde(),w=S0(),{getHighWaterMark:T,getDefaultHighWaterMark:R}=kE(),{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_OUT_OF_RANGE:x,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:H}=Pa(),{validateObject:M}=P2(),$=f("kPaused"),{StringDecoder:te}=kde(),re=lK();s(Ae.prototype,p.prototype),s(Ae,p);const oe=()=>{},{errorOrDestroy:J}=w,fe=1,xe=2,de=4,ae=8,Fe=16,Le=32,me=64,pe=128,_e=256,X=512,C=1024,E=2048,S=4096,I=8192,k=16384,Q=32768,G=65536,ne=1<<17,ee=1<<18;function se(Ie){return{enumerable:!1,get(){return(this.state&Ie)!==0},set(U){U?this.state|=Ie:this.state&=~Ie}}}a(ge.prototype,{objectMode:se(fe),ended:se(xe),endEmitted:se(de),reading:se(ae),constructed:se(Fe),sync:se(Le),needReadable:se(me),emittedReadable:se(pe),readableListening:se(_e),resumeScheduled:se(X),errorEmitted:se(C),emitClose:se(E),autoDestroy:se(S),destroyed:se(I),closed:se(k),closeEmitted:se(Q),multiAwaitDrain:se(G),readingMore:se(ne),dataEmitted:se(ee)});function ge(Ie,U,he){typeof he!="boolean"&&(he=U instanceof fu()),this.state=E|S|Fe|Le,Ie&&Ie.objectMode&&(this.state|=fe),he&&Ie&&Ie.readableObjectMode&&(this.state|=fe),this.highWaterMark=Ie?T(this,Ie,"readableHighWaterMark",he):R(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,Ie&&Ie.emitClose===!1&&(this.state&=-2049),Ie&&Ie.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=Ie&&Ie.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Ie&&Ie.encoding&&(this.decoder=new te(Ie.encoding),this.encoding=Ie.encoding)}function Ae(Ie){if(!(this instanceof Ae))return new Ae(Ie);const U=this instanceof fu();this._readableState=new ge(Ie,this,U),Ie&&(typeof Ie.read=="function"&&(this._read=Ie.read),typeof Ie.destroy=="function"&&(this._destroy=Ie.destroy),typeof Ie.construct=="function"&&(this._construct=Ie.construct),Ie.signal&&!U&&y(Ie.signal,this)),p.call(this,Ie),w.construct(this,()=>{this._readableState.needReadable&&be(this,this._readableState)})}Ae.prototype.destroy=w.destroy,Ae.prototype._undestroy=w.undestroy,Ae.prototype._destroy=function(Ie,U){U(Ie)},Ae.prototype[h.captureRejectionSymbol]=function(Ie){this.destroy(Ie)},Ae.prototype[c]=function(){let Ie;return this.destroyed||(Ie=this.readableEnded?null:new H,this.destroy(Ie)),new l((U,he)=>v(this,je=>je&&je!==Ie?he(je):U(null)))},Ae.prototype.push=function(Ie,U){return Ve(this,Ie,U,!1)},Ae.prototype.unshift=function(Ie,U){return Ve(this,Ie,U,!0)};function Ve(Ie,U,he,je){b("readableAddChunk",U);const Ke=Ie._readableState;let Et;if((Ke.state&fe)===0&&(typeof U=="string"?(he=he||Ke.defaultEncoding,Ke.encoding!==he&&(je&&Ke.encoding?U=m.from(U,he).toString(Ke.encoding):(U=m.from(U,he),he=""))):U instanceof m?he="":p._isUint8Array(U)?(U=p._uint8ArrayToBuffer(U),he=""):U!=null&&(Et=new D("chunk",["string","Buffer","Uint8Array"],U))),Et)J(Ie,Et);else if(U===null)Ke.state&=-9,V(Ie,Ke);else if((Ke.state&fe)!==0||U&&U.length>0)if(je)if((Ke.state&de)!==0)J(Ie,new j);else{if(Ke.destroyed||Ke.errored)return!1;Ge(Ie,Ke,U,!0)}else if(Ke.ended)J(Ie,new N);else{if(Ke.destroyed||Ke.errored)return!1;Ke.state&=-9,Ke.decoder&&!he?(U=Ke.decoder.write(U),Ke.objectMode||U.length!==0?Ge(Ie,Ke,U,!1):be(Ie,Ke)):Ge(Ie,Ke,U,!1)}else je||(Ke.state&=-9,be(Ie,Ke));return!Ke.ended&&(Ke.length<Ke.highWaterMark||Ke.length===0)}function Ge(Ie,U,he,je){U.flowing&&U.length===0&&!U.sync&&Ie.listenerCount("data")>0?((U.state&G)!==0?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,Ie.emit("data",he)):(U.length+=U.objectMode?1:he.length,je?U.buffer.unshift(he):U.buffer.push(he),(U.state&me)!==0&&K(Ie)),be(Ie,U)}Ae.prototype.isPaused=function(){const Ie=this._readableState;return Ie[$]===!0||Ie.flowing===!1},Ae.prototype.setEncoding=function(Ie){const U=new te(Ie);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const he=this._readableState.buffer;let je="";for(const Ke of he)je+=U.write(Ke);return he.clear(),je!==""&&he.push(je),this._readableState.length=je.length,this};const qe=1073741824;function Ee(Ie){if(Ie>qe)throw new x("size","<= 1GiB",Ie);return Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++,Ie}function W(Ie,U){return Ie<=0||U.length===0&&U.ended?0:(U.state&fe)!==0?1:r(Ie)?U.flowing&&U.length?U.buffer.first().length:U.length:Ie<=U.length?Ie:U.ended?U.length:0}Ae.prototype.read=function(Ie){b("read",Ie),Ie===void 0?Ie=NaN:i(Ie)||(Ie=n(Ie,10));const U=this._readableState,he=Ie;if(Ie>U.highWaterMark&&(U.highWaterMark=Ee(Ie)),Ie!==0&&(U.state&=-129),Ie===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return b("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?ut(this):K(this),null;if(Ie=W(Ie,U),Ie===0&&U.ended)return U.length===0&&ut(this),null;let je=(U.state&me)!==0;if(b("need readable",je),(U.length===0||U.length-Ie<U.highWaterMark)&&(je=!0,b("length less than watermark",je)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)je=!1,b("reading, ended or constructing",je);else if(je){b("do read"),U.state|=ae|Le,U.length===0&&(U.state|=me);try{this._read(U.highWaterMark)}catch(Et){J(this,Et)}U.state&=-33,U.reading||(Ie=W(he,U))}let Ke;return Ie>0?Ke=st(Ie,U):Ke=null,Ke===null?(U.needReadable=U.length<=U.highWaterMark,Ie=0):(U.length-=Ie,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),U.length===0&&(U.ended||(U.needReadable=!0),he!==Ie&&U.ended&&ut(this)),Ke!==null&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ke)),Ke};function V(Ie,U){if(b("onEofChunk"),!U.ended){if(U.decoder){const he=U.decoder.end();he&&he.length&&(U.buffer.push(he),U.length+=U.objectMode?1:he.length)}U.ended=!0,U.sync?K(Ie):(U.needReadable=!1,U.emittedReadable=!0,z(Ie))}}function K(Ie){const U=Ie._readableState;b("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(b("emitReadable",U.flowing),U.emittedReadable=!0,e.nextTick(z,Ie))}function z(Ie){const U=Ie._readableState;b("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(Ie.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,ve(Ie)}function be(Ie,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,e.nextTick(ke,Ie,U))}function ke(Ie,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){const he=U.length;if(b("maybeReadMore read 0"),Ie.read(0),he===U.length)break}U.readingMore=!1}Ae.prototype._read=function(Ie){throw new A("_read()")},Ae.prototype.pipe=function(Ie,U){const he=this,je=this._readableState;je.pipes.length===1&&(je.multiAwaitDrain||(je.multiAwaitDrain=!0,je.awaitDrainWriters=new u(je.awaitDrainWriters?[je.awaitDrainWriters]:[]))),je.pipes.push(Ie),b("pipe count=%d opts=%j",je.pipes.length,U);const Et=(!U||U.end!==!1)&&Ie!==e.stdout&&Ie!==e.stderr?qt:Ce;je.endEmitted?e.nextTick(Et):he.once("end",Et),Ie.on("unpipe",lt);function lt(Qe,Xe){b("onunpipe"),Qe===he&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,Qt())}function qt(){b("onend"),Ie.end()}let bt,Rt=!1;function Qt(){b("cleanup"),Ie.removeListener("close",Hn),Ie.removeListener("finish",St),bt&&Ie.removeListener("drain",bt),Ie.removeListener("error",Dt),Ie.removeListener("unpipe",lt),he.removeListener("end",qt),he.removeListener("end",Ce),he.removeListener("data",Zt),Rt=!0,bt&&je.awaitDrainWriters&&(!Ie._writableState||Ie._writableState.needDrain)&&bt()}function gr(){Rt||(je.pipes.length===1&&je.pipes[0]===Ie?(b("false write response, pause",0),je.awaitDrainWriters=Ie,je.multiAwaitDrain=!1):je.pipes.length>1&&je.pipes.includes(Ie)&&(b("false write response, pause",je.awaitDrainWriters.size),je.awaitDrainWriters.add(Ie)),he.pause()),bt||(bt=Pe(he,Ie),Ie.on("drain",bt))}he.on("data",Zt);function Zt(Qe){b("ondata");const Xe=Ie.write(Qe);b("dest.write",Xe),Xe===!1&&gr()}function Dt(Qe){if(b("onerror",Qe),Ce(),Ie.removeListener("error",Dt),Ie.listenerCount("error")===0){const Xe=Ie._writableState||Ie._readableState;Xe&&!Xe.errorEmitted?J(Ie,Qe):Ie.emit("error",Qe)}}g(Ie,"error",Dt);function Hn(){Ie.removeListener("finish",St),Ce()}Ie.once("close",Hn);function St(){b("onfinish"),Ie.removeListener("close",Hn),Ce()}Ie.once("finish",St);function Ce(){b("unpipe"),he.unpipe(Ie)}return Ie.emit("pipe",he),Ie.writableNeedDrain===!0?gr():je.flowing||(b("pipe resume"),he.resume()),Ie};function Pe(Ie,U){return function(){const je=Ie._readableState;je.awaitDrainWriters===U?(b("pipeOnDrain",1),je.awaitDrainWriters=null):je.multiAwaitDrain&&(b("pipeOnDrain",je.awaitDrainWriters.size),je.awaitDrainWriters.delete(U)),(!je.awaitDrainWriters||je.awaitDrainWriters.size===0)&&Ie.listenerCount("data")&&Ie.resume()}}Ae.prototype.unpipe=function(Ie){const U=this._readableState,he={hasUnpiped:!1};if(U.pipes.length===0)return this;if(!Ie){const Ke=U.pipes;U.pipes=[],this.pause();for(let Et=0;Et<Ke.length;Et++)Ke[Et].emit("unpipe",this,{hasUnpiped:!1});return this}const je=t(U.pipes,Ie);return je===-1?this:(U.pipes.splice(je,1),U.pipes.length===0&&this.pause(),Ie.emit("unpipe",this,he),this)},Ae.prototype.on=function(Ie,U){const he=p.prototype.on.call(this,Ie,U),je=this._readableState;return Ie==="data"?(je.readableListening=this.listenerCount("readable")>0,je.flowing!==!1&&this.resume()):Ie==="readable"&&!je.endEmitted&&!je.readableListening&&(je.readableListening=je.needReadable=!0,je.flowing=!1,je.emittedReadable=!1,b("on readable",je.length,je.reading),je.length?K(this):je.reading||e.nextTick(pt,this)),he},Ae.prototype.addListener=Ae.prototype.on,Ae.prototype.removeListener=function(Ie,U){const he=p.prototype.removeListener.call(this,Ie,U);return Ie==="readable"&&e.nextTick(dt,this),he},Ae.prototype.off=Ae.prototype.removeListener,Ae.prototype.removeAllListeners=function(Ie){const U=p.prototype.removeAllListeners.apply(this,arguments);return(Ie==="readable"||Ie===void 0)&&e.nextTick(dt,this),U};function dt(Ie){const U=Ie._readableState;U.readableListening=Ie.listenerCount("readable")>0,U.resumeScheduled&&U[$]===!1?U.flowing=!0:Ie.listenerCount("data")>0?Ie.resume():U.readableListening||(U.flowing=null)}function pt(Ie){b("readable nexttick read 0"),Ie.read(0)}Ae.prototype.resume=function(){const Ie=this._readableState;return Ie.flowing||(b("resume"),Ie.flowing=!Ie.readableListening,tt(this,Ie)),Ie[$]=!1,this};function tt(Ie,U){U.resumeScheduled||(U.resumeScheduled=!0,e.nextTick(At,Ie,U))}function At(Ie,U){b("resume",U.reading),U.reading||Ie.read(0),U.resumeScheduled=!1,Ie.emit("resume"),ve(Ie),U.flowing&&!U.reading&&Ie.read(0)}Ae.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this};function ve(Ie){const U=Ie._readableState;for(b("flow",U.flowing);U.flowing&&Ie.read()!==null;);}Ae.prototype.wrap=function(Ie){let U=!1;Ie.on("data",je=>{!this.push(je)&&Ie.pause&&(U=!0,Ie.pause())}),Ie.on("end",()=>{this.push(null)}),Ie.on("error",je=>{J(this,je)}),Ie.on("close",()=>{this.destroy()}),Ie.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&Ie.resume&&(U=!1,Ie.resume())};const he=o(Ie);for(let je=1;je<he.length;je++){const Ke=he[je];this[Ke]===void 0&&typeof Ie[Ke]=="function"&&(this[Ke]=Ie[Ke].bind(Ie))}return this},Ae.prototype[d]=function(){return et(this)},Ae.prototype.iterator=function(Ie){return Ie!==void 0&&M(Ie,"options"),et(this,Ie)};function et(Ie,U){typeof Ie.read!="function"&&(Ie=Ae.wrap(Ie,{objectMode:!0}));const he=Ze(Ie,U);return he.stream=Ie,he}async function*Ze(Ie,U){let he=oe;function je(lt){this===Ie?(he(),he=oe):he=lt}Ie.on("readable",je);let Ke;const Et=v(Ie,{writable:!1},lt=>{Ke=lt?F(Ke,lt):null,he(),he=oe});try{for(;;){const lt=Ie.destroyed?null:Ie.read();if(lt!==null)yield lt;else{if(Ke)throw Ke;if(Ke===null)return;await new l(je)}}}catch(lt){throw Ke=F(Ke,lt),Ke}finally{(Ke||(U==null?void 0:U.destroyOnReturn)!==!1)&&(Ke===void 0||Ie._readableState.autoDestroy)?w.destroyer(Ie,null):(Ie.off("readable",je),Et())}}a(Ae.prototype,{readable:{__proto__:null,get(){const Ie=this._readableState;return!!Ie&&Ie.readable!==!1&&!Ie.destroyed&&!Ie.errorEmitted&&!Ie.endEmitted},set(Ie){this._readableState&&(this._readableState.readable=!!Ie)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ie){this._readableState&&(this._readableState.flowing=Ie)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Ie){this._readableState&&(this._readableState.destroyed=Ie)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(ge.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(Ie){this[$]=!!Ie}}}),Ae._fromList=st;function st(Ie,U){if(U.length===0)return null;let he;return U.objectMode?he=U.buffer.shift():!Ie||Ie>=U.length?(U.decoder?he=U.buffer.join(""):U.buffer.length===1?he=U.buffer.first():he=U.buffer.concat(U.length),U.buffer.clear()):he=U.buffer.consume(Ie,U.decoder),he}function ut(Ie){const U=Ie._readableState;b("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,e.nextTick(xt,U,Ie))}function xt(Ie,U){if(b("endReadableNT",Ie.endEmitted,Ie.length),!Ie.errored&&!Ie.closeEmitted&&!Ie.endEmitted&&Ie.length===0){if(Ie.endEmitted=!0,U.emit("end"),U.writable&&U.allowHalfOpen===!1)e.nextTick(Nt,U);else if(Ie.autoDestroy){const he=U._writableState;(!he||he.autoDestroy&&(he.finished||he.writable===!1))&&U.destroy()}}}function Nt(Ie){Ie.writable&&!Ie.writableEnded&&!Ie.destroyed&&Ie.end()}Ae.from=function(Ie,U){return re(Ae,Ie,U)};let Lt;function er(){return Lt===void 0&&(Lt={}),Lt}return Ae.fromWeb=function(Ie,U){return er().newStreamReadableFromReadableStream(Ie,U)},Ae.toWeb=function(Ie,U){return er().newReadableStreamFromStreamReadable(Ie,U)},Ae.wrap=function(Ie,U){var he,je;return new Ae({objectMode:(he=(je=Ie.readableObjectMode)!==null&&je!==void 0?je:Ie.objectMode)!==null&&he!==void 0?he:!0,...U,destroy(Ke,Et){w.destroyer(Ie,Ke),Et(Ke)}}).wrap(Ie)},rR}var nR,nF;function KC(){if(nF)return nR;nF=1;const e=wu(),{ArrayPrototypeSlice:t,Error:i,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:n,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Bn();nR=M,M.WritableState=j;const{EventEmitter:c}=b0(),d=WC().Stream,{Buffer:f}=Rs(),h=S0(),{addAbortSignal:p}=jE(),{getHighWaterMark:g,getDefaultHighWaterMark:m}=kE(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:w,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:D}=Pa().codes,{errorOrDestroy:A}=h;o(M.prototype,d.prototype),o(M,d);function x(){}const N=l("kOnFinished");function j(S,I,k){typeof k!="boolean"&&(k=I instanceof fu()),this.objectMode=!!(S&&S.objectMode),k&&(this.objectMode=this.objectMode||!!(S&&S.writableObjectMode)),this.highWaterMark=S?g(this,S,"writableHighWaterMark",k):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Q=!!(S&&S.decodeStrings===!1);this.decodeStrings=!Q,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=J.bind(void 0,I),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,H(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!S||S.emitClose!==!1,this.autoDestroy=!S||S.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function H(S){S.buffered=[],S.bufferedIndex=0,S.allBuffers=!0,S.allNoop=!0}j.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},n(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function M(S){const I=this instanceof fu();if(!I&&!r(M,this))return new M(S);this._writableState=new j(S,this,I),S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&p(S.signal,this)),d.call(this,S),h.construct(this,()=>{const k=this._writableState;k.writing||ae(this,k),pe(this,k)})}n(M,u,{__proto__:null,value:function(S){return r(this,S)?!0:this!==M?!1:S&&S._writableState instanceof j}}),M.prototype.pipe=function(){A(this,new _)};function $(S,I,k,Q){const G=S._writableState;if(typeof k=="function")Q=k,k=G.defaultEncoding;else{if(!k)k=G.defaultEncoding;else if(k!=="buffer"&&!f.isEncoding(k))throw new D(k);typeof Q!="function"&&(Q=x)}if(I===null)throw new R;if(!G.objectMode)if(typeof I=="string")G.decodeStrings!==!1&&(I=f.from(I,k),k="buffer");else if(I instanceof f)k="buffer";else if(d._isUint8Array(I))I=d._uint8ArrayToBuffer(I),k="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],I);let ne;return G.ending?ne=new F:G.destroyed&&(ne=new w("write")),ne?(e.nextTick(Q,ne),A(S,ne,!0),ne):(G.pendingcb++,te(S,G,I,k,Q))}M.prototype.write=function(S,I,k){return $(this,S,I,k)===!0},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const S=this._writableState;S.corked&&(S.corked--,S.writing||ae(this,S))},M.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=s(I)),!f.isEncoding(I))throw new D(I);return this._writableState.defaultEncoding=I,this};function te(S,I,k,Q,G){const ne=I.objectMode?1:k.length;I.length+=ne;const ee=I.length<I.highWaterMark;return ee||(I.needDrain=!0),I.writing||I.corked||I.errored||!I.constructed?(I.buffered.push({chunk:k,encoding:Q,callback:G}),I.allBuffers&&Q!=="buffer"&&(I.allBuffers=!1),I.allNoop&&G!==x&&(I.allNoop=!1)):(I.writelen=ne,I.writecb=G,I.writing=!0,I.sync=!0,S._write(k,Q,I.onwrite),I.sync=!1),ee&&!I.errored&&!I.destroyed}function re(S,I,k,Q,G,ne,ee){I.writelen=Q,I.writecb=ee,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new w("write")):k?S._writev(G,I.onwrite):S._write(G,ne,I.onwrite),I.sync=!1}function oe(S,I,k,Q){--I.pendingcb,Q(k),de(I),A(S,k)}function J(S,I){const k=S._writableState,Q=k.sync,G=k.writecb;if(typeof G!="function"){A(S,new b);return}k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0,I?(I.stack,k.errored||(k.errored=I),S._readableState&&!S._readableState.errored&&(S._readableState.errored=I),Q?e.nextTick(oe,S,k,I,G):oe(S,k,I,G)):(k.buffered.length>k.bufferedIndex&&ae(S,k),Q?k.afterWriteTickInfo!==null&&k.afterWriteTickInfo.cb===G?k.afterWriteTickInfo.count++:(k.afterWriteTickInfo={count:1,cb:G,stream:S,state:k},e.nextTick(fe,k.afterWriteTickInfo)):xe(S,k,1,G))}function fe({stream:S,state:I,count:k,cb:Q}){return I.afterWriteTickInfo=null,xe(S,I,k,Q)}function xe(S,I,k,Q){for(!I.ending&&!S.destroyed&&I.length===0&&I.needDrain&&(I.needDrain=!1,S.emit("drain"));k-- >0;)I.pendingcb--,Q();I.destroyed&&de(I),pe(S,I)}function de(S){if(S.writing)return;for(let G=S.bufferedIndex;G<S.buffered.length;++G){var I;const{chunk:ne,callback:ee}=S.buffered[G],se=S.objectMode?1:ne.length;S.length-=se,ee((I=S.errored)!==null&&I!==void 0?I:new w("write"))}const k=S[N].splice(0);for(let G=0;G<k.length;G++){var Q;k[G]((Q=S.errored)!==null&&Q!==void 0?Q:new w("end"))}H(S)}function ae(S,I){if(I.corked||I.bufferProcessing||I.destroyed||!I.constructed)return;const{buffered:k,bufferedIndex:Q,objectMode:G}=I,ne=k.length-Q;if(!ne)return;let ee=Q;if(I.bufferProcessing=!0,ne>1&&S._writev){I.pendingcb-=ne-1;const se=I.allNoop?x:Ae=>{for(let Ve=ee;Ve<k.length;++Ve)k[Ve].callback(Ae)},ge=I.allNoop&&ee===0?k:t(k,ee);ge.allBuffers=I.allBuffers,re(S,I,!0,I.length,ge,"",se),H(I)}else{do{const{chunk:se,encoding:ge,callback:Ae}=k[ee];k[ee++]=null;const Ve=G?1:se.length;re(S,I,!1,Ve,se,ge,Ae)}while(ee<k.length&&!I.writing);ee===k.length?H(I):ee>256?(k.splice(0,ee),I.bufferedIndex=0):I.bufferedIndex=ee}I.bufferProcessing=!1}M.prototype._write=function(S,I,k){if(this._writev)this._writev([{chunk:S,encoding:I}],k);else throw new v("_write()")},M.prototype._writev=null,M.prototype.end=function(S,I,k){const Q=this._writableState;typeof S=="function"?(k=S,S=null,I=null):typeof I=="function"&&(k=I,I=null);let G;if(S!=null){const ne=$(this,S,I);ne instanceof i&&(G=ne)}return Q.corked&&(Q.corked=1,this.uncork()),G||(!Q.errored&&!Q.ending?(Q.ending=!0,pe(this,Q,!0),Q.ended=!0):Q.finished?G=new T("end"):Q.destroyed&&(G=new w("end"))),typeof k=="function"&&(G||Q.finished?e.nextTick(k,G):Q[N].push(k)),this};function Fe(S){return S.ending&&!S.destroyed&&S.constructed&&S.length===0&&!S.errored&&S.buffered.length===0&&!S.finished&&!S.writing&&!S.errorEmitted&&!S.closeEmitted}function Le(S,I){let k=!1;function Q(G){if(k){A(S,G??b());return}if(k=!0,I.pendingcb--,G){const ne=I[N].splice(0);for(let ee=0;ee<ne.length;ee++)ne[ee](G);A(S,G,I.sync)}else Fe(I)&&(I.prefinished=!0,S.emit("prefinish"),I.pendingcb++,e.nextTick(_e,S,I))}I.sync=!0,I.pendingcb++;try{S._final(Q)}catch(G){Q(G)}I.sync=!1}function me(S,I){!I.prefinished&&!I.finalCalled&&(typeof S._final=="function"&&!I.destroyed?(I.finalCalled=!0,Le(S,I)):(I.prefinished=!0,S.emit("prefinish")))}function pe(S,I,k){Fe(I)&&(me(S,I),I.pendingcb===0&&(k?(I.pendingcb++,e.nextTick((Q,G)=>{Fe(G)?_e(Q,G):G.pendingcb--},S,I)):Fe(I)&&(I.pendingcb++,_e(S,I))))}function _e(S,I){I.pendingcb--,I.finished=!0;const k=I[N].splice(0);for(let Q=0;Q<k.length;Q++)k[Q]();if(S.emit("finish"),I.autoDestroy){const Q=S._readableState;(!Q||Q.autoDestroy&&(Q.endEmitted||Q.readable===!1))&&S.destroy()}}a(M.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(S){this._writableState&&(this._writableState.destroyed=S)}},writable:{__proto__:null,get(){const S=this._writableState;return!!S&&S.writable!==!1&&!S.destroyed&&!S.errored&&!S.ending&&!S.ended},set(S){this._writableState&&(this._writableState.writable=!!S)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const S=this._writableState;return S?!S.destroyed&&!S.ending&&S.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const X=h.destroy;M.prototype.destroy=function(S,I){const k=this._writableState;return!k.destroyed&&(k.bufferedIndex<k.buffered.length||k[N].length)&&e.nextTick(de,k),X.call(this,S,I),this},M.prototype._undestroy=h.undestroy,M.prototype._destroy=function(S,I){I(S)},M.prototype[c.captureRejectionSymbol]=function(S){this.destroy(S)};let C;function E(){return C===void 0&&(C={}),C}return M.fromWeb=function(S,I){return E().newStreamWritableFromWritableStream(S,I)},M.toWeb=function(S){return E().newWritableStreamFromStreamWritable(S)},nR}var iR,iF;function Bde(){if(iF)return iR;iF=1;const e=wu(),t=Rs(),{isReadable:i,isWritable:r,isIterable:n,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:c}=Su(),d=yl(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p}}=Pa(),{destroyer:g}=S0(),m=fu(),y=BE(),v=KC(),{createDeferredPromise:b}=ka(),_=lK(),w=globalThis.Blob||t.Blob,T=typeof w<"u"?function(j){return j instanceof w}:function(j){return!1},R=globalThis.AbortController||Jg().AbortController,{FunctionPrototypeCall:F}=Bn();class D extends m{constructor(j){super(j),(j==null?void 0:j.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(j==null?void 0:j.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}iR=function N(j,H){if(l(j))return j;if(o(j))return x({readable:j});if(s(j))return x({writable:j});if(a(j))return x({writable:!1,readable:!1});if(u(j))return x({readable:y.fromWeb(j)});if(c(j))return x({writable:v.fromWeb(j)});if(typeof j=="function"){const{value:$,write:te,final:re,destroy:oe}=A(j);if(n($))return _(D,$,{objectMode:!0,write:te,final:re,destroy:oe});const J=$==null?void 0:$.then;if(typeof J=="function"){let fe;const xe=F(J,$,de=>{if(de!=null)throw new p("nully","body",de)},de=>{g(fe,de)});return fe=new D({objectMode:!0,readable:!1,write:te,final(de){re(async()=>{try{await xe,e.nextTick(de,null)}catch(ae){e.nextTick(de,ae)}})},destroy:oe})}throw new p("Iterable, AsyncIterable or AsyncFunction",H,$)}if(T(j))return N(j.arrayBuffer());if(n(j))return _(D,j,{objectMode:!0,writable:!1});if(u(j==null?void 0:j.readable)&&c(j==null?void 0:j.writable))return D.fromWeb(j);if(typeof(j==null?void 0:j.writable)=="object"||typeof(j==null?void 0:j.readable)=="object"){const $=j!=null&&j.readable?o(j==null?void 0:j.readable)?j==null?void 0:j.readable:N(j.readable):void 0,te=j!=null&&j.writable?s(j==null?void 0:j.writable)?j==null?void 0:j.writable:N(j.writable):void 0;return x({readable:$,writable:te})}const M=j==null?void 0:j.then;if(typeof M=="function"){let $;return F(M,j,te=>{te!=null&&$.push(te),$.push(null)},te=>{g($,te)}),$=new D({objectMode:!0,writable:!1,read(){}})}throw new h(H,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],j)};function A(N){let{promise:j,resolve:H}=b();const M=new R,$=M.signal;return{value:N(async function*(){for(;;){const re=j;j=null;const{chunk:oe,done:J,cb:fe}=await re;if(e.nextTick(fe),J)return;if($.aborted)throw new f(void 0,{cause:$.reason});({promise:j,resolve:H}=b()),yield oe}}(),{signal:$}),write(re,oe,J){const fe=H;H=null,fe({chunk:re,done:!1,cb:J})},final(re){const oe=H;H=null,oe({done:!0,cb:re})},destroy(re,oe){M.abort(),oe(re)}}}function x(N){const j=N.readable&&typeof N.readable.read!="function"?y.wrap(N.readable):N.readable,H=N.writable;let M=!!i(j),$=!!r(H),te,re,oe,J,fe;function xe(de){const ae=J;J=null,ae?ae(de):de&&fe.destroy(de)}return fe=new D({readableObjectMode:!!(j!=null&&j.readableObjectMode),writableObjectMode:!!(H!=null&&H.writableObjectMode),readable:M,writable:$}),$&&(d(H,de=>{$=!1,de&&g(j,de),xe(de)}),fe._write=function(de,ae,Fe){H.write(de,ae)?Fe():te=Fe},fe._final=function(de){H.end(),re=de},H.on("drain",function(){if(te){const de=te;te=null,de()}}),H.on("finish",function(){if(re){const de=re;re=null,de()}})),M&&(d(j,de=>{M=!1,de&&g(j,de),xe(de)}),j.on("readable",function(){if(oe){const de=oe;oe=null,de()}}),j.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){const de=j.read();if(de===null){oe=fe._read;return}if(!fe.push(de))return}}),fe._destroy=function(de,ae){!de&&J!==null&&(de=new f),oe=null,te=null,re=null,J===null?ae(de):(J=ae,g(H,de),g(j,de))},fe}return iR}var aR,aF;function fu(){if(aF)return aR;aF=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:i,ObjectSetPrototypeOf:r}=Bn();aR=o;const n=BE(),a=KC();r(o.prototype,n.prototype),r(o,n);{const c=i(a.prototype);for(let d=0;d<c.length;d++){const f=c[d];o.prototype[f]||(o.prototype[f]=a.prototype[f])}}function o(c){if(!(this instanceof o))return new o(c);n.call(this,c),a.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(c,d){return l().newStreamDuplexFromReadableWritablePair(c,d)},o.toWeb=function(c){return l().newReadableWritablePairFromDuplex(c)};let u;return o.from=function(c){return u||(u=Bde()),u(c,"body")},aR}var oR,oF;function cK(){if(oF)return oR;oF=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Bn();oR=o;const{ERR_METHOD_NOT_IMPLEMENTED:i}=Pa().codes,r=fu(),{getHighWaterMark:n}=kE();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(u){if(!(this instanceof o))return new o(u);const c=u?n(this,u,"readableHighWaterMark",!0):null;c===0&&(u={...u,highWaterMark:null,readableHighWaterMark:c,writableHighWaterMark:u.writableHighWaterMark||0}),r.call(this,u),this._readableState.sync=!1,this[a]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((c,d)=>{if(c){u?u(c):this.destroy(c);return}d!=null&&this.push(d),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(u,c,d){throw new i("_transform()")},o.prototype._write=function(u,c,d){const f=this._readableState,h=this._writableState,p=f.length;this._transform(u,c,(g,m)=>{if(g){d(g);return}m!=null&&this.push(m),h.ended||p===f.length||f.length<f.highWaterMark?d():this[a]=d})},o.prototype._read=function(){if(this[a]){const u=this[a];this[a]=null,u()}},oR}var sR,sF;function dK(){if(sF)return sR;sF=1;const{ObjectSetPrototypeOf:e}=Bn();sR=i;const t=cK();e(i.prototype,t.prototype),e(i,t);function i(r){if(!(this instanceof i))return new i(r);t.call(this,r)}return i.prototype._transform=function(r,n,a){a(null,r)},sR}var uR,uF;function JC(){if(uF)return uR;uF=1;const e=wu(),{ArrayIsArray:t,Promise:i,SymbolAsyncIterator:r,SymbolDispose:n}=Bn(),a=yl(),{once:o}=ka(),s=S0(),l=fu(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:h,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:g}=Pa(),{validateFunction:m,validateAbortSignal:y}=P2(),{isIterable:v,isReadable:b,isReadableNodeStream:_,isNodeStream:w,isTransformStream:T,isWebStream:R,isReadableStream:F,isReadableFinished:D}=Su(),A=globalThis.AbortController||Jg().AbortController;let x,N,j;function H(de,ae,Fe){let Le=!1;de.on("close",()=>{Le=!0});const me=a(de,{readable:ae,writable:Fe},pe=>{Le=!pe});return{destroy:pe=>{Le||(Le=!0,s.destroyer(de,pe||new h("pipe")))},cleanup:me}}function M(de){return m(de[de.length-1],"streams[stream.length - 1]"),de.pop()}function $(de){if(v(de))return de;if(_(de))return te(de);throw new c("val",["Readable","Iterable","AsyncIterable"],de)}async function*te(de){N||(N=BE()),yield*N.prototype[r].call(de)}async function re(de,ae,Fe,{end:Le}){let me,pe=null;const _e=E=>{if(E&&(me=E),pe){const S=pe;pe=null,S()}},X=()=>new i((E,S)=>{me?S(me):pe=()=>{me?S(me):E()}});ae.on("drain",_e);const C=a(ae,{readable:!1},_e);try{ae.writableNeedDrain&&await X();for await(const E of de)ae.write(E)||await X();Le&&(ae.end(),await X()),Fe()}catch(E){Fe(me!==E?u(me,E):E)}finally{C(),ae.off("drain",_e)}}async function oe(de,ae,Fe,{end:Le}){T(ae)&&(ae=ae.writable);const me=ae.getWriter();try{for await(const pe of de)await me.ready,me.write(pe).catch(()=>{});await me.ready,Le&&await me.close(),Fe()}catch(pe){try{await me.abort(pe),Fe(pe)}catch(_e){Fe(_e)}}}function J(...de){return fe(de,o(M(de)))}function fe(de,ae,Fe){if(de.length===1&&t(de[0])&&(de=de[0]),de.length<2)throw new f("streams");const Le=new A,me=Le.signal,pe=Fe==null?void 0:Fe.signal,_e=[];y(pe,"options.signal");function X(){G(new g)}j=j||ka().addAbortListener;let C;pe&&(C=j(pe,X));let E,S;const I=[];let k=0;function Q(ge){G(ge,--k===0)}function G(ge,Ae){var Ve;if(ge&&(!E||E.code==="ERR_STREAM_PREMATURE_CLOSE")&&(E=ge),!(!E&&!Ae)){for(;I.length;)I.shift()(E);(Ve=C)===null||Ve===void 0||Ve[n](),Le.abort(),Ae&&(E||_e.forEach(Ge=>Ge()),e.nextTick(ae,E,S))}}let ne;for(let ge=0;ge<de.length;ge++){const Ae=de[ge],Ve=ge<de.length-1,Ge=ge>0,qe=Ve||(Fe==null?void 0:Fe.end)!==!1,Ee=ge===de.length-1;if(w(Ae)){let W=function(V){V&&V.name!=="AbortError"&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Q(V)};if(qe){const{destroy:V,cleanup:K}=H(Ae,Ve,Ge);I.push(V),b(Ae)&&Ee&&_e.push(K)}Ae.on("error",W),b(Ae)&&Ee&&_e.push(()=>{Ae.removeListener("error",W)})}if(ge===0)if(typeof Ae=="function"){if(ne=Ae({signal:me}),!v(ne))throw new d("Iterable, AsyncIterable or Stream","source",ne)}else v(Ae)||_(Ae)||T(Ae)?ne=Ae:ne=l.from(Ae);else if(typeof Ae=="function"){if(T(ne)){var ee;ne=$((ee=ne)===null||ee===void 0?void 0:ee.readable)}else ne=$(ne);if(ne=Ae(ne,{signal:me}),Ve){if(!v(ne,!0))throw new d("AsyncIterable",`transform[${ge-1}]`,ne)}else{var se;x||(x=dK());const W=new x({objectMode:!0}),V=(se=ne)===null||se===void 0?void 0:se.then;if(typeof V=="function")k++,V.call(ne,be=>{S=be,be!=null&&W.write(be),qe&&W.end(),e.nextTick(Q)},be=>{W.destroy(be),e.nextTick(Q,be)});else if(v(ne,!0))k++,re(ne,W,Q,{end:qe});else if(F(ne)||T(ne)){const be=ne.readable||ne;k++,re(be,W,Q,{end:qe})}else throw new d("AsyncIterable or Promise","destination",ne);ne=W;const{destroy:K,cleanup:z}=H(ne,!1,!0);I.push(K),Ee&&_e.push(z)}}else if(w(Ae)){if(_(ne)){k+=2;const W=xe(ne,Ae,Q,{end:qe});b(Ae)&&Ee&&_e.push(W)}else if(T(ne)||F(ne)){const W=ne.readable||ne;k++,re(W,Ae,Q,{end:qe})}else if(v(ne))k++,re(ne,Ae,Q,{end:qe});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ne);ne=Ae}else if(R(Ae)){if(_(ne))k++,oe($(ne),Ae,Q,{end:qe});else if(F(ne)||v(ne))k++,oe(ne,Ae,Q,{end:qe});else if(T(ne))k++,oe(ne.readable,Ae,Q,{end:qe});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ne);ne=Ae}else ne=l.from(Ae)}return(me!=null&&me.aborted||pe!=null&&pe.aborted)&&e.nextTick(X),ne}function xe(de,ae,Fe,{end:Le}){let me=!1;if(ae.on("close",()=>{me||Fe(new p)}),de.pipe(ae,{end:!1}),Le){let pe=function(){me=!0,ae.end()};D(de)?e.nextTick(pe):de.once("end",pe)}else Fe();return a(de,{readable:!0,writable:!1},pe=>{const _e=de._readableState;pe&&pe.code==="ERR_STREAM_PREMATURE_CLOSE"&&_e&&_e.ended&&!_e.errored&&!_e.errorEmitted?de.once("end",Fe).once("error",Fe):Fe(pe)}),a(ae,{readable:!1,writable:!0},Fe)}return uR={pipelineImpl:fe,pipeline:J},uR}var lR,lF;function fK(){if(lF)return lR;lF=1;const{pipeline:e}=JC(),t=fu(),{destroyer:i}=S0(),{isNodeStream:r,isReadable:n,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:u}=Su(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:f}}=Pa(),h=yl();return lR=function(...g){if(g.length===0)throw new f("streams");if(g.length===1)return t.from(g[0]);const m=[...g];if(typeof g[0]=="function"&&(g[0]=t.from(g[0])),typeof g[g.length-1]=="function"){const x=g.length-1;g[x]=t.from(g[x])}for(let x=0;x<g.length;++x)if(!(!r(g[x])&&!o(g[x]))){if(x<g.length-1&&!(n(g[x])||u(g[x])||s(g[x])))throw new d(`streams[${x}]`,m[x],"must be readable");if(x>0&&!(a(g[x])||l(g[x])||s(g[x])))throw new d(`streams[${x}]`,m[x],"must be writable")}let y,v,b,_,w;function T(x){const N=_;_=null,N?N(x):x?w.destroy(x):!A&&!D&&w.destroy()}const R=g[0],F=e(g,T),D=!!(a(R)||l(R)||s(R)),A=!!(n(F)||u(F)||s(F));if(w=new t({writableObjectMode:!!(R!=null&&R.writableObjectMode),readableObjectMode:!!(F!=null&&F.readableObjectMode),writable:D,readable:A}),D){if(r(R))w._write=function(N,j,H){R.write(N,j)?H():y=H},w._final=function(N){R.end(),v=N},R.on("drain",function(){if(y){const N=y;y=null,N()}});else if(o(R)){const j=(s(R)?R.writable:R).getWriter();w._write=async function(H,M,$){try{await j.ready,j.write(H).catch(()=>{}),$()}catch(te){$(te)}},w._final=async function(H){try{await j.ready,j.close().catch(()=>{}),v=H}catch(M){H(M)}}}const x=s(F)?F.readable:F;h(x,()=>{if(v){const N=v;v=null,N()}})}if(A){if(r(F))F.on("readable",function(){if(b){const x=b;b=null,x()}}),F.on("end",function(){w.push(null)}),w._read=function(){for(;;){const x=F.read();if(x===null){b=w._read;return}if(!w.push(x))return}};else if(o(F)){const N=(s(F)?F.readable:F).getReader();w._read=async function(){for(;;)try{const{value:j,done:H}=await N.read();if(!w.push(j))return;if(H){w.push(null);return}}catch{return}}}}return w._destroy=function(x,N){!x&&_!==null&&(x=new c),b=null,y=null,v=null,_===null?N(x):(_=N,r(F)&&i(F,x))},w},lR}var cF;function qde(){if(cF)return MA;cF=1;const e=globalThis.AbortController||Jg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:n},AbortError:a}=Pa(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=P2(),u=Bn().Symbol("kWeak"),c=Bn().Symbol("kResistStopPropagation"),{finished:d}=yl(),f=fK(),{addAbortSignalNoValidate:h}=jE(),{isWritable:p,isNodeStream:g}=Su(),{deprecate:m}=ka(),{ArrayPrototypePush:y,Boolean:v,MathFloor:b,Number:_,NumberIsNaN:w,Promise:T,PromiseReject:R,PromiseResolve:F,PromisePrototypeThen:D,Symbol:A}=Bn(),x=A("kEmpty"),N=A("kEof");function j(pe,_e){if(_e!=null&&l(_e,"options"),(_e==null?void 0:_e.signal)!=null&&o(_e.signal,"options.signal"),g(pe)&&!p(pe))throw new t("stream",pe,"must be writable");const X=f(this,pe);return _e!=null&&_e.signal&&h(_e.signal,X),X}function H(pe,_e){if(typeof pe!="function")throw new i("fn",["Function","AsyncFunction"],pe);_e!=null&&l(_e,"options"),(_e==null?void 0:_e.signal)!=null&&o(_e.signal,"options.signal");let X=1;(_e==null?void 0:_e.concurrency)!=null&&(X=b(_e.concurrency));let C=X-1;return(_e==null?void 0:_e.highWaterMark)!=null&&(C=b(_e.highWaterMark)),s(X,"options.concurrency",1),s(C,"options.highWaterMark",0),C+=X,(async function*(){const S=ka().AbortSignalAny([_e==null?void 0:_e.signal].filter(v)),I=this,k=[],Q={signal:S};let G,ne,ee=!1,se=0;function ge(){ee=!0,Ae()}function Ae(){se-=1,Ve()}function Ve(){ne&&!ee&&se<X&&k.length<C&&(ne(),ne=null)}async function Ge(){try{for await(let qe of I){if(ee)return;if(S.aborted)throw new a;try{if(qe=pe(qe,Q),qe===x)continue;qe=F(qe)}catch(Ee){qe=R(Ee)}se+=1,D(qe,Ae,ge),k.push(qe),G&&(G(),G=null),!ee&&(k.length>=C||se>=X)&&await new T(Ee=>{ne=Ee})}k.push(N)}catch(qe){const Ee=R(qe);D(Ee,Ae,ge),k.push(Ee)}finally{ee=!0,G&&(G(),G=null)}}Ge();try{for(;;){for(;k.length>0;){const qe=await k[0];if(qe===N)return;if(S.aborted)throw new a;qe!==x&&(yield qe),k.shift(),Ve()}await new T(qe=>{G=qe})}}finally{ee=!0,ne&&(ne(),ne=null)}}).call(this)}function M(pe=void 0){return pe!=null&&l(pe,"options"),(pe==null?void 0:pe.signal)!=null&&o(pe.signal,"options.signal"),(async function*(){let X=0;for await(const E of this){var C;if(pe!=null&&(C=pe.signal)!==null&&C!==void 0&&C.aborted)throw new a({cause:pe.signal.reason});yield[X++,E]}}).call(this)}async function $(pe,_e=void 0){for await(const X of J.call(this,pe,_e))return!0;return!1}async function te(pe,_e=void 0){if(typeof pe!="function")throw new i("fn",["Function","AsyncFunction"],pe);return!await $.call(this,async(...X)=>!await pe(...X),_e)}async function re(pe,_e){for await(const X of J.call(this,pe,_e))return X}async function oe(pe,_e){if(typeof pe!="function")throw new i("fn",["Function","AsyncFunction"],pe);async function X(C,E){return await pe(C,E),x}for await(const C of H.call(this,X,_e));}function J(pe,_e){if(typeof pe!="function")throw new i("fn",["Function","AsyncFunction"],pe);async function X(C,E){return await pe(C,E)?C:x}return H.call(this,X,_e)}class fe extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function xe(pe,_e,X){var C;if(typeof pe!="function")throw new i("reducer",["Function","AsyncFunction"],pe);X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&o(X.signal,"options.signal");let E=arguments.length>1;if(X!=null&&(C=X.signal)!==null&&C!==void 0&&C.aborted){const G=new a(void 0,{cause:X.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(G)),G}const S=new e,I=S.signal;if(X!=null&&X.signal){const G={once:!0,[u]:this,[c]:!0};X.signal.addEventListener("abort",()=>S.abort(),G)}let k=!1;try{for await(const G of this){var Q;if(k=!0,X!=null&&(Q=X.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;E?_e=await pe(_e,G,{signal:I}):(_e=G,E=!0)}if(!k&&!E)throw new fe}finally{S.abort()}return _e}async function de(pe){pe!=null&&l(pe,"options"),(pe==null?void 0:pe.signal)!=null&&o(pe.signal,"options.signal");const _e=[];for await(const C of this){var X;if(pe!=null&&(X=pe.signal)!==null&&X!==void 0&&X.aborted)throw new a(void 0,{cause:pe.signal.reason});y(_e,C)}return _e}function ae(pe,_e){const X=H.call(this,pe,_e);return(async function*(){for await(const E of X)yield*E}).call(this)}function Fe(pe){if(pe=_(pe),w(pe))return 0;if(pe<0)throw new n("number",">= 0",pe);return pe}function Le(pe,_e=void 0){return _e!=null&&l(_e,"options"),(_e==null?void 0:_e.signal)!=null&&o(_e.signal,"options.signal"),pe=Fe(pe),(async function*(){var C;if(_e!=null&&(C=_e.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(const S of this){var E;if(_e!=null&&(E=_e.signal)!==null&&E!==void 0&&E.aborted)throw new a;pe--<=0&&(yield S)}}).call(this)}function me(pe,_e=void 0){return _e!=null&&l(_e,"options"),(_e==null?void 0:_e.signal)!=null&&o(_e.signal,"options.signal"),pe=Fe(pe),(async function*(){var C;if(_e!=null&&(C=_e.signal)!==null&&C!==void 0&&C.aborted)throw new a;for await(const S of this){var E;if(_e!=null&&(E=_e.signal)!==null&&E!==void 0&&E.aborted)throw new a;if(pe-- >0&&(yield S),pe<=0)return}}).call(this)}return MA.streamReturningOperators={asIndexedPairs:m(M,"readable.asIndexedPairs will be removed in a future version."),drop:Le,filter:J,flatMap:ae,map:H,take:me,compose:j},MA.promiseReturningOperators={every:te,forEach:oe,reduce:xe,toArray:de,some:$,find:re},MA}var cR,dF;function hK(){if(dF)return cR;dF=1;const{ArrayPrototypePop:e,Promise:t}=Bn(),{isIterable:i,isNodeStream:r,isWebStream:n}=Su(),{pipelineImpl:a}=JC(),{finished:o}=yl();pK();function s(...l){return new t((u,c)=>{let d,f;const h=l[l.length-1];if(h&&typeof h=="object"&&!r(h)&&!i(h)&&!n(h)){const p=e(l);d=p.signal,f=p.end}a(l,(p,g)=>{p?c(p):u(g)},{signal:d,end:f})})}return cR={finished:o,pipeline:s},cR}var fF;function pK(){if(fF)return Vx.exports;fF=1;const{Buffer:e}=Rs(),{ObjectDefineProperty:t,ObjectKeys:i,ReflectApply:r}=Bn(),{promisify:{custom:n}}=ka(),{streamReturningOperators:a,promiseReturningOperators:o}=qde(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Pa(),l=fK(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=kE(),{pipeline:d}=JC(),{destroyer:f}=S0(),h=yl(),p=hK(),g=Su(),m=Vx.exports=WC().Stream;m.isDestroyed=g.isDestroyed,m.isDisturbed=g.isDisturbed,m.isErrored=g.isErrored,m.isReadable=g.isReadable,m.isWritable=g.isWritable,m.Readable=BE();for(const v of i(a)){let _=function(...w){if(new.target)throw s();return m.Readable.from(r(b,this,w))};const b=a[v];t(_,"name",{__proto__:null,value:b.name}),t(_,"length",{__proto__:null,value:b.length}),t(m.Readable.prototype,v,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const v of i(o)){let _=function(...w){if(new.target)throw s();return r(b,this,w)};const b=o[v];t(_,"name",{__proto__:null,value:b.name}),t(_,"length",{__proto__:null,value:b.length}),t(m.Readable.prototype,v,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}m.Writable=KC(),m.Duplex=fu(),m.Transform=cK(),m.PassThrough=dK(),m.pipeline=d;const{addAbortSignal:y}=jE();return m.addAbortSignal=y,m.finished=h,m.destroy=f,m.compose=l,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=c,t(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),t(d,n,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),t(h,n,{__proto__:null,enumerable:!0,get(){return p.finished}}),m.Stream=m,m._isUint8Array=function(b){return b instanceof Uint8Array},m._uint8ArrayToBuffer=function(b){return e.from(b.buffer,b.byteOffset,b.byteLength)},Vx.exports}var hF;function Xr(){return hF||(hF=1,function(e){const t=pK(),i=hK(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return i}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(qx)),qx.exports}var zl={},sm={},pF;function gK(){if(pF)return sm;pF=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.BlankNode=void 0;class e{constructor(i){this.termType="BlankNode",this.value=i}equals(i){return!!i&&i.termType==="BlankNode"&&i.value===this.value}}return sm.BlankNode=e,sm}var um={},lm={},gF;function mK(){if(gF)return lm;gF=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(i){return!!i&&i.termType==="DefaultGraph"}}return lm.DefaultGraph=e,e.INSTANCE=new e,lm}var cm={},dm={},mF;function XC(){if(mF)return dm;mF=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.NamedNode=void 0;class e{constructor(i){this.termType="NamedNode",this.value=i}equals(i){return!!i&&i.termType==="NamedNode"&&i.value===this.value}}return dm.NamedNode=e,dm}var yF;function yK(){if(yF)return cm;yF=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.Literal=void 0;const e=XC();class t{constructor(r,n){this.termType="Literal",this.value=r,typeof n=="string"?(this.language=n,this.datatype=t.RDF_LANGUAGE_STRING):n?(this.language="",this.datatype=n):(this.language="",this.datatype=t.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}}return cm.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),cm}var fm={},vF;function vK(){if(vF)return fm;vF=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.Quad=void 0;class e{constructor(i,r,n,a){this.termType="Quad",this.value="",this.subject=i,this.predicate=r,this.object=n,this.graph=a}equals(i){return!!i&&(i.termType==="Quad"||!i.termType)&&this.subject.equals(i.subject)&&this.predicate.equals(i.predicate)&&this.object.equals(i.object)&&this.graph.equals(i.graph)}}return fm.Quad=e,fm}var hm={},bF;function bK(){if(bF)return hm;bF=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.Variable=void 0;class e{constructor(i){this.termType="Variable",this.value=i}equals(i){return!!i&&i.termType==="Variable"&&i.value===this.value}}return hm.Variable=e,hm}var _F;function Vde(){if(_F)return um;_F=1,Object.defineProperty(um,"__esModule",{value:!0}),um.DataFactory=void 0;const e=gK(),t=mK(),i=yK(),r=XC(),n=vK(),a=bK();let o=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${o++}_`}namedNode(u){return new r.NamedNode(u)}blankNode(u){return new e.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,c){return new i.Literal(u,c)}variable(u){return new a.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,c,d,f){return new n.Quad(u,c,d,f||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(i.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return um.DataFactory=s,um}var wF;function yr(){return wF||(wF=1,function(e){var t=zl&&zl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=zl&&zl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(gK(),e),i(Vde(),e),i(mK(),e),i(yK(),e),i(XC(),e),i(vK(),e),i(bK(),e)}(zl)),zl}var dR,SF;function Ude(){return SF||(SF=1,dR=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((i,r,n)=>{const a=n===0?"":",",o=r===void 0||typeof r=="symbol"?null:r;return i+a+e(o)},"")+"]":"{"+Object.keys(t).sort().reduce((i,r,n)=>{if(t[r]===void 0||typeof t[r]=="symbol")return i;const a=i.length===0?"":",";return i+a+e(r)+":"+e(t[r])},"")+"}"}),dR}class AF extends Error{}const Hde="application/problem+json",$de=new URL("about:blank");function TF(e,t){if(e!==void 0)try{return new URL(e,t)}catch{}}function Qde(e){let t,i,r,n,a;if(e.headers.get("Content-Type")===Hde)try{const o=JSON.parse(e.body),s=TF(o.type,e.url);s!==void 0&&(t=s),typeof o.title=="string"&&(i=o.title),typeof o.status=="number"&&(r=o.status),typeof o.detail=="string"&&(n=o.detail);const l=TF(o.instance,e.url);l!==void 0&&(a=l)}catch{}return Object.freeze({type:t??$de,title:i??e.statusText,status:r??e.status,detail:n,instance:a})}class EF extends AF{constructor(t,i,r,n){if(super(r,n),t.status>=200&&t.status<400)throw new AF(`A ClientHttpError cannot be built from a success response, got ${t.status} ${t.statusText}`);this.errorResponse=Object.freeze({status:t.status,statusText:t.statusText,headers:t.headers,url:t.url,body:i,ok:!1}),this.details=Qde(this.errorResponse)}get response(){return this.errorResponse}get problemDetails(){return this.details}}function A0(e){const t=e;return typeof t=="object"&&typeof t.internal_resourceInfo=="object"}function YC(e){const t=e;return typeof t=="object"&&typeof t.internal_resourceInfo=="object"&&typeof t.internal_resourceInfo.linkedResources=="object"}function T0(e){const t=e;return typeof t.internal_changeLog=="object"&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}class I2 extends Error{}function Qr(e){return typeof e=="string"?e:e.value}function vl(e,t={}){const i=new URL(e);return i.pathname=i.pathname.replace(/\/\/+/g,"/"),t.trailingSlash===!1&&i.pathname.slice(-1)==="/"&&(i.pathname=i.pathname.slice(0,i.pathname.length-1)),t.trailingSlash===!0&&i.pathname.slice(-1)!=="/"&&(i.pathname=`${i.pathname}/`),i.href}var zde=GC();const Gde=BC(zde);function qE(e){var t,i,r,n,a;const o=(i=(t=e.headers.get("Content-Type"))===null||t===void 0?void 0:t.split(";"))!==null&&i!==void 0?i:[],s=o.length>0&&["text/turtle","application/ld+json"].includes(o[0]),l={sourceIri:e.url,isRawData:!s,contentLocation:(r=e.headers.get("Content-Location"))!==null&&r!==void 0?r:void 0,contentType:(n=e.headers.get("Content-Type"))!==null&&n!==void 0?n:void 0,linkedResources:{},location:(a=e.headers.get("Location"))!==null&&a!==void 0?a:void 0},u=e.headers.get("Link");if(u){const d=Gde.parse(u),f=d.get("rel","acl");f.length===1&&(l.aclUrl=new URL(f[0].uri,l.sourceIri).href),l.linkedResources=d.refs.reduce((h,p)=>{var g,m;return(g=h[m=p.rel])!==null&&g!==void 0||(h[m]=[]),h[p.rel].push(new URL(p.uri,l.sourceIri).href),h},l.linkedResources)}const c=e.headers.get("WAC-Allow");return c&&(l.permissions=Wde(c)),l}function Wde(e){function t(r){const n=r.split(" ");return n.includes("write")?{read:n.includes("read"),append:!0,write:!0,control:n.includes("control")}:{read:n.includes("read"),append:n.includes("append"),write:!1,control:n.includes("control")}}function i(r,n){const a=r.split(",").map(s=>s.split("=")).filter(s=>s.length===2&&s[0].trim()===n);if(a.length!==1)return"";const o=a[0][1].trim();return o.charAt(0)!=='"'||o.charAt(o.length-1)!=='"'?"":o.substring(1,o.length-1)}return{user:t(i(e,"user")),public:t(i(e,"public"))}}function _K(e){let t;return typeof e.slice=="function"?t=Object.assign(e.slice(),{...e}):t={...e},t}function Au(e){return!e.ok}function Kde(e){return e.status===401||e.status===403}const br={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},VE={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},Jde={seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso"},ZC={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},rE={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},Xde={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource"},Yde={storage:"http://www.w3.org/ns/pim/space#storage"};async function wK(e,t){var i,r;const n=await((i=t==null?void 0:t.fetch)!==null&&i!==void 0?i:fetch)(vl(e),{method:"HEAD"});return eD(n,{ignoreAuthenticationErrors:(r=t==null?void 0:t.ignoreAuthenticationErrors)!==null&&r!==void 0?r:!1})}function eD(e,t={ignoreAuthenticationErrors:!1}){if(Au(e)&&(!Kde(e)||!t.ignoreAuthenticationErrors))throw new Tu(`Fetching the metadata of the Resource at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);return{internal_resourceInfo:qE(e)}}function Zde(e){return e.internal_resourceInfo.isRawData}function efe(e){var t;return(t=e.internal_resourceInfo.contentType)!==null&&t!==void 0?t:null}function Sn(e){return A0(e)?e.internal_resourceInfo.sourceIri:null}const nE=Sn;function tfe(e){return e.internal_resourceInfo.linkedResources}class Tu extends I2{constructor(t,i,r){super(t),this.response=i,typeof r=="string"?this.httpError=new EF(i,r,t):this.httpError=new EF(i,"",t)}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}get problemDetails(){return this.httpError.problemDetails}}var rfe=Rs();/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var fR,xF;function nfe(){if(xF)return fR;xF=1;let e;return fR=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:si):t=>(e||(e=Promise.resolve())).then(t).catch(i=>setTimeout(()=>{throw i},0)),fR}var ife=nfe();const afe=BC(ife),pm="http://www.w3.org/1999/02/22-rdf-syntax-ns#",gm="http://www.w3.org/2001/XMLSchema#",BA="http://www.w3.org/2000/10/swap/",Mi={xsd:{decimal:`${gm}decimal`,boolean:`${gm}boolean`,double:`${gm}double`,integer:`${gm}integer`,string:`${gm}string`},rdf:{type:`${pm}type`,nil:`${pm}nil`,first:`${pm}first`,rest:`${pm}rest`,langString:`${pm}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${BA}reify#forSome`,forAll:`${BA}reify#forAll`},log:{implies:`${BA}log#implies`,isImpliedBy:`${BA}log#isImpliedBy`}},{xsd:qA}=Mi,ofe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,RF={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},sfe=/[\x00-\x20<>\\"\{\}\|\^\`]/,ufe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},lfe=/$0^/;class tD{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const i in this)!(i in ufe)&&this[i]instanceof RegExp&&(this[i]=lfe)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,i){let r=this._input,n=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),n=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return i&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const u=this._line,c=r[0];let d="",f="",h="",p=null,g=0,m=!1;switch(c){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){m=!0;break}}else{this._n3Mode&&(g=1,d="^");break}case"<":if(p=this._unescapedIri.exec(r))d="IRI",f=p[1];else if(p=this._iri.exec(r)){if(f=this._unescape(p[1]),f===null||sfe.test(f))return o(this);d="IRI"}else r.length>1&&r[1]==="<"?(d="<<",g=2):this._n3Mode&&r.length>1&&r[1]==="="&&(g=2,this._isImpliedBy?(d="abbreviation",f="<"):(d="inverse",f=">"));break;case">":r.length>1&&r[1]===">"&&(d=">>",g=2);break;case"_":((p=this._blank.exec(r))||i&&(p=this._blank.exec(`${r} `)))&&(d="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))f=p[1];else if({value:f,matchLength:g}=this._parseLiteral(r),f===null)return o(this);(p!==null||g!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(r))f=p[1];else if({value:f,matchLength:g}=this._parseLiteral(r),f===null)return o(this);(p!==null||g!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(d="var",f=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(r))?(d="langcode",f=p[1]):(p=this._keyword.exec(r))&&(d=p[0]);break;case".":if(r.length===1?i:r[1]<"0"||r[1]>"9"){d=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||i&&(p=this._number.exec(`${r} `)))&&(d="literal",f=p[0],h=typeof p[1]=="string"?qA.double:typeof p[2]=="string"?qA.decimal:qA.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?d=p[0].toUpperCase():m=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(d="literal",f=p[0],h=qA.boolean):m=!0;break;case"a":(p=this._shortPredicates.exec(r))?(d="abbreviation",f="a"):m=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",r[1]!==">"?(g=1,f="="):(g=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,d=c);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(d="{|",g=2):(d=c,g=1));break;case"|":r.length>=2&&r[1]==="}"&&(d="|}",g=2);break;default:m=!0}if(m&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(r))?(d="prefix",f=p[1]||""):((p=this._prefixed.exec(r))||i&&(p=this._prefixed.exec(`${r} `)))&&(d="prefixed",h=p[1]||"",f=this._unescape(p[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return i||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const y=g||p[0].length,v=a(d,f,h,u,y);this.previousToken=v,this._previousMarker=d,r=r.substr(y,r.length)}function a(s,l,u,c,d){const f=r?n-r.length:n,h=f+d,p={type:s,value:l,prefix:u,line:c,start:f,end:h};return t(null,p),p}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let i=!1;const r=t.replace(ofe,(n,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in RF?RF[s]:(i=!0,"")});return i?null:r}_parseLiteral(t){if(t.length>=3){const i=t.match(/^(?:"""|"|'''|'|)/)[0],r=i.length;let n=Math.max(this._literalClosingPos,r);for(;(n=t.indexOf(i,n))>0;){let a=0;for(;t[n-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,n),s=o.split(/\r\n|\r|\n/).length-1,l=n+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}n++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const i=new Error(`Unexpected "${t}" on line ${this._line}.`);return i.context={token:void 0,line:this._line,previousToken:this.previousToken},i}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,i){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof i=="function")afe(()=>this._tokenizeToEnd(i,!0));else{const r=[];let n;if(this._tokenizeToEnd((a,o)=>a?n=a:r.push(o),!0),n)throw n;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=rfe.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(i,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(i,!0)}),t.on("error",i)}}const{rdf:cfe,xsd:hp}=Mi;let E0,dfe=0;const xr={namedNode:AK,blankNode:TK,variable:xK,literal:EK,defaultGraph:ffe,quad:QP,triple:QP,fromTerm:mS,fromQuad:RK};let Jo=class SK{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof SK?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}};class UE extends Jo{get termType(){return"NamedNode"}}class ol extends Jo{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let i=t.lastIndexOf('"')+1;return i<t.length&&t[i++]==="@"?t.substr(i).toLowerCase():""}get datatype(){return new UE(this.datatypeString)}get datatypeString(){const t=this.id,i=t.lastIndexOf('"')+1,r=i<t.length?t[i]:"";return r==="^"?t.substr(i+2):r!=="@"?hp.string:cfe.langString}equals(t){return t instanceof ol?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class rD extends Jo{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}let nD=class extends Jo{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}};class iD extends Jo{constructor(){return super(""),E0||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}E0=new iD;function mp(e,t,i){if(t=t||xr,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===xr)return new ol(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!i||!Array.isArray(e))return t.namedNode(e)}return t.quad(mp(e[0],t,!0),mp(e[1],t,!0),mp(e[2],t,!0),e[3]&&mp(e[3],t,!0))}function tl(e,t){if(typeof e=="string")return e;if(e instanceof Jo&&e.termType!=="Quad")return e.id;if(!e)return E0.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==hp.string?`^^${e.datatype.value}`:""}`;case"Quad":const i=[tl(e.subject,!0),tl(e.predicate,!0),tl(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&i.push(tl(e.graph,!0)),t?i:JSON.stringify(i);default:throw new Error(`Unexpected termType: ${e.termType}`)}}class Xg extends Jo{constructor(t,i,r,n){super(""),this._subject=t,this._predicate=i,this._object=r,this._graph=n||E0}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function AK(e){return new UE(e)}function TK(e){return new rD(e||`n3-${dfe++}`)}function EK(e,t){if(typeof t=="string")return new ol(`"${e}"@${t.toLowerCase()}`);let i=t?t.value:"";return i===""&&(typeof e=="boolean"?i=hp.boolean:typeof e=="number"&&(Number.isFinite(e)?i=Number.isInteger(e)?hp.integer:hp.double:(i=hp.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),i===""||i===hp.string?new ol(`"${e}"`):new ol(`"${e}"^^${i}`)}function xK(e){return new nD(e)}function ffe(){return E0}function QP(e,t,i,r){return new Xg(e,t,i,r)}function mS(e){if(e instanceof Jo)return e;switch(e.termType){case"NamedNode":return AK(e.value);case"BlankNode":return TK(e.value);case"Variable":return xK(e.value);case"DefaultGraph":return E0;case"Literal":return EK(e.value,e.language||e.datatype);case"Quad":return RK(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function RK(e){if(e instanceof Xg)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return QP(mS(e.subject),mS(e.predicate),mS(e.object),mS(e.graph))}let OF=0;class C2{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&OK(this,t.factory);const i=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(i),n=/trig/.test(i),a=/triple/.test(i),o=/quad/.test(i),s=this._n3Mode=/n3/.test(i),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||a||s),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=i===""||/star|\*$/.test(i),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new tD({lineMode:l,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){OF=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const i=t.indexOf("#");i>=0&&(t=t.substr(0,i)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,i,r,n,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:n,object:a,graph:i,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,i){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${i.type}`,i);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,i){let r;switch(t.type){case"IRI":case"typeIRI":const n=this._resolveIRI(t.value);if(n===null)return this._error("Invalid IRI",t);r=this._factory.namedNode(n);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._factory.namedNode(a+t.value);break;case"blank":r=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!i&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const i=t.type;switch(i){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${i}`,t):(this._subject=null,i==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const i=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:i?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let i=null,r=null,n=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=i=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,n=this._readListItemDataTypeOrLang):(i=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((i=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._factory.blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),i!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,i),this._subject=i,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,i,this._graph)}return n}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let i=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;i=this._factory.literal(this._literalValue,r),t=null;break;case"langcode":i=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:i}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,i){const r=this._completeLiteral(t);if(r)return this._object=r.literal,i&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let i,r=this._graph;const n=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,i=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":i=this._readPredicate;break;case",":i=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._factory.quad(n,o,s,this.DEFAULTGRAPH),i=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,i=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){i=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(n!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,n,r):this._emit(n,o,s,r)}return i}_readBlankNodePunctuation(t){let i;switch(t.type){case";":i=this._readPredicate;break;case",":i=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),i}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const i=this._readEntity(t);return this._prefixes[this._prefix]=i.value,this._prefixCallback(this._prefix,i),this._readDeclarationPunctuation}_readBaseIRI(t){const i=t.type==="IRI"&&this._resolveIRI(t.value);return i?(this._setBase(i),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let i;switch(t.type){case"IRI":case"prefixed":if((i=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,i,this.QUANTIFIERS_GRAPH)):this._quantified[i.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const i=this._contextStack,r=i.length&&i[i.length-1];if(r&&r.type==="item"){const n=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let i,r;const n=this._factory.blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(i,r,n,this._graph),this._readPath}_readBackwardPath(t){const i=this._factory.blankNode();let r,n;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(i,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const i=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=i,this._readPredicate):(this._object=i,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,i,r,n){this._callback(null,this._factory.quad(t,i,r,n||this.DEFAULTGRAPH))}_error(t,i){const r=new Error(`${t} on line ${i.line}.`);r.context={token:i,line:i.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=VA}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const i=t.length;let r="",n=-1,a=-1,o=0,s="/";for(;n<i;){switch(s){case":":if(a<0&&t[++n]==="/"&&t[++n]==="/")for(;(a=n+1)<i&&t[a]!=="/";)n=a;break;case"?":case"#":n=i;break;case"/":if(t[n+1]===".")switch(s=t[++n+1],s){case"/":r+=t.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return r+t.substring(o,n)+t.substr(n+1);case".":if(s=t[++n+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,n-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(n+1)}`;o=n+1}}}s=t[++n]}return r+t.substring(o)}parse(t,i,r){let n,a,o;if(i&&(i.onQuad||i.onPrefix||i.onComment)?(n=i.onQuad,a=i.onPrefix,o=i.onComment):(n=i,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${OF++}_`,this._prefixCallback=a||VA,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const l=[];let u;if(this._callback=(c,d)=>{c?u=c:d&&l.push(d)},this._lexer.tokenize(t).every(c=>this._readCallback=this._readCallback(c)),u)throw u;return l}let s=(l,u)=>{l!==null?(this._callback(l),this._callback=VA):this._readCallback&&(this._readCallback=this._readCallback(u))};o&&(this._lexer.comments=!0,s=(l,u)=>{l!==null?(this._callback(l),this._callback=VA):this._readCallback&&(u.type==="comment"?o(u.value):this._readCallback=this._readCallback(u))}),this._callback=n,this._lexer.tokenize(t,s)}}function VA(){}function OK(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(Mi.rdf.first),e.RDF_REST=t.namedNode(Mi.rdf.rest),e.RDF_NIL=t.namedNode(Mi.rdf.nil),e.N3_FORALL=t.namedNode(Mi.r.forAll),e.N3_FORSOME=t.namedNode(Mi.r.forSome),e.ABBREVIATIONS={a:t.namedNode(Mi.rdf.type),"=":t.namedNode(Mi.owl.sameAs),">":t.namedNode(Mi.log.implies),"<":t.namedNode(Mi.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}OK(C2.prototype,xr);function hfe(e){return!!e&&e.termType==="NamedNode"}function pfe(e){return!!e&&e.termType==="BlankNode"}function gfe(e){return!!e&&e.termType==="Literal"}function mfe(e){return!!e&&e.termType==="Variable"}function YS(e){return!!e&&e.termType==="DefaultGraph"}function yfe(e){return YS(e.graph)}function vfe(e,t){return PK({"":e.value||e},t)("")}function PK(e,t){const i=Object.create(null);for(const n in e)r(n,e[n]);t=t||xr;function r(n,a){if(typeof a=="string"){const o=Object.create(null);i[n]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(n in i))throw new Error(`Unknown prefix: ${n}`);return i[n]}return r}const IK=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:yfe,isBlankNode:pfe,isDefaultGraph:YS,isLiteral:gfe,isNamedNode:hfe,isVariable:mfe,prefix:vfe,prefixes:PK},Symbol.toStringTag,{value:"Module"})),mm=xr.defaultGraph(),{rdf:bfe,xsd:yg}=Mi,PF=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,IF=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,_fe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ym extends Jo{equals(t){return t===this}}class x0{constructor(t,i){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(i=t,t=null),i=i||{},this._lists=i.lists,t)this._outputStream=t,this._endStream=i.end===void 0?!0:!!i.end;else{let r="";this._outputStream={write(n,a,o){r+=n,o&&o()},end:n=>{n&&n(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(i.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=mm,this._prefixIRIs=Object.create(null),i.prefixes&&this.addPrefixes(i.prefixes),i.baseIRI&&(this._baseMatcher=new RegExp(`^${DF(i.baseIRI)}${i.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=i.baseIRI.length))}get _inDefaultGraph(){return mm.equals(this._graph)}_write(t,i){this._outputStream.write(t,"utf8",i)}_writeQuad(t,i,r,n,a){try{n.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(mm.equals(n)?"":`${this._encodeIriOrBlank(n)} {
`)),this._graph=n,this._subject=null),t.equals(this._subject)?i.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=i)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=i)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,i,r,n,a){delete this._prefixMatch,this._write(this.quadToString(t,i,r,n),a)}quadToString(t,i,r,n){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(i)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .
`:` .
`}`}quadsToString(t){let i="";for(const r of t)i+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return i}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let i=t.value;this._baseMatcher&&this._baseMatcher.test(i)&&(i=i.substr(this._baseLength)),PF.test(i)&&(i=i.replace(IF,CF));const r=this._prefixRegex.exec(i);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:i:`<${i}>`}_encodeLiteral(t){let i=t.value;if(PF.test(i)&&(i=i.replace(IF,CF)),t.language)return`"${i}"@${t.language}`;if(this._lineMode){if(t.datatype.value===yg.string)return`"${i}"`}else switch(t.datatype.value){case yg.string:return`"${i}"`;case yg.boolean:if(i==="true"||i==="false")return i;break;case yg.integer:if(/^[+-]?\d+$/.test(i))return i;break;case yg.decimal:if(/^[+-]?\d*\.\d+$/.test(i))return i;break;case yg.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(i))return i;break}return`"${i}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===bfe.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:i,object:r,graph:n}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(i)} ${this._encodeObject(r)}${YS(n)?"":` ${this._encodeIriOrBlank(n)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,i,r,n,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,i):typeof n=="function"?this._writeQuad(t,i,r,mm,n):this._writeQuad(t,i,r,n||mm,a)}addQuads(t){for(let i=0;i<t.length;i++)this.addQuad(t[i])}addPrefix(t,i,r){const n={};n[t]=i,this.addPrefixes(n,r)}addPrefixes(t,i){if(!this._prefixIRIs)return i&&i();let r=!1;for(let n in t){let a=t[n];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=n+=":",this._write(`@prefix ${n} <${a}>.
`)}if(r){let n="",a="";for(const o in this._prefixIRIs)n+=n?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];n=DF(n),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${n})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",i)}blank(t,i){let r=t,n,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:i}]:"length"in t||(r=[t]),a=r.length){case 0:return new ym("[]");case 1:if(n=r[0],!(n.object instanceof ym))return new ym(`[ ${this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)} ]`);default:let o="[";for(let s=0;s<a;s++)n=r[s],n.predicate.equals(t)?o+=`, ${this._encodeObject(n.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)}`,t=n.predicate);return new ym(`${o}
]`)}}list(t){const i=t&&t.length||0,r=new Array(i);for(let n=0;n<i;n++)r[n]=this._encodeObject(t[n]);return new ym(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let i=t&&((r,n)=>{i=null,t(r,n)});if(this._endStream)try{return this._outputStream.end(i)}catch{}i&&i()}}function CF(e){let t=_fe[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function DF(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var HE=Xr();const hR=Symbol("iter");function qS(e,t,i=4){if(i===0)return Object.assign(e,t);for(const r in t)e[r]=qS(e[r]||Object.create(null),t[r],i-1);return e}function CK(e,t,i=4){let r=!1;for(const n in e)if(n in t){const a=i===0?null:CK(e[n],t[n],i-1);if(a!==!1)r=r||Object.create(null),r[n]=a;else if(i===3)return!1}return r}function DK(e,t,i=4){let r=!1;for(const n in e)if(!(n in t))r=r||Object.create(null),r[n]=i===0?null:qS({},e[n],i-1);else if(i!==0){const a=DK(e[n],t[n],i-1);if(a!==!1)r=r||Object.create(null),r[n]=a;else if(i===3)return!1}return r}class aD{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||xr}_termFromId(t){if(t[0]==="."){const i=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(i[r[1]]),this._termFromId(i[r[2]]),this._termFromId(i[r[3]]),r[4]&&this._termFromId(i[r[4]]))}return mp(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const i=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),n=this._termToNumericId(t.object);let a;return i&&r&&n&&(YS(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${i}.${r}.${n}.${a}`:`.${i}.${r}.${n}`]}return this._ids[tl(t)]}_termToNewNumericId(t){const i=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${YS(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:tl(t);return this._ids[i]||(this._ids[this._entities[++this._id]=i]=this._id)}createBlankNode(t){let i,r;if(t)for(i=t=`_:${t}`,r=1;this._ids[i];)i=t+r++;else do i=`_:b${this._blankNodeIndex++}`;while(this._ids[i]);return this._ids[i]=++this._id,this._entities[this._id]=i,this._factory.blankNode(i.substr(2))}}class Li{constructor(t,i){this._size=0,this._graphs=Object.create(null),!i&&t&&!t[0]&&typeof t.match!="function"&&(i=t,t=null),i=i||{},this._factory=i.factory||xr,this._entityIndex=i.entityIndex||new aD({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addAll(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const i=this._graphs;let r,n;for(const a in i)for(const o in r=i[a].subjects)for(const s in n=r[o])t+=Object.keys(n[s]).length;return this._size=t}_addToIndex(t,i,r,n){const a=t[i]||(t[i]={}),o=a[r]||(a[r]={}),s=n in o;return s||(o[n]=null),!s}_removeFromIndex(t,i,r,n){const a=t[i],o=a[r];delete o[n];for(const s in o)return;delete a[r];for(const s in a)return;delete t[i]}*_findInIndex(t,i,r,n,a,o,s,l){let u,c,d;const f=this._entities,h=this._termFromId(f[l]),p={subject:null,predicate:null,object:null};i&&((u=t,t={})[i]=u[i]);for(const g in t)if(c=t[g]){p[a]=this._termFromId(f[g]),r&&((u=c,c={})[r]=u[r]);for(const m in c)if(d=c[m]){p[o]=this._termFromId(f[m]);const y=n?n in d?[n]:[]:Object.keys(d);for(let v=0;v<y.length;v++)p[s]=this._termFromId(f[y[v]]),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(t,i){for(const r in t)i(r)}_loopByKey0(t,i,r){let n,a;if(n=t[i])for(a in n)r(a)}_loopByKey1(t,i,r){let n,a;for(n in t)a=t[n],a[i]&&r(n)}_loopBy2Keys(t,i,r,n){let a,o,s;if((a=t[i])&&(o=a[r]))for(s in o)n(s)}_countInIndex(t,i,r,n){let a=0,o,s,l;i&&((o=t,t={})[i]=o[i]);for(const u in t)if(s=t[u]){r&&((o=s,s={})[r]=o[r]);for(const c in s)(l=s[c])&&(n?n in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const i=Object.create(null);return r=>{r in i||(i[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,i,r,n){i||(n=t.graph,r=t.object,i=t.predicate,t=t.subject),n=n?this._termToNewNumericId(n):1;let a=this._graphs[n];return a||(a=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),i=this._termToNewNumericId(i),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,i,r)?(this._addToIndex(a.predicates,i,r,t),this._addToIndex(a.objects,r,t,i),this._size=null,!0):!1}addQuads(t){for(let i=0;i<t.length;i++)this.addQuad(t[i])}delete(t){return this.removeQuad(t),this}has(t,i,r,n){return t&&t.subject&&({subject:t,predicate:i,object:r,graph:n}=t),!this.readQuads(t,i,r,n).next().done}import(t){return t.on("data",i=>{this.addQuad(i)}),t}removeQuad(t,i,r,n){i||({subject:t,predicate:i,object:r,graph:n}=t),n=n?this._termToNumericId(n):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(i=i&&this._termToNumericId(i))||!(r=r&&this._termToNumericId(r))||!(o=a[n])||!(s=o.subjects[t])||!(l=s[i])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,i,r),this._removeFromIndex(o.predicates,i,r,t),this._removeFromIndex(o.objects,r,t,i),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[n],!0}removeQuads(t){for(let i=0;i<t.length;i++)this.removeQuad(t[i])}remove(t){return t.on("data",i=>{this.removeQuad(i)}),t}removeMatches(t,i,r,n){const a=new HE.Readable({objectMode:!0}),o=this.readQuads(t,i,r,n);return a._read=s=>{for(;--s>=0;){const{done:l,value:u}=o.next();if(l){a.push(null);return}a.push(u)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,i,r,n){return[...this.readQuads(t,i,r,n)]}*readQuads(t,i,r,n){const a=this._getGraphs(n);let o,s,l,u;if(!(t&&!(s=this._termToNumericId(t))||i&&!(l=this._termToNumericId(i))||r&&!(u=this._termToNumericId(r))))for(const c in a)(o=a[c])&&(s?u?yield*this._findInIndex(o.objects,u,s,l,"object","subject","predicate",c):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",c):l?yield*this._findInIndex(o.predicates,l,u,null,"predicate","object","subject",c):u?yield*this._findInIndex(o.objects,u,null,null,"object","subject","predicate",c):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",c))}match(t,i,r,n){return new Xu(this,t,i,r,n,{entityIndex:this._entityIndex})}countQuads(t,i,r,n){const a=this._getGraphs(n);let o=0,s,l,u,c;if(t&&!(l=this._termToNumericId(t))||i&&!(u=this._termToNumericId(i))||r&&!(c=this._termToNumericId(r)))return 0;for(const d in a)(s=a[d])&&(t?r?o+=this._countInIndex(s.objects,c,l,u):o+=this._countInIndex(s.subjects,l,u,c):i?o+=this._countInIndex(s.predicates,u,c,l):o+=this._countInIndex(s.objects,c,l,u));return o}forEach(t,i,r,n,a){this.some(o=>(t(o,this),!1),i,r,n,a)}every(t,i,r,n,a){return!this.some(o=>!t(o,this),i,r,n,a)}some(t,i,r,n,a){for(const o of this.readQuads(i,r,n,a))if(t(o,this))return!0;return!1}getSubjects(t,i,r){const n=[];return this.forSubjects(a=>{n.push(a)},t,i,r),n}forSubjects(t,i,r,n){const a=this._getGraphs(n);let o,s,l;if(t=this._uniqueEntities(t),!(i&&!(s=this._termToNumericId(i))||r&&!(l=this._termToNumericId(r))))for(n in a)(o=a[n])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,i,r){const n=[];return this.forPredicates(a=>{n.push(a)},t,i,r),n}forPredicates(t,i,r,n){const a=this._getGraphs(n);let o,s,l;if(t=this._uniqueEntities(t),!(i&&!(s=this._termToNumericId(i))||r&&!(l=this._termToNumericId(r))))for(n in a)(o=a[n])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,i,r){const n=[];return this.forObjects(a=>{n.push(a)},t,i,r),n}forObjects(t,i,r,n){const a=this._getGraphs(n);let o,s,l;if(t=this._uniqueEntities(t),!(i&&!(s=this._termToNumericId(i))||r&&!(l=this._termToNumericId(r))))for(n in a)(o=a[n])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,i,r){const n=[];return this.forGraphs(a=>{n.push(a)},t,i,r),n}forGraphs(t,i,r,n){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),i,r,n,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:i=!1}={}){const r={},n=i?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Mi.rdf.rest,Mi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let u=!1,c,d;const f=s.graph;let h=s.subject;for(;h&&!u;){const p=this.getQuads(null,null,h,null),g=this.getQuads(h,null,null,null);let m,y=null,v=null,b=null;for(let _=0;_<g.length&&!u;_++)m=g[_],m.graph.equals(f)?c?u=n(h,"has non-list arcs out"):m.predicate.value===Mi.rdf.first?y?u=n(h,"has multiple rdf:first arcs"):o.push(y=m):m.predicate.value===Mi.rdf.rest?v?u=n(h,"has multiple rdf:rest arcs"):o.push(v=m):p.length?u=n(h,"can't be subject and object"):(c=m,d="subject"):u=n(h,"not confined to single graph");for(let _=0;_<p.length&&!u;++_)m=p[_],c?u=n(h,"can't have coreferences"):m.predicate.value===Mi.rdf.rest?b?u=n(h,"has incoming rdf:rest arcs"):b=m:(c=m,d="object");y?l.unshift(y.object):u=n(h,"has no list head"),h=b&&b.subject}u?t=!1:c&&(r[c[d].value]=l)}),t&&this.removeQuads(o),r}addAll(t){if(t instanceof Xu&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Li&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=qS(this._graphs,t._graphs),this._size=null);else for(const i of t)this.add(i);return this}contains(t){if(t instanceof Xu&&(t=t.filtered),t===this)return!0;if(!(t instanceof Li)||this._entityIndex!==t._entityIndex)return t.every(u=>this.has(u));const i=this._graphs,r=t._graphs;let n,a,o,s,l;for(const u in r){if(!(n=i[u]))return!1;n=n.subjects;for(const c in a=r[u].subjects){if(!(o=n[c]))return!1;for(const d in s=a[c]){if(!(l=o[d]))return!1;for(const f in s[d])if(!(f in l))return!1}}}return!0}deleteMatches(t,i,r,n){for(const a of this.match(t,i,r,n))this.removeQuad(a);return this}difference(t){if(t&&t instanceof Xu&&(t=t.filtered),t===this)return new Li({entityIndex:this._entityIndex});if(t instanceof Li&&t._entityIndex===this._entityIndex){const i=new Li({entityIndex:this._entityIndex}),r=DK(this._graphs,t._graphs);return r&&(i._graphs=r,i._size=null),i}return this.filter(i=>!t.has(i))}equals(t){return t instanceof Xu&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const i=new Li({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&i.add(r);return i}intersection(t){if(t instanceof Xu&&(t=t.filtered),t===this){const i=new Li({entityIndex:this._entityIndex});return i._graphs=qS(Object.create(null),this._graphs),i._size=this._size,i}else if(t instanceof Li&&this._entityIndex===t._entityIndex){const i=new Li({entityIndex:this._entityIndex}),r=CK(t._graphs,this._graphs);return r&&(i._graphs=r,i._size=null),i}return this.filter(i=>t.has(i))}map(t){const i=new Li({entityIndex:this._entityIndex});for(const r of this)i.add(t(r,this));return i}reduce(t,i){const r=this.readQuads();let n=i===void 0?r.next().value:i;for(const a of r)n=t(n,a,this);return n}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new x0().quadsToString(this)}union(t){const i=new Li({entityIndex:this._entityIndex});return i._graphs=qS(Object.create(null),this._graphs),i._size=this._size,i.addAll(t),i}*[Symbol.iterator](){yield*this.readQuads()}}function fs(e,t,i=0){const r=t[i];if(r&&!(r in e))return!1;let n=!1;for(const a in r?{[r]:e[r]}:e){const o=i===2?null:fs(e[a],t,i+1);o!==!1&&(n=n||Object.create(null),n[a]=o)}return n}class Xu extends HE.Readable{constructor(t,i,r,n,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:i,predicate:r,object:n,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:i,object:r,predicate:n,subject:a}=this,o=this._filtered=new Li({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,u;if(a&&!(s=o._termToNumericId(a))||n&&!(l=o._termToNumericId(n))||r&&!(u=o._termToNumericId(r)))return o;const c=t._getGraphs(i);for(const d in c){let f,h,p,g;(g=c[d])&&(!s&&l?(h=fs(g.predicates,[l,u,s]))&&(f=fs(g.subjects,[s,l,u]),p=fs(g.objects,[u,s,l])):u?(p=fs(g.objects,[u,s,l]))&&(f=fs(g.subjects,[s,l,u]),h=fs(g.predicates,[l,u,s])):(f=fs(g.subjects,[s,l,u]))&&(h=fs(g.predicates,[l,u,s]),p=fs(g.objects,[u,s,l])),f&&(o._graphs[d]={subjects:f,predicates:h,objects:p}))}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[hR]&&(this[hR]=this[Symbol.iterator]());const i=this[hR];for(;--t>=0;){const{done:r,value:n}=i.next();if(r){this.push(null);return}this.push(n)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,i,r,n){return this.filtered.deleteMatches(t,i,r,n)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,i,r,n,a){return this.filtered.every(t,i,r,n,a)}filter(t){return this.filtered.filter(t)}forEach(t,i,r,n,a){return this.filtered.forEach(t,i,r,n,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,i,r,n,a){return this.filtered.some(t,i,r,n,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,i){return this.filtered.reduce(t,i)}toString(){return new x0().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,i,r,n){return new Xu(this.filtered,t,i,r,n,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class NK{dataset(t){return new Li(t)}}function FK(e){const t=[];for(const{subject:i,object:r}of e.match(null,xr.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,xr.defaultGraph())){const n=[...e.match(null,null,null,i)],a=[...e.match(null,null,null,r)];t.push({premise:n,conclusion:a})}return t}class LK{constructor(t){this._store=t}_add(t,i,r,n,a){this._store._addToIndex(n.subjects,t,i,r)&&(this._store._addToIndex(n.predicates,i,r,t),this._store._addToIndex(n.objects,r,t,i),a())}_evaluatePremise(t,i,r,n=0){let a,o,s,l,u;const[c,d,f]=t.premise[n].value,h=i[t.premise[n].content],p=!(s=c.value);for(s in p?h:{[s]:h[s]})if(l=h[s]){p&&(c.value=Number(s)),a=!(s=d.value);for(s in a?l:{[s]:l[s]})if(u=l[s]){a&&(d.value=Number(s)),o=!(s=f.value);for(s in o?u:{[s]:u[s]})o&&(f.value=Number(s)),n===t.premise.length-1?t.conclusion.forEach(g=>{this._add(g.subject.value,g.predicate.value,g.object.value,i,()=>{r(g)})}):this._evaluatePremise(t,i,r,n+1);o&&(f.value=null)}a&&(d.value=null)}p&&(c.value=null)}_evaluateRules(t,i,r){for(let n=0;n<t.length;n++)this._evaluatePremise(t[n],i,r)}_reasonGraphNaive(t,i){const r=[];function n(s){s.next&&s.next.forEach(l=>{r.push([s.subject.value,s.predicate.value,s.object.value,l])})}const a=s=>{s.forEach(l=>{this._add(l.subject.value,l.predicate.value,l.object.value,i,()=>{n(l)})})};this._evaluateRules(t,i,n);let o;for(;(o=r.pop())!==void 0;){const[s,l,u,c]=o,d=c.basePremise.subject.value;d||(c.basePremise.subject.value=s);const f=c.basePremise.predicate.value;f||(c.basePremise.predicate.value=l);const h=c.basePremise.object.value;h||(c.basePremise.object.value=u),c.premise.length===0?a(c.conclusion):this._evaluatePremise(c,i,n),d||(c.basePremise.subject.value=null),f||(c.basePremise.predicate.value=null),h||(c.basePremise.object.value=null)}}_createRule({premise:t,conclusion:i}){const r={},n=o=>o.termType==="Variable"?r[o.value]=r[o.value]||{}:{value:this._store._termToNewNumericId(o)},a=o=>({subject:n(o.subject),predicate:n(o.predicate),object:n(o.object)});return{premise:t.map(o=>a(o)),conclusion:i.map(o=>a(o)),variables:Object.values(r)}}reason(t){Array.isArray(t)||(t=FK(t)),t=t.map(r=>this._createRule(r));for(const r of t)for(const n of t)for(let a=0;a<n.premise.length;a++){const o=n.premise[a];for(const s of r.conclusion){if(pR(o.subject,s.subject)&&pR(o.predicate,s.predicate)&&pR(o.object,s.object)){const l=new Set,u=[];o.subject.value=o.subject.value||1,o.object.value=o.object.value||1,o.predicate.value=o.predicate.value||1;for(let c=0;c<n.premise.length;c++)c!==a&&u.push(NF(n.premise[c],l));(s.next=s.next||[]).push({premise:u,conclusion:n.conclusion,basePremise:o})}n.variables.forEach(l=>{l.value=null})}}for(const r of t){const n=new Set;r.premise=r.premise.map(a=>NF(a,n))}const i=this._store._getGraphs();for(const r in i)this._reasonGraphNaive(t,i[r]);this._store._size=null}}function NF({subject:e,predicate:t,object:i},r){const n=e.value||r.has(e)||(r.add(e),!1),a=t.value||r.has(t)||(r.add(t),!1),o=i.value||r.has(i)||(r.add(i),!1);return!n&&a?{content:"predicates",value:[t,i,e]}:o?{content:"objects",value:[i,e,t]}:{content:"subjects",value:[e,t,i]}}function pR(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class MK extends HE.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const i=new C2(t);let r,n;const a={onQuad:(o,s)=>{o&&this.emit("error",o)||s&&this.push(s)},onPrefix:(o,s)=>{this.emit("prefix",o,s)}};t&&t.comments&&(a.onComment=o=>{this.emit("comment",o)}),i.parse({on:(o,s)=>{switch(o){case"data":r=s;break;case"end":n=s;break}}},a),this._transform=(o,s,l)=>{r(o),l()},this._flush=o=>{n(),o()}}import(t){return t.on("data",i=>{this.write(i)}),t.on("end",()=>{this.end()}),t.on("error",i=>{this.emit("error",i)}),this}}class jK extends HE.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const i=this._writer=new x0({write:(r,n,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,n,a)=>{i.addQuad(r,a)},this._flush=r=>{i.end(r)}}import(t){return t.on("data",i=>{this.write(i)}),t.on("end",()=>{this.end()}),t.on("error",i=>{this.emit("error",i)}),t.on("prefix",(i,r)=>{this._writer.addPrefix(i,r)}),this}}const wfe={Lexer:tD,Parser:C2,Writer:x0,Store:Li,StoreFactory:NK,EntityIndex:aD,StreamParser:MK,StreamWriter:jK,Util:IK,Reasoner:LK,DataFactory:xr,Term:Jo,NamedNode:UE,Literal:ol,BlankNode:rD,Variable:nD,DefaultGraph:iD,Quad:Xg,Triple:Xg,termFromId:mp,termToId:tl},Sfe=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:rD,DataFactory:xr,DefaultGraph:iD,EntityIndex:aD,Lexer:tD,Literal:ol,NamedNode:UE,Parser:C2,Quad:Xg,Reasoner:LK,Store:Li,StoreFactory:NK,StreamParser:MK,StreamWriter:jK,Term:Jo,Triple:Xg,Util:IK,Variable:nD,Writer:x0,default:wfe,getRulesFromDataset:FK,termFromId:mp,termToId:tl},Symbol.toStringTag,{value:"Module"})),Afe=()=>{const e=[],t=[],i=[];return{onQuad:r=>{e.push(r)},onError:r=>{i.push(r)},onComplete:r=>{t.push(r)},parse:(r,n)=>{Tfe(Sn(n)).parse(r,(a,o)=>{a?i.forEach(s=>s(a)):o?e.forEach(s=>s(o)):t.forEach(s=>s())})}}};function Tfe(e){return new C2({format:"text/turtle",baseIRI:e})}async function iE(e,t){const i="text/turtle",r=new x0({format:i,prefixes:t==null?void 0:t.prefixes}),n=e.map(s=>xr.quad(s.subject,s.predicate,s.object,void 0));return r.addQuads(n),await new Promise((s,l)=>{r.end((u,c)=>{u?l(u):s(c)})})}const aE="https://inrupt.com/.well-known/sdk-local-node/",{freeze:Bt}=Object;function Uo(e){return e.substring(0,aE.length)===aE}function mo(e){return e.substring(aE.length)}function Efe(e){return`${aE}${e}`}function $E(e){return typeof e=="string"&&e.substring(0,2)==="_:"}function oD(e){return e.substring(2)}function kK(e){return`_:${e.value}`}const On={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function xfe(e){return e?"true":"false"}function BK(e){return e==="true"||e==="1"?!0:e==="false"||e==="0"?!1:null}function Rfe(e){let t,i;if(e.millisecond&&(e.millisecond<10?t=`00${e.millisecond}`:e.millisecond<100?t=`0${e.millisecond}`:t=e.millisecond),typeof e.timezoneHourOffset=="number"){const r=Math.abs(e.timezoneHourOffset)<10?`0${Math.abs(e.timezoneHourOffset)}`:Math.abs(e.timezoneHourOffset);i=e.timezoneHourOffset>=0?`+${r}`:`-${r}`,e.timezoneMinuteOffset?i=`${i}:${e.timezoneMinuteOffset<10?`0${e.timezoneMinuteOffset}`:e.timezoneMinuteOffset}`:i+=":00"}return`${e.hour<10?`0${e.hour}`:e.hour}:${e.minute<10?`0${e.minute}`:e.minute}:${e.second<10?`0${e.second}`:e.second}${e.millisecond?`.${t}`:""}${i||""}`}function Ofe(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[i,r]=uD(e),[n,a,o]=i.split(":");let s=Number.parseInt(n,10),l=Number.parseInt(a,10);const[u,c]=o.split("."),d=Number.parseInt(u,10),f=c?Number.parseInt(c,10):void 0;l>=60&&(s+=1,l-=60);const h={hour:s,minute:l,second:d};if(typeof f=="number"&&(h.millisecond=f),typeof r=="string"){const[p,g]=qK(r);if(typeof p!="number"||p>24||typeof g!="number"||g>59)return null;h.timezoneHourOffset=p,h.timezoneMinuteOffset=g}return h}function Pfe(e){return e.toISOString()}function sD(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[i,r]=e.split("T"),[n,a]=i.charAt(0)==="-"?[-1,i.substring(1)]:[1,i],[o,s,l]=a.split("-"),u=Number.parseInt(o,10)*n,c=Number.parseInt(s,10)-1,d=Number.parseInt(l,10),[f,h]=uD(r),[p,g]=typeof h=="string"?qK(h):[0,0],[m,y,v]=f.split(":"),b=Number.parseInt(m,10)+p,_=Number.parseInt(y,10)+g,[w,T]=v.split("."),R=Number.parseInt(w,10),F=T?Number.parseInt(T,10):0,D=new Date(Date.UTC(u,c,d,b,_,R,F));return u>=0&&u<100&&D.setUTCFullYear(D.getUTCFullYear()-1900),D}function Ife(e){const t=e.getFullYear(),i=e.getMonth()+1,r=e.getDate(),[,n]=uD(e.toISOString());return`${t}-${String(i).padStart(2,"0")}-${String(r).padStart(2,"0")}${n}`}function Cfe(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const i=e,[r,n]=i.charAt(0)==="-"?[-1,i.substring(1)]:[1,i],[a,o,s]=n.split("-"),l=s.length>2?s.substring(0,2):s,u=Number.parseInt(a,10)*r,c=Number.parseInt(o,10)-1,d=Number.parseInt(l,10),f=12,h=new Date(Date.UTC(u,c,d,f));return u>=0&&u<100&&h.setUTCFullYear(h.getUTCFullYear()-1900),h}function uD(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];const t=e.split("+"),i=e.split("-");return t.length===1&&i.length===1?[t[0],void 0]:t.length>i.length?[t[0],`+${t[1]}`]:[i[0],`-${i[1]}`]}function qK(e){if(e==="Z")return[0,0];const t=e.charAt(0)==="+"?1:-1,[i,r]=e.substring(1).split(":"),n=Number.parseInt(i,10),a=Number.parseInt(r,10);return[n*t,a*t]}function Dfe(e){return e.toString()}function VK(e){const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function Nfe(e){return e.toString()}function UK(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function zP(e){return e.toLowerCase()}function Ma(e){return HK(e)&&e.termType==="NamedNode"}function Ffe(e){return HK(e)&&e.termType==="Literal"}function HK(e){return e!==null&&typeof e=="object"&&typeof e.termType=="string"&&typeof e.value=="string"&&typeof e.equals=="function"}function FF(e){return Ma(e)&&Uo(e.value)}function ri(e){const t=Qr(e);if(typeof URL!="function")return!0;try{return new URL(t),!0}catch{return!1}}function LF(e,t){return xr.namedNode(D2(mo(e.value),t))}function D2(e,t){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const i=new URL(t);return i.hash=e,i.href}function Lfe(e,t){var i;if(!["NamedNode","DefaultGraph"].includes(t.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.graph.termType}] as their Graph node.`);const n=t.graph.termType==="DefaultGraph"?"default":t.graph.value,a=(i=e.graphs[n])!==null&&i!==void 0?i:{};return Bt({...e,graphs:Bt({...e.graphs,[n]:Mfe(a,t)})})}function Mfe(e,t){var i;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.subject.termType}] as their Subject node.`);const n=t.subject.termType==="BlankNode"?`_:${t.subject.value}`:t.subject.value,a=(i=e[n])!==null&&i!==void 0?i:{type:"Subject",url:n,predicates:{}};return Bt({...e,[n]:jfe(a,t)})}function jfe(e,t){return Bt({...e,predicates:kfe(e.predicates,t)})}function kfe(e,t){var i;if(!["NamedNode"].includes(t.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.predicate.termType}] as their Predicate node.`);const n=t.predicate.value,a=(i=e[n])!==null&&i!==void 0?i:{};return Bt({...e,[n]:Bfe(a,t)})}function Bfe(e,t){var i,r,n,a,o,s,l,u;if(t.object.termType==="NamedNode"){const c=Bt([...(i=e.namedNodes)!==null&&i!==void 0?i:[],t.object.value]);return Bt({...e,namedNodes:c})}if(t.object.termType==="Literal"){if(t.object.datatype.value===On.langString){const f=t.object.language.toLowerCase(),h=Bt([...(n=(r=e.langStrings)===null||r===void 0?void 0:r[f])!==null&&n!==void 0?n:[],t.object.value]),p=Bt({...(a=e.langStrings)!==null&&a!==void 0?a:{},[f]:h});return Bt({...e,langStrings:p})}const c=Bt([...(s=(o=e.literals)===null||o===void 0?void 0:o[t.object.datatype.value])!==null&&s!==void 0?s:[],t.object.value]),d=Bt({...(l=e.literals)!==null&&l!==void 0?l:{},[t.object.datatype.value]:c});return Bt({...e,literals:d})}if(t.object.termType==="BlankNode"){const c=Bt([...(u=e.blankNodes)!==null&&u!==void 0?u:[],kK(t.object)]);return Bt({...e,blankNodes:c})}throw new Error(`Objects of type [${t.object.termType}] are not supported.`)}function $K(e,t={}){var i;const r=[],n=(i=t.dataFactory)!==null&&i!==void 0?i:xr;return Object.keys(e.graphs).forEach(a=>{const o=e.graphs[a],s=a==="default"?n.defaultGraph():n.namedNode(a);Object.keys(o).forEach(l=>{const{predicates:u}=o[l],c=$E(l)?n.blankNode(oD(l)):n.namedNode(l);r.push(...Yg(u,c,s,t))})}),r}function Yg(e,t,i,r={}){var n;const a=[],o=(n=r.dataFactory)!==null&&n!==void 0?n:xr;return Object.keys(e).forEach(s=>{var l,u,c,d;const f=o.namedNode(s),h=(l=e[s].langStrings)!==null&&l!==void 0?l:{},p=(u=e[s].namedNodes)!==null&&u!==void 0?u:[],g=(c=e[s].literals)!==null&&c!==void 0?c:{},m=(d=e[s].blankNodes)!==null&&d!==void 0?d:[];Object.keys(g).forEach(b=>{const _=o.namedNode(b);g[b].forEach(T=>{const R=o.literal(T,_);a.push(o.quad(t,f,R,i))})}),Object.keys(h).forEach(b=>{h[b].forEach(w=>{const T=o.literal(w,b);a.push(o.quad(t,f,T,i))})}),p.forEach(b=>{const _=o.namedNode(b);a.push(o.quad(t,f,_,i))}),m.forEach(b=>{if($E(b)){const _=o.blankNode(oD(b));a.push(o.quad(t,f,_,i))}else{const _=o.blankNode(),w=o.quad(t,f,_,i),T=Yg(b,_,i);a.push(w),a.push(...T)}})}),a}function qfe(e){const t={graphs:{default:{}},type:"Dataset"};return Array.from(e).reduce((i,r)=>Lfe(i,r),t)}const QK=["Slug","If-None-Match","Content-Type"];function Vfe(e){return QK.some(t=>e[t]!==void 0)}async function zK(e,t){var i;const r=vl(Qr(e),{trailingSlash:!1}),n=await((i=t==null?void 0:t.fetch)!==null&&i!==void 0?i:fetch)(r,t==null?void 0:t.init);if(Au(n)){const l=await n.clone().text();throw new Tu(`Fetching the File failed: [${n.status}] [${n.statusText}] ${l}.`,n,l)}const a=qE(n),o=await n.blob();return Object.assign(o,{internal_resourceInfo:a})}async function Ufe(e,t){var i;const r=A0(e)?Qr(nE(e)):vl(Qr(e),{trailingSlash:!1}),n=await((i=t==null?void 0:t.fetch)!==null&&i!==void 0?i:fetch)(r,{...t==null?void 0:t.init,method:"DELETE"});if(Au(n)){const a=await n.clone().text();throw new Tu(`Deleting the file at [${r}] failed: [${n.status}] [${n.statusText}] ${a}.`,n,a)}}async function lD(e,t,i){const r=vl(Qr(e),{trailingSlash:!0}),n=await zfe(r,t,"POST",i);if(Au(n)){const u=await n.clone().text();throw new Tu(`Saving the file in [${e}] failed: [${n.status}] [${n.statusText}] ${u}.`,n,u)}const a=n.headers.get("Location");if(a===null)throw new Error("Could not determine the location of the newly saved file.");const o=new URL(a,new URL(r).origin).href,s=_K(t),l={internal_resourceInfo:{isRawData:!0,sourceIri:o,contentType:GK(t,i==null?void 0:i.contentType)}};return Object.assign(s,l)}function Hfe(e){return Array.isArray(e)}function $fe(e){return typeof e.forEach=="function"}function Qfe(e){if(typeof e>"u")return{};let t={};return Hfe(e)?e.forEach(([i,r])=>{t[i]=r}):$fe(e)?e.forEach((i,r)=>{t[r]=i}):t=e,t}async function zfe(e,t,i,r={}){var n,a,o;const s=Qfe((a=(n=r.init)===null||n===void 0?void 0:n.headers)!==null&&a!==void 0?a:{});if(Vfe(s))throw new Error(`No reserved header (${QK.join(", ")}) should be set in the optional RequestInit.`);return r.slug!==void 0?s.Slug=r.slug:"name"in t&&t.name!==void 0&&(s.Slug=t.name),s["Content-Type"]=GK(t,r.contentType),((o=r.fetch)!==null&&o!==void 0?o:fetch)(e,{...r.init,headers:s,method:i,body:t})}function GK(e,t){if(typeof t=="string")return t;const i=typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&e.type.length>0?e.type:void 0;return i??"application/octet-stream"}var Fi=[];for(var gR=0;gR<256;++gR)Fi.push((gR+256).toString(16).slice(1));function Gfe(e,t=0){return(Fi[e[t+0]]+Fi[e[t+1]]+Fi[e[t+2]]+Fi[e[t+3]]+"-"+Fi[e[t+4]]+Fi[e[t+5]]+"-"+Fi[e[t+6]]+Fi[e[t+7]]+"-"+Fi[e[t+8]]+Fi[e[t+9]]+"-"+Fi[e[t+10]]+Fi[e[t+11]]+Fi[e[t+12]]+Fi[e[t+13]]+Fi[e[t+14]]+Fi[e[t+15]]).toLowerCase()}var UA,Wfe=new Uint8Array(16);function Kfe(){if(!UA&&(UA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!UA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return UA(Wfe)}var Jfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const MF={randomUUID:Jfe};function Xfe(e,t,i){if(MF.randomUUID&&!e)return MF.randomUUID();e=e||{};var r=e.random||(e.rng||Kfe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gfe(r)}function GP(e){var t,i,r,n,a,o,s,l;if(Ma(e))return`<${e.value}> (URL)`;if(Ffe(e)){if(!Ma(e.datatype))return`[${e.value}] (RDF/JS Literal of unknown type)`;let u;switch(e.datatype.value){case On.boolean:return u=(i=(t=BK(e.value))===null||t===void 0?void 0:t.valueOf())!==null&&i!==void 0?i:`Invalid data: \`${e.value}\``,`${u} (boolean)`;case On.dateTime:return u=(n=(r=sD(e.value))===null||r===void 0?void 0:r.toUTCString())!==null&&n!==void 0?n:`Invalid data: \`${e.value}\``,`${u} (datetime)`;case On.decimal:return u=(o=(a=VK(e.value))===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:`Invalid data: \`${e.value}\``,`${u} (decimal)`;case On.integer:return u=(l=(s=UK(e.value))===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:`Invalid data: \`${e.value}\``,`${u} (integer)`;case On.langString:return`"${e.value}" (${e.language} string)`;case On.string:return`"${e.value}" (string)`;default:return`[${e.value}] (RDF/JS Literal of type: \`${e.datatype.value}\`)`}}return e.termType==="BlankNode"?`[${e.value}] (RDF/JS BlankNode)`:e.termType==="Quad"?"??? (nested RDF* Quad)":e.termType==="Variable"?`?${e.value} (RDF/JS Variable)`:e}function Pr(e){if(!Zg(e))throw new lhe(e)}function Yfe(e,t){const i=T0(e)?e.internal_changeLog:{additions:[],deletions:[]},[r,n]=t.filter(a=>!KK(a)).reduce(([a,o],s)=>typeof o.find(u=>u.equals(s))<"u"?[a,o.filter(u=>!u.equals(s))]:[a.concat(s),o],[i.additions,i.deletions]);return Bt({...e,internal_changeLog:{additions:r,deletions:n}})}function WK(e,t){const i=T0(e)?e.internal_changeLog:{additions:[],deletions:[]},[r,n]=t.filter(a=>!KK(a)).reduce(([a,o],s)=>typeof a.find(u=>u.equals(s))<"u"?[a.filter(u=>!u.equals(s)),o]:[a,o.concat(s)],[i.additions,i.deletions]);return Bt({...e,internal_changeLog:{additions:r,deletions:n}})}function Zfe(e){return T0(e)?e:Bt({...e,internal_changeLog:{additions:[],deletions:[]}})}function KK(e){return e.subject.termType==="BlankNode"||e.object.termType==="BlankNode"}function zg(e,t){var i,r,n;if(Pr(e),!ri(t))throw new aa(t);const a=Qr(t),o=(n=(r=(i=e.predicates[a])===null||i===void 0?void 0:i.namedNodes)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:null;return o===null?null:Uo(o)?`#${mo(o)}`:o}const Uu=zg;function ehe(e,t){var i,r,n;if(Pr(e),!ri(t))throw new aa(t);const a=Qr(t);return(n=(r=(i=e.predicates[a])===null||i===void 0?void 0:i.namedNodes)===null||r===void 0?void 0:r.map(o=>Uo(o)?`#${mo(o)}`:o))!==null&&n!==void 0?n:[]}const Sa=ehe;function the(e,t){Pr(e);const i=ahe(e,t,On.dateTime);return i===null?null:sD(i)}function rhe(e,t){return Sa(e,t).map(r=>xr.namedNode(r))}function nhe(e,t){var i,r,n,a;if(Pr(e),!ri(t))throw new aa(t);const o=Qr(t);let s=[];const l=(r=(i=e.predicates[o])===null||i===void 0?void 0:i.langStrings)!==null&&r!==void 0?r:{},u=Object.keys(l);for(const f of u){const p=l[f].map(g=>xr.literal(g,f));s=s.concat(p)}const c=(a=(n=e.predicates[o])===null||n===void 0?void 0:n.literals)!==null&&a!==void 0?a:{},d=Object.keys(c);for(const f of d){const h=c[f],p=xr.namedNode(f),g=h.map(m=>xr.literal(m,p));s=s.concat(g)}return s}function ihe(e,t){var i,r;Pr(e);const n=rhe(e,t),a=nhe(e,t),o=Qr(t),l=((r=(i=e.predicates[o])===null||i===void 0?void 0:i.blankNodes)!==null&&r!==void 0?r:[]).map(c=>{const d=$E(c)?oD(c):void 0;return xr.blankNode(d)});return n.concat(a).concat(l)}function ahe(e,t,i){var r,n,a,o;if(!ri(t))throw new aa(t);const s=Qr(t);return(o=(a=(n=(r=e.predicates[s])===null||r===void 0?void 0:r.literals)===null||n===void 0?void 0:n[i])===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:null}function R0(e,t,i={}){var r;if(!ri(t)&&!t.match(/^_:/))throw new JK(t);const n=typeof i.scope<"u"?Qr(i.scope):"default",a=(r=e.graphs[n])!==null&&r!==void 0?r:{},o=Qr(t),s=Uo(o)&&YC(e)?D2(mo(o),Sn(e)):o,l=a[s];return typeof l>"u"?null:l}function N2(e,t={acceptBlankNodes:!1}){var i;const r=typeof t.scope<"u"?Qr(t.scope):"default",n=(i=e.graphs[r])!==null&&i!==void 0?i:{};return Object.values(n).filter(a=>!$E(a.url)||t.acceptBlankNodes)}function Ss(e,t){var i;const r=F2(t)&&YC(e)?D2(mo(t.url),Sn(e)):t.url,n=e.graphs.default,a=Bt({...n,[r]:Bt({...t,url:r})}),o=Bt({...e.graphs,default:a}),s=xr.namedNode(r),l=(i=e.graphs.default[r])===null||i===void 0?void 0:i.predicates,u=typeof l<"u"?Yg(l,s,xr.defaultGraph()):[],c=Yg(t.predicates,s,xr.defaultGraph());return Yfe(WK(Bt({...e,graphs:o}),u),c)}function ohe(e,t){var i;let r;Ma(t)?r=t.value:typeof t=="string"?r=Uo(t)&&YC(e)?D2(mo(t),Sn(e)):t:F2(t)?r=t.url:r=QE(t);const a={...e.graphs.default};delete a[r];const o=Bt({...e.graphs,default:Bt(a)}),s=xr.namedNode(r),l=(i=e.graphs.default[r])===null||i===void 0?void 0:i.predicates,u=typeof l<"u"?Yg(l,s,xr.defaultGraph()):[];return WK(Bt({...e,graphs:o}),u)}function hu(e={}){var t;if(typeof e.url<"u"){const{url:a}=e;if(!ri(a))throw new JK(a);return Bt({type:"Subject",predicates:Bt({}),url:a})}const i=(t=e.name)!==null&&t!==void 0?t:che(),r=Efe(i);return Bt({type:"Subject",predicates:Bt({}),url:r})}function Zg(e){return typeof e=="object"&&e!==null&&typeof e.type=="string"&&e.type==="Subject"}function she(e,t){if(F2(e)){if(typeof t>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return D2(mo(e.url),t)}return e.url}const QE=she;function uhe(e){let t="";F2(e)?t+=`## Thing (no URL yet — identifier: \`#${mo(e.url)}\`)
`:t+=`## Thing: ${e.url}
`;const i=Object.keys(e.predicates);if(i.length===0)t+=`
<empty>
`;else for(const r of i){t+=`
Property: ${r}
`;const n=ihe(e,r);t+=n.reduce((a,o)=>`${a}- ${GP(o)}
`,"")}return t}function F2(e){return Uo(e.url)}class lhe extends I2{constructor(t){const i=`Expected a Thing, but received: [${t}].`;super(i),this.receivedValue=t}}class aa extends I2{constructor(t){const i=Ma(t)?t.value:t,r=`Expected a valid URL to identify a property, but received: [${i}].`;super(r),this.receivedProperty=i}}class cD extends I2{constructor(t){const i=Ma(t)?t.value:t,r=`Expected a valid URL value, but received: [${i}].`;super(r),this.receivedValue=i}}class JK extends I2{constructor(t){const i=Ma(t)?t.value:t,r=`Expected a valid URL to identify a Thing, but received: [${i}].`;super(r),this.receivedValue=i}}const che=()=>Xfe();function jF(e){const t=new URL(e);return t.hash="",t.href}function L2(){return Bt({type:"Dataset",graphs:{default:{}}})}async function XK(e,t={}){if(Au(e)){const c=await e.clone().text();throw new Tu(`Fetching the SolidDataset at [${e.url}] failed: [${e.status}] [${e.statusText}] ${c}.`,e,c)}const i=eD(e),r={"text/turtle":Afe(),...t.parsers},n=efe(i);if(n===null)throw new Error(`Could not determine the content type of the Resource at [${Sn(i)}].`);const a=n.split(";")[0],o=r[a];if(typeof o>"u")throw new Error(`The Resource at [${Sn(i)}] has a MIME type of [${a}], but the only parsers available are for the following MIME types: [${Object.keys(r).join(", ")}].`);const s=await e.text(),l=await new Promise((c,d)=>{const f=new Li;o.onError(h=>{d(new Error(`Encountered an error parsing the Resource at [${Sn(i)}] with content type [${n}]: ${h}`))}),o.onQuad(h=>{f.add(h)}),o.onComplete(()=>{c(f)}),o.parse(s,i)}),u=Bt(qfe(l));return Bt({...u,...i})}async function Ta(e,t){var i,r;const n=vl(Qr(e)),a=Object.keys((i=t==null?void 0:t.parsers)!==null&&i!==void 0?i:{}),o=a.length>0?a.join(", "):"text/turtle",s=await((r=t==null?void 0:t.fetch)!==null&&r!==void 0?r:fetch)(n,{headers:{Accept:o}});if(Au(s)){const u=await s.clone().text();throw new Tu(`Fetching the Resource at [${n}] failed: [${s.status}] [${s.statusText}] ${u}.`,s,u)}return await XK(s,t)}async function dhe(e){const t=e.internal_changeLog.deletions.length>0?`DELETE DATA {${(await iE(e.internal_changeLog.deletions.map(oE))).trim()}};`:"",i=e.internal_changeLog.additions.length>0?`INSERT DATA {${(await iE(e.internal_changeLog.additions.map(oE))).trim()}};`:"";return{method:"PATCH",body:`${t} ${i}`,headers:{"Content-Type":"application/sparql-update"}}}async function fhe(e,t){return{method:"PUT",body:await iE($K(e).map(oE),t),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${ZC.Resource}>; rel="type"`}}}async function pu(e,t,i){var r;const n=vl(Qr(e)),a=Zfe(t),o=kF(a,n)?await dhe(a):await fhe(a,i),s=await((r=i==null?void 0:i.fetch)!==null&&r!==void 0?r:fetch)(n,o);if(Au(s)){const d=kF(a,n)?`The changes that were sent to the Pod are listed below.

${yhe(a)}`:`The SolidDataset that was sent to the Pod is listed below.

${mhe(a)}`,f=await s.clone().text();throw new Tu(`Storing the Resource at [${n}] failed: [${s.status}] [${s.statusText}] ${f}.

${d}`,s,f)}const l={...qE(s),isRawData:!1},u=Bt({...t,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l});return _he(u)}async function hhe(e,t){var i;const r=A0(e)?Qr(Sn(e)):vl(Qr(e)),n=await((i=t==null?void 0:t.fetch)!==null&&i!==void 0?i:fetch)(r,{method:"DELETE"});if(Au(n)){const a=await n.clone().text();throw new Tu(`Deleting the SolidDataset at [${r}] failed: [${n.status}] [${n.statusText}] ${a}.`,n,a)}}async function dD(e,t={}){var i,r;const n=vl(Qr(e),{trailingSlash:!0}),a=await((i=t.fetch)!==null&&i!==void 0?i:fetch)(n,{method:"PUT",body:t.initialContent?await iE($K(t.initialContent).map(oE)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${ZC.BasicContainer}>; rel="type"`}});if(Au(a)){const l=t.initialContent===void 0?"empty":"non-empty",u=await a.clone().text();throw new Tu(`Creating the ${l} Container at [${e}] failed: [${a.status}] [${a.statusText}] ${u}.`,a,u)}const o=qE(a);return Bt({...(r=t.initialContent)!==null&&r!==void 0?r:L2(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:o})}function phe(e,t){return jF(e.internal_resourceInfo.sourceIri)===jF(t)}function kF(e,t){return T0(e)&&A0(e)&&typeof e.internal_resourceInfo.sourceIri=="string"&&phe(e,t)}function ghe(e,t){const i=new URL(t),r=new URL(e),n=r.href.startsWith(i.href),a=r.pathname.substring(i.pathname.length,r.pathname.length).replace(/(^\/)|(\/$)/g,"");return n&&a.length>=1&&!a.includes("/")}function ZS(e){const t=Sn(e),i=R0(e,t);return i===null?[]:Sa(i,ZC.contains).filter(r=>ghe(r,t))}function mhe(e){let t="";A0(e)?t+=`# SolidDataset: ${Sn(e)}
`:t+=`# SolidDataset (no URL yet)
`;const i=N2(e);return i.length===0?t+=`
<empty>
`:i.forEach(r=>{t+=`
${uhe(r)}`,T0(e)&&(t+=`
${bhe(e,r)}
`)}),t}function yhe(e){if(!A0(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!T0(e)||e.internal_changeLog.additions.length===0&&e.internal_changeLog.deletions.length===0)return`## Changes compared to ${Sn(e)}

This SolidDataset has not been modified since it was fetched from ${Sn(e)}.
`;let t=`## Changes compared to ${Sn(e)}
`;const i=vhe(e);return Object.keys(i).forEach(r=>{t+=`
### Thing: ${r}
`;const n=i[r];Object.keys(n).forEach(a=>{t+=`
Property: ${a}
`;const{deleted:o}=n[a],{added:s}=n[a];o.length>0&&(t+=`- Removed:
`,t+=o.reduce((l,u)=>`${l}  - ${GP(u)}
`,"")),s.length>0&&(t+=`- Added:
`,t+=s.reduce((l,u)=>`${l}  - ${GP(u)}
`,""))})}),t}function vhe(e){const t=Object.create(null);return e.internal_changeLog.deletions.forEach(i=>{var r,n,a;const o=FF(i.subject)?LF(i.subject,Sn(e)):i.subject;if(!Ma(o)||!Ma(i.predicate))return;const s=Qr(o),l=Qr(i.predicate);(r=t[s])!==null&&r!==void 0||(t[s]=Object.create(null)),(n=(a=t[s])[l])!==null&&n!==void 0||(a[l]={added:[],deleted:[]}),t[s][l].deleted.push(i.object)}),e.internal_changeLog.additions.forEach(i=>{var r,n,a;const o=FF(i.subject)?LF(i.subject,Sn(e)):i.subject;if(!Ma(o)||!Ma(i.predicate))return;const s=Qr(o),l=Qr(i.predicate);(r=t[s])!==null&&r!==void 0||(t[s]=Object.create(null)),(n=(a=t[s])[l])!==null&&n!==void 0||(a[l]={added:[],deleted:[]}),t[s][l].added.push(i.object)}),t}function bhe(e,t){const i=xr.namedNode(t.url),r=e.internal_changeLog.additions.reduce((s,l)=>l.subject.equals(i)?s+1:s,0),n=e.internal_changeLog.deletions.reduce((s,l)=>l.subject.equals(i)?s+1:s,0),a=r===1?"1 new value added":`${r} new values added`,o=n===1?"1 value removed":`${n} values removed`;return`(${a} / ${o})`}function oE(e){const t=Ma(e.subject)?BF(e.subject):e.subject,i=Ma(e.object)?BF(e.object):e.object;return xr.quad(t,e.predicate,i,e.graph)}function BF(e){return Uo(e.value)?xr.namedNode(`#${mo(e.value)}`):e}function _he(e){const t=Sn(e),i=e.graphs.default,n=Object.keys(i).reduce((o,s)=>{const l=whe(o[s],t),u=Uo(s)?`${t}#${mo(s)}`:s,c={...o};return delete c[s],c[u]=l,Bt(c)},i),a=Bt({...e.graphs,default:n});return Bt({...e,graphs:a})}function whe(e,t){const r=Object.keys(e.predicates).reduce((n,a)=>{var o;const s=(o=n[a].namedNodes)!==null&&o!==void 0?o:[];if(s.every(c=>!Uo(c)))return n;const l=Bt(s.map(c=>Uo(c)?`${t}#${mo(c)}`:c)),u=Bt({...n[a],namedNodes:l});return Bt({...n,[a]:u})},e.predicates);return Bt({...e,predicates:r,url:Uo(e.url)?`${t}#${mo(e.url)}`:e.url})}const Rp=(e,t,i)=>{var r,n;if(Pr(e),!ri(t))throw new aa(t);if(!Zg(i)&&!ri(i))throw new cD(i);const a=Qr(t),o=(r=e.predicates[a])!==null&&r!==void 0?r:{},s=(n=o.namedNodes)!==null&&n!==void 0?n:[];let l;Ma(i)?l=i.value:typeof i=="string"?l=i:F2(i)?l=i.url:l=QE(i);const u=Bt(s.concat(Qr(l))),c=Bt({...o,namedNodes:u}),d=Bt({...e.predicates,[a]:c});return Bt({...e,predicates:d})},Mg=Rp,YK=(e,t,i)=>(Pr(e),bl(e,t,xfe(i),On.boolean)),ZK=(e,t,i)=>(Pr(e),bl(e,t,Pfe(i),On.dateTime)),eJ=(e,t,i)=>(Pr(e),bl(e,t,Ife(i),On.date)),tJ=(e,t,i)=>(Pr(e),bl(e,t,Rfe(i),On.time)),rJ=(e,t,i)=>(Pr(e),bl(e,t,Dfe(i),On.decimal)),nJ=(e,t,i)=>(Pr(e),bl(e,t,Nfe(i),On.integer));function sE(e,t,i,r){var n,a,o;if(Pr(e),!ri(t))throw new aa(t);const s=Qr(t),l=zP(r),u=(n=e.predicates[s])!==null&&n!==void 0?n:{},c=(a=u.langStrings)!==null&&a!==void 0?a:{},d=(o=c[l])!==null&&o!==void 0?o:[],f=Bt(d.concat(i)),h=Bt({...c,[l]:f}),p=Bt({...u,langStrings:h}),g=Bt({...e.predicates,[s]:p});return Bt({...e,predicates:g})}const iJ=(e,t,i)=>(Pr(e),bl(e,t,i,On.string));function fD(e,t,i){return Rp(e,t,i.value)}function hD(e,t,i){if(Pr(e),!ri(t))throw new aa(t);return i.datatype.value===On.langString?sE(e,t,i.value,i.language):bl(e,t,i.value,i.datatype.value)}function aJ(e,t,i){var r,n;if(i.termType==="NamedNode")return fD(e,t,i);if(i.termType==="Literal")return hD(e,t,i);if(i.termType==="BlankNode"){if(Pr(e),!ri(t))throw new aa(t);const a=Qr(t),o=(r=e.predicates[a])!==null&&r!==void 0?r:{},s=(n=o.blankNodes)!==null&&n!==void 0?n:[],l=Bt(s.concat(kK(i))),u=Bt({...o,blankNodes:l}),c=Bt({...e.predicates,[a]:u});return Bt({...e,predicates:c})}throw new Error(`Term type [${i.termType}] is not supported by @inrupt/solid-client.`)}function bl(e,t,i,r){var n,a,o;if(Pr(e),!ri(t))throw new aa(t);const s=Qr(t),l=(n=e.predicates[s])!==null&&n!==void 0?n:{},u=(a=l.literals)!==null&&a!==void 0?a:{},c=(o=u[r])!==null&&o!==void 0?o:[],d=Bt(c.concat(i)),f=Bt({...u,[r]:d}),h=Bt({...l,literals:f}),p=Bt({...e.predicates,[s]:h});return Bt({...e,predicates:p})}function qa(e,t){if(Pr(e),!ri(t))throw new aa(t);const i=Qr(t),r={...e.predicates};return delete r[i],Bt({...e,predicates:Bt(r)})}const pD=(e,t,i)=>{var r,n,a;if(Pr(e),!ri(t))throw new aa(t);const o=Qr(t);if(!Zg(i)&&!ri(i))throw new cD(i);const s=Zg(i)?QE(i):Qr(i),l=Bt((a=(n=(r=e.predicates[o])===null||r===void 0?void 0:r.namedNodes)===null||n===void 0?void 0:n.filter(d=>d.toLowerCase()!==s.toLowerCase()))!==null&&a!==void 0?a:[]),u=Bt({...e.predicates[o],namedNodes:l}),c=Bt({...e.predicates,[o]:u});return Bt({...e,predicates:c})},WP=pD,She=(e,t,i)=>(Pr(e),Up(e,t,On.boolean,r=>BK(r)===i)),Ahe=(e,t,i)=>(Pr(e),Up(e,t,On.dateTime,r=>{var n;return((n=sD(r))===null||n===void 0?void 0:n.getTime())===i.getTime()})),The=(e,t,i)=>(Pr(e),Up(e,t,On.date,function(r){const n=Cfe(r);return n?n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getUTCDate()===i.getUTCDate():!1})),Ehe=(e,t,i)=>(Pr(e),Up(e,t,On.time,function(r){const n=Ofe(r);return n?n.hour===i.hour&&n.minute===i.minute&&n.second===i.second&&n.millisecond===i.millisecond&&n.timezoneHourOffset===i.timezoneHourOffset&&n.timezoneMinuteOffset===i.timezoneMinuteOffset:!1})),xhe=(e,t,i)=>(Pr(e),Up(e,t,On.decimal,r=>VK(r)===i)),Rhe=(e,t,i)=>(Pr(e),Up(e,t,On.integer,r=>UK(r)===i));function KP(e,t,i,r){var n,a;if(Pr(e),!ri(t))throw new aa(t);const o=Qr(t),s=(a=(n=e.predicates[o])===null||n===void 0?void 0:n.langStrings)!==null&&a!==void 0?a:{},l=Object.keys(s).find(p=>zP(p)===zP(r)&&Array.isArray(s[p])&&s[p].length>0);if(typeof l!="string")return e;const u=s[l],c=Bt(u.filter(p=>p!==i)),d=Bt({...s,[l]:c}),f=Bt({...e.predicates[o],langStrings:d}),h=Bt({...e.predicates,[o]:f});return Bt({...e,predicates:h})}const Ohe=(e,t,i)=>(Pr(e),Up(e,t,On.string,r=>r===i));function Phe(e,t,i){return pD(e,t,i.value)}function Ihe(e,t,i){var r,n,a;if(Pr(e),!ri(t))throw new aa(t);const o=i.datatype.value;if(o===On.langString)return KP(e,t,i.value,i.language);const s=Qr(t),l=(r=e.predicates[s])!==null&&r!==void 0?r:{},u=(n=l.literals)!==null&&n!==void 0?n:{},c=(a=u[o])!==null&&a!==void 0?a:[],d=Bt(c.filter(m=>m!==i.value)),f=Bt({...u,[o]:d}),h=Bt({...l,literals:f}),p=Bt({...e.predicates,[s]:h});return Bt({...e,predicates:p})}function Up(e,t,i,r){var n,a,o;if(!ri(t))throw new aa(t);const s=Qr(t),l=(n=e.predicates[s])!==null&&n!==void 0?n:{},u=(a=l.literals)!==null&&a!==void 0?a:{},c=(o=u[i])!==null&&o!==void 0?o:[],d=Bt(c.filter(m=>!r(m))),f=Bt({...u,[i]:d}),h=Bt({...l,literals:f}),p=Bt({...e.predicates,[s]:h});return Bt({...e,predicates:p})}const oJ=(e,t,i)=>{if(Pr(e),!ri(t))throw new aa(t);if(!Zg(i)&&!ri(i))throw new cD(i);return Rp(qa(e,t),t,i)},e0=oJ,Che=(e,t,i)=>(Pr(e),YK(qa(e,t),t,i)),Dhe=(e,t,i)=>(Pr(e),ZK(qa(e,t),t,i)),Nhe=(e,t,i)=>(Pr(e),eJ(qa(e,t),t,i)),Fhe=(e,t,i)=>(Pr(e),tJ(qa(e,t),t,i)),Lhe=(e,t,i)=>(Pr(e),rJ(qa(e,t),t,i)),Mhe=(e,t,i)=>(Pr(e),nJ(qa(e,t),t,i));function qF(e,t,i,r){return Pr(e),sE(qa(e,t),t,i,r)}const jhe=(e,t,i)=>(Pr(e),iJ(qa(e,t),t,i));function khe(e,t,i){return Pr(e),fD(qa(e,t),t,i)}function Bhe(e,t,i){return Pr(e),hD(qa(e,t),t,i)}function qhe(e,t,i){if(Pr(e),!ri(t))throw new aa(t);return aJ(qa(e,t),t,i)}function cl(e=hu()){let t=Zg(e)?e:hu(e);function i(o){return(s,l)=>(t=o(t,s,l),a)}function r(o){return(s,l)=>(t=o(t,s,l),a)}function n(o){return(s,l)=>(t=o(t,s,l),a)}const a={build:()=>t,addUrl:i(Rp),addIri:i(Mg),addBoolean:i(YK),addDatetime:i(ZK),addDate:i(eJ),addTime:i(tJ),addDecimal:i(rJ),addInteger:i(nJ),addStringNoLocale:i(iJ),addStringEnglish:(o,s)=>(t=sE(t,o,s,"en"),a),addStringWithLocale:(o,s,l)=>(t=sE(t,o,s,l),a),addNamedNode:i(fD),addLiteral:i(hD),addTerm:i(aJ),setUrl:r(oJ),setIri:r(e0),setBoolean:r(Che),setDatetime:r(Dhe),setDate:r(Nhe),setTime:r(Fhe),setDecimal:r(Lhe),setInteger:r(Mhe),setStringNoLocale:r(jhe),setStringEnglish:(o,s)=>(t=qF(t,o,s,"en"),a),setStringWithLocale:(o,s,l)=>(t=qF(t,o,s,l),a),setNamedNode:r(khe),setLiteral:r(Bhe),setTerm:r(qhe),removeAll:o=>(t=qa(t,o),a),removeUrl:n(pD),removeIri:n(WP),removeBoolean:n(She),removeDatetime:n(Ahe),removeDate:n(The),removeTime:n(Ehe),removeDecimal:n(xhe),removeInteger:n(Rhe),removeStringNoLocale:n(Ohe),removeStringEnglish:(o,s)=>cl(KP(t,o,s,"en")),removeStringWithLocale:(o,s,l)=>cl(KP(t,o,s,l)),removeNamedNode:n(Phe),removeLiteral:n(Ihe)};return a}function Vhe(e){const t=tfe(e).type;return Array.isArray(t)&&t.includes(Xde.AccessControlResource)}async function Uhe(e,t){if(!WE(e))return{resourceAcl:null,fallbackAcl:null};try{const i=await sJ(e,t);return i===null?{resourceAcl:null,fallbackAcl:await uJ(e,t)}:{resourceAcl:i,fallbackAcl:null}}catch(i){if(i instanceof JP)return{resourceAcl:null,fallbackAcl:null};throw i}}async function sJ(e,t){if(!WE(e))return null;try{const i=await Ta(e.internal_resourceInfo.aclUrl,t);if(Vhe(i))throw new JP(e,i);return Bt({...i,internal_accessTo:Sn(e)})}catch(i){if(i instanceof JP)throw i;return null}}async function uJ(e,t){const i=new URL(Sn(e)),r=i.pathname;if(r==="/")return null;const n=Hhe(r),a=new URL(n,i.origin).href,o=await wK(a,t);if(!WE(o))return null;const s=await sJ(o,t);return s===null?uJ(o,t):s}function Hhe(e){const t=e.substring(e.length-1)==="/"?e.substring(0,e.length-1):e;return`${e.substring(0,t.lastIndexOf("/"))}/`}function zE(e){return N2(e).filter($he)}function $he(e){return Sa(e,VE.type).includes(br.Authorization)}function lJ(e,t){return e.filter(i=>Qhe(i,t))}function Qhe(e,t){return Sa(e,br.accessTo).includes(t)}function zhe(e,t){return e.filter(i=>Ghe(i,t))}function Ghe(e,t){return Sa(e,br.default).includes(t)||Sa(e,br.defaultForNew).includes(t)}function cJ(e){const t=Sa(e,br.mode);return t.includes(Bo.write)?{read:t.includes(Bo.read),append:!0,write:!0,control:t.includes(Bo.control)}:{read:t.includes(Bo.read),append:t.includes(Bo.append),write:!1,control:t.includes(Bo.control)}}function dJ(e){return e.reduce((t,i)=>t.write||i.write?{read:t.read||i.read,append:!0,write:!0,control:t.control||i.control}:{read:t.read||i.read,append:t.append||i.append,write:!1,control:t.control||i.control},{read:!1,append:!1,write:!1,control:!1})}function Whe(e){return zE(e).filter(Khe).reduce(ohe,e)}function Khe(e){return Yg(e.predicates,xr.namedNode(e.url),xr.defaultGraph()).some(t=>!Jhe(t))?!1:Uu(e,br.accessTo)===null&&Uu(e,br.default)===null&&Uu(e,br.defaultForNew)===null||Uu(e,br.mode)===null||Uu(e,br.agent)===null&&Uu(e,br.agentGroup)===null&&Uu(e,br.agentClass)===null}function Jhe(e){const{predicate:t}=e,{object:i}=e;return!!(t.equals(xr.namedNode(VE.type))&&i.equals(xr.namedNode(br.Authorization))||t.equals(xr.namedNode(br.accessTo))||t.equals(xr.namedNode(br.default))||t.equals(xr.namedNode(br.defaultForNew))||t.equals(xr.namedNode(br.mode))&&Object.values(Bo).some(r=>i.equals(xr.namedNode(r)))||t.equals(xr.namedNode(br.agent))||t.equals(xr.namedNode(br.agentGroup))||t.equals(xr.namedNode(br.agentClass))||t.equals(xr.namedNode(br.origin)))}const Bo={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Xhe(e,t){const i={};return e.forEach(r=>{const n=Sa(r,t),a=cJ(r);n.forEach(o=>{i[o]=typeof i[o]>"u"?a:dJ([i[o],a])})}),i}function fJ(e){let t=hu();return t=e0(t,VE.type,br.Authorization),e.read&&(t=Mg(t,br.mode,Bo.read)),e.append&&!e.write&&(t=Mg(t,br.mode,Bo.append)),e.write&&(t=Mg(t,br.mode,Bo.write)),e.control&&(t=Mg(t,br.mode,Bo.control)),t}function Yhe(e){let t=hu();t=e0(t,VE.type,br.Authorization);function i(r,n,a){return Sa(r,a).reduce((o,s)=>Mg(o,a,s),n)}return t=i(e,t,br.accessTo),t=i(e,t,br.default),t=i(e,t,br.defaultForNew),t=i(e,t,br.agent),t=i(e,t,br.agentGroup),t=i(e,t,br.agentClass),t=i(e,t,br.origin),t=i(e,t,br.mode),t}function Zhe(e,t){return Object.assign(_K(e),{internal_acl:t})}const epe=[br.agent,br.agentClass,br.agentGroup,br.origin];function tpe(e,t,i,r,n){if(!Sa(e,i).includes(t)){const s=fJ({read:!1,append:!1,write:!1,control:!1});return[e,s]}const a=WP(e,i,t);let o=Yhe(e);return o=WP(o,br.accessTo,r),o=e0(o,i,t),epe.filter(s=>s!==i).forEach(s=>{o=qa(o,s)}),[a,o]}function hJ(e,t,i,r,n){let a=e;N2(e).forEach(l=>{const[u,c]=tpe(l,n,i,e.internal_accessTo);a=Ss(a,u),a=Ss(a,c)});let o=fJ(t);o=e0(o,br.accessTo,e.internal_accessTo),o=e0(o,i,n);const s=Ss(a,o);return Whe(s)}class JP extends Error{constructor(t,i){super(`[${nE(t)}] is governed by Access Control Policies in [${nE(i)}] rather than by Web Access Control.`)}}function pJ(e){return e.internal_acl.resourceAcl!==null&&Sn(e)===e.internal_acl.resourceAcl.internal_accessTo&&e.internal_resourceInfo.aclUrl===Sn(e.internal_acl.resourceAcl)}async function M2(e,t){const i=await Ta(e,t),r=await Uhe(i,t);return Zhe(i,r)}function GE(e){return pJ(e)?e.internal_acl.resourceAcl:null}function gJ(e){return e.internal_acl.fallbackAcl!==null}function rpe(e){return gJ(e)?e.internal_acl.fallbackAcl:null}function WE(e){return typeof e.internal_resourceInfo.aclUrl=="string"}function npe(e){if(pJ(e)){const t=GE(e);return ipe(t)}if(gJ(e)){const t=rpe(e);return ape(t)}return null}function ipe(e){const t=zE(e),i=lJ(t,e.internal_accessTo),r=yJ(i);return vJ(r)}function mJ(e,t,i){return hJ(e,i,br.agent,"resource",t)}function ape(e){const t=zE(e),i=zhe(t,e.internal_accessTo),r=yJ(i);return vJ(r)}function yJ(e){return e.filter(ope)}function ope(e){return Uu(e,br.agent)!==null}function vJ(e){return Xhe(e,br.agent)}function spe(e){const t=zE(e),i=lJ(t,e.internal_accessTo),n=upe(i,rE.Agent).map(cJ);return dJ(n)}function bJ(e,t){return hJ(e,t,br.agentClass,"resource",rE.Agent)}function upe(e,t){return e.filter(i=>lpe(i,t))}function lpe(e,t){return Sa(e,br.agentClass).includes(t)}function cpe(e,t){const i=R0(t,e),r=N2(t).filter(n=>Sa(n,rE.primaryTopic).length>0).map(QE).concat(i?Sa(i,Jde.seeAlso):[]).concat(i?Sa(i,rE.isPrimaryTopicOf):[]).filter(n=>n!==nE(t));return Array.from(new Set(r))}async function dpe(e,t){var i,r;const n=(i=t==null?void 0:t.fetch)!==null&&i!==void 0?i:fetch,a=(r=t==null?void 0:t.webIdProfile)!==null&&r!==void 0?r:await Ta(e),o=(await Promise.allSettled(cpe(e,a).map(s=>Ta(s,{fetch:n})))).filter(s=>s.status==="fulfilled").map(s=>s.value);return{webIdProfile:a,altProfileAll:o}}async function fpe(e,t){const i=await dpe(e,t);return hpe(i,e)}function hpe(e,t){const i=new Set;return[e.webIdProfile,...e.altProfileAll].forEach(r=>{const n=R0(r,t);n!==null&&Sa(n,Yde.storage).forEach(a=>i.add(a))}),Array.from(i)}async function ppe(e){return Ta(e)}const bs=zC();wJ();async function gpe(e){let t="";if(!bs.info.isLoggedIn)try{await bs.login({oidcIssuer:e,redirectUrl:new URL("/solid-cockpit/",window.location.href).toString(),clientName:"Solid Cockpit"})}catch(i){console.error("Error:",i),t="error"}return t}async function mpe(){if(bs.info.isLoggedIn)try{return await bs.logout({logoutType:"app"}),bs.info.isLoggedIn}catch(e){console.error("Error:",e)}else return bs.info.isLoggedIn}function rl(){return bs.info.isLoggedIn}function _l(){return bs.info.webId}async function _J(){try{return await fpe(bs.info.webId,{fetch})}catch{return null}}function ype(){window.location.href=new URL("/solid-cockpit/",window.location.href).toString()}function vpe(){window.location.href=new URL("/solid-cockpit/login",window.location.href).toString()}async function wJ(){try{Dde({restorePreviousSession:!0})}catch(e){console.error("Error:",e)}}const bpe={data(){return{logoUrl:new URL(""+new URL("solid-cockpit-logo-BGhu3orr.png",import.meta.url).href,import.meta.url).href,loggedIn:!1,login_status:null,menu:!1,message:!1,podAccess:!1,podList:null,customPodUrl:null,currentPod:"",user:{webId:"",fullName:"John Doe",email:"john.doe@doe.com"}}},methods:{async userLogout(){this.login_status=await mpe()},loginCheck(){this.loggedIn=rl(),this.user.webId=_l()},homepageRedir(){ype()},LoginpageRedir(){vpe()}},mounted(){setTimeout(()=>{this.loginCheck()},200),setTimeout(()=>{},500)}},_pe={class:"header-card"},wpe={class:"header-container"},Spe=["src"],Ape={class:"header-right"},Tpe={class:"account"},Epe={class:"text-right"},xpe={key:0},Rpe={key:1};function Ope(e,t,i,r,n,a){const o=Xt("v-card-title"),s=Xt("v-icon"),l=Xt("v-btn"),u=Xt("v-list-item"),c=Xt("v-list"),d=Xt("v-divider"),f=Xt("v-spacer"),h=Xt("v-card-actions"),p=Xt("v-card"),g=Xt("v-menu"),m=Xt("v-row");return wt(),Ct("div",_pe,[Me("div",wpe,[B(m,{align:"center",justify:"start"},{default:zt(()=>[Me("img",{src:n.logoUrl,alt:"Solid Cockpit logo"},null,8,Spe),B(o,{justify:"start"},{default:zt(()=>t[4]||(t[4]=[Me("h1",null,"Solid Cockpit",-1)])),_:1}),Me("div",Ape,[Me("div",Tpe,[Me("div",Epe,[B(g,{modelValue:n.menu,"onUpdate:modelValue":t[3]||(t[3]=y=>n.menu=y),"close-on-content-click":!1,location:"end"},{activator:zt(({props:y})=>[B(l,ct({icon:"",size:"large",color:"#445560",justify:"end"},y,{onClick:a.loginCheck}),{default:zt(()=>[B(s,{size:"36px",color:"#EDE7F6"},{default:zt(()=>t[5]||(t[5]=[$t("mdi-account")])),_:1})]),_:2},1040,["onClick"])]),default:zt(()=>[B(p,null,{default:zt(()=>[B(c,{class:"text-right align-self-start"},{default:zt(()=>[n.loggedIn?(wt(),ja(u,{key:0,title:"Current WebID:",subtitle:n.user.webId},null,8,["subtitle"])):(wt(),ja(u,{key:1,title:"Not logged in"}))]),_:1}),B(d),B(c,{class:"text-right align-self-start"},{default:zt(()=>[n.loggedIn?nr("",!0):(wt(),Ct("div",xpe,[B(u,null,{default:zt(()=>[B(l,{class:"loginButton",modelValue:n.message,"onUpdate:modelValue":t[0]||(t[0]=y=>n.message=y),color:"blue",label:"Login",onClick:a.LoginpageRedir},{default:zt(()=>t[6]||(t[6]=[$t("Login")])),_:1},8,["modelValue","onClick"])]),_:1})])),n.loggedIn?(wt(),Ct("div",Rpe,[B(u,null,{default:zt(()=>[B(l,{class:"loginButton",modelValue:n.message,"onUpdate:modelValue":t[1]||(t[1]=y=>n.message=y),color:"red",label:"Logout",onClick:a.userLogout},{default:zt(()=>t[7]||(t[7]=[$t("Logout")])),_:1},8,["modelValue","onClick"])]),_:1})])):nr("",!0)]),_:1}),B(h,null,{default:zt(()=>[B(f),B(l,{class:"text-right",height:"30","min-width":"40",variant:"text",onClick:t[2]||(t[2]=y=>n.menu=!1)},{default:zt(()=>t[8]||(t[8]=[$t(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),_:1})])])}const Ppe=ro(bpe,[["render",Ope],["__scopeId","data-v-a3ff24a3"]]),Ipe=E2({name:"AppFooter",data(){return{lastModified:""}},mounted(){fetch("https://api.github.com/repos/KNowledgeOnWebScale/solid-cockpit/commits").then(e=>e.json()).then(e=>{if(e&&e.length>0){const t=new Date(e[0].commit.committer.date);this.lastModified=t.toISOString().split("T")[0]}}).catch(e=>console.error("Error fetching last commit date:",e))}}),Cpe={class:"app-footer"},Dpe={class:"footer-content"},Npe={key:0,class:"footer-item"};function Fpe(e,t,i,r,n,a){return wt(),Ct(Ot,null,[t[2]||(t[2]=Me("br",null,null,-1)),Me("footer",Cpe,[t[1]||(t[1]=ul('<div class="copyright" data-v-1fab8416><span class="copyright-tiem" data-v-1fab8416>Copyright</span><span class="copyright-tiem" data-v-1fab8416>©</span><span class="copyright-tiem" data-v-1fab8416>2024 - present</span><span class="copyright-tiem" data-v-1fab8416><a href="https://knows.idlab.ugent.be/" target="_blank" rel="noopener noreferrer" data-v-1fab8416>KNoWS, IDLab - Ghent University, Belgium</a></span></div>',1)),Me("div",Dpe,[e.lastModified?(wt(),Ct("span",Npe," Last Modified: "+ir(e.lastModified),1)):nr("",!0),t[0]||(t[0]=ul('<span class="footer-item" data-v-1fab8416>|</span><span class="footer-item" data-v-1fab8416><a href="https://github.com/KNowledgeOnWebScale/solid-cockpit" target="_blank" rel="noopener noreferrer" data-v-1fab8416> Source Code </a></span><span class="footer-item" data-v-1fab8416>|</span><span class="footer-item" data-v-1fab8416><a href="https://www.linkedin.com/in/elias-crum-413178142/" target="_blank" rel="noopener noreferrer" data-v-1fab8416> Contact </a></span>',4))])])],64)}const Lpe=ro(Ipe,[["render",Fpe],["__scopeId","data-v-1fab8416"]]),Mpe={name:"App",components:{TheHeader:Ppe,FunctionSelector:mue,TheFooter:Lpe}},jpe={id:"app"};function kpe(e,t,i,r,n,a){const o=Xt("the-header"),s=Xt("function-selector"),l=Xt("router-view"),u=Xt("the-footer");return wt(),Ct(Ot,null,[B(o),B(s),Me("main",jpe,[B(l)]),B(u)],64)}const Bpe=ro(Mpe,[["render",kpe]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ig=typeof document<"u";function SJ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qpe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&SJ(e.default)}const en=Object.assign;function mR(e,t){const i={};for(const r in t){const n=t[r];i[r]=$o(n)?n.map(e):e(n)}return i}const VS=()=>{},$o=Array.isArray,AJ=/#/g,Vpe=/&/g,Upe=/\//g,Hpe=/=/g,$pe=/\?/g,TJ=/\+/g,Qpe=/%5B/g,zpe=/%5D/g,EJ=/%5E/g,Gpe=/%60/g,xJ=/%7B/g,Wpe=/%7C/g,RJ=/%7D/g,Kpe=/%20/g;function gD(e){return encodeURI(""+e).replace(Wpe,"|").replace(Qpe,"[").replace(zpe,"]")}function Jpe(e){return gD(e).replace(xJ,"{").replace(RJ,"}").replace(EJ,"^")}function XP(e){return gD(e).replace(TJ,"%2B").replace(Kpe,"+").replace(AJ,"%23").replace(Vpe,"%26").replace(Gpe,"`").replace(xJ,"{").replace(RJ,"}").replace(EJ,"^")}function Xpe(e){return XP(e).replace(Hpe,"%3D")}function Ype(e){return gD(e).replace(AJ,"%23").replace($pe,"%3F")}function Zpe(e){return e==null?"":Ype(e).replace(Upe,"%2F")}function e2(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ege=/\/$/,tge=e=>e.replace(ege,"");function yR(e,t,i="/"){let r,n={},a="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,s>-1?s:t.length),n=e(a)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=age(r??t,i),{fullPath:r+(a&&"?")+a+o,path:r,query:n,hash:e2(o)}}function rge(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function VF(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nge(e,t,i){const r=t.matched.length-1,n=i.matched.length-1;return r>-1&&r===n&&t0(t.matched[r],i.matched[n])&&OJ(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function t0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function OJ(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!ige(e[i],t[i]))return!1;return!0}function ige(e,t){return $o(e)?UF(e,t):$o(t)?UF(t,e):e===t}function UF(e,t){return $o(t)?e.length===t.length&&e.every((i,r)=>i===t[r]):e.length===1&&e[0]===t}function age(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let a=i.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")a>1&&a--;else break;return i.slice(0,a).join("/")+"/"+r.slice(o).join("/")}const Mu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var t2;(function(e){e.pop="pop",e.push="push"})(t2||(t2={}));var US;(function(e){e.back="back",e.forward="forward",e.unknown=""})(US||(US={}));function oge(e){if(!e)if(Ig){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tge(e)}const sge=/^[^#]+#/;function uge(e,t){return e.replace(sge,"#")+t}function lge(e,t){const i=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-i.left-(t.left||0),top:r.top-i.top-(t.top||0)}}const KE=()=>({left:window.scrollX,top:window.scrollY});function cge(e){let t;if("el"in e){const i=e.el,r=typeof i=="string"&&i.startsWith("#"),n=typeof i=="string"?r?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!n)return;t=lge(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function HF(e,t){return(history.state?history.state.position-t:-1)+e}const YP=new Map;function dge(e,t){YP.set(e,t)}function fge(e){const t=YP.get(e);return YP.delete(e),t}let hge=()=>location.protocol+"//"+location.host;function PJ(e,t){const{pathname:i,search:r,hash:n}=t,a=e.indexOf("#");if(a>-1){let s=n.includes(e.slice(a))?e.slice(a).length:1,l=n.slice(s);return l[0]!=="/"&&(l="/"+l),VF(l,"")}return VF(i,e)+r+n}function pge(e,t,i,r){let n=[],a=[],o=null;const s=({state:f})=>{const h=PJ(e,location),p=i.value,g=t.value;let m=0;if(f){if(i.value=h,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else r(h);n.forEach(y=>{y(i.value,p,{delta:m,type:t2.pop,direction:m?m>0?US.forward:US.back:US.unknown})})};function l(){o=i.value}function u(f){n.push(f);const h=()=>{const p=n.indexOf(f);p>-1&&n.splice(p,1)};return a.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(en({},f.state,{scroll:KE()}),"")}function d(){for(const f of a)f();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function $F(e,t,i,r=!1,n=!1){return{back:e,current:t,forward:i,replaced:r,position:window.history.length,scroll:n?KE():null}}function gge(e){const{history:t,location:i}=window,r={value:PJ(e,i)},n={value:t.state};n.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const d=e.indexOf("#"),f=d>-1?(i.host&&document.querySelector("base")?e:e.slice(d))+l:hge()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(h){console.error(h),i[c?"replace":"assign"](f)}}function o(l,u){const c=en({},t.state,$F(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});a(l,c,!0),r.value=l}function s(l,u){const c=en({},n.value,t.state,{forward:l,scroll:KE()});a(c.current,c,!0);const d=en({},$F(r.value,l,null),{position:c.position+1},u);a(l,d,!1),r.value=l}return{location:r,state:n,push:s,replace:o}}function mge(e){e=oge(e);const t=gge(e),i=pge(e,t.state,t.location,t.replace);function r(a,o=!0){o||i.pauseListeners(),history.go(a)}const n=en({location:"",base:e,go:r,createHref:uge.bind(null,e)},t,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function yge(e){return typeof e=="string"||e&&typeof e=="object"}function IJ(e){return typeof e=="string"||typeof e=="symbol"}const CJ=Symbol("");var QF;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(QF||(QF={}));function r0(e,t){return en(new Error,{type:e,[CJ]:!0},t)}function zs(e,t){return e instanceof Error&&CJ in e&&(t==null||!!(e.type&t))}const zF="[^/]+?",vge={sensitive:!1,strict:!1,start:!0,end:!0},bge=/[.+*?^${}()[\]/\\]/g;function _ge(e,t){const i=en({},vge,t),r=[];let n=i.start?"^":"";const a=[];for(const u of e){const c=u.length?[]:[90];i.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(i.sensitive?.25:0);if(f.type===0)d||(n+="/"),n+=f.value.replace(bge,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=f;a.push({name:p,repeatable:g,optional:m});const v=y||zF;if(v!==zF){h+=10;try{new RegExp(`(${v})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+_.message)}}let b=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(b=m&&u.length<2?`(?:/${b})`:"/"+b),m&&(b+="?"),n+=b,h+=20,m&&(h+=-8),g&&(h+=-20),v===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(i.strict&&i.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}i.strict||(n+="/?"),i.end?n+="$":i.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,i.sensitive?"":"i");function s(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=a[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:m}=h,y=p in u?u[p]:"";if($o(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=$o(y)?y.join("/"):y;if(!v)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:a,parse:s,stringify:l}}function wge(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=t[i]-e[i];if(r)return r;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function DJ(e,t){let i=0;const r=e.score,n=t.score;for(;i<r.length&&i<n.length;){const a=wge(r[i],n[i]);if(a)return a;i++}if(Math.abs(n.length-r.length)===1){if(GF(r))return 1;if(GF(n))return-1}return n.length-r.length}function GF(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sge={type:0,value:""},Age=/[a-zA-Z0-9_]/;function Tge(e){if(!e)return[[]];if(e==="/")return[[Sge]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${i})/"${u}": ${h}`)}let i=0,r=i;const n=[];let a;function o(){a&&n.push(a),a=[]}let s=0,l,u="",c="";function d(){u&&(i===0?a.push({type:0,value:u}):i===1||i===2||i===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&i!==2){r=i,i=4;continue}switch(i){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),i=1):f();break;case 4:f(),i=r;break;case 1:l==="("?i=2:Age.test(l)?f():(d(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:i=3:c+=l;break;case 3:d(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),n}function Ege(e,t,i){const r=_ge(Tge(e.path),i),n=en(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function xge(e,t){const i=[],r=new Map;t=XF({strict:!1,end:!0,sensitive:!1},t);function n(d){return r.get(d)}function a(d,f,h){const p=!h,g=KF(d);g.aliasOf=h&&h.record;const m=XF(t,d),y=[g];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of _)y.push(KF(en({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g})))}let v,b;for(const _ of y){const{path:w}=_;if(f&&w[0]!=="/"){const T=f.record.path,R=T[T.length-1]==="/"?"":"/";_.path=f.record.path+(w&&R+w)}if(v=Ege(_,f,m),h?h.alias.push(v):(b=b||v,b!==v&&b.alias.push(v),p&&d.name&&!JF(v)&&o(d.name)),NJ(v)&&l(v),g.children){const T=g.children;for(let R=0;R<T.length;R++)a(T[R],v,h&&h.children[R])}h=h||v}return b?()=>{o(b)}:VS}function o(d){if(IJ(d)){const f=r.get(d);f&&(r.delete(d),i.splice(i.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=i.indexOf(d);f>-1&&(i.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function s(){return i}function l(d){const f=Pge(d,i);i.splice(f,0,d),d.record.name&&!JF(d)&&r.set(d.record.name,d)}function u(d,f){let h,p={},g,m;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw r0(1,{location:d});m=h.record.name,p=en(WF(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&WF(d.params,h.keys.map(b=>b.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=i.find(b=>b.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?r.get(f.name):i.find(b=>b.re.test(f.path)),!h)throw r0(1,{location:d,currentLocation:f});m=h.record.name,p=en({},f.params,d.params),g=h.stringify(p)}const y=[];let v=h;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:g,params:p,matched:y,meta:Oge(y)}}e.forEach(d=>a(d));function c(){i.length=0,r.clear()}return{addRoute:a,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:s,getRecordMatcher:n}}function WF(e,t){const i={};for(const r of t)r in e&&(i[r]=e[r]);return i}function KF(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Rge(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Rge(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const r in e.components)t[r]=typeof i=="object"?i[r]:i;return t}function JF(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Oge(e){return e.reduce((t,i)=>en(t,i.meta),{})}function XF(e,t){const i={};for(const r in e)i[r]=r in t?t[r]:e[r];return i}function Pge(e,t){let i=0,r=t.length;for(;i!==r;){const a=i+r>>1;DJ(e,t[a])<0?r=a:i=a+1}const n=Ige(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function Ige(e){let t=e;for(;t=t.parent;)if(NJ(t)&&DJ(e,t)===0)return t}function NJ({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Cge(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const a=r[n].replace(TJ," "),o=a.indexOf("="),s=e2(o<0?a:a.slice(0,o)),l=o<0?null:e2(a.slice(o+1));if(s in t){let u=t[s];$o(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function YF(e){let t="";for(let i in e){const r=e[i];if(i=Xpe(i),r==null){r!==void 0&&(t+=(t.length?"&":"")+i);continue}($o(r)?r.map(a=>a&&XP(a)):[r&&XP(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+i,a!=null&&(t+="="+a))})}return t}function Dge(e){const t={};for(const i in e){const r=e[i];r!==void 0&&(t[i]=$o(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const Nge=Symbol(""),ZF=Symbol(""),mD=Symbol(""),FJ=Symbol(""),ZP=Symbol("");function vm(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function Yu(e,t,i,r,n,a=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((s,l)=>{const u=f=>{f===!1?l(r0(4,{from:i,to:t})):f instanceof Error?l(f):yge(f)?l(r0(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),s())},c=a(()=>e.call(r&&r.instances[n],t,i,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function vR(e,t,i,r,n=a=>a()){const a=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(SJ(l)){const c=(l.__vccOpts||l)[t];c&&a.push(Yu(c,i,r,o,s,n))}else{let u=l();a.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const d=qpe(c)?c.default:c;o.mods[s]=c,o.components[s]=d;const h=(d.__vccOpts||d)[t];return h&&Yu(h,i,r,o,s,n)()}))}}return a}function e5(e){const t=_r(mD),i=_r(FJ),r=ue(()=>{const l=ti(e.to);return t.resolve(l)}),n=ue(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=i.matched;if(!c||!d.length)return-1;const f=d.findIndex(t0.bind(null,c));if(f>-1)return f;const h=t5(l[u-2]);return u>1&&t5(c)===h&&d[d.length-1].path!==h?d.findIndex(t0.bind(null,l[u-2])):f}),a=ue(()=>n.value>-1&&kge(i.params,r.value.params)),o=ue(()=>n.value>-1&&n.value===i.matched.length-1&&OJ(i.params,r.value.params));function s(l={}){if(jge(l)){const u=t[ti(e.replace)?"replace":"push"](ti(e.to)).catch(VS);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function Fge(e){return e.length===1?e[0]:e}const Lge=E2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:e5,setup(e,{slots:t}){const i=wi(e5(e)),{options:r}=_r(mD),n=ue(()=>({[r5(e.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[r5(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const a=t.default&&Fge(t.default(i));return e.custom?a:Wo("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:n.value},a)}}}),Mge=Lge;function jge(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function kge(e,t){for(const i in t){const r=t[i],n=e[i];if(typeof r=="string"){if(r!==n)return!1}else if(!$o(n)||n.length!==r.length||r.some((a,o)=>a!==n[o]))return!1}return!0}function t5(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const r5=(e,t,i)=>e??t??i,Bge=E2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const r=_r(ZP),n=ue(()=>e.route||r.value),a=_r(ZF,0),o=ue(()=>{let u=ti(a);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),s=ue(()=>n.value.matched[o.value]);Jr(ZF,ue(()=>o.value+1)),Jr(Nge,s),Jr(ZP,n);const l=vt();return Pt(()=>[l.value,s.value,e.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!t0(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,d=s.value,f=d&&d.components[c];if(!f)return n5(i.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,m=Wo(f,en({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return n5(i.default,{Component:m,route:u})||m}}});function n5(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const qge=Bge;function Vge(e){const t=xge(e.routes,e),i=e.parseQuery||Cge,r=e.stringifyQuery||YF,n=e.history,a=vm(),o=vm(),s=vm(),l=Tt(Mu);let u=Mu;Ig&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=mR.bind(null,me=>""+me),d=mR.bind(null,Zpe),f=mR.bind(null,e2);function h(me,pe){let _e,X;return IJ(me)?(_e=t.getRecordMatcher(me),X=pe):X=me,t.addRoute(X,_e)}function p(me){const pe=t.getRecordMatcher(me);pe&&t.removeRoute(pe)}function g(){return t.getRoutes().map(me=>me.record)}function m(me){return!!t.getRecordMatcher(me)}function y(me,pe){if(pe=en({},pe||l.value),typeof me=="string"){const I=yR(i,me,pe.path),k=t.resolve({path:I.path},pe),Q=n.createHref(I.fullPath);return en(I,k,{params:f(k.params),hash:e2(I.hash),redirectedFrom:void 0,href:Q})}let _e;if(me.path!=null)_e=en({},me,{path:yR(i,me.path,pe.path).path});else{const I=en({},me.params);for(const k in I)I[k]==null&&delete I[k];_e=en({},me,{params:d(I)}),pe.params=d(pe.params)}const X=t.resolve(_e,pe),C=me.hash||"";X.params=c(f(X.params));const E=rge(r,en({},me,{hash:Jpe(C),path:X.path})),S=n.createHref(E);return en({fullPath:E,hash:C,query:r===YF?Dge(me.query):me.query||{}},X,{redirectedFrom:void 0,href:S})}function v(me){return typeof me=="string"?yR(i,me,l.value.path):en({},me)}function b(me,pe){if(u!==me)return r0(8,{from:pe,to:me})}function _(me){return R(me)}function w(me){return _(en(v(me),{replace:!0}))}function T(me){const pe=me.matched[me.matched.length-1];if(pe&&pe.redirect){const{redirect:_e}=pe;let X=typeof _e=="function"?_e(me):_e;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=v(X):{path:X},X.params={}),en({query:me.query,hash:me.hash,params:X.path!=null?{}:me.params},X)}}function R(me,pe){const _e=u=y(me),X=l.value,C=me.state,E=me.force,S=me.replace===!0,I=T(_e);if(I)return R(en(v(I),{state:typeof I=="object"?en({},C,I.state):C,force:E,replace:S}),pe||_e);const k=_e;k.redirectedFrom=pe;let Q;return!E&&nge(r,X,_e)&&(Q=r0(16,{to:k,from:X}),fe(X,X,!0,!1)),(Q?Promise.resolve(Q):A(k,X)).catch(G=>zs(G)?zs(G,2)?G:J(G):re(G,k,X)).then(G=>{if(G){if(zs(G,2))return R(en({replace:S},v(G.to),{state:typeof G.to=="object"?en({},C,G.to.state):C,force:E}),pe||k)}else G=N(k,X,!0,S,C);return x(k,X,G),G})}function F(me,pe){const _e=b(me,pe);return _e?Promise.reject(_e):Promise.resolve()}function D(me){const pe=ae.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(me):me()}function A(me,pe){let _e;const[X,C,E]=Uge(me,pe);_e=vR(X.reverse(),"beforeRouteLeave",me,pe);for(const I of X)I.leaveGuards.forEach(k=>{_e.push(Yu(k,me,pe))});const S=F.bind(null,me,pe);return _e.push(S),Le(_e).then(()=>{_e=[];for(const I of a.list())_e.push(Yu(I,me,pe));return _e.push(S),Le(_e)}).then(()=>{_e=vR(C,"beforeRouteUpdate",me,pe);for(const I of C)I.updateGuards.forEach(k=>{_e.push(Yu(k,me,pe))});return _e.push(S),Le(_e)}).then(()=>{_e=[];for(const I of E)if(I.beforeEnter)if($o(I.beforeEnter))for(const k of I.beforeEnter)_e.push(Yu(k,me,pe));else _e.push(Yu(I.beforeEnter,me,pe));return _e.push(S),Le(_e)}).then(()=>(me.matched.forEach(I=>I.enterCallbacks={}),_e=vR(E,"beforeRouteEnter",me,pe,D),_e.push(S),Le(_e))).then(()=>{_e=[];for(const I of o.list())_e.push(Yu(I,me,pe));return _e.push(S),Le(_e)}).catch(I=>zs(I,8)?I:Promise.reject(I))}function x(me,pe,_e){s.list().forEach(X=>D(()=>X(me,pe,_e)))}function N(me,pe,_e,X,C){const E=b(me,pe);if(E)return E;const S=pe===Mu,I=Ig?history.state:{};_e&&(X||S?n.replace(me.fullPath,en({scroll:S&&I&&I.scroll},C)):n.push(me.fullPath,C)),l.value=me,fe(me,pe,_e,S),J()}let j;function H(){j||(j=n.listen((me,pe,_e)=>{if(!Fe.listening)return;const X=y(me),C=T(X);if(C){R(en(C,{replace:!0,force:!0}),X).catch(VS);return}u=X;const E=l.value;Ig&&dge(HF(E.fullPath,_e.delta),KE()),A(X,E).catch(S=>zs(S,12)?S:zs(S,2)?(R(en(v(S.to),{force:!0}),X).then(I=>{zs(I,20)&&!_e.delta&&_e.type===t2.pop&&n.go(-1,!1)}).catch(VS),Promise.reject()):(_e.delta&&n.go(-_e.delta,!1),re(S,X,E))).then(S=>{S=S||N(X,E,!1),S&&(_e.delta&&!zs(S,8)?n.go(-_e.delta,!1):_e.type===t2.pop&&zs(S,20)&&n.go(-1,!1)),x(X,E,S)}).catch(VS)}))}let M=vm(),$=vm(),te;function re(me,pe,_e){J(me);const X=$.list();return X.length?X.forEach(C=>C(me,pe,_e)):console.error(me),Promise.reject(me)}function oe(){return te&&l.value!==Mu?Promise.resolve():new Promise((me,pe)=>{M.add([me,pe])})}function J(me){return te||(te=!me,H(),M.list().forEach(([pe,_e])=>me?_e(me):pe()),M.reset()),me}function fe(me,pe,_e,X){const{scrollBehavior:C}=e;if(!Ig||!C)return Promise.resolve();const E=!_e&&fge(HF(me.fullPath,0))||(X||!_e)&&history.state&&history.state.scroll||null;return Mr().then(()=>C(me,pe,E)).then(S=>S&&cge(S)).catch(S=>re(S,me,pe))}const xe=me=>n.go(me);let de;const ae=new Set,Fe={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:e,push:_,replace:w,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:$.add,isReady:oe,install(me){const pe=this;me.component("RouterLink",Mge),me.component("RouterView",qge),me.config.globalProperties.$router=pe,Object.defineProperty(me.config.globalProperties,"$route",{enumerable:!0,get:()=>ti(l)}),Ig&&!de&&l.value===Mu&&(de=!0,_(n.location).catch(C=>{}));const _e={};for(const C in Mu)Object.defineProperty(_e,C,{get:()=>l.value[C],enumerable:!0});me.provide(mD,pe),me.provide(FJ,_G(_e)),me.provide(ZP,l);const X=me.unmount;ae.add(me),me.unmount=function(){ae.delete(me),ae.size<1&&(u=Mu,j&&j(),j=null,l.value=Mu,de=!1,te=!1),X()}}};function Le(me){return me.reduce((pe,_e)=>pe.then(()=>D(_e)),Promise.resolve())}return Fe}function Uge(e,t){const i=[],r=[],n=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(u=>t0(u,s))?r.push(s):i.push(s));const l=e.matched[o];l&&(t.matched.find(u=>t0(u,l))||n.push(l))}return[i,r,n]}const Hge={name:"LoginComponent",setup(){Jr("sessionI",bs.info)},data(){return{userUrl:"",loggedIn:!1,isError:!1,error:"",newPodDirections:!1,webId:"",isActive:!1}},methods:{async handleLogin(){await gpe(this.userUrl)==="error"&&(this.error="Cannot login properly...")},loginCheck(){this.loggedIn=rl(),this.webId=_l()},newpodRedir(){window.open("https://solidproject.org/for-developers#hosted-pod-services","_blank")}},mounted(){setTimeout(()=>{this.loginCheck()},500)}},$ge={key:0},Qge={class:"input-row"},zge={key:0,id:"errorIndicator"},Gge={class:"logged-in"};function Wge(e,t,i,r,n,a){const o=Xt("v-icon"),s=Xt("v-tooltip"),l=Xt("v-btn"),u=Xt("v-combobox"),c=Xt("v-row"),d=Xt("v-container"),f=Xt("v-form"),h=Xt("v-alert"),p=Xt("v-col"),g=Xt("v-card");return wt(),ja(d,{class:"login-container"},{default:zt(()=>[B(g,{id:"card",justify:"center",class:"mx-auto",color:"#445560"},{default:zt(()=>[t[5]||(t[5]=Me("h2",null,"Solid Pod Login",-1)),B(p,{cols:"12"},{default:zt(()=>[n.loggedIn?nr("",!0):(wt(),Ct("div",$ge,[Me("div",Qge,[B(f,{class:"form-row"},{default:zt(()=>[B(d,null,{default:zt(()=>[B(c,null,{default:zt(()=>[B(u,{modelValue:n.userUrl,"onUpdate:modelValue":t[0]||(t[0]=m=>n.userUrl=m),clearable:"",required:"",variant:"outlined",density:"comfortable","auto-select-first":"exact",label:"Pod Provider:",type:"url",items:["https://triple.ilabt.imec.be/","https://solidcommunity.net/","https://solidweb.org/","https://inrupt.net/","https://auth.inrupt.com/","http://localhost:3000/"]},{prepend:zt(()=>[B(s,{location:"top"},{activator:zt(({props:m})=>[B(o,ct({fab:""},m,{color:"white",size:"small",icon:"mdi-information"}),{default:zt(()=>t[1]||(t[1]=[$t("mdi-information")])),_:2},1040)]),default:zt(()=>[t[2]||(t[2]=$t(" Please offer the URL of your Pod Provider (Format: https://example.com/) "))]),_:1})]),append:zt(()=>[B(l,{class:"mx-right",color:"#EDE7F6",name:"btnLogin",onClick:a.handleLogin},{default:zt(()=>t[3]||(t[3]=[$t("Login")])),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),n.error?(wt(),Ct("div",zge,[B(h,{closable:"",title:"Issue with the provided URL",type:"error",icon:"$error"})])):nr("",!0),B(l,{id:"new-pod",color:"#EDE7F6",text:"Don't have a pod?",variant:"flat",onClick:a.newpodRedir},null,8,["onClick"])])),$r(Me("div",Gge,[B(h,{class:"mx-auto",title:"Successfully logged-in!",type:"success",icon:"$success"},{default:zt(()=>[t[4]||(t[4]=$t("Current WebID: ")),Me("b",null,ir(n.webId),1)]),_:1})],512),[[to,n.loggedIn]])]),_:1})]),_:1})]),_:1})}const LJ=ro(Hge,[["render",Wge],["__scopeId","data-v-6df851e1"]]);async function i5(e,t){const i=await ppe(e),r=R0(i,e);let n=null;if(console.log(r),t===""){const a=new URL(e);if(a.hostname==="triple.ilabt.imec.be"){const o=a.pathname.split("/").filter(u=>u.length>0),s=(a.origin+"/"+o[0]+"/").toString();n=Rp(r,"http://www.w3.org/ns/pim/space#storage",s);const l=Ss(i,n);pu(r.url,l,{fetch:Lr})}}else{n=Rp(r,"http://www.w3.org/ns/pim/space#storage",t);const a=Ss(i,n);pu(r.url,a,{fetch:Lr})}}async function Op(e){const i=new URL(e).pathname.endsWith("/")?{Accept:"text/turtle"}:{Accept:"text/turtle;q=1.0, */*;q=0.5"},r=await Lr(e,{headers:i}),n=eD(r);return Zde(n)?{...n,blob:await r.blob(),etag:r.headers.get("ETag")}:r.headers.get("Content-Type")==="application/ld+json"?await Ta(e,{fetch:Lr}):await XK(r)}async function yD(e){try{const t=await M2(e,{fetch:Lr});return GE(t)}catch{return null}}async function a5(e){try{return npe(await M2(e,{fetch:Lr}))}catch{return console.error("Seems to be a minor issue fetching ACL data... "),null}}async function o5(e){try{const t=await yD(e);return spe(t)}catch{return console.error("Seems to be a minor issue fetching ACL data... "),null}}var Gl={},bm={},Wl={},_m={},Kl={},wm={},Jl={},Xl={},j2="delete",wn=5,ho=1<<wn,wa=ho-1,jr={};function eI(){return{value:!1}}function po(e){e&&(e.value=!0)}function vD(){}function n0(e){return e.size===void 0&&(e.size=e.__iterate(MJ)),e.size}function dl(e,t){if(typeof t!="number"){var i=t>>>0;if(""+i!==t||i===4294967295)return NaN;t=i}return t<0?n0(e)+t:t}function MJ(){return!0}function k2(e,t,i){return(e===0&&!kJ(e)||i!==void 0&&e<=-i)&&(t===void 0||i!==void 0&&t>=i)}function O0(e,t){return jJ(e,t,0)}function B2(e,t){return jJ(e,t,t)}function jJ(e,t,i){return e===void 0?i:kJ(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function kJ(e){return e<0||e===0&&1/e===-1/0}var BJ="@@__IMMUTABLE_ITERABLE__@@";function ta(e){return!!(e&&e[BJ])}var qJ="@@__IMMUTABLE_KEYED__@@";function fn(e){return!!(e&&e[qJ])}var VJ="@@__IMMUTABLE_INDEXED__@@";function ki(e){return!!(e&&e[VJ])}function P0(e){return fn(e)||ki(e)}var An=function(t){return ta(t)?t:ra(t)},bo=function(e){function t(i){return fn(i)?i:Sl(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(An),Hp=function(e){function t(i){return ki(i)?i:_o(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(An),I0=function(e){function t(i){return ta(i)&&!P0(i)?i:N0(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(An);An.Keyed=bo;An.Indexed=Hp;An.Set=I0;var UJ="@@__IMMUTABLE_SEQ__@@";function q2(e){return!!(e&&e[UJ])}var HJ="@@__IMMUTABLE_RECORD__@@";function wl(e){return!!(e&&e[HJ])}function no(e){return ta(e)||wl(e)}var C0="@@__IMMUTABLE_ORDERED__@@";function Ya(e){return!!(e&&e[C0])}var V2=0,Qo=1,yo=2,tI=typeof Symbol=="function"&&Symbol.iterator,$J="@@iterator",JE=tI||$J,Wr=function(t){this.next=t};Wr.prototype.toString=function(){return"[Iterator]"};Wr.KEYS=V2;Wr.VALUES=Qo;Wr.ENTRIES=yo;Wr.prototype.inspect=Wr.prototype.toSource=function(){return this.toString()};Wr.prototype[JE]=function(){return this};function Tn(e,t,i,r){var n=e===0?t:e===1?i:[t,i];return r?r.value=n:r={value:n,done:!1},r}function Ea(){return{value:void 0,done:!0}}function bD(e){return Array.isArray(e)?!0:!!XE(e)}function s5(e){return e&&typeof e.next=="function"}function rI(e){var t=XE(e);return t&&t.call(e)}function XE(e){var t=e&&(tI&&e[tI]||e[$J]);if(typeof t=="function")return t}function Kge(e){var t=XE(e);return t&&t===e.entries}function Jge(e){var t=XE(e);return t&&t===e.keys}var D0=Object.prototype.hasOwnProperty;function _D(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var ra=function(e){function t(i){return i==null?SD():no(i)?i.toSeq():Yge(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,n){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[n?o-++s:s++];if(r(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(r,n)},t.prototype.__iterator=function(r,n){var a=this._cache;if(a){var o=a.length,s=0;return new Wr(function(){if(s===o)return Ea();var l=a[n?o-++s:s++];return Tn(r,l[0],l[1])})}return this.__iteratorUncached(r,n)},t}(An),Sl=function(e){function t(i){return i==null?SD().toKeyedSeq():ta(i)?fn(i)?i.toSeq():i.fromEntrySeq():wl(i)?i.toSeq():AD(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ra),_o=function(e){function t(i){return i==null?SD():ta(i)?fn(i)?i.entrySeq():i.toIndexedSeq():wl(i)?i.toSeq().entrySeq():QJ(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ra),N0=function(e){function t(i){return(ta(i)&&!P0(i)?i:_o(i)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ra);ra.isSeq=q2;ra.Keyed=Sl;ra.Set=N0;ra.Indexed=_o;ra.prototype[UJ]=!0;var Pp=function(e){function t(i){this._array=i,this.size=i.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return this.has(r)?this._array[dl(this,r)]:n},t.prototype.__iterate=function(r,n){for(var a=this._array,o=a.length,s=0;s!==o;){var l=n?o-++s:s++;if(r(a[l],l,this)===!1)break}return s},t.prototype.__iterator=function(r,n){var a=this._array,o=a.length,s=0;return new Wr(function(){if(s===o)return Ea();var l=n?o-++s:s++;return Tn(r,l,a[l])})},t}(_o),wD=function(e){function t(i){var r=Object.keys(i).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i):[]);this._object=i,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return n!==void 0&&!this.has(r)?n:this._object[r]},t.prototype.has=function(r){return D0.call(this._object,r)},t.prototype.__iterate=function(r,n){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[n?s-++l:l++];if(r(a[u],u,this)===!1)break}return l},t.prototype.__iterator=function(r,n){var a=this._object,o=this._keys,s=o.length,l=0;return new Wr(function(){if(l===s)return Ea();var u=o[n?s-++l:l++];return Tn(r,u,a[u])})},t}(Sl);wD.prototype[C0]=!0;var Xge=function(e){function t(i){this._collection=i,this.size=i.length||i.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,n){if(n)return this.cacheResult().__iterate(r,n);var a=this._collection,o=rI(a),s=0;if(s5(o))for(var l;!(l=o.next()).done&&r(l.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var a=this._collection,o=rI(a);if(!s5(o))return new Wr(Ea);var s=0;return new Wr(function(){var l=o.next();return l.done?l:Tn(r,s++,l.value)})},t}(_o),u5;function SD(){return u5||(u5=new Pp([]))}function AD(e){var t=TD(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new wD(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function QJ(e){var t=TD(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Yge(e){var t=TD(e);if(t)return Kge(e)?t.fromEntrySeq():Jge(e)?t.toSetSeq():t;if(typeof e=="object")return new wD(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function TD(e){return _D(e)?new Pp(e):bD(e)?new Xge(e):void 0}var zJ="@@__IMMUTABLE_MAP__@@";function U2(e){return!!(e&&e[zJ])}function YE(e){return U2(e)&&Ya(e)}function uE(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function gi(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(uE(e)&&uE(t)&&e.equals(t))}var Sm=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,i){t|=0,i|=0;var r=t&65535,n=i&65535;return r*n+((t>>>16)*n+r*(i>>>16)<<16>>>0)|0};function ZE(e){return e>>>1&1073741824|e&3221225471}var Zge=Object.prototype.valueOf;function ba(e){if(e==null)return l5(e);if(typeof e.hashCode=="function")return ZE(e.hashCode(e));var t=a0e(e);if(t==null)return l5(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return e0e(t);case"string":return t.length>o0e?t0e(t):nI(t);case"object":case"function":return n0e(t);case"symbol":return r0e(t);default:if(typeof t.toString=="function")return nI(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function l5(e){return e===null?1108378658:1108378659}function e0e(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return ZE(t)}function t0e(e){var t=wR[e];return t===void 0&&(t=nI(e),_R===s0e&&(_R=0,wR={}),_R++,wR[e]=t),t}function nI(e){for(var t=0,i=0;i<e.length;i++)t=31*t+e.charCodeAt(i)|0;return ZE(t)}function r0e(e){var t=f5[e];return t!==void 0||(t=GJ(),f5[e]=t),t}function n0e(e){var t;if(iI&&(t=aI.get(e),t!==void 0)||(t=e[pp],t!==void 0)||!d5&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[pp],t!==void 0||(t=i0e(e),t!==void 0)))return t;if(t=GJ(),iI)aI.set(e,t);else{if(c5!==void 0&&c5(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(d5)Object.defineProperty(e,pp,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[pp]=t;else if(e.nodeType!==void 0)e[pp]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var c5=Object.isExtensible,d5=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function i0e(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function a0e(e){return e.valueOf!==Zge&&typeof e.valueOf=="function"?e.valueOf(e):e}function GJ(){var e=++bR;return bR&1073741824&&(bR=0),e}var iI=typeof WeakMap=="function",aI;iI&&(aI=new WeakMap);var f5=Object.create(null),bR=0,pp="__immutablehash__";typeof Symbol=="function"&&(pp=Symbol(pp));var o0e=16,s0e=255,_R=0,wR={},e3=function(e){function t(i,r){this._iter=i,this._useKeys=r,this.size=i.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return this._iter.get(r,n)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,n=ED(this,!0);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().reverse()}),n},t.prototype.map=function(r,n){var a=this,o=YJ(this,r,n);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(r,n)}),o},t.prototype.__iterate=function(r,n){var a=this;return this._iter.__iterate(function(o,s){return r(o,s,a)},n)},t.prototype.__iterator=function(r,n){return this._iter.__iterator(r,n)},t}(Sl);e3.prototype[C0]=!0;var WJ=function(e){function t(i){this._iter=i,this.size=i.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,n){var a=this,o=0;return n&&n0(this),this._iter.__iterate(function(s){return r(s,n?a.size-++o:o++,a)},n)},t.prototype.__iterator=function(r,n){var a=this,o=this._iter.__iterator(Qo,n),s=0;return n&&n0(this),new Wr(function(){var l=o.next();return l.done?l:Tn(r,n?a.size-++s:s++,l.value,l)})},t}(_o),KJ=function(e){function t(i){this._iter=i,this.size=i.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,n){var a=this;return this._iter.__iterate(function(o){return r(o,o,a)},n)},t.prototype.__iterator=function(r,n){var a=this._iter.__iterator(Qo,n);return new Wr(function(){var o=a.next();return o.done?o:Tn(r,o.value,o.value,o)})},t}(N0),JJ=function(e){function t(i){this._iter=i,this.size=i.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,n){var a=this;return this._iter.__iterate(function(o){if(o){p5(o);var s=ta(o);return r(s?o.get(1):o[1],s?o.get(0):o[0],a)}},n)},t.prototype.__iterator=function(r,n){var a=this._iter.__iterator(Qo,n);return new Wr(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){p5(s);var l=ta(s);return Tn(r,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},t}(Sl);WJ.prototype.cacheResult=e3.prototype.cacheResult=KJ.prototype.cacheResult=JJ.prototype.cacheResult=OD;function XJ(e){var t=Os(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var i=e.reverse.apply(this);return i.flip=function(){return e.reverse()},i},t.has=function(i){return e.includes(i)},t.includes=function(i){return e.has(i)},t.cacheResult=OD,t.__iterateUncached=function(i,r){var n=this;return e.__iterate(function(a,o){return i(o,a,n)!==!1},r)},t.__iteratorUncached=function(i,r){if(i===yo){var n=e.__iterator(i,r);return new Wr(function(){var a=n.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(i===Qo?V2:Qo,r)},t}function YJ(e,t,i){var r=Os(e);return r.size=e.size,r.has=function(n){return e.has(n)},r.get=function(n,a){var o=e.get(n,jr);return o===jr?a:t.call(i,o,n,e)},r.__iterateUncached=function(n,a){var o=this;return e.__iterate(function(s,l,u){return n(t.call(i,s,l,u),l,o)!==!1},a)},r.__iteratorUncached=function(n,a){var o=e.__iterator(yo,a);return new Wr(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return Tn(n,u,t.call(i,l[1],u,e),s)})},r}function ED(e,t){var i=this,r=Os(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var n=XJ(e);return n.reverse=function(){return e.flip()},n}),r.get=function(n,a){return e.get(t?n:-1-n,a)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(n){return e.includes(n)},r.cacheResult=OD,r.__iterate=function(n,a){var o=this,s=0;return a&&n0(e),e.__iterate(function(l,u){return n(l,t?u:a?o.size-++s:s++,o)},!a)},r.__iterator=function(n,a){var o=0;a&&n0(e);var s=e.__iterator(yo,!a);return new Wr(function(){var l=s.next();if(l.done)return l;var u=l.value;return Tn(n,t?u[0]:a?i.size-++o:o++,u[1],l)})},r}function ZJ(e,t,i,r){var n=Os(e);return r&&(n.has=function(a){var o=e.get(a,jr);return o!==jr&&!!t.call(i,o,a,e)},n.get=function(a,o){var s=e.get(a,jr);return s!==jr&&t.call(i,s,a,e)?s:o}),n.__iterateUncached=function(a,o){var s=this,l=0;return e.__iterate(function(u,c,d){if(t.call(i,u,c,d))return l++,a(u,r?c:l-1,s)},o),l},n.__iteratorUncached=function(a,o){var s=e.__iterator(yo,o),l=0;return new Wr(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,d=c[0],f=c[1];if(t.call(i,f,d,e))return Tn(a,r?d:l++,f,u)}})},n}function u0e(e,t,i){var r=Tl().asMutable();return e.__iterate(function(n,a){r.update(t.call(i,n,a,e),0,function(o){return o+1})}),r.asImmutable()}function l0e(e,t,i){var r=fn(e),n=(Ya(e)?zo():Tl()).asMutable();e.__iterate(function(o,s){n.update(t.call(i,o,s,e),function(l){return l=l||[],l.push(r?[s,o]:o),l})});var a=RD(e);return n.map(function(o){return cn(e,a(o))}).asImmutable()}function c0e(e,t,i){var r=fn(e),n=[[],[]];e.__iterate(function(o,s){n[t.call(i,o,s,e)?1:0].push(r?[s,o]:o)});var a=RD(e);return n.map(function(o){return cn(e,a(o))})}function xD(e,t,i,r){var n=e.size;if(k2(t,i,n))return e;if(typeof n>"u"&&(t<0||i<0))return xD(e.toSeq().cacheResult(),t,i,r);var a=O0(t,n),o=B2(i,n),s=o-a,l;s===s&&(l=s<0?0:s);var u=Os(e);return u.size=l===0?l:e.size&&l||void 0,!r&&q2(e)&&l>=0&&(u.get=function(c,d){return c=dl(this,c),c>=0&&c<l?e.get(c+a,d):d}),u.__iterateUncached=function(c,d){var f=this;if(l===0)return 0;if(d)return this.cacheResult().__iterate(c,d);var h=0,p=!0,g=0;return e.__iterate(function(m,y){if(!(p&&(p=h++<a)))return g++,c(m,r?y:g-1,f)!==!1&&g!==l}),g},u.__iteratorUncached=function(c,d){if(l!==0&&d)return this.cacheResult().__iterator(c,d);if(l===0)return new Wr(Ea);var f=e.__iterator(c,d),h=0,p=0;return new Wr(function(){for(;h++<a;)f.next();if(++p>l)return Ea();var g=f.next();return r||c===Qo||g.done?g:c===V2?Tn(c,p-1,void 0,g):Tn(c,p-1,g.value[1],g)})},u}function d0e(e,t,i){var r=Os(e);return r.__iterateUncached=function(n,a){var o=this;if(a)return this.cacheResult().__iterate(n,a);var s=0;return e.__iterate(function(l,u,c){return t.call(i,l,u,c)&&++s&&n(l,u,o)}),s},r.__iteratorUncached=function(n,a){var o=this;if(a)return this.cacheResult().__iterator(n,a);var s=e.__iterator(yo,a),l=!0;return new Wr(function(){if(!l)return Ea();var u=s.next();if(u.done)return u;var c=u.value,d=c[0],f=c[1];return t.call(i,f,d,o)?n===yo?u:Tn(n,d,f,u):(l=!1,Ea())})},r}function eX(e,t,i,r){var n=Os(e);return n.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return e.__iterate(function(c,d,f){if(!(l&&(l=t.call(i,c,d,f))))return u++,a(c,r?d:u-1,s)}),u},n.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=e.__iterator(yo,o),u=!0,c=0;return new Wr(function(){var d,f,h;do{if(d=l.next(),d.done)return r||a===Qo?d:a===V2?Tn(a,c++,void 0,d):Tn(a,c++,d.value[1],d);var p=d.value;f=p[0],h=p[1],u&&(u=t.call(i,h,f,s))}while(u);return a===yo?d:Tn(a,f,h,d)})},n}function f0e(e,t){var i=fn(e),r=[e].concat(t).map(function(o){return ta(o)?i&&(o=bo(o)):o=i?AD(o):QJ(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(r.length===0)return e;if(r.length===1){var n=r[0];if(n===e||i&&fn(n)||ki(e)&&ki(n))return n}var a=new Pp(r);return i?a=a.toKeyedSeq():ki(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=r.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function tX(e,t,i){var r=Os(e);return r.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var o=0,s=!1;function l(u,c){u.__iterate(function(d,f){return(!t||c<t)&&ta(d)?l(d,c+1):(o++,n(d,i?f:o-1,r)===!1&&(s=!0)),!s},a)}return l(e,0),o},r.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var o=e.__iterator(n,a),s=[],l=0;return new Wr(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var c=u.value;if(n===yo&&(c=c[1]),(!t||s.length<t)&&ta(c))s.push(o),o=c.__iterator(n,a);else return i?u:Tn(n,l++,c,u)}return Ea()})},r}function h0e(e,t,i){var r=RD(e);return e.toSeq().map(function(n,a){return r(t.call(i,n,a,e))}).flatten(!0)}function p0e(e,t){var i=Os(e);return i.size=e.size&&e.size*2-1,i.__iterateUncached=function(r,n){var a=this,o=0;return e.__iterate(function(s){return(!o||r(t,o++,a)!==!1)&&r(s,o++,a)!==!1},n),o},i.__iteratorUncached=function(r,n){var a=e.__iterator(Qo,n),o=0,s;return new Wr(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?Tn(r,o++,t):Tn(r,o++,s.value,s)})},i}function i0(e,t,i){t||(t=rX);var r=fn(e),n=0,a=e.toSeq().map(function(o,s){return[s,o,n++,i?i(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(r?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),r?Sl(a):ki(e)?_o(a):N0(a)}function HA(e,t,i){if(t||(t=rX),i){var r=e.toSeq().map(function(n,a){return[n,i(n,a,e)]}).reduce(function(n,a){return h5(t,n[1],a[1])?a:n});return r&&r[0]}return e.reduce(function(n,a){return h5(t,n,a)?a:n})}function h5(e,t,i){var r=e(i,t);return r===0&&i!==t&&(i==null||i!==i)||r>0}function $A(e,t,i,r){var n=Os(e),a=new Pp(i).map(function(o){return o.size});return n.size=r?a.max():a.min(),n.__iterate=function(o,s){for(var l=this.__iterator(Qo,s),u,c=0;!(u=l.next()).done&&o(u.value,c++,this)!==!1;);return c},n.__iteratorUncached=function(o,s){var l=i.map(function(d){return d=An(d),rI(s?d.reverse():d)}),u=0,c=!1;return new Wr(function(){var d;return c||(d=l.map(function(f){return f.next()}),c=r?d.every(function(f){return f.done}):d.some(function(f){return f.done})),c?Ea():Tn(o,u++,t.apply(null,d.map(function(f){return f.value})))})},n}function cn(e,t){return e===t?e:q2(e)?t:e.constructor(t)}function p5(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function RD(e){return fn(e)?bo:ki(e)?Hp:I0}function Os(e){return Object.create((fn(e)?Sl:ki(e)?_o:N0).prototype)}function OD(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ra.prototype.cacheResult.call(this)}function rX(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ms(e,t){t=t||0;for(var i=Math.max(0,e.length-t),r=new Array(i),n=0;n<i;n++)r[n]=e[n+t];return r}function PD(e,t){if(!e)throw new Error(t)}function Ga(e){PD(e!==1/0,"Cannot perform this action with an infinite size.")}function nX(e){if(_D(e)&&typeof e!="string")return e;if(Ya(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var g0e=Object.prototype.toString;function t3(e){if(!e||typeof e!="object"||g0e.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var i=t,r=Object.getPrototypeOf(t);r!==null;)i=r,r=Object.getPrototypeOf(i);return i===t}function fl(e){return typeof e=="object"&&(no(e)||Array.isArray(e)||t3(e))}function r2(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function ID(e,t){return no(e)?e.has(t):fl(e)&&D0.call(e,t)}function r3(e,t,i){return no(e)?e.get(t,i):ID(e,t)?typeof e.get=="function"?e.get(t):e[t]:i}function lE(e){if(Array.isArray(e))return ms(e);var t={};for(var i in e)D0.call(e,i)&&(t[i]=e[i]);return t}function CD(e,t){if(!fl(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(no(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!D0.call(e,t))return e;var i=lE(e);return Array.isArray(i)?i.splice(t,1):delete i[t],i}function DD(e,t,i){if(!fl(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(no(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,i)}if(D0.call(e,t)&&i===e[t])return e;var r=lE(e);return r[t]=i,r}function Al(e,t,i,r){r||(r=i,i=void 0);var n=iX(no(e),e,nX(t),0,i,r);return n===jr?i:n}function iX(e,t,i,r,n,a){var o=t===jr;if(r===i.length){var s=o?n:t,l=a(s);return l===s?t:l}if(!o&&!fl(t))throw new TypeError("Cannot update within non-data-structure value in path ["+i.slice(0,r).map(r2)+"]: "+t);var u=i[r],c=o?jr:r3(t,u,jr),d=iX(c===jr?e:no(c),c,i,r+1,n,a);return d===c?t:d===jr?CD(t,u):DD(o?e?qo():{}:t,u,d)}function ND(e,t,i){return Al(e,t,jr,function(){return i})}function FD(e,t){return ND(this,e,t)}function LD(e,t){return Al(e,t,function(){return jr})}function MD(e){return LD(this,e)}function n3(e,t,i,r){return Al(e,[t],i,r)}function jD(e,t,i){return arguments.length===1?e(this):n3(this,e,t,i)}function kD(e,t,i){return Al(this,e,t,i)}function aX(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return sX(this,e)}function oX(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return sX(this,t,e)}function sX(e,t,i){for(var r=[],n=0;n<t.length;n++){var a=bo(t[n]);a.size!==0&&r.push(a)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(o){for(var s=i?function(u,c){n3(o,c,jr,function(d){return d===jr?u:i(d,u,c)})}:function(u,c){o.set(c,u)},l=0;l<r.length;l++)r[l].forEach(s)})}function uX(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return $2(e,t)}function lX(e,t){for(var i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];return $2(t,i,e)}function cX(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return H2(e,t)}function dX(e,t){for(var i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];return H2(t,i,e)}function H2(e,t,i){return $2(e,t,m0e(i))}function $2(e,t,i){if(!fl(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(no(e))return typeof i=="function"&&e.mergeWith?e.mergeWith.apply(e,[i].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),n=e,a=r?Hp:bo,o=r?function(l){n===e&&(n=lE(n)),n.push(l)}:function(l,u){var c=D0.call(n,u),d=c&&i?i(n[u],l,u):l;(!c||d!==n[u])&&(n===e&&(n=lE(n)),n[u]=d)},s=0;s<t.length;s++)a(t[s]).forEach(o);return n}function m0e(e){function t(i,r,n){return fl(i)&&fl(r)&&y0e(i,r)?$2(i,[r],t):e?e(i,r,n):r}return t}function y0e(e,t){var i=ra(e),r=ra(t);return ki(i)===ki(r)&&fn(i)===fn(r)}function fX(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return H2(this,e)}function hX(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return H2(this,t,e)}function BD(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return Al(this,e,qo(),function(r){return $2(r,t)})}function qD(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return Al(this,e,qo(),function(r){return H2(r,t)})}function Q2(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function z2(){return this.__ownerID?this:this.__ensureOwner(new vD)}function G2(){return this.__ensureOwner()}function VD(){return this.__altered}var Tl=function(e){function t(i){return i==null?qo():U2(i)&&!Ya(i)?i:qo().withMutations(function(r){var n=e(i);Ga(n.size),n.forEach(function(a,o){return r.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return qo().withMutations(function(a){for(var o=0;o<r.length;o+=2){if(o+1>=r.length)throw new Error("Missing value for key: "+r[o]);a.set(r[o],r[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,n){return this._root?this._root.get(0,void 0,r,n):n},t.prototype.set=function(r,n){return y5(this,r,n)},t.prototype.remove=function(r){return y5(this,r,jr)},t.prototype.deleteAll=function(r){var n=An(r);return n.size===0?this:this.withMutations(function(a){n.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):qo()},t.prototype.sort=function(r){return zo(i0(this,r))},t.prototype.sortBy=function(r,n){return zo(i0(this,n,r))},t.prototype.map=function(r,n){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,r.call(n,s,l,a))})})},t.prototype.__iterator=function(r,n){return new v0e(this,r,n)},t.prototype.__iterate=function(r,n){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,r(s[1],s[0],a)},n),o},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?UD(this.size,this._root,r,this.__hash):this.size===0?qo():(this.__ownerID=r,this.__altered=!1,this)},t}(bo);Tl.isMap=U2;var xn=Tl.prototype;xn[zJ]=!0;xn[j2]=xn.remove;xn.removeAll=xn.deleteAll;xn.setIn=FD;xn.removeIn=xn.deleteIn=MD;xn.update=jD;xn.updateIn=kD;xn.merge=xn.concat=aX;xn.mergeWith=oX;xn.mergeDeep=fX;xn.mergeDeepWith=hX;xn.mergeIn=BD;xn.mergeDeepIn=qD;xn.withMutations=Q2;xn.wasAltered=VD;xn.asImmutable=G2;xn["@@transducer/init"]=xn.asMutable=z2;xn["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};xn["@@transducer/result"]=function(e){return e.asImmutable()};var n2=function(t,i){this.ownerID=t,this.entries=i};n2.prototype.get=function(t,i,r,n){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(gi(r,a[o][0]))return a[o][1];return n};n2.prototype.update=function(t,i,r,n,a,o,s){for(var l=a===jr,u=this.entries,c=0,d=u.length;c<d&&!gi(n,u[c][0]);c++);var f=c<d;if(f?u[c][1]===a:l)return this;if(po(s),(l||!f)&&po(o),!(l&&u.length===1)){if(!f&&!l&&u.length>=T0e)return b0e(t,u,n,a);var h=t&&t===this.ownerID,p=h?u:ms(u);return f?l?c===d-1?p.pop():p[c]=p.pop():p[c]=[n,a]:p.push([n,a]),h?(this.entries=p,this):new n2(t,p)}};var a0=function(t,i,r){this.ownerID=t,this.bitmap=i,this.nodes=r};a0.prototype.get=function(t,i,r,n){i===void 0&&(i=ba(r));var a=1<<((t===0?i:i>>>t)&wa),o=this.bitmap;return(o&a)===0?n:this.nodes[pX(o&a-1)].get(t+wn,i,r,n)};a0.prototype.update=function(t,i,r,n,a,o,s){r===void 0&&(r=ba(n));var l=(i===0?r:r>>>i)&wa,u=1<<l,c=this.bitmap,d=(c&u)!==0;if(!d&&a===jr)return this;var f=pX(c&u-1),h=this.nodes,p=d?h[f]:void 0,g=HD(p,t,i+wn,r,n,a,o,s);if(g===p)return this;if(!d&&g&&h.length>=E0e)return w0e(t,h,c,l,g);if(d&&!g&&h.length===2&&v5(h[f^1]))return h[f^1];if(d&&g&&h.length===1&&v5(g))return g;var m=t&&t===this.ownerID,y=d?g?c:c^u:c|u,v=d?g?gX(h,f,g,m):A0e(h,f,m):S0e(h,f,g,m);return m?(this.bitmap=y,this.nodes=v,this):new a0(t,y,v)};var i2=function(t,i,r){this.ownerID=t,this.count=i,this.nodes=r};i2.prototype.get=function(t,i,r,n){i===void 0&&(i=ba(r));var a=(t===0?i:i>>>t)&wa,o=this.nodes[a];return o?o.get(t+wn,i,r,n):n};i2.prototype.update=function(t,i,r,n,a,o,s){r===void 0&&(r=ba(n));var l=(i===0?r:r>>>i)&wa,u=a===jr,c=this.nodes,d=c[l];if(u&&!d)return this;var f=HD(d,t,i+wn,r,n,a,o,s);if(f===d)return this;var h=this.count;if(!d)h++;else if(!f&&(h--,h<x0e))return _0e(t,c,h,l);var p=t&&t===this.ownerID,g=gX(c,l,f,p);return p?(this.count=h,this.nodes=g,this):new i2(t,h,g)};var o0=function(t,i,r){this.ownerID=t,this.keyHash=i,this.entries=r};o0.prototype.get=function(t,i,r,n){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(gi(r,a[o][0]))return a[o][1];return n};o0.prototype.update=function(t,i,r,n,a,o,s){r===void 0&&(r=ba(n));var l=a===jr;if(r!==this.keyHash)return l?this:(po(s),po(o),$D(this,t,i,r,[n,a]));for(var u=this.entries,c=0,d=u.length;c<d&&!gi(n,u[c][0]);c++);var f=c<d;if(f?u[c][1]===a:l)return this;if(po(s),(l||!f)&&po(o),l&&d===2)return new gu(t,this.keyHash,u[c^1]);var h=t&&t===this.ownerID,p=h?u:ms(u);return f?l?c===d-1?p.pop():p[c]=p.pop():p[c]=[n,a]:p.push([n,a]),h?(this.entries=p,this):new o0(t,this.keyHash,p)};var gu=function(t,i,r){this.ownerID=t,this.keyHash=i,this.entry=r};gu.prototype.get=function(t,i,r,n){return gi(r,this.entry[0])?this.entry[1]:n};gu.prototype.update=function(t,i,r,n,a,o,s){var l=a===jr,u=gi(n,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(po(s),l){po(o);return}return u?t&&t===this.ownerID?(this.entry[1]=a,this):new gu(t,this.keyHash,[n,a]):(po(o),$D(this,t,i,ba(n),[n,a]))};n2.prototype.iterate=o0.prototype.iterate=function(e,t){for(var i=this.entries,r=0,n=i.length-1;r<=n;r++)if(e(i[t?n-r:r])===!1)return!1};a0.prototype.iterate=i2.prototype.iterate=function(e,t){for(var i=this.nodes,r=0,n=i.length-1;r<=n;r++){var a=i[t?n-r:r];if(a&&a.iterate(e,t)===!1)return!1}};gu.prototype.iterate=function(e,t){return e(this.entry)};var v0e=function(e){function t(i,r,n){this._type=r,this._reverse=n,this._stack=i._root&&g5(i._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,n=this._stack;n;){var a=n.node,o=n.index++,s=void 0;if(a.entry){if(o===0)return SR(r,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return SR(r,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return SR(r,l.entry);n=this._stack=g5(l,n)}continue}n=this._stack=this._stack.__prev}return Ea()},t}(Wr);function SR(e,t){return Tn(e,t[0],t[1])}function g5(e,t){return{node:e,index:0,__prev:t}}function UD(e,t,i,r){var n=Object.create(xn);return n.size=e,n._root=t,n.__ownerID=i,n.__hash=r,n.__altered=!1,n}var m5;function qo(){return m5||(m5=UD(0))}function y5(e,t,i){var r,n;if(e._root){var a=eI(),o=eI();if(r=HD(e._root,e.__ownerID,0,void 0,t,i,a,o),!o.value)return e;n=e.size+(a.value?i===jr?-1:1:0)}else{if(i===jr)return e;n=1,r=new n2(e.__ownerID,[[t,i]])}return e.__ownerID?(e.size=n,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?UD(n,r):qo()}function HD(e,t,i,r,n,a,o,s){return e?e.update(t,i,r,n,a,o,s):a===jr?e:(po(s),po(o),new gu(t,r,[n,a]))}function v5(e){return e.constructor===gu||e.constructor===o0}function $D(e,t,i,r,n){if(e.keyHash===r)return new o0(t,r,[e.entry,n]);var a=(i===0?e.keyHash:e.keyHash>>>i)&wa,o=(i===0?r:r>>>i)&wa,s,l=a===o?[$D(e,t,i+wn,r,n)]:(s=new gu(t,r,n),a<o?[e,s]:[s,e]);return new a0(t,1<<a|1<<o,l)}function b0e(e,t,i,r){e||(e=new vD);for(var n=new gu(e,ba(i),[i,r]),a=0;a<t.length;a++){var o=t[a];n=n.update(e,0,void 0,o[0],o[1])}return n}function _0e(e,t,i,r){for(var n=0,a=0,o=new Array(i),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];c!==void 0&&s!==r&&(n|=l,o[a++]=c)}return new a0(e,n,o)}function w0e(e,t,i,r,n){for(var a=0,o=new Array(ho),s=0;i!==0;s++,i>>>=1)o[s]=i&1?t[a++]:void 0;return o[r]=n,new i2(e,a+1,o)}function pX(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function gX(e,t,i,r){var n=r?e:ms(e);return n[t]=i,n}function S0e(e,t,i,r){var n=e.length+1;if(r&&t+1===n)return e[t]=i,e;for(var a=new Array(n),o=0,s=0;s<n;s++)s===t?(a[s]=i,o=-1):a[s]=e[s+o];return a}function A0e(e,t,i){var r=e.length-1;if(i&&t===r)return e.pop(),e;for(var n=new Array(r),a=0,o=0;o<r;o++)o===t&&(a=1),n[o]=e[o+a];return n}var T0e=ho/4,E0e=ho/2,x0e=ho/4,mX="@@__IMMUTABLE_LIST__@@";function i3(e){return!!(e&&e[mX])}var F0=function(e){function t(i){var r=TT();if(i==null)return r;if(i3(i))return i;var n=e(i),a=n.size;return a===0?r:(Ga(a),a>0&&a<ho?a2(0,a,wn,null,new sl(n.toArray())):r.withMutations(function(o){o.setSize(a),n.forEach(function(s,l){return o.set(l,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,n){if(r=dl(this,r),r>=0&&r<this.size){r+=this._origin;var a=yX(this,r);return a&&a.array[r&wa]}return n},t.prototype.set=function(r,n){return R0e(this,r,n)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,n){return this.splice(r,0,n)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=wn,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):TT()},t.prototype.push=function(){var r=arguments,n=this.size;return this.withMutations(function(a){Zu(a,0,n+r.length);for(var o=0;o<r.length;o++)a.set(n+o,r[o])})},t.prototype.pop=function(){return Zu(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(n){Zu(n,-r.length);for(var a=0;a<r.length;a++)n.set(a,r[a])})},t.prototype.shift=function(){return Zu(this,1)},t.prototype.concat=function(){for(var r=arguments,n=[],a=0;a<arguments.length;a++){var o=r[a],s=e(typeof o!="string"&&bD(o)?o:[o]);s.size!==0&&n.push(s)}return n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(l){n.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},t.prototype.setSize=function(r){return Zu(this,0,r)},t.prototype.map=function(r,n){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,r.call(n,o.get(s),s,a))})},t.prototype.slice=function(r,n){var a=this.size;return k2(r,n,a)?this:Zu(this,O0(r,a),B2(n,a))},t.prototype.__iterator=function(r,n){var a=n?this.size:0,o=b5(this,n);return new Wr(function(){var s=o();return s===HS?Ea():Tn(r,n?--a:a++,s)})},t.prototype.__iterate=function(r,n){for(var a=n?this.size:0,o=b5(this,n),s;(s=o())!==HS&&r(s,n?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?a2(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?TT():(this.__ownerID=r,this.__altered=!1,this)},t}(Hp);F0.isList=i3;var ui=F0.prototype;ui[mX]=!0;ui[j2]=ui.remove;ui.merge=ui.concat;ui.setIn=FD;ui.deleteIn=ui.removeIn=MD;ui.update=jD;ui.updateIn=kD;ui.mergeIn=BD;ui.mergeDeepIn=qD;ui.withMutations=Q2;ui.wasAltered=VD;ui.asImmutable=G2;ui["@@transducer/init"]=ui.asMutable=z2;ui["@@transducer/step"]=function(e,t){return e.push(t)};ui["@@transducer/result"]=function(e){return e.asImmutable()};var sl=function(t,i){this.array=t,this.ownerID=i};sl.prototype.removeBefore=function(t,i,r){if(r===i?1<<i:this.array.length===0)return this;var n=r>>>i&wa;if(n>=this.array.length)return new sl([],t);var a=n===0,o;if(i>0){var s=this.array[n];if(o=s&&s.removeBefore(t,i-wn,r),o===s&&a)return this}if(a&&!o)return this;var l=s0(this,t);if(!a)for(var u=0;u<n;u++)l.array[u]=void 0;return o&&(l.array[n]=o),l};sl.prototype.removeAfter=function(t,i,r){if(r===(i?1<<i:0)||this.array.length===0)return this;var n=r-1>>>i&wa;if(n>=this.array.length)return this;var a;if(i>0){var o=this.array[n];if(a=o&&o.removeAfter(t,i-wn,r),a===o&&n===this.array.length-1)return this}var s=s0(this,t);return s.array.splice(n+1),a&&(s.array[n]=a),s};var HS={};function b5(e,t){var i=e._origin,r=e._capacity,n=o2(r),a=e._tail;return o(e._root,e._level,0);function o(u,c,d){return c===0?s(u,d):l(u,c,d)}function s(u,c){var d=c===n?a&&a.array:u&&u.array,f=c>i?0:i-c,h=r-c;return h>ho&&(h=ho),function(){if(f===h)return HS;var p=t?--h:f++;return d&&d[p]}}function l(u,c,d){var f,h=u&&u.array,p=d>i?0:i-d>>c,g=(r-d>>c)+1;return g>ho&&(g=ho),function(){for(;;){if(f){var m=f();if(m!==HS)return m;f=null}if(p===g)return HS;var y=t?--g:p++;f=o(h&&h[y],c-wn,d+(y<<c))}}}}function a2(e,t,i,r,n,a,o){var s=Object.create(ui);return s.size=t-e,s._origin=e,s._capacity=t,s._level=i,s._root=r,s._tail=n,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var _5;function TT(){return _5||(_5=a2(0,0,wn))}function R0e(e,t,i){if(t=dl(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?Zu(o,t).set(0,i):Zu(o,0,t+1).set(t,i)});t+=e._origin;var r=e._tail,n=e._root,a=eI();return t>=o2(e._capacity)?r=oI(r,e.__ownerID,0,t,i,a):n=oI(n,e.__ownerID,e._level,t,i,a),a.value?e.__ownerID?(e._root=n,e._tail=r,e.__hash=void 0,e.__altered=!0,e):a2(e._origin,e._capacity,e._level,n,r):e}function oI(e,t,i,r,n,a){var o=r>>>i&wa,s=e&&o<e.array.length;if(!s&&n===void 0)return e;var l;if(i>0){var u=e&&e.array[o],c=oI(u,t,i-wn,r,n,a);return c===u?e:(l=s0(e,t),l.array[o]=c,l)}return s&&e.array[o]===n?e:(a&&po(a),l=s0(e,t),n===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=n,l)}function s0(e,t){return t&&e&&t===e.ownerID?e:new sl(e?e.array.slice():[],t)}function yX(e,t){if(t>=o2(e._capacity))return e._tail;if(t<1<<e._level+wn){for(var i=e._root,r=e._level;i&&r>0;)i=i.array[t>>>r&wa],r-=wn;return i}}function Zu(e,t,i){t!==void 0&&(t|=0),i!==void 0&&(i|=0);var r=e.__ownerID||new vD,n=e._origin,a=e._capacity,o=n+t,s=i===void 0?a:i<0?a+i:n+i;if(o===n&&s===a)return e;if(o>=s)return e.clear();for(var l=e._level,u=e._root,c=0;o+c<0;)u=new sl(u&&u.array.length?[void 0,u]:[],r),l+=wn,c+=1<<l;c&&(o+=c,n+=c,s+=c,a+=c);for(var d=o2(a),f=o2(s);f>=1<<l+wn;)u=new sl(u&&u.array.length?[u]:[],r),l+=wn;var h=e._tail,p=f<d?yX(e,s-1):f>d?new sl([],r):h;if(h&&f>d&&o<a&&h.array.length){u=s0(u,r);for(var g=u,m=l;m>wn;m-=wn){var y=d>>>m&wa;g=g.array[y]=s0(g.array[y],r)}g.array[d>>>wn&wa]=h}if(s<a&&(p=p&&p.removeAfter(r,0,s)),o>=f)o-=f,s-=f,l=wn,u=null,p=p&&p.removeBefore(r,0,o);else if(o>n||f<d){for(c=0;u;){var v=o>>>l&wa;if(v!==f>>>l&wa)break;v&&(c+=(1<<l)*v),l-=wn,u=u.array[v]}u&&o>n&&(u=u.removeBefore(r,l,o-c)),u&&f<d&&(u=u.removeAfter(r,l,f-c)),c&&(o-=c,s-=c)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):a2(o,s,l,u,p)}function o2(e){return e<ho?0:e-1>>>wn<<wn}var zo=function(e){function t(i){return i==null?yS():YE(i)?i:yS().withMutations(function(r){var n=bo(i);Ga(n.size),n.forEach(function(a,o){return r.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,n){var a=this._map.get(r);return a!==void 0?this._list.get(a)[1]:n},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):yS()},t.prototype.set=function(r,n){return S5(this,r,n)},t.prototype.remove=function(r){return S5(this,r,jr)},t.prototype.__iterate=function(r,n){var a=this;return this._list.__iterate(function(o){return o&&r(o[1],o[0],a)},n)},t.prototype.__iterator=function(r,n){return this._list.fromEntrySeq().__iterator(r,n)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var n=this._map.__ensureOwner(r),a=this._list.__ensureOwner(r);return r?QD(n,a,r,this.__hash):this.size===0?yS():(this.__ownerID=r,this.__altered=!1,this._map=n,this._list=a,this)},t}(Tl);zo.isOrderedMap=YE;zo.prototype[C0]=!0;zo.prototype[j2]=zo.prototype.remove;function QD(e,t,i,r){var n=Object.create(zo.prototype);return n.size=e?e.size:0,n._map=e,n._list=t,n.__ownerID=i,n.__hash=r,n.__altered=!1,n}var w5;function yS(){return w5||(w5=QD(qo(),TT()))}function S5(e,t,i){var r=e._map,n=e._list,a=r.get(t),o=a!==void 0,s,l;if(i===jr){if(!o)return e;n.size>=ho&&n.size>=r.size*2?(l=n.filter(function(u,c){return u!==void 0&&a!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=l.__ownerID=e.__ownerID)):(s=r.remove(t),l=a===n.size-1?n.pop():n.set(a,void 0))}else if(o){if(i===n.get(a)[1])return e;s=r,l=n.set(a,[t,i])}else s=r.set(t,n.size),l=n.set(n.size,[t,i]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=l,e.__hash=void 0,e.__altered=!0,e):QD(s,l)}var vX="@@__IMMUTABLE_STACK__@@";function s2(e){return!!(e&&e[vX])}var W2=function(e){function t(i){return i==null?QA():s2(i)?i:QA().pushAll(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,n){var a=this._head;for(r=dl(this,r);a&&r--;)a=a.next;return a?a.value:n},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var n=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:r[o],next:a};return this.__ownerID?(this.size=n,this._head=a,this.__hash=void 0,this.__altered=!0,this):vS(n,a)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&s2(r))return r;Ga(r.size);var n=this.size,a=this._head;return r.__iterate(function(o){n++,a={value:o,next:a}},!0),this.__ownerID?(this.size=n,this._head=a,this.__hash=void 0,this.__altered=!0,this):vS(n,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):QA()},t.prototype.slice=function(r,n){if(k2(r,n,this.size))return this;var a=O0(r,this.size),o=B2(n,this.size);if(o!==this.size)return e.prototype.slice.call(this,r,n);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):vS(s,l)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?vS(this.size,this._head,r,this.__hash):this.size===0?QA():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,n){var a=this;if(n)return new Pp(this.toArray()).__iterate(function(l,u){return r(l,u,a)},n);for(var o=0,s=this._head;s&&r(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(r,n){if(n)return new Pp(this.toArray()).__iterator(r,n);var a=0,o=this._head;return new Wr(function(){if(o){var s=o.value;return o=o.next,Tn(r,a++,s)}return Ea()})},t}(Hp);W2.isStack=s2;var xa=W2.prototype;xa[vX]=!0;xa.shift=xa.pop;xa.unshift=xa.push;xa.unshiftAll=xa.pushAll;xa.withMutations=Q2;xa.wasAltered=VD;xa.asImmutable=G2;xa["@@transducer/init"]=xa.asMutable=z2;xa["@@transducer/step"]=function(e,t){return e.unshift(t)};xa["@@transducer/result"]=function(e){return e.asImmutable()};function vS(e,t,i,r){var n=Object.create(xa);return n.size=e,n._head=t,n.__ownerID=i,n.__hash=r,n.__altered=!1,n}var A5;function QA(){return A5||(A5=vS(0))}var bX="@@__IMMUTABLE_SET__@@";function K2(e){return!!(e&&e[bX])}function a3(e){return K2(e)&&Ya(e)}function zD(e,t){if(e===t)return!0;if(!ta(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||fn(e)!==fn(t)||ki(e)!==ki(t)||Ya(e)!==Ya(t))return!1;if(e.size===0&&t.size===0)return!0;var i=!P0(e);if(Ya(e)){var r=e.entries();return t.every(function(l,u){var c=r.next().value;return c&&gi(c[1],l)&&(i||gi(c[0],u))})&&r.next().done}var n=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{n=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(l,u){if(i?!e.has(l):n?!gi(l,e.get(u,jr)):!gi(e.get(u,jr),l))return o=!1,!1});return o&&e.size===s}function $p(e,t){var i=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(i),e}function cE(e){if(!e||typeof e!="object")return e;if(!ta(e)){if(!fl(e))return e;e=ra(e)}if(fn(e)){var t={};return e.__iterate(function(r,n){t[n]=cE(r)}),t}var i=[];return e.__iterate(function(r){i.push(cE(r))}),i}var L0=function(e){function t(i){return i==null?bS():K2(i)&&!Ya(i)?i:bS().withMutations(function(r){var n=e(i);Ga(n.size),n.forEach(function(a){return r.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(bo(r).keySeq())},t.intersect=function(r){return r=An(r).toArray(),r.length?Bi.intersect.apply(t(r.pop()),r):bS()},t.union=function(r){return r=An(r).toArray(),r.length?Bi.union.apply(t(r.pop()),r):bS()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return zA(this,this._map.set(r,r))},t.prototype.remove=function(r){return zA(this,this._map.remove(r))},t.prototype.clear=function(){return zA(this,this._map.clear())},t.prototype.map=function(r,n){var a=this,o=!1,s=zA(this,this._map.mapEntries(function(l){var u=l[1],c=r.call(n,u,u,a);return c!==u&&(o=!0),[c,c]},n));return o?s:this},t.prototype.union=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return r=r.filter(function(a){return a.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(a){for(var o=0;o<r.length;o++)typeof r[o]=="string"?a.add(r[o]):e(r[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r.length===0)return this;r=r.map(function(o){return e(o)});var a=[];return this.forEach(function(o){r.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r.length===0)return this;r=r.map(function(o){return e(o)});var a=[];return this.forEach(function(o){r.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(r){return Ip(i0(this,r))},t.prototype.sortBy=function(r,n){return Ip(i0(this,n,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,n){var a=this;return this._map.__iterate(function(o){return r(o,o,a)},n)},t.prototype.__iterator=function(r,n){return this._map.__iterator(r,n)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var n=this._map.__ensureOwner(r);return r?this.__make(n,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=n,this)},t}(I0);L0.isSet=K2;var Bi=L0.prototype;Bi[bX]=!0;Bi[j2]=Bi.remove;Bi.merge=Bi.concat=Bi.union;Bi.withMutations=Q2;Bi.asImmutable=G2;Bi["@@transducer/init"]=Bi.asMutable=z2;Bi["@@transducer/step"]=function(e,t){return e.add(t)};Bi["@@transducer/result"]=function(e){return e.asImmutable()};Bi.__empty=bS;Bi.__make=_X;function zA(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function _X(e,t){var i=Object.create(Bi);return i.size=e?e.size:0,i._map=e,i.__ownerID=t,i}var T5;function bS(){return T5||(T5=_X(qo()))}var GD=function(e){function t(i,r,n){if(!(this instanceof t))return new t(i,r,n);if(PD(n!==0,"Cannot step a Range by 0"),i=i||0,r===void 0&&(r=1/0),n=n===void 0?1:Math.abs(n),r<i&&(n=-n),this._start=i,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-i)/n-1)+1),this.size===0){if(AR)return AR;AR=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,n){return this.has(r)?this._start+dl(this,r)*this._step:n},t.prototype.includes=function(r){var n=(r-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},t.prototype.slice=function(r,n){return k2(r,n,this.size)?this:(r=O0(r,this.size),n=B2(n,this.size),n<=r?new t(0,0):new t(this.get(r,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(r){var n=r-this._start;if(n%this._step===0){var a=n/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,n){for(var a=this.size,o=this._step,s=n?this._start+(a-1)*o:this._start,l=0;l!==a&&r(s,n?a-++l:l++,this)!==!1;)s+=n?-o:o;return l},t.prototype.__iterator=function(r,n){var a=this.size,o=this._step,s=n?this._start+(a-1)*o:this._start,l=0;return new Wr(function(){if(l===a)return Ea();var u=s;return s+=n?-o:o,Tn(r,n?a-++l:l++,u)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:zD(this,r)},t}(_o),AR;function o3(e,t,i){for(var r=nX(t),n=0;n!==r.length;)if(e=r3(e,r[n++],jr),e===jr)return i;return e}function wX(e,t){return o3(this,e,t)}function WD(e,t){return o3(e,t,jr)!==jr}function O0e(e){return WD(this,e)}function SX(){Ga(this.size);var e={};return this.__iterate(function(t,i){e[i]=t}),e}An.isIterable=ta;An.isKeyed=fn;An.isIndexed=ki;An.isAssociative=P0;An.isOrdered=Ya;An.Iterator=Wr;$p(An,{toArray:function(){Ga(this.size);var t=new Array(this.size||0),i=fn(this),r=0;return this.__iterate(function(n,a){t[r++]=i?[a,n]:n}),t},toIndexedSeq:function(){return new WJ(this)},toJS:function(){return cE(this)},toKeyedSeq:function(){return new e3(this,!0)},toMap:function(){return Tl(this.toKeyedSeq())},toObject:SX,toOrderedMap:function(){return zo(this.toKeyedSeq())},toOrderedSet:function(){return Ip(fn(this)?this.valueSeq():this)},toSet:function(){return L0(fn(this)?this.valueSeq():this)},toSetSeq:function(){return new KJ(this)},toSeq:function(){return ki(this)?this.toIndexedSeq():fn(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return W2(fn(this)?this.valueSeq():this)},toList:function(){return F0(fn(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,i){return this.size===0?t+i:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+i},concat:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return cn(this,f0e(this,t))},includes:function(t){return this.some(function(i){return gi(i,t)})},entries:function(){return this.__iterator(yo)},every:function(t,i){Ga(this.size);var r=!0;return this.__iterate(function(n,a,o){if(!t.call(i,n,a,o))return r=!1,!1}),r},filter:function(t,i){return cn(this,ZJ(this,t,i,!0))},partition:function(t,i){return c0e(this,t,i)},find:function(t,i,r){var n=this.findEntry(t,i);return n?n[1]:r},forEach:function(t,i){return Ga(this.size),this.__iterate(i?t.bind(i):t)},join:function(t){Ga(this.size),t=t!==void 0?""+t:",";var i="",r=!0;return this.__iterate(function(n){r?r=!1:i+=t,i+=n!=null?n.toString():""}),i},keys:function(){return this.__iterator(V2)},map:function(t,i){return cn(this,YJ(this,t,i))},reduce:function(t,i,r){return E5(this,t,i,r,arguments.length<2,!1)},reduceRight:function(t,i,r){return E5(this,t,i,r,arguments.length<2,!0)},reverse:function(){return cn(this,ED(this,!0))},slice:function(t,i){return cn(this,xD(this,t,i,!0))},some:function(t,i){Ga(this.size);var r=!1;return this.__iterate(function(n,a,o){if(t.call(i,n,a,o))return r=!0,!1}),r},sort:function(t){return cn(this,i0(this,t))},values:function(){return this.__iterator(Qo)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,i){return n0(t?this.toSeq().filter(t,i):this)},countBy:function(t,i){return u0e(this,t,i)},equals:function(t){return zD(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Pp(t._cache);var i=t.toSeq().map(I0e).toIndexedSeq();return i.fromEntrySeq=function(){return t.toSeq()},i},filterNot:function(t,i){return this.filter(TR(t),i)},findEntry:function(t,i,r){var n=r;return this.__iterate(function(a,o,s){if(t.call(i,a,o,s))return n=[o,a],!1}),n},findKey:function(t,i){var r=this.findEntry(t,i);return r&&r[0]},findLast:function(t,i,r){return this.toKeyedSeq().reverse().find(t,i,r)},findLastEntry:function(t,i,r){return this.toKeyedSeq().reverse().findEntry(t,i,r)},findLastKey:function(t,i){return this.toKeyedSeq().reverse().findKey(t,i)},first:function(t){return this.find(MJ,null,t)},flatMap:function(t,i){return cn(this,h0e(this,t,i))},flatten:function(t){return cn(this,tX(this,t,!0))},fromEntrySeq:function(){return new JJ(this)},get:function(t,i){return this.find(function(r,n){return gi(n,t)},void 0,i)},getIn:wX,groupBy:function(t,i){return l0e(this,t,i)},has:function(t){return this.get(t,jr)!==jr},hasIn:O0e,isSubset:function(t){return t=typeof t.includes=="function"?t:An(t),this.every(function(i){return t.includes(i)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:An(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(i){return gi(i,t)})},keySeq:function(){return this.toSeq().map(P0e).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return HA(this,t)},maxBy:function(t,i){return HA(this,i,t)},min:function(t){return HA(this,t?x5(t):O5)},minBy:function(t,i){return HA(this,i?x5(i):O5,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,i){return cn(this,eX(this,t,i,!0))},skipUntil:function(t,i){return this.skipWhile(TR(t),i)},sortBy:function(t,i){return cn(this,i0(this,i,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,i){return cn(this,d0e(this,t,i))},takeUntil:function(t,i){return this.takeWhile(TR(t),i)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=C0e(this))}});var na=An.prototype;na[BJ]=!0;na[JE]=na.values;na.toJSON=na.toArray;na.__toStringMapper=r2;na.inspect=na.toSource=function(){return this.toString()};na.chain=na.flatMap;na.contains=na.includes;$p(bo,{flip:function(){return cn(this,XJ(this))},mapEntries:function(t,i){var r=this,n=0;return cn(this,this.toSeq().map(function(a,o){return t.call(i,[o,a],n++,r)}).fromEntrySeq())},mapKeys:function(t,i){var r=this;return cn(this,this.toSeq().flip().map(function(n,a){return t.call(i,n,a,r)}).flip())}});var J2=bo.prototype;J2[qJ]=!0;J2[JE]=na.entries;J2.toJSON=SX;J2.__toStringMapper=function(e,t){return r2(t)+": "+r2(e)};$p(Hp,{toKeyedSeq:function(){return new e3(this,!1)},filter:function(t,i){return cn(this,ZJ(this,t,i,!1))},findIndex:function(t,i){var r=this.findEntry(t,i);return r?r[0]:-1},indexOf:function(t){var i=this.keyOf(t);return i===void 0?-1:i},lastIndexOf:function(t){var i=this.lastKeyOf(t);return i===void 0?-1:i},reverse:function(){return cn(this,ED(this,!1))},slice:function(t,i){return cn(this,xD(this,t,i,!1))},splice:function(t,i){var r=arguments.length;if(i=Math.max(i||0,0),r===0||r===2&&!i)return this;t=O0(t,t<0?this.count():this.size);var n=this.slice(0,t);return cn(this,r===1?n:n.concat(ms(arguments,2),this.slice(t+i)))},findLastIndex:function(t,i){var r=this.findLastEntry(t,i);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return cn(this,tX(this,t,!1))},get:function(t,i){return t=dl(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?i:this.find(function(r,n){return n===t},void 0,i)},has:function(t){return t=dl(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return cn(this,p0e(this,t))},interleave:function(){var t=[this].concat(ms(arguments)),i=$A(this.toSeq(),_o.of,t),r=i.flatten(!0);return i.size&&(r.size=i.size*t.length),cn(this,r)},keySeq:function(){return GD(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,i){return cn(this,eX(this,t,i,!1))},zip:function(){var t=[this].concat(ms(arguments));return cn(this,$A(this,R5,t))},zipAll:function(){var t=[this].concat(ms(arguments));return cn(this,$A(this,R5,t,!0))},zipWith:function(t){var i=ms(arguments);return i[0]=this,cn(this,$A(this,t,i))}});var M0=Hp.prototype;M0[VJ]=!0;M0[C0]=!0;$p(I0,{get:function(t,i){return this.has(t)?t:i},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var u0=I0.prototype;u0.has=na.includes;u0.contains=u0.includes;u0.keys=u0.values;$p(Sl,J2);$p(_o,M0);$p(N0,u0);function E5(e,t,i,r,n,a){return Ga(e.size),e.__iterate(function(o,s,l){n?(n=!1,i=o):i=t.call(r,i,o,s,l)},a),i}function P0e(e,t){return t}function I0e(e,t){return[t,e]}function TR(e){return function(){return!e.apply(this,arguments)}}function x5(e){return function(){return-e.apply(this,arguments)}}function R5(){return ms(arguments)}function O5(e,t){return e<t?1:e>t?-1:0}function C0e(e){if(e.size===1/0)return 0;var t=Ya(e),i=fn(e),r=t?1:0,n=e.__iterate(i?t?function(a,o){r=31*r+P5(ba(a),ba(o))|0}:function(a,o){r=r+P5(ba(a),ba(o))|0}:t?function(a){r=31*r+ba(a)|0}:function(a){r=r+ba(a)|0});return D0e(n,r)}function D0e(e,t){return t=Sm(t,3432918353),t=Sm(t<<15|t>>>-15,461845907),t=Sm(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Sm(t^t>>>16,2246822507),t=Sm(t^t>>>13,3266489909),t=ZE(t^t>>>16),t}function P5(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var Ip=function(e){function t(i){return i==null?sI():a3(i)?i:sI().withMutations(function(r){var n=I0(i);Ga(n.size),n.forEach(function(a){return r.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(bo(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(L0);Ip.isOrderedSet=a3;var Qp=Ip.prototype;Qp[C0]=!0;Qp.zip=M0.zip;Qp.zipWith=M0.zipWith;Qp.zipAll=M0.zipAll;Qp.__empty=sI;Qp.__make=AX;function AX(e,t){var i=Object.create(Qp);return i.size=e?e.size:0,i._map=e,i.__ownerID=t,i}var I5;function sI(){return I5||(I5=AX(yS()))}var TX={LeftThenRight:-1,RightThenLeft:1};function N0e(e){if(wl(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(no(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var li=function(t,i){var r;N0e(t);var n=function(s){var l=this;if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!r){r=!0;var u=Object.keys(t),c=a._indices={};a._name=i,a._keys=u,a._defaultValues=t;for(var d=0;d<u.length;d++){var f=u[d];c[f]=d,a[f]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+JD(this)+' with property "'+f+'" since that property name is part of the Record API.'):F0e(a,f)}}return this.__ownerID=void 0,this._values=F0().withMutations(function(h){h.setSize(l._keys.length),bo(s).forEach(function(p,g){h.set(l._indices[g],p===l._defaultValues[g]?void 0:p)})}),this},a=n.prototype=Object.create(mn);return a.constructor=n,i&&(n.displayName=i),n};li.prototype.toString=function(){for(var t=JD(this)+" { ",i=this._keys,r,n=0,a=i.length;n!==a;n++)r=i[n],t+=(n?", ":"")+r+": "+r2(this.get(r));return t+" }"};li.prototype.equals=function(t){return this===t||wl(t)&&l0(this).equals(l0(t))};li.prototype.hashCode=function(){return l0(this).hashCode()};li.prototype.has=function(t){return this._indices.hasOwnProperty(t)};li.prototype.get=function(t,i){if(!this.has(t))return i;var r=this._indices[t],n=this._values.get(r);return n===void 0?this._defaultValues[t]:n};li.prototype.set=function(t,i){if(this.has(t)){var r=this._values.set(this._indices[t],i===this._defaultValues[t]?void 0:i);if(r!==this._values&&!this.__ownerID)return KD(this,r)}return this};li.prototype.remove=function(t){return this.set(t)};li.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:KD(this,t)};li.prototype.wasAltered=function(){return this._values.wasAltered()};li.prototype.toSeq=function(){return l0(this)};li.prototype.toJS=function(){return cE(this)};li.prototype.entries=function(){return this.__iterator(yo)};li.prototype.__iterator=function(t,i){return l0(this).__iterator(t,i)};li.prototype.__iterate=function(t,i){return l0(this).__iterate(t,i)};li.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var i=this._values.__ensureOwner(t);return t?KD(this,i,t):(this.__ownerID=t,this._values=i,this)};li.isRecord=wl;li.getDescriptiveName=JD;var mn=li.prototype;mn[HJ]=!0;mn[j2]=mn.remove;mn.deleteIn=mn.removeIn=MD;mn.getIn=wX;mn.hasIn=na.hasIn;mn.merge=aX;mn.mergeWith=oX;mn.mergeIn=BD;mn.mergeDeep=fX;mn.mergeDeepWith=hX;mn.mergeDeepIn=qD;mn.setIn=FD;mn.update=jD;mn.updateIn=kD;mn.withMutations=Q2;mn.asMutable=z2;mn.asImmutable=G2;mn[JE]=mn.entries;mn.toJSON=mn.toObject=na.toObject;mn.inspect=mn.toSource=function(){return this.toString()};function KD(e,t,i){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=i,r}function JD(e){return e.constructor.displayName||e.constructor.name||"Record"}function l0(e){return AD(e._keys.map(function(t){return[t,e.get(t)]}))}function F0e(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(i){PD(this.__ownerID,"Cannot set on an immutable record."),this.set(t,i)}})}catch{}}var EX=function(e){function t(i,r){if(!(this instanceof t))return new t(i,r);if(this._value=i,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(ER)return ER;ER=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,n){return this.has(r)?this._value:n},t.prototype.includes=function(r){return gi(this._value,r)},t.prototype.slice=function(r,n){var a=this.size;return k2(r,n,a)?this:new t(this._value,B2(n,a)-O0(r,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return gi(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return gi(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,n){for(var a=this.size,o=0;o!==a&&r(this._value,n?a-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(r,n){var a=this,o=this.size,s=0;return new Wr(function(){return s===o?Ea():Tn(r,n?o-++s:s++,a._value)})},t.prototype.equals=function(r){return r instanceof t?gi(this._value,r._value):zD(this,r)},t}(_o),ER;function xX(e,t){return RX([],t||L0e,e,"",t&&t.length>2?[]:void 0,{"":e})}function RX(e,t,i,r,n,a){if(typeof i!="string"&&!no(i)&&(_D(i)||bD(i)||t3(i))){if(~e.indexOf(i))throw new TypeError("Cannot convert circular structure to Immutable");e.push(i),n&&r!==""&&n.push(r);var o=t.call(a,r,ra(i).map(function(s,l){return RX(e,t,s,l,n,i)}),n&&n.slice());return e.pop(),n&&n.pop(),o}return i}function L0e(e,t){return ki(t)?t.toList():fn(t)?t.toMap():t.toSet()}var OX="4.3.7",M0e={version:OX,Collection:An,Iterable:An,Seq:ra,Map:Tl,OrderedMap:zo,List:F0,Stack:W2,Set:L0,OrderedSet:Ip,PairSorting:TX,Record:li,Range:GD,Repeat:EX,is:gi,fromJS:xX,hash:ba,isImmutable:no,isCollection:ta,isKeyed:fn,isIndexed:ki,isAssociative:P0,isOrdered:Ya,isValueObject:uE,isPlainObject:t3,isSeq:q2,isList:i3,isMap:U2,isOrderedMap:YE,isStack:s2,isSet:K2,isOrderedSet:a3,isRecord:wl,get:r3,getIn:o3,has:ID,hasIn:WD,merge:uX,mergeDeep:cX,mergeWith:lX,mergeDeepWith:dX,remove:CD,removeIn:LD,set:DD,setIn:ND,update:n3,updateIn:Al},j0e=An;const k0e=Object.freeze(Object.defineProperty({__proto__:null,Collection:An,Iterable:j0e,List:F0,Map:Tl,OrderedMap:zo,OrderedSet:Ip,PairSorting:TX,Range:GD,Record:li,Repeat:EX,Seq:ra,Set:L0,Stack:W2,default:M0e,fromJS:xX,get:r3,getIn:o3,has:ID,hasIn:WD,hash:ba,is:gi,isAssociative:P0,isCollection:ta,isImmutable:no,isIndexed:ki,isKeyed:fn,isList:i3,isMap:U2,isOrdered:Ya,isOrderedMap:YE,isOrderedSet:a3,isPlainObject:t3,isRecord:wl,isSeq:q2,isSet:K2,isStack:s2,isValueObject:uE,merge:uX,mergeDeep:cX,mergeDeepWith:dX,mergeWith:lX,remove:CD,removeIn:LD,set:DD,setIn:ND,update:n3,updateIn:Al,version:OX},Symbol.toStringTag,{value:"Module"})),XD=qC(k0e);var C5;function PX(){if(C5)return Xl;C5=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ActionContextKey=Xl.ActionContext=void 0;const e=XD;let t=class _S{constructor(n={}){this.map=(0,e.Map)(n)}setDefault(n,a){return this.has(n)?this:this.set(n,a)}set(n,a){return this.setRaw(n.name,a)}setRaw(n,a){return new _S(this.map.set(n,a))}delete(n){return new _S(this.map.delete(n.name))}get(n){return this.getRaw(n.name)}getRaw(n){return this.map.get(n)}getSafe(n){if(!this.has(n))throw new Error(`Context entry ${n.name} is required but not available`);return this.get(n)}has(n){return this.hasRaw(n.name)}hasRaw(n){return this.map.has(n)}merge(...n){let a=this;for(const o of n)for(const s of o.keys())a=a.set(s,o.get(s));return a}keys(){return[...this.map.keys()].map(n=>new i(n))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(n){return n instanceof _S?n:new _S((0,e.Map)(n??{}))}};Xl.ActionContext=t;class i{constructor(n){this.name=n}}return Xl.ActionContextKey=i,Xl}var Am={},D5;function IX(){if(D5)return Am;D5=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.Bus=void 0;let e=class{constructor(i){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,i)}subscribe(i){this.actors.push(i),this.reorderForDependencies()}subscribeObserver(i){this.observers.push(i)}unsubscribe(i){const r=this.actors.indexOf(i);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(i){const r=this.observers.indexOf(i);return r>=0?(this.observers.splice(r,1),!0):!1}publish(i){return this.actors.map(r=>({actor:r,reply:r.test(i)}))}onRun(i,r,n){for(const a of this.observers)a.onRun(i,r,n)}addDependencies(i,r){for(const n of r){let a=this.dependencyLinks.get(n);a||(a=[],this.dependencyLinks.set(n,a)),a.push(i)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const i=[];for(const r of this.dependencyLinks.keys()){const n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),i.push(r))}for(;i.length>0;){let r=-1;for(let a=0;a<i.length;a++){let o=!0;for(const s of this.dependencyLinks.get(i[a]))if(!this.actors.includes(s)&&i.includes(s)){o=!1;break}if(o){r=a;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const n=i.splice(r,1)[0];this.actors.push(n)}}}};return Am.Bus=e,Am}var Tm={},N5;function B0e(){if(N5)return Tm;N5=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.BusIndexed=void 0;const e=IX();let t=class extends e.Bus{constructor(r){super(r),this.actorsIndex={}}subscribe(r){const n=this.getActorIdentifier(r)||"_undefined_";let a=this.actorsIndex[n];a||(a=this.actorsIndex[n]=[]),a.push(r),super.subscribe(r)}unsubscribe(r){const n=this.getActorIdentifier(r)||"_undefined_",a=this.actorsIndex[n];if(a){const o=a.indexOf(r);o>=0&&a.splice(o,1),a.length===0&&delete this.actorsIndex[n]}return super.unsubscribe(r)}publish(r){const n=this.getActionIdentifier(r);return n?[...this.actorsIndex[n]||[],...this.actorsIndex._undefined_||[]].map(o=>({actor:o,reply:o.test(r)})):super.publish(r)}getActorIdentifier(r){return this.actorIdentifierFields.reduce((n,a)=>n[a],r)}getActionIdentifier(r){return this.actionIdentifierFields.reduce((n,a)=>n[a],r)}};return Tm.BusIndexed=t,Tm}var Em={},F5;function CX(){if(F5)return Em;F5=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.CONTEXT_KEY_LOGGER=void 0;const e=PX();return Em.CONTEXT_KEY_LOGGER=new e.ActionContextKey("@comunica/core:log"),Em}var xm={},L5;function q0e(){if(L5)return xm;L5=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.ActionObserver=void 0;let e=class{constructor(i){Object.assign(this,i)}};return xm.ActionObserver=e,xm}var Rm={},M5;function V0e(){if(M5)return Rm;M5=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.Actor=void 0;const e=CX();let t=class ap{constructor(r){this.beforeActors=[],Object.assign(this,r),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(r){return r.get(e.CONTEXT_KEY_LOGGER)}runObservable(r){const n=this.run(r);return this.bus.onRun(this,r,n),n}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(r,n){const a=n?n():{};return a.actor=this.name,a}logTrace(r,n,a){const o=ap.getContextLogger(r);o&&o.trace(n,this.getDefaultLogData(r,a))}logDebug(r,n,a){const o=ap.getContextLogger(r);o&&o.debug(n,this.getDefaultLogData(r,a))}logInfo(r,n,a){const o=ap.getContextLogger(r);o&&o.info(n,this.getDefaultLogData(r,a))}logWarn(r,n,a){const o=ap.getContextLogger(r);o&&o.warn(n,this.getDefaultLogData(r,a))}logError(r,n,a){const o=ap.getContextLogger(r);o&&o.error(n,this.getDefaultLogData(r,a))}logFatal(r,n,a){const o=ap.getContextLogger(r);o&&o.fatal(n,this.getDefaultLogData(r,a))}};return Rm.Actor=t,Rm}var Om={},j5;function U0e(){if(j5)return Om;j5=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.Mediator=void 0;let e=class{constructor(i){Object.assign(this,i)}publish(i){const r=this.bus.publish(i);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(i){return await this.mediateWith(i,this.publish(i))}async mediate(i){return(await this.mediateActor(i)).runObservable(i)}};return Om.Mediator=e,Om}var k5;function _t(){return k5||(k5=1,function(e){var t=Jl&&Jl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Jl&&Jl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(PX(),e),i(IX(),e),i(B0e(),e),i(CX(),e),i(q0e(),e),i(V0e(),e),i(U0e(),e)}(Jl)),Jl}var B5;function H0e(){if(B5)return wm;B5=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.ActorInit=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return wm.ActorInit=t,wm}var q5;function $0e(){return q5||(q5=1,function(e){var t=Kl&&Kl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Kl&&Kl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(H0e(),e)}(Kl)),Kl}var V5;function DX(){if(V5)return _m;V5=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.ActorInitQueryBase=void 0;const e=$0e();let t=class extends e.ActorInit{async test(r){return!0}async run(r){throw new Error("ActorInitSparql#run is not supported in the browser.")}};return _m.ActorInitQueryBase=t,_m}var Pm={},U5;function Q0e(){if(U5)return Pm;U5=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.ActorInitQuery=void 0;const e=DX();typeof process>"u"&&(globalThis.process=wu());class t extends e.ActorInitQueryBase{}return Pm.ActorInitQuery=t,Pm}var Im={},Yl={},Kr={},H5;function NX(){if(H5)return Kr;H5=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.KeysStatistics=Kr.KeysRdfJoin=Kr.KeysMergeBindingsContext=Kr.KeysRdfUpdateQuads=Kr.KeysQuerySourceIdentify=Kr.KeysRdfParseHtmlScript=Kr.KeysRdfParseJsonLd=Kr.KeysQueryOperation=Kr.KeysInitQuery=Kr.KeysHttpProxy=Kr.KeysHttpMemento=Kr.KeysHttpWayback=Kr.KeysHttp=Kr.KeysCore=void 0;const e=_t();return Kr.KeysCore={log:e.CONTEXT_KEY_LOGGER},Kr.KeysHttp={includeCredentials:new e.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new e.ActionContextKey("@comunica/bus-http:auth"),fetch:new e.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new e.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new e.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new e.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new e.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new e.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")},Kr.KeysHttpWayback={recoverBrokenLinks:new e.ActionContextKey("@comunica/bus-http:recover-broken-links")},Kr.KeysHttpMemento={datetime:new e.ActionContextKey("@comunica/actor-http-memento:datetime")},Kr.KeysHttpProxy={httpProxyHandler:new e.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Kr.KeysInitQuery={querySourcesUnidentified:new e.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new e.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new e.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new e.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new e.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new e.ActionContextKey("@comunica/actor-init-query:queryString"),query:new e.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new e.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new e.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new e.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new e.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new e.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new e.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new e.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new e.ActionContextKey("@context"),noCache:new e.ActionContextKey("@comunica/actor-init-query:noCache"),distinctConstruct:new e.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Kr.KeysQueryOperation={operation:new e.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new e.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new e.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new e.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new e.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new e.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new e.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new e.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new e.ActionContextKey("@comunica/bus-query-operation:querySources")},Kr.KeysRdfParseJsonLd={documentLoader:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new e.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Kr.KeysRdfParseHtmlScript={processingHtmlScript:new e.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new e.ActionContextKey("extractAllScripts")},Kr.KeysQuerySourceIdentify={sourceIds:new e.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new e.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new e.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Kr.KeysRdfUpdateQuads={destination:new e.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Kr.KeysMergeBindingsContext={sourcesBinding:new e.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Kr.KeysRdfJoin={lastPhysicalJoin:new e.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Kr.KeysStatistics={discoveredLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new e.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")},Kr}var $5;function Ir(){return $5||($5=1,function(e){var t=Yl&&Yl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Yl&&Yl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(NX(),e)}(Yl)),Yl}var Q5;function z0e(){if(Q5)return Im;Q5=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.QueryEngineBase=void 0;const e=Ir(),t=_t();let i=class uI{constructor(n){this.actorInitQuery=n}async queryBindings(n,a){return this.queryOfType(n,a,"bindings")}async queryQuads(n,a){return this.queryOfType(n,a,"quads")}async queryBoolean(n,a){return this.queryOfType(n,a,"boolean")}async queryVoid(n,a){return this.queryOfType(n,a,"void")}async queryOfType(n,a,o){const s=await this.query(n,a);if(s.resultType===o)return await s.execute();throw new Error(`Query result type '${o}' was expected, while '${s.resultType}' was found.`)}async query(n,a){const o=await this.queryOrExplain(n,a);if("explain"in o)throw new Error("Tried to explain a query when in query-only mode");return o}async explain(n,a,o){return a.explain=o,await this.queryOrExplain(n,a)}async queryOrExplain(n,a){const o=t.ActionContext.ensureActionContext(a);o.get(e.KeysInitQuery.noCache)&&await this.invalidateHttpCache();const{result:s}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:n,context:o});return"explain"in s?s:uI.internalToFinalResult(s)}async getResultMediaTypes(n){return n=t.ActionContext.ensureActionContext(n),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:n,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(n){return n=t.ActionContext.ensureActionContext(n),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:n,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(n,a,o){if(o=t.ActionContext.ensureActionContext(o),!a)switch(n.resultType){case"bindings":a="application/json";break;case"quads":a="application/trig";break;default:a="simple";break}const s={...await uI.finalToInternalResult(n),context:o};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:o,handle:s,handleMediaType:a})).handle}invalidateHttpCache(n,a){return a=t.ActionContext.ensureActionContext(a),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:n,context:a})}static internalToFinalResult(n){switch(n.type){case"bindings":return{resultType:"bindings",execute:async()=>n.bindingsStream,metadata:async()=>await n.metadata(),context:n.context};case"quads":return{resultType:"quads",execute:async()=>n.quadStream,metadata:async()=>await n.metadata(),context:n.context};case"boolean":return{resultType:"boolean",execute:async()=>n.execute(),context:n.context};case"void":return{resultType:"void",execute:async()=>n.execute(),context:n.context}}}static async finalToInternalResult(n){switch(n.resultType){case"bindings":return{type:"bindings",bindingsStream:await n.execute(),metadata:async()=>await n.metadata()};case"quads":return{type:"quads",quadStream:await n.execute(),metadata:async()=>await n.metadata()};case"boolean":return{type:"boolean",execute:()=>n.execute()};case"void":return{type:"void",execute:()=>n.execute()}}}};return Im.QueryEngineBase=i,Im}var z5;function s3(){return z5||(z5=1,function(e){var t=Wl&&Wl.__createBinding||(Object.create?function(n,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(n,s,l)}:function(n,a,o,s){s===void 0&&(s=o),n[s]=a[o]}),i=Wl&&Wl.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0,i(DX(),e),i(Q0e(),e);var r=z0e();Object.defineProperty(e,"QueryEngineBase",{enumerable:!0,get:function(){return r.QueryEngineBase}})}(Wl)),Wl}var Zl={},Cm={},ec={},xR={},G5;function G0e(){return G5||(G5=1,Object.defineProperty(xR,"__esModule",{value:!0})),xR}var RR={},W5;function W0e(){return W5||(W5=1,Object.defineProperty(RR,"__esModule",{value:!0})),RR}var OR={},K5;function K0e(){return K5||(K5=1,Object.defineProperty(OR,"__esModule",{value:!0})),OR}var PR={},J5;function J0e(){return J5||(J5=1,Object.defineProperty(PR,"__esModule",{value:!0})),PR}var IR={},X5;function X0e(){return X5||(X5=1,Object.defineProperty(IR,"__esModule",{value:!0})),IR}var CR={},Y5;function Y0e(){return Y5||(Y5=1,Object.defineProperty(CR,"__esModule",{value:!0})),CR}var DR={},Z5;function Z0e(){return Z5||(Z5=1,Object.defineProperty(DR,"__esModule",{value:!0})),DR}var NR={},eL;function eme(){return eL||(eL=1,Object.defineProperty(NR,"__esModule",{value:!0})),NR}var FR={},tL;function tme(){return tL||(tL=1,Object.defineProperty(FR,"__esModule",{value:!0})),FR}var LR={},rL;function rme(){return rL||(rL=1,Object.defineProperty(LR,"__esModule",{value:!0})),LR}var MR={},nL;function nme(){return nL||(nL=1,Object.defineProperty(MR,"__esModule",{value:!0})),MR}var jR={},iL;function ime(){return iL||(iL=1,Object.defineProperty(jR,"__esModule",{value:!0})),jR}var kR={},aL;function ame(){return aL||(aL=1,Object.defineProperty(kR,"__esModule",{value:!0})),kR}var BR={},oL;function ome(){return oL||(oL=1,Object.defineProperty(BR,"__esModule",{value:!0})),BR}var qR={},sL;function sme(){return sL||(sL=1,Object.defineProperty(qR,"__esModule",{value:!0})),qR}var VR={},uL;function ume(){return uL||(uL=1,Object.defineProperty(VR,"__esModule",{value:!0})),VR}var Dm={},lL;function lme(){if(lL)return Dm;lL=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.Logger=void 0;let e=class FX{static getLevelOrdinal(i){return FX.LEVELS[i]}};return Dm.Logger=e,e.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Dm}var cL;function cme(){return cL||(cL=1,function(e){var t=ec&&ec.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ec&&ec.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(G0e(),e),i(W0e(),e),i(K0e(),e),i(J0e(),e),i(X0e(),e),i(Y0e(),e),i(Z0e(),e),i(eme(),e),i(tme(),e),i(rme(),e),i(nme(),e),i(ime(),e),i(ame(),e),i(ome(),e),i(sme(),e),i(ume(),e),i(lme(),e)}(ec)),ec}var dL;function dme(){if(dL)return Cm;dL=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.LoggerVoid=void 0;const e=cme();let t=class extends e.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return Cm.LoggerVoid=t,Cm}var fL;function LX(){return fL||(fL=1,function(e){var t=Zl&&Zl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Zl&&Zl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(dme(),e)}(Zl)),Zl}var tc={},Nm={},rc={},Fm={},hL;function fme(){if(hL)return Fm;hL=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.BlankNodeScoped=void 0;let e=class{constructor(i,r){this.termType="BlankNode",this.value=i,this.skolemized=r}equals(i){return!!i&&i.termType==="BlankNode"&&i.value===this.value}};return Fm.BlankNodeScoped=e,Fm}var Lm={},pL;function hme(){if(pL)return Lm;pL=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.BlankNodeBindingsScoped=void 0;let e=class{constructor(i){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=i}equals(i){return!!i&&i.termType==="BlankNode"&&i.value===this.value}};return Lm.BlankNodeBindingsScoped=e,Lm}var gL;function YD(){return gL||(gL=1,function(e){var t=rc&&rc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=rc&&rc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(fme(),e),i(hme(),e)}(rc)),rc}var nc={},UR={},Ii={},mL;function pme(){if(mL)return Ii;mL=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.stringQuadToQuad=Ii.quadToStringQuad=Ii.stringToTerm=Ii.getLiteralLanguage=Ii.getLiteralType=Ii.getLiteralValue=Ii.termToString=void 0;const e=yr(),t=new e.DataFactory;function i(u){if(u)switch(u.termType){case"NamedNode":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const c=u;return'"'+c.value+'"'+(c.datatype&&c.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&c.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+c.datatype.value:"")+(c.language?"@"+c.language:"");case"Quad":return`<<${i(u.subject)} ${i(u.predicate)} ${i(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+i(u.graph)}>>`;case"Variable":return"?"+u.value;case"DefaultGraph":return u.value}}Ii.termToString=i;function r(u){const c=/^"([^]*)"/.exec(u);if(!c)throw new Error(u+" is not a literal");return c[1]}Ii.getLiteralValue=r;function n(u){const c=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!c)throw new Error(u+" is not a literal");return c[1]||(c[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ii.getLiteralType=n;function a(u){const c=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!c)throw new Error(u+" is not a literal");return c[1]?c[1].toLowerCase():""}Ii.getLiteralLanguage=a;function o(u,c){if(c=c||t,!u||!u.length)return c.defaultGraph();switch(u[0]){case"_":return c.blankNode(u.substr(2));case"?":if(!c.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return c.variable(u.substr(1));case'"':const d=a(u),f=c.namedNode(n(u));return c.literal(r(u),d||f);case"<":default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const h=u.slice(2,-2).trim();let p=[],g=0,m=0,y=!1;for(let v=0;v<h.length;v++){const b=h[v];if(b==="<"&&g++,b===">"){if(g===0)throw new Error("Found closing tag without opening tag in "+u);g--}if(b==='"'){let _=!1,w=v;for(;w-- >0&&h[w]==="\\";)_=!_;_||(y=!y)}if(b===" "&&!y&&g===0){for(p.push(h.slice(m,v));h[v+1]===" ";)v+=1;m=v+1}}if(g!==0)throw new Error("Found opening tag without closing tag in "+u);if(p.push(h.slice(m,h.length)),p.length!==3&&p.length!==4)throw new Error("Nested quad syntax error "+u);return p=p.map(v=>v.startsWith("<")&&!v.includes(" ")?v.slice(1,-1):v),c.quad(o(p[0]),o(p[1]),o(p[2]),p[3]?o(p[3]):void 0)}return c.namedNode(u)}}Ii.stringToTerm=o;function s(u){return{subject:i(u.subject),predicate:i(u.predicate),object:i(u.object),graph:i(u.graph)}}Ii.quadToStringQuad=s;function l(u,c){return c=c||t,c.quad(o(u.subject,c),o(u.predicate,c),o(u.object,c),o(u.graph,c))}return Ii.stringQuadToQuad=l,Ii}var yL;function nn(){return yL||(yL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=pme();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(UR)),UR}var ic={},sr={},vL;function MX(){if(vL)return sr;vL=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.matchPatternMappings=sr.matchPatternComplete=sr.matchPattern=sr.matchTerm=sr.getValueNestedPath=sr.someTermsNested=sr.someTerms=sr.everyTermsNested=sr.everyTerms=sr.reduceTermsNested=sr.reduceTerms=sr.mapTermsNested=sr.mapTerms=sr.filterQuadTermNamesNested=sr.filterQuadTermNames=sr.filterTermsNested=sr.filterTerms=sr.forEachTermsNested=sr.forEachTerms=sr.collectNamedTerms=sr.getNamedTerms=sr.getTermsNested=sr.getTerms=sr.TRIPLE_TERM_NAMES=sr.QUAD_TERM_NAMES=void 0;const e=yr(),t=new e.DataFactory;sr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],sr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function i(D,A){return A&&D.graph.termType==="DefaultGraph"?[D.subject,D.predicate,D.object]:[D.subject,D.predicate,D.object,D.graph]}sr.getTerms=i;function r(D,A){const x=[];for(const N of i(D,A))N.termType==="Quad"?r(N,A).forEach(j=>x.push(j)):x.push(N);return x}sr.getTermsNested=r;function n(D){return[{key:"subject",value:D.subject},{key:"predicate",value:D.predicate},{key:"object",value:D.object},{key:"graph",value:D.graph}]}sr.getNamedTerms=n;function a(D,A,x){const N={};return D.forEach(j=>N[j.key]=j.value),A&&(N.subject=N.subject||A("subject"),N.predicate=N.predicate||A("predicate"),N.object=N.object||A("object"),N.graph=N.graph||A("graph")),(x||t).quad(N.subject,N.predicate,N.object,N.graph)}sr.collectNamedTerms=a;function o(D,A){A(D.subject,"subject"),A(D.predicate,"predicate"),A(D.object,"object"),A(D.graph,"graph")}sr.forEachTerms=o;function s(D,A,x=[]){D.subject.termType==="Quad"?s(D.subject,A,[...x,"subject"]):A(D.subject,[...x,"subject"]),D.predicate.termType==="Quad"?s(D.predicate,A,[...x,"predicate"]):A(D.predicate,[...x,"predicate"]),D.object.termType==="Quad"?s(D.object,A,[...x,"object"]):A(D.object,[...x,"object"]),D.graph.termType==="Quad"?s(D.graph,A,[...x,"graph"]):A(D.graph,[...x,"graph"])}sr.forEachTermsNested=s;function l(D,A){const x=[];return A(D.subject,"subject")&&x.push(D.subject),A(D.predicate,"predicate")&&x.push(D.predicate),A(D.object,"object")&&x.push(D.object),A(D.graph,"graph")&&x.push(D.graph),x}sr.filterTerms=l;function u(D,A,x=[]){let N=[];return D.subject.termType==="Quad"?N=[...N,...u(D.subject,A,[...x,"subject"])]:A(D.subject,[...x,"subject"])&&N.push(D.subject),D.predicate.termType==="Quad"?N=[...N,...u(D.predicate,A,[...x,"predicate"])]:A(D.predicate,[...x,"predicate"])&&N.push(D.predicate),D.object.termType==="Quad"?N=[...N,...u(D.object,A,[...x,"object"])]:A(D.object,[...x,"object"])&&N.push(D.object),D.graph.termType==="Quad"?N=[...N,...u(D.graph,A,[...x,"graph"])]:A(D.graph,[...x,"graph"])&&N.push(D.graph),N}sr.filterTermsNested=u;function c(D,A){const x=[];return A(D.subject,"subject")&&x.push("subject"),A(D.predicate,"predicate")&&x.push("predicate"),A(D.object,"object")&&x.push("object"),A(D.graph,"graph")&&x.push("graph"),x}sr.filterQuadTermNames=c;function d(D,A,x=[]){let N=[];const j=[...x,"subject"];D.subject.termType==="Quad"?N=[...N,...d(D.subject,A,j)]:A(D.subject,j)&&N.push(j);const H=[...x,"predicate"];D.predicate.termType==="Quad"?N=[...N,...d(D.predicate,A,H)]:A(D.predicate,H)&&N.push(H);const M=[...x,"object"];D.object.termType==="Quad"?N=[...N,...d(D.object,A,M)]:A(D.object,M)&&N.push(M);const $=[...x,"graph"];return D.graph.termType==="Quad"?N=[...N,...d(D.graph,A,$)]:A(D.graph,$)&&N.push($),N}sr.filterQuadTermNamesNested=d;function f(D,A,x){return(x||t).quad(A(D.subject,"subject"),A(D.predicate,"predicate"),A(D.object,"object"),A(D.graph,"graph"))}sr.mapTerms=f;function h(D,A,x,N=[]){return(x||t).quad(D.subject.termType==="Quad"?h(D.subject,A,x,[...N,"subject"]):A(D.subject,[...N,"subject"]),D.predicate.termType==="Quad"?h(D.predicate,A,x,[...N,"predicate"]):A(D.predicate,[...N,"predicate"]),D.object.termType==="Quad"?h(D.object,A,x,[...N,"object"]):A(D.object,[...N,"object"]),D.graph.termType==="Quad"?h(D.graph,A,x,[...N,"graph"]):A(D.graph,[...N,"graph"]))}sr.mapTermsNested=h;function p(D,A,x){let N=x;return N=A(N,D.subject,"subject"),N=A(N,D.predicate,"predicate"),N=A(N,D.object,"object"),A(N,D.graph,"graph")}sr.reduceTerms=p;function g(D,A,x,N=[]){let j=x;return D.subject.termType==="Quad"?j=g(D.subject,A,j,[...N,"subject"]):j=A(j,D.subject,[...N,"subject"]),D.predicate.termType==="Quad"?j=g(D.predicate,A,j,[...N,"predicate"]):j=A(j,D.predicate,[...N,"predicate"]),D.object.termType==="Quad"?j=g(D.object,A,j,[...N,"object"]):j=A(j,D.object,[...N,"object"]),D.graph.termType==="Quad"?j=g(D.graph,A,j,[...N,"graph"]):j=A(j,D.graph,[...N,"graph"]),j}sr.reduceTermsNested=g;function m(D,A){return A(D.subject,"subject")&&A(D.predicate,"predicate")&&A(D.object,"object")&&A(D.graph,"graph")}sr.everyTerms=m;function y(D,A,x=[]){return(D.subject.termType==="Quad"?y(D.subject,A,[...x,"subject"]):A(D.subject,[...x,"subject"]))&&(D.predicate.termType==="Quad"?y(D.predicate,A,[...x,"predicate"]):A(D.predicate,[...x,"predicate"]))&&(D.object.termType==="Quad"?y(D.object,A,[...x,"object"]):A(D.object,[...x,"object"]))&&(D.graph.termType==="Quad"?y(D.graph,A,[...x,"graph"]):A(D.graph,[...x,"graph"]))}sr.everyTermsNested=y;function v(D,A){return A(D.subject,"subject")||A(D.predicate,"predicate")||A(D.object,"object")||A(D.graph,"graph")}sr.someTerms=v;function b(D,A,x=[]){return(D.subject.termType==="Quad"?b(D.subject,A,[...x,"subject"]):A(D.subject,[...x,"subject"]))||(D.predicate.termType==="Quad"?b(D.predicate,A,[...x,"predicate"]):A(D.predicate,[...x,"predicate"]))||(D.object.termType==="Quad"?b(D.object,A,[...x,"object"]):A(D.object,[...x,"object"]))||(D.graph.termType==="Quad"?b(D.graph,A,[...x,"graph"]):A(D.graph,[...x,"graph"]))}sr.someTermsNested=b;function _(D,A){if(A.length===0)return D;if(D.termType==="Quad")return _(D[A[0]],A.slice(1));throw new Error(`Tried to get ${A[0]} from term of type ${D.termType}`)}sr.getValueNestedPath=_;function w(D,A){return!A||A.termType==="Variable"||A.termType==="Quad"&&D.termType==="Quad"&&R(D,A)||A.equals(D)}sr.matchTerm=w;function T(D,A,x,N,j){return w(D.subject,A)&&w(D.predicate,x)&&w(D.object,N)&&w(D.graph,j)}sr.matchPattern=T;function R(D,A){return T(D,A.subject,A.predicate,A.object,A.graph)}sr.matchPatternComplete=R;function F(D,A,x={}){const N={};function j(H,M){return m(H,($,te)=>{var re,oe;const J=M[te];switch($.termType){case"Variable":return x.skipVarMapping&&J.termType==="Variable"||((oe=(re=N[$.value])===null||re===void 0?void 0:re.equals(J))!==null&&oe!==void 0?oe:(N[$.value]=J,!0));case"Quad":return J.termType==="Quad"&&j($,J);default:return $.equals(J)}})}return j(A,D)&&(x.returnMappings?N:!0)}return sr.matchPatternMappings=F,sr}var Zn={},bL;function gme(){if(bL)return Zn;bL=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.getQuads=Zn.getDefaultGraphs=Zn.getVariables=Zn.getLiterals=Zn.getBlankNodes=Zn.getNamedNodes=Zn.getTermsOfType=Zn.uniqTerms=Zn.TERM_TYPES=void 0;const e=nn();Zn.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(u){const c={};return u.filter(d=>{const f=(0,e.termToString)(d);return!(f in c)&&(c[f]=!0)})}Zn.uniqTerms=t;function i(u,c){return u.filter(d=>d.termType===c)}Zn.getTermsOfType=i;function r(u){return i(u,"NamedNode")}Zn.getNamedNodes=r;function n(u){return i(u,"BlankNode")}Zn.getBlankNodes=n;function a(u){return i(u,"Literal")}Zn.getLiterals=a;function o(u){return i(u,"Variable")}Zn.getVariables=o;function s(u){return i(u,"DefaultGraph")}Zn.getDefaultGraphs=s;function l(u){return i(u,"Quad")}return Zn.getQuads=l,Zn}var _L;function Qi(){return _L||(_L=1,function(e){var t=ic&&ic.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ic&&ic.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(MX(),e),i(gme(),e)}(ic)),ic}var xo={},co={},HR,wL;function mme(){return wL||(wL=1,HR=function e(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=i.length)return!1;for(n=r;n--!==0;)if(!e(t[n],i[n]))return!1;return!0}if(t instanceof Map&&i instanceof Map){if(t.size!==i.size)return!1;for(n of t.entries())if(!i.has(n[0]))return!1;for(n of t.entries())if(!e(n[1],i.get(n[0])))return!1;return!0}if(t instanceof Set&&i instanceof Set){if(t.size!==i.size)return!1;for(n of t.entries())if(!i.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(i)){if(r=t.length,r!=i.length)return!1;for(n=r;n--!==0;)if(t[n]!==i[n])return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(i).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[n]))return!1;for(n=r;n--!==0;){var o=a[n];if(!e(t[o],i[o]))return!1}return!0}return t!==t&&i!==i}),HR}var $R={},SL;function X2(){return SL||(SL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.expressionTypes=e.types=void 0,function(t){t.ALT="alt",t.ASK="ask",t.BGP="bgp",t.CONSTRUCT="construct",t.DESCRIBE="describe",t.DISTINCT="distinct",t.EXPRESSION="expression",t.EXTEND="extend",t.FILTER="filter",t.FROM="from",t.GRAPH="graph",t.GROUP="group",t.INV="inv",t.JOIN="join",t.LEFT_JOIN="leftjoin",t.LINK="link",t.MINUS="minus",t.NOP="nop",t.NPS="nps",t.ONE_OR_MORE_PATH="OneOrMorePath",t.ORDER_BY="orderby",t.PATH="path",t.PATTERN="pattern",t.PROJECT="project",t.REDUCED="reduced",t.SEQ="seq",t.SERVICE="service",t.SLICE="slice",t.UNION="union",t.VALUES="values",t.ZERO_OR_MORE_PATH="ZeroOrMorePath",t.ZERO_OR_ONE_PATH="ZeroOrOnePath",t.COMPOSITE_UPDATE="compositeupdate",t.DELETE_INSERT="deleteinsert",t.LOAD="load",t.CLEAR="clear",t.CREATE="create",t.DROP="drop",t.ADD="add",t.MOVE="move",t.COPY="copy"}(e.types||(e.types={})),function(t){t.AGGREGATE="aggregate",t.EXISTENCE="existence",t.NAMED="named",t.OPERATOR="operator",t.TERM="term",t.WILDCARD="wildcard"}(e.expressionTypes||(e.expressionTypes={}))}($R)),$R}var us={},QR={},AL;function jX(){if(AL)return QR;AL=1;let e=class{constructor(){return t||this}equals(r){return r&&this.termType===r.termType}};Object.defineProperty(e.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(e.prototype,"termType",{enumerable:!0,value:"Wildcard"});var t=new e;return QR.Wildcard=e,QR}var zR,TL;function yme(){if(TL)return zR;TL=1;var e=function(){var t=function(ft,at,mt,It){for(mt=mt||{},It=ft.length;It--;mt[ft[It]]=at);return mt},i=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],r=[2,247],n=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],o=[1,18],s=[1,27],l=[13,16,45,197,224,229,308],u=[28,29,53],c=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],g=[123,126],m=[1,67],y=[39,45,87],v=[13,16,45,197,224,308],b=[1,87],_=[2,281],w=[1,86],T=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],R=[6,28,29,53,63,70,73,81,83,85],F=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],D=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],A=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],x=[13,16,308],N=[112,132,327,334],j=[13,16,112,132,308],H=[1,111],M=[1,117],$=[112,132,327,328,334],te=[13,16,112,132,308,328],re=[28,29,45,53,87],oe=[1,138],J=[1,151],fe=[1,128],xe=[1,127],de=[1,129],ae=[1,140],Fe=[1,141],Le=[1,142],me=[1,143],pe=[1,144],_e=[1,145],X=[1,147],C=[1,148],E=[2,457],S=[1,158],I=[1,159],k=[1,160],Q=[1,152],G=[1,153],ne=[1,156],ee=[1,171],se=[1,172],ge=[1,173],Ae=[1,174],Ve=[1,175],Ge=[1,176],qe=[1,167],Ee=[1,168],W=[1,169],V=[1,170],K=[1,157],z=[1,166],be=[1,161],ke=[1,162],Pe=[1,163],dt=[1,164],pt=[1,165],tt=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],At=[1,195],ve=[6,31,73,81,83,85],et=[2,285],Ze=[1,199],st=[1,201],ut=[6,31,70,73,81,83,85],xt=[2,283],Nt=[1,207],Lt=[1,218],er=[1,223],Ie=[1,219],U=[1,225],he=[1,226],je=[1,224],Ke=[6,63,70,73,81,83,85],Et=[1,236],lt=[2,334],qt=[1,243],bt=[1,241],Rt=[6,193],Qt=[2,349],gr=[2,339],Zt=[28,128],Dt=[47,48,193,272],Hn=[47,48,193,242,272],St=[47,48,193,242,246,272],Ce=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],Qe=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Xe=[1,271],jt=[1,270],kt=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Wt=[1,281],Br=[1,280],Yr=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Ua=[45,89],xi=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],an=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Gi=[31,89],Wn=[48,87],sa=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],Nn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],Ha=[1,313],P=[6,85],O=[6,31,81,83,85],L=[2,361],q=[2,353],Y=[1,343],ce=[31,112,335],we=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Z=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],ie=[6,109,193],le=[31,112],Se=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Re=[1,390],De=[1,391],Ue=[13,16,87,197,308,314],ze=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Ye=[1,417],rt=[1,418],ye=[13,16,48,197,229,308],Ne=[6,31,85],Be=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],$e=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Je=[29,31,85,112,159,160,161,163,164],it=[1,443],Vt=[1,444],yt=[1,449],cr=[31,112,193,232,318,335],Ut=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],tr=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],ar=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Ar=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Dr=[31,45],Fn=[1,507],Kn=[1,508],bi=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],hn=[29,31,85,112,159,160,161,163,164,335],ln=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],ai=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],_i=[2,352],ks=[13,16,197,308,314],Bs=[1,565],so=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],qs=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],$a=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Iu=[13,16,87,308],Jn=[2,364],fi=[29,31,85,112,159,160,161,163,164,193,232,318,335],Vs=[31,112,193,232,272,318,335],ua=[2,359],Ll=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Yo=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],ig=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Cu=[2,347],la={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(at,mt,It,or,dr,Te,Qa){var Oe=Te.length-1;switch(dr){case 1:if(Te[Oe-1]=Te[Oe-1]||{},Cr.base&&(Te[Oe-1].base=Cr.base),Cr.base="",Te[Oe-1].prefixes=Cr.prefixes,Cr.prefixes=null,Cr.pathOnly){if(Te[Oe-1].type==="path"||"termType"in Te[Oe-1])return Te[Oe-1];throw new Error("Received full SPARQL query in path only mode")}else if(Te[Oe-1].type==="path"||"termType"in Te[Oe-1])throw new Error("Received only path in full SPARQL mode");if(Te[Oe-1].type==="update"){const Or={};for(const Zr of Te[Oe-1].updates)if(Zr.updateType==="insert"){const Tr={};for(const Oi of Zr.insert)if(Oi.type==="bgp"||Oi.type==="graph")for(const Pi of Oi.triples)Pi.subject.termType==="BlankNode"&&(Tr[Pi.subject.value]=!0),Pi.predicate.termType==="BlankNode"&&(Tr[Pi.predicate.value]=!0),Pi.object.termType==="BlankNode"&&(Tr[Pi.object.value]=!0);for(const Oi of Object.keys(Tr)){if(Or[Oi])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Or[Oi]=!0}}}return Te[Oe-1];case 2:this.$={...Te[Oe-1],...Te[Oe],type:"query"};break;case 4:Cr.base=X0(Te[Oe]);break;case 5:Cr.prefixes||(Cr.prefixes={}),Te[Oe-1]=Te[Oe-1].substr(0,Te[Oe-1].length-1),Te[Oe]=X0(Te[Oe]),Cr.prefixes[Te[Oe-1]]=Te[Oe];break;case 6:this.$={...Te[Oe-3],...jl(Te[Oe-2]),...Te[Oe-1],...Te[Oe]};break;case 7:if(!Cr.skipValidation&&(ux(Te[Oe-3].variables.map(Zr=>sx(Zr.expression))).some(Zr=>Zr.aggregation==="count"&&!(Zr.expression instanceof uo))||Te[Oe].group)){for(const Zr of Te[Oe-3].variables)if(Zr.termType==="Variable"){if(!Te[Oe].group||!Te[Oe].group.map(Tr=>lg(Tr)).includes(lg(Zr)))throw Error("Projection of ungrouped variable (?"+lg(Zr)+")")}else if(sx(Zr.expression).length===0){const Tr=Bae(Zr.expression);for(const Oi of Tr)if(!Te[Oe].group||!Te[Oe].group.map||!Te[Oe].group.map(Pi=>lg(Pi)).includes(lg(Oi)))throw Error("Use of ungrouped variable in projection of operation (?"+lg(Oi)+")")}}const cg=Te[Oe-1].where.filter(Or=>Or.type==="query");if(cg.length>0){const Or=Te[Oe-3].variables.filter(Tr=>Tr.variable&&Tr.variable.value).map(Tr=>Tr.variable.value),Zr=ux(cg.map(Tr=>Tr.variables)).map(Tr=>Tr.value||Tr.variable.value);for(const Tr of Or)if(Zr.indexOf(Tr)>=0)throw Error("Target id of 'AS' (?"+Tr+") already used in subquery")}this.$=Xn(Te[Oe-3],jl(Te[Oe-2]),Te[Oe-1],Te[Oe]);break;case 8:this.$=Xn({queryType:"CONSTRUCT",template:Te[Oe-3]},jl(Te[Oe-2]),Te[Oe-1],Te[Oe]);break;case 9:this.$=Xn({queryType:"CONSTRUCT",template:Te[Oe-2]=Te[Oe-2]?Te[Oe-2].triples:[]},jl(Te[Oe-5]),{where:[{type:"bgp",triples:ag([],Te[Oe-2])}]},Te[Oe]);break;case 10:this.$=Xn({queryType:"DESCRIBE",variables:Te[Oe-3]==="*"?[new uo]:Te[Oe-3]},jl(Te[Oe-2]),Te[Oe-1],Te[Oe]);break;case 11:this.$=Xn({queryType:"ASK"},jl(Te[Oe-2]),Te[Oe-1],Te[Oe]);break;case 12:this.$=Xn(Te[Oe-1],{variables:[new uo]});break;case 13:const fx=Te[Oe].map(Or=>Or.value||Or.variable.value),AA=qae(fx);if(AA.length>0)throw Error("Two or more of the resulting columns have the same name (?"+AA[0]+")");this.$=Xn(Te[Oe-1],{variables:Te[Oe]});break;case 14:this.$=Xn({queryType:"SELECT"},Te[Oe]&&(Te[Oe-1]=ca(Te[Oe]),Te[Oe]={},Te[Oe][Te[Oe-1]]=!0,Te[Oe]));break;case 16:case 27:this.$=og(Te[Oe-3],{variable:Te[Oe-1]});break;case 17:case 18:this.$=Xn(Te[Oe-3],Te[Oe-2],Te[Oe-1],Te[Oe],{type:"query"});break;case 19:case 58:this.$={iri:Te[Oe],named:!!Te[Oe-1]};break;case 20:this.$={where:Te[Oe].patterns};break;case 21:this.$=Xn(Te[Oe-1],Te[Oe]);break;case 22:this.$=Xn(Te[Oe-2],Te[Oe-1],Te[Oe]);break;case 23:this.$={group:Te[Oe]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=og(Te[Oe]);break;case 26:this.$=og(Te[Oe-1]);break;case 29:this.$={having:Te[Oe]};break;case 30:this.$={order:Te[Oe]};break;case 32:this.$=og(Te[Oe],{descending:!0});break;case 35:this.$={limit:ug(Te[Oe])};break;case 36:this.$={offset:ug(Te[Oe])};break;case 37:this.$={limit:ug(Te[Oe-2]),offset:ug(Te[Oe])};break;case 38:this.$={limit:ug(Te[Oe]),offset:ug(Te[Oe-2])};break;case 39:case 43:this.$={type:"values",values:Te[Oe]};break;case 40:case 84:this.$=Te[Oe-1].map(Or=>({[Te[Oe-3]]:Or}));break;case 41:case 85:this.$=Te[Oe-1].map(()=>({}));break;case 42:case 86:var Fu=Te[Oe-4].length;Te[Oe-4]=Te[Oe-4].map(tx),this.$=Te[Oe-1].map(function(Or){if(Or.length!==Fu)throw Error("Inconsistent VALUES length");for(var Zr={},Tr=0;Tr<Fu;Tr++)Zr["?"+Te[Oe-4][Tr].value]=Or[Tr];return Zr});break;case 44:case 65:case 100:case 126:case 175:this.$=Te[Oe-1];break;case 45:this.$={type:"update",updates:Ml(Te[Oe-2],Te[Oe-1])};break;case 46:this.$=Xn({type:"load",silent:!!Te[Oe-2],source:Te[Oe-1]},Te[Oe]&&{destination:Te[Oe]});break;case 47:this.$={type:ca(Te[Oe-2]),silent:!!Te[Oe-1],graph:Te[Oe]};break;case 48:this.$={type:ca(Te[Oe-4]),silent:!!Te[Oe-3],source:Te[Oe-2],destination:Te[Oe]};break;case 49:this.$={type:"create",silent:!!Te[Oe-2],graph:{type:"graph",name:Te[Oe]}};break;case 50:this.$={updateType:"insert",insert:x4(Te[Oe])};break;case 51:this.$={updateType:"delete",delete:dx(x4(Te[Oe]))};break;case 52:this.$={updateType:"deletewhere",delete:dx(Te[Oe])};break;case 53:this.$={updateType:"insertdelete",...Te[Oe-4],...Te[Oe-3],...jl(Te[Oe-2],"using"),where:Te[Oe].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=Te[Oe];break;case 55:this.$={delete:dx(Te[Oe-1]),insert:Te[Oe]||[]};break;case 56:this.$={delete:[],insert:Te[Oe]};break;case 59:this.$={graph:Te[Oe]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:Te[Oe]};break;case 64:this.$={[ca(Te[Oe])]:!0};break;case 66:this.$=Te[Oe-1]?rs(Te[Oe],[Te[Oe-1]]):rs(Te[Oe]);break;case 67:var _A=Xn(Te[Oe-3]||{triples:[]},{type:"graph",name:Te[Oe-5]});this.$=Te[Oe]?[_A,Te[Oe]]:[_A];break;case 68:case 73:this.$={type:"bgp",triples:rs(Te[Oe-2],[Te[Oe-1]])};break;case 69:this.$={type:"group",patterns:[Te[Oe-1]]};break;case 70:for(const Or of Te[Oe-1].filter(Zr=>Zr.type==="bind")){const Zr=Te[Oe-1].indexOf(Or),Tr=new Set;for(const Oi of Te[Oe-1].slice(0,Zr))(Oi.type==="group"||Oi.type==="bgp")&&T4(Oi).forEach(Pi=>Tr.add(Pi));if(Tr.has(Or.variable.value))throw Error("Variable used to bind is already bound (?"+Or.variable.value+")")}this.$={type:"group",patterns:Te[Oe-1]};break;case 71:this.$=Te[Oe-1]?rs([Te[Oe-1]],Te[Oe]):rs(Te[Oe]);break;case 72:this.$=Te[Oe]?[Te[Oe-2],Te[Oe]]:Te[Oe-2];break;case 75:this.$=Xn(Te[Oe],{type:"optional"});break;case 76:this.$=Xn(Te[Oe],{type:"minus"});break;case 77:this.$=Xn(Te[Oe],{type:"graph",name:Te[Oe-1]});break;case 78:this.$=Xn(Te[Oe],{type:"service",name:Te[Oe-1],silent:!!Te[Oe-2]});break;case 79:this.$={type:"filter",expression:Te[Oe]};break;case 80:this.$={type:"bind",variable:Te[Oe-1],expression:Te[Oe-3]};break;case 89:this.$=Z0(Te[Oe]);break;case 90:this.$=void 0;break;case 91:this.$=Te[Oe-1].length?{type:"union",patterns:rs(Te[Oe-1].map(nx),[nx(Te[Oe])])}:Te[Oe];break;case 95:this.$={...Te[Oe],function:Te[Oe-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Ml(Te[Oe-2],Te[Oe-1]),distinct:!!Te[Oe-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Ml(Te[Oe-2],Te[Oe-1]);break;case 101:this.$=rs(Te[Oe-2],[Te[Oe-1]]);break;case 102:case 112:this.$=cx(Te[Oe].map(Or=>Xn(Us(Te[Oe-1]),Or)));break;case 103:this.$=cx(ag(Te[Oe].map(Or=>Xn(Us(Te[Oe-1].entity),Or)),Te[Oe-1].triples));break;case 105:this.$=rs([Te[Oe-1]],Te[Oe]);break;case 106:this.$=rs(Te[Oe]);break;case 107:this.$=ox(Te[Oe-1],Te[Oe]);break;case 109:case 237:this.$=Cr.factory.namedNode(pn);break;case 110:case 118:this.$=Ml(Te[Oe-1],Te[Oe]);break;case 111:this.$=Te[Oe]?{annotation:Te[Oe],object:Te[Oe-1]}:Te[Oe-1];break;case 113:this.$=Te[Oe]?cx(ag(Te[Oe].map(Or=>Xn(Us(Te[Oe-1].entity),Or)),Te[Oe-1].triples)):Te[Oe-1].triples;break;case 114:this.$=ox(...Te[Oe-1],Te[Oe]);break;case 116:this.$=ox(...Te[Oe]);break;case 117:case 159:case 163:this.$=[Te[Oe-1],Te[Oe]];break;case 119:this.$=Te[Oe]?{object:Te[Oe-1],annotation:Te[Oe]}:Te[Oe-1];break;case 120:this.$=Te[Oe-1].length?sg("|",Ml(Te[Oe-1],Te[Oe])):Te[Oe];break;case 121:this.$=Te[Oe-1].length?sg("/",Ml(Te[Oe-1],Te[Oe])):Te[Oe];break;case 122:this.$=Te[Oe]?sg(Te[Oe],[Te[Oe-1]]):Te[Oe-1];break;case 123:this.$=Te[Oe-1]?sg(Te[Oe-1],[Te[Oe]]):Te[Oe];break;case 125:case 131:this.$=sg(Te[Oe-1],[Te[Oe]]);break;case 129:this.$=sg("|",Ml(Te[Oe-2],Te[Oe-1]));break;case 132:case 134:this.$=jae(Te[Oe-1]);break;case 133:case 135:this.$=kae(Te[Oe-1]);break;case 140:this.$={entity:Te[Oe],triples:[]};break;case 145:this.$=tx(Te[Oe]);break;case 149:this.$=Cr.factory.namedNode($n);break;case 151:case 153:case 158:case 162:this.$=rx(Te[Oe-1],Te[Oe]);break;case 152:this.$=["||",Te[Oe]];break;case 154:this.$=["&&",Te[Oe]];break;case 156:this.$=Ri(Te[Oe-1],[Te[Oe-2],Te[Oe]]);break;case 157:this.$=Ri(Te[Oe-2]?"notin":"in",[Te[Oe-3],Te[Oe]]);break;case 160:this.$=["+",rx(Te[Oe-1],Te[Oe])];break;case 161:var wA=ns(Te[Oe-1].value.replace("-",""),Te[Oe-1].datatype);this.$=["-",rx(wA,Te[Oe])];break;case 164:this.$=Ri("UPLUS",[Te[Oe]]);break;case 165:this.$=Ri(Te[Oe-1],[Te[Oe]]);break;case 166:this.$=Ri("UMINUS",[Te[Oe]]);break;case 177:this.$=Ri(ca(Te[Oe-1]));break;case 178:this.$=Ri(ca(Te[Oe-3]),[Te[Oe-1]]);break;case 179:this.$=Z0(Ri(ca(Te[Oe-3]),[Te[Oe-1]]));break;case 180:this.$=Ri(ca(Te[Oe-5]),[Te[Oe-3],Te[Oe-1]]);break;case 181:this.$=Ri(ca(Te[Oe-7]),[Te[Oe-5],Te[Oe-3],Te[Oe-1]]);break;case 182:this.$=Z0(Ri(ca(Te[Oe-7]),[Te[Oe-5],Te[Oe-3],Te[Oe-1]]));break;case 183:this.$=Ri(ca(Te[Oe-1]),Te[Oe]);break;case 184:this.$=Ri("bound",[tx(Te[Oe-1])]);break;case 185:this.$=Ri(Te[Oe-1],[]);break;case 186:this.$=Ri(Te[Oe-3],[Te[Oe-1]]);break;case 187:this.$=Ri(Te[Oe-2]?"notexists":"exists",[nx(Te[Oe])]);break;case 188:case 189:this.$=og(Te[Oe-1],{type:"aggregate",aggregation:ca(Te[Oe-4]),distinct:!!Te[Oe-2]});break;case 190:this.$=og(Te[Oe-2],{type:"aggregate",aggregation:ca(Te[Oe-5]),distinct:!!Te[Oe-3],separator:typeof Te[Oe-1]=="string"?Te[Oe-1]:" "});break;case 192:this.$=ns(Te[Oe]);break;case 193:this.$=Nae(Te[Oe-1],ca(Te[Oe].substr(1)));break;case 194:this.$=ns(Te[Oe-2],Te[Oe]);break;case 195:case 204:this.$=ns(Te[Oe],Zo);break;case 196:case 205:this.$=ns(Te[Oe],es);break;case 197:case 206:this.$=ns(ca(Te[Oe]),bA);break;case 200:this.$=ns(Te[Oe].toLowerCase(),ex);break;case 201:this.$=ns(Te[Oe].substr(1),Zo);break;case 202:this.$=ns(Te[Oe].substr(1),es);break;case 203:this.$=ns(Te[Oe].substr(1).toLowerCase(),bA);break;case 207:case 208:this.$=A4(Te[Oe],1);break;case 209:case 210:this.$=A4(Te[Oe],3);break;case 211:this.$=Cr.factory.namedNode(X0(Te[Oe]));break;case 213:var SA=Te[Oe].indexOf(":"),Yn=Te[Oe].substr(0,SA),is=Cr.prefixes[Yn];if(!is)throw new Error("Unknown prefix: "+Yn);var kl=X0(is+Te[Oe].substr(SA+1));this.$=Cr.factory.namedNode(kl);break;case 214:if(Te[Oe]=Te[Oe].substr(0,Te[Oe].length-1),!(Te[Oe]in Cr.prefixes))throw new Error("Unknown prefix: "+Te[Oe]);var kl=X0(Cr.prefixes[Te[Oe]]);this.$=Cr.factory.namedNode(kl);break;case 215:this.$=Y0(Te[Oe].replace(/^(_:)/,""));break;case 216:this.$=Y0();break;case 217:case 218:case 232:this.$=Z0(ix(Te[Oe-3],Te[Oe-2],Te[Oe-1]));break;case 230:case 231:this.$=Z0(Te[Oe-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:Te[Oe-1].push(Te[Oe]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[Te[Oe]];break;case 308:Te[Oe-3].push(Te[Oe-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:Te[Oe-2].push(Te[Oe-1]);break}},table:[t(i,r,{3:1,4:2,10:3}),{1:[3]},t(n,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:o}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:s},{6:[2,239]},t(l,[2,411],{216:28,217:29}),t(u,[2,249],{18:30}),t(u,[2,251],{22:31}),t(c,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(u,[2,267],{37:46}),t(g,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:m,87:h},t(y,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(i,[2,248]),t(i,[2,245]),t(i,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(v,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:b,29:_,52:84,53:w,56:85},{19:88,28:b,29:_,52:89,53:w,56:85},t(u,[2,253],{26:90}),{28:[1,91],52:92,53:w},t(T,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(R,[2,263],{34:96}),t(R,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),t(R,[2,262]),t(F,[2,259]),t(D,[2,143]),t(D,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(A,[2,211]),t(A,[2,212]),t(A,[2,213]),t(A,[2,214]),{19:98,28:b,29:_,52:99,53:w,56:85},{6:[2,309],99:100,193:[1,101]},t(x,[2,311],{101:102,328:[1,103]}),t(N,[2,317],{104:104,328:[1,105]}),t(j,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:H,114:110},{29:H,114:112},{29:H,114:113},{118:114,123:[1,115],125:116,126:M},t($,[2,315]),t($,[2,316]),t(te,[2,319]),t(te,[2,320]),t(te,[2,321]),t(g,[2,327]),{13:d,16:f,55:118,307:43,308:p},t(u,[2,12]),t(u,[2,13],{44:66,43:119,45:m,87:h}),t(re,[2,269]),t(re,[2,15]),{13:d,16:f,44:136,45:oe,46:120,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(y,[2,14]),t(y,[2,274]),t(y,[2,271]),t(y,[2,272]),t(i,[2,4]),{13:[1,177]},t(tt,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(l,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:At,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(v,[2,419]),t(ve,et,{20:196,59:197,69:198,70:Ze}),t(u,[2,250]),{29:st,57:200},t(x,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(ut,xt,{23:204,58:205,62:206,63:Nt}),t(u,[2,252]),{19:208,28:b,29:_,52:209,53:w,56:85},{29:[1,210]},t(c,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:Lt,55:220,82:J,87:h,89:er,145:212,172:221,185:213,187:214,231:Ie,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(Ke,[2,265],{56:85,35:227,52:228,19:229,28:b,29:_,53:w}),t(F,[2,260]),t(ut,xt,{58:205,62:206,23:230,63:Nt}),t(u,[2,268]),{6:[2,45]},t(i,r,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},t(x,[2,312]),{105:233,112:Et,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(N,[2,318]),t(x,lt,{108:240,133:242,112:qt,132:bt}),t(j,[2,323]),{112:[1,244]},{112:[2,325]},t(Rt,[2,50]),t(T,Qt,{135:245,136:246,143:247,144:248,31:gr,112:gr}),t(Rt,[2,51]),t(Rt,[2,52]),t(Zt,[2,328],{119:249}),{29:H,114:250},t(Zt,[2,56]),{29:H,114:251},t(g,[2,59]),t(re,[2,270]),{47:[1,252]},t(Dt,[2,150]),t(Hn,[2,428],{240:253}),t(St,[2,430],{244:254}),t(St,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(Ce,[2,440],{252:264}),t(Qe,[2,448],{260:265}),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Qe,[2,167]),t(Qe,[2,168]),t(Qe,[2,169]),t(Qe,[2,170],{176:269,45:Xe,89:jt}),t(Qe,[2,171]),t(Qe,[2,172]),t(Qe,[2,173]),t(Qe,[2,174]),{13:d,16:f,44:136,45:oe,46:272,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(kt,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Wt,89:Br,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(Yr,[2,192],{292:[1,286],293:[1,287]}),t(Yr,[2,195]),t(Yr,[2,196]),t(Yr,[2,197]),t(Yr,[2,198]),t(Yr,[2,199]),t(Yr,[2,200]),{13:d,16:f,44:39,55:40,82:J,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(Ua,[2,452]),t(Ua,[2,453]),t(Ua,[2,454]),t(Ua,[2,455]),t(Ua,[2,456]),{279:[2,458]},t(xi,[2,207]),t(xi,[2,208]),t(xi,[2,209]),t(xi,[2,210]),t(Yr,[2,201]),t(Yr,[2,202]),t(Yr,[2,203]),t(Yr,[2,204]),t(Yr,[2,205]),t(Yr,[2,206]),t(i,[2,5]),t(an,[2,297],{88:295}),t(Gi,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(Wn,[2,301]),t(tt,[2,43]),t(tt,[2,82]),t(tt,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(l,[2,412]),t(sa,[2,123]),t(sa,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(Nn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:At,223:312,225:308,226:309,229:Ha,307:43,308:p},t(l,a,{215:10,214:314}),t(Nn,[2,236]),t(Nn,[2,237]),t(P,[2,6]),t(O,[2,287],{60:315,72:316,73:[1,317]}),t(ve,[2,286]),{13:d,16:f,45:oe,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,307:43,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t([6,31,63,70,73,81,83,85],[2,20]),t(T,L,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:q,31:q,85:q,112:q,159:q,160:q,161:q,163:q,164:q,41:o}),{13:d,16:f,55:331,307:43,308:p},t(x,[2,280]),t(P,[2,7]),t(ve,et,{59:197,69:198,20:332,70:Ze}),t(ut,[2,284]),{64:[1,333]},t(ut,xt,{58:205,62:206,23:334,63:Nt}),t(u,[2,254]),t(T,Qt,{144:248,30:335,143:336,31:[2,257]}),t(u,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:Y,307:43,308:p},t(ce,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:Y,308:p}),t(we,[2,227]),t(we,[2,228]),t(we,[2,229]),{13:d,16:f,44:215,45:Lt,55:220,82:J,87:h,89:er,172:221,185:351,187:350,200:348,230:347,231:Ie,234:349,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:Y,307:43,308:p},t(we,[2,146]),t(we,[2,147]),t(we,[2,148]),t(we,[2,149]),{13:d,16:f,44:354,55:355,82:J,87:h,172:357,237:356,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:358,312:je,313:353},t(Z,[2,215]),t(Z,[2,216]),t(ut,xt,{58:205,62:206,23:359,63:Nt}),t(R,[2,264]),t(Ke,[2,266]),t(P,[2,11]),t(n,[2,308],{6:[2,310]}),t(Rt,[2,313],{102:360,120:361,121:[1,362]}),t(Rt,[2,47]),t(Rt,[2,63]),t(Rt,[2,64]),{13:d,16:f,55:363,307:43,308:p},t(Rt,[2,336]),t(Rt,[2,337]),t(Rt,[2,338]),{109:[1,364]},t(ie,[2,60]),{13:d,16:f,55:365,307:43,308:p},t(x,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},t(le,[2,341],{137:368}),t(le,[2,340]),{13:d,16:f,44:215,45:Lt,55:220,82:J,87:h,89:er,145:369,172:221,185:213,187:214,231:Ie,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},{28:[1,370],127:371,128:[1,372]},t(Zt,[2,330],{124:373,125:374,126:M}),t(Zt,[2,57]),{44:375,87:h},t(Dt,[2,151],{241:376,242:[1,377]}),t(Hn,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,247:380,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{250:[1,381]},t(Se,[2,432]),t(Se,[2,433]),t(Se,[2,434]),t(Se,[2,435]),t(Se,[2,436]),t(Se,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge}),t(Ce,[2,162],{261:388,262:389,39:Re,338:De}),t(Qe,[2,164]),t(Qe,[2,165]),t(Qe,[2,166]),t(kt,[2,95]),t(kt,[2,96]),t(Se,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(kt,[2,177]),{13:d,16:f,44:136,45:oe,46:395,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:396,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:397,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:398,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:399,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(kt,[2,183]),t(kt,[2,98]),t(Se,[2,381],{180:400}),{87:[1,401]},t(kt,[2,185]),{13:d,16:f,44:136,45:oe,46:402,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{29:st,57:403},t(Yr,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:Y,307:43,308:p},t(Ue,[2,233]),t(Ue,[2,234]),t(Ue,[2,235]),t(ze,[2,459],{281:406,325:[1,407]}),t(Se,[2,463],{284:408,325:[1,409]}),t(Se,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:J,171:413,172:415,173:416,174:Ye,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:rt},{31:[1,419],89:[1,420]},{29:[1,421]},t(Wn,[2,302]),t(an,[2,367],{167:422}),t(Gi,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(Wn,[2,371]),t(sa,[2,122]),t(sa,[2,417]),t(sa,[2,413]),t(sa,[2,414]),t(sa,[2,415]),t(Nn,[2,125]),t(Nn,[2,127]),t(Nn,[2,128]),t(ye,[2,420],{227:426}),t(Nn,[2,130]),{13:d,16:f,55:194,197:At,223:427,307:43,308:p},{48:[1,428]},t(Ne,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(O,[2,288]),{64:[1,433]},t(ve,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:oe,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,276:X,277:C,279:E,280:S,283:I,285:k,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt}),t(Be,[2,293]),t($e,[2,92]),t($e,[2,93]),t($e,[2,94]),{45:Xe,89:jt,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:b,29:_,56:85},{19:438,28:b,29:_,56:85},t(Je,[2,355],{149:439}),t(Je,[2,354]),{13:d,16:f,44:215,45:it,55:220,82:J,87:h,89:er,156:440,172:221,185:441,203:442,231:Vt,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(R,[2,19]),t(Ne,[2,21]),{13:d,16:f,44:450,45:yt,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,307:43,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(P,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(T,[2,386],{31:[2,388]}),t(ce,[2,102]),t(cr,[2,391],{191:452}),t(T,[2,395],{196:453,198:454}),t(T,[2,108]),t(T,[2,109]),t(ce,[2,103]),t(ce,[2,104]),t(ce,[2,390]),{13:d,16:f,44:215,45:Lt,48:[1,455],55:220,82:J,87:h,89:er,172:221,185:351,187:350,200:456,231:Ie,234:349,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(Ut,[2,424]),t(tr,[2,136]),t(tr,[2,137]),t(ar,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:Y,307:43,308:p},t(Ue,[2,219]),t(Ue,[2,220]),t(Ue,[2,221]),t(Ue,[2,222]),t(Ue,[2,223]),t(P,[2,10]),t(Rt,[2,46]),t(Rt,[2,314]),{112:Et,122:459},t(Rt,[2,62]),t(x,lt,{133:242,108:460,112:qt,132:bt}),t(ie,[2,61]),t(Rt,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(le,[2,351],{146:463,335:[1,464]}),{29:st,57:465},t(Zt,[2,329]),t(x,[2,332],{129:466,327:[1,467]}),t(Zt,[2,55]),t(Zt,[2,331]),{48:[1,468]},t(Hn,[2,429]),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(St,[2,431]),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,243:470,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(St,[2,156]),{45:Wt,89:Br,179:471},t(Ce,[2,441]),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,251:472,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Qe,[2,444],{256:473}),t(Qe,[2,446],{258:474}),t(Se,[2,442]),t(Se,[2,443]),t(Qe,[2,449]),{13:d,16:f,44:136,45:oe,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,255:154,257:155,259:475,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Se,[2,450]),t(Se,[2,451]),t(Se,[2,379],{178:476}),t(Se,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:oe,46:482,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{48:[1,483]},{48:[1,484]},t(kt,[2,187]),t(Yr,[2,194]),{13:d,16:f,44:39,55:40,82:J,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,320:485},{13:d,16:f,39:[1,487],44:136,45:oe,46:488,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,282:486,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(ze,[2,460]),{13:d,16:f,44:136,45:oe,46:489,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Se,[2,464]),{13:d,16:f,44:136,45:oe,46:490,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Se,[2,466]),t(tt,[2,40]),t(an,[2,298]),t(Ar,[2,87]),t(Ar,[2,88]),t(Ar,[2,89]),t(Ar,[2,90]),{13:d,16:f,55:492,82:J,172:493,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,311:494,312:je,315:491},t(tt,[2,41]),t(Gi,[2,300]),t(Dr,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:J,171:497,172:415,173:416,174:Ye,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:rt},{31:[1,498],89:[1,499]},{29:[1,500]},t(Wn,[2,372]),{13:d,16:f,48:[2,422],55:194,197:At,223:312,226:502,228:501,229:Ha,307:43,308:p},t(Nn,[2,131]),t(Nn,[2,126]),t(Ne,[2,22]),t(Ne,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:oe,55:323,67:321,68:322,74:505,75:506,76:Fn,77:320,78:Kn,79:509,87:h,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,307:43,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(Be,[2,294]),t(bi,[2,69]),t(bi,[2,70]),t(ve,et,{59:197,69:198,20:511,70:Ze}),t(ut,xt,{58:205,62:206,23:512,63:Nt}),{29:[2,375],31:[2,71],84:522,85:s,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Je,[2,363],{157:524,335:[1,525]}),t(l,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(hn,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:it,55:220,82:J,87:h,89:er,172:221,185:351,203:536,212:534,231:Vt,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(l,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(ut,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:yt,87:h,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,276:X,277:C,279:E,280:S,283:I,285:k,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt}),t(ln,[2,291]),t(ln,[2,24]),t(ln,[2,25]),{13:d,16:f,44:136,45:oe,46:539,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(ln,[2,28]),t(ut,xt,{58:205,62:206,23:540,63:Nt}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(cr,[2,107]),{13:d,16:f,44:215,45:Lt,55:220,82:J,87:h,89:er,172:221,185:351,187:350,199:543,200:544,231:Ie,234:349,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(ai,[2,132]),t(Ut,[2,425]),t(ai,[2,133]),{13:d,16:f,44:354,55:355,82:J,87:h,172:357,237:356,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:358,312:je,313:545},t(Rt,[2,54]),t(Rt,[2,48]),t(le,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},t(le,[2,68]),t(T,[2,350],{31:_i,112:_i}),t(Rt,[2,53]),{13:d,16:f,55:547,307:43,308:p},t(x,[2,333]),t(re,[2,16]),t(Hn,[2,152]),t(St,[2,154]),t(St,[2,157]),t(Ce,[2,159]),t(Ce,[2,160],{262:389,261:548,39:Re,338:De}),t(Ce,[2,161],{262:389,261:549,39:Re,338:De}),t(Qe,[2,163]),{13:d,16:f,44:136,45:oe,46:550,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(kt,[2,178]),t(kt,[2,179]),{13:d,16:f,44:136,45:oe,46:551,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:552,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:553,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{48:[1,554],272:[1,555]},t(kt,[2,184]),t(kt,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:At,223:562,307:43,308:p},t(ks,[2,224]),t(ks,[2,225]),t(ks,[2,226]),{31:[1,563],45:Bs,94:564},t(tt,[2,84]),t(an,[2,368]),t(tt,[2,85]),t(Gi,[2,370]),t(Dr,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Ne,[2,35],{83:[1,569]}),t(Ne,[2,36],{81:[1,570]}),t(O,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:oe,76:Fn,78:Kn,87:h,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,276:X,277:C,279:E,280:S,283:I,285:k,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt}),t(so,[2,295]),{45:oe,77:572},{45:oe,77:573},t(so,[2,33]),t(so,[2,34]),{31:[2,275],50:574,84:575,85:s},{31:[2,277],51:576,84:577,85:s},t(Je,[2,356]),t(qs,[2,357],{152:578,335:[1,579]}),t($a,[2,74]),{29:st,57:580},{29:st,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},t(Iu,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:oe,55:323,67:321,68:322,77:320,79:585,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,307:43,308:p,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{45:[1,586]},t($a,[2,81]),{29:st,57:587},t(Je,[2,73]),t(T,[2,362],{29:Jn,31:Jn,85:Jn,112:Jn,159:Jn,160:Jn,161:Jn,163:Jn,164:Jn}),t(hn,[2,112]),t(fi,[2,401],{206:588}),t(T,[2,405],{209:589,210:590}),t(T,[2,403]),t(T,[2,404]),t(hn,[2,113]),t(hn,[2,400]),{13:d,16:f,44:215,45:it,48:[1,591],55:220,82:J,87:h,89:er,172:221,185:351,203:536,212:592,231:Vt,234:535,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(Ut,[2,426]),t(ar,[2,138]),t(ar,[2,139]),{232:[1,593]},t(ln,[2,292]),{47:[1,595],48:[1,594]},t(P,[2,9]),t(cr,[2,392]),t(cr,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:Y,308:p}),t(cr,[2,110],{272:[1,598]}),t(Vs,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(Zt,[2,58]),t(Qe,[2,445]),t(Qe,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(kt,[2,99]),t(Se,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(kt,[2,188]),t(kt,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:J,172:493,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,311:494,312:je,315:611},t(tt,[2,42]),t(Dr,[2,304]),{13:d,16:f,55:414,82:J,95:612,171:613,172:415,173:416,174:Ye,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:rt},{31:[1,614],45:Bs,94:615},t(Nn,[2,129]),t(ye,[2,421]),{82:[1,616]},{82:[1,617]},t(so,[2,296]),t(so,[2,31]),t(so,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(T,L,{155:330,153:618,154:619,29:ua,31:ua,85:ua,112:ua,159:ua,160:ua,161:ua,163:ua,164:ua}),t(qs,[2,358]),t($a,[2,75]),t($a,[2,76]),{29:st,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},t(Iu,[2,366]),t($a,[2,79]),{13:d,16:f,44:136,45:oe,46:622,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t($a,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(fi,[2,117]),{13:d,16:f,44:215,45:it,55:220,82:J,87:h,89:er,172:221,185:351,203:536,211:626,212:627,231:Vt,234:535,236:216,237:222,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,309:U,310:he,311:217,312:je},t(we,[2,134]),t(Ut,[2,427]),t(we,[2,135]),t(ln,[2,26]),{44:628,87:h},t(cr,[2,106]),t(cr,[2,394]),t(T,[2,396]),t(Vs,[2,111]),t(Vs,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:Y,307:43,308:p},t(Z,[2,217]),t(T,Qt,{144:248,140:630,143:631,31:[2,343]}),t(kt,[2,97]),t(Se,[2,380]),t(kt,[2,180]),{13:d,16:f,44:136,45:oe,46:632,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},{13:d,16:f,44:136,45:oe,46:633,55:133,67:132,68:134,77:131,82:J,87:h,172:135,224:fe,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:xe,264:130,265:de,266:137,267:139,268:ae,269:Fe,270:Le,271:me,273:pe,274:_e,275:146,276:X,277:C,278:149,279:E,280:S,283:I,285:k,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:K,346:z,347:be,348:ke,349:Pe,350:dt,351:pt},t(kt,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:J,171:637,172:415,173:416,174:Ye,255:154,257:155,291:150,294:Q,295:G,296:ne,297:ee,298:se,299:ge,300:Ae,301:Ve,302:Ge,303:qe,304:Ee,305:W,306:V,307:43,308:p,312:rt},t(Ll,[2,305]),t(tt,[2,86]),t(Dr,[2,374]),t(Ne,[2,37]),t(Ne,[2,38]),t(Je,[2,72]),t(Je,[2,360]),t($a,[2,77]),{29:st,57:638},{47:[1,639]},{29:[2,376]},t(fi,[2,402]),t(fi,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),t(fi,[2,118],{272:[1,641]}),t(Yo,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:qe,304:Ee,305:W,306:V},t(Ar,[2,218]),t(Dr,[2,44]),t(Ll,[2,306]),t($a,[2,78]),{44:651,87:h},t(fi,[2,116]),t(T,[2,406]),t(Yo,[2,119]),t(Yo,[2,408]),t(l,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(ln,[2,27]),t(Vs,[2,230]),t(ig,[2,345],{141:653,335:[1,654]}),t(kt,[2,181]),t(kt,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(T,Qt,{144:248,142:657,143:658,31:Cu,112:Cu}),t(ig,[2,346]),t($a,[2,80]),t(Yo,[2,231]),t(le,[2,67]),t(le,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(at,mt){if(mt.recoverable)this.trace(at);else{var It=new Error(at);throw It.hash=mt,It}},parse:function(at){var mt=this,It=[0],or=[null],dr=[],Te=this.table,Qa="",Oe=0,Fu=0,_A=2,wA=1,SA=dr.slice.call(arguments,1),Yn=Object.create(this.lexer),is={yy:{}};for(var kl in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kl)&&(is.yy[kl]=this.yy[kl]);Yn.setInput(at,is.yy),is.yy.lexer=Yn,is.yy.parser=this,typeof Yn.yylloc>"u"&&(Yn.yylloc={});var cg=Yn.yylloc;dr.push(cg);var fx=Yn.options&&Yn.options.ranges;typeof is.yy.parseError=="function"?this.parseError=is.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var AA=function(){var dg;return dg=Yn.lex()||wA,typeof dg!="number"&&(dg=mt.symbols_[dg]||dg),dg},Or,Zr,Tr,Oi,Pi={},TA,Hs,R4,EA;;){if(Zr=It[It.length-1],this.defaultActions[Zr]?Tr=this.defaultActions[Zr]:((Or===null||typeof Or>"u")&&(Or=AA()),Tr=Te[Zr]&&Te[Zr][Or]),typeof Tr>"u"||!Tr.length||!Tr[0]){var hx="";EA=[];for(TA in Te[Zr])this.terminals_[TA]&&TA>_A&&EA.push("'"+this.terminals_[TA]+"'");Yn.showPosition?hx="Parse error on line "+(Oe+1)+`:
`+Yn.showPosition()+`
Expecting `+EA.join(", ")+", got '"+(this.terminals_[Or]||Or)+"'":hx="Parse error on line "+(Oe+1)+": Unexpected "+(Or==wA?"end of input":"'"+(this.terminals_[Or]||Or)+"'"),this.parseError(hx,{text:Yn.match,token:this.terminals_[Or]||Or,line:Yn.yylineno,loc:cg,expected:EA})}if(Tr[0]instanceof Array&&Tr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zr+", token: "+Or);switch(Tr[0]){case 1:It.push(Or),or.push(Yn.yytext),dr.push(Yn.yylloc),It.push(Tr[1]),Or=null,Fu=Yn.yyleng,Qa=Yn.yytext,Oe=Yn.yylineno,cg=Yn.yylloc;break;case 2:if(Hs=this.productions_[Tr[1]][1],Pi.$=or[or.length-Hs],Pi._$={first_line:dr[dr.length-(Hs||1)].first_line,last_line:dr[dr.length-1].last_line,first_column:dr[dr.length-(Hs||1)].first_column,last_column:dr[dr.length-1].last_column},fx&&(Pi._$.range=[dr[dr.length-(Hs||1)].range[0],dr[dr.length-1].range[1]]),Oi=this.performAction.apply(Pi,[Qa,Fu,Oe,is.yy,Tr[1],or,dr].concat(SA)),typeof Oi<"u")return Oi;Hs&&(It=It.slice(0,-1*Hs*2),or=or.slice(0,-1*Hs),dr=dr.slice(0,-1*Hs)),It.push(this.productions_[Tr[1]][0]),or.push(Pi.$),dr.push(Pi._$),R4=Te[It[It.length-2]][It[It.length-1]],It.push(R4);break;case 3:return!0}}return!0}},uo=jX().Wildcard,Ca="http://www.w3.org/1999/02/22-rdf-syntax-ns#",pn=Ca+"type",Eo=Ca+"first",Du=Ca+"rest",$n=Ca+"nil",Nu="http://www.w3.org/2001/XMLSchema#",Zo=Nu+"integer",es=Nu+"decimal",bA=Nu+"double",ex=Nu+"boolean",ts="",_4="",w4="";function ca(ft){return ft.toLowerCase()}function Ml(ft,at){return ft.push(at),ft}function ag(ft,at){return ft.push.apply(ft,at),ft}function Xn(ft){ft||(ft={});for(var at=1,mt=arguments.length,It;at<mt&&(It=arguments[at]||{});at++)for(var or in It)ft[or]=It[or];return ft}function rs(){for(var ft=[],at=0,mt=arguments.length;at<mt;at++)ft=ft.concat.apply(ft,arguments[at]);return ft}function X0(ft){if(ft[0]==="<"&&(ft=ft.substring(1,ft.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(ft))return ft;if(!Cr.base)throw new Error("Cannot resolve relative IRI "+ft+" because no base IRI was set.");switch(ts!==Cr.base&&(ts=Cr.base,_4=ts.replace(/[^\/:]*$/,""),w4=ts.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),ft[0]){case void 0:return ts;case"#":return ts+ft;case"?":return ts.replace(/(?:\?.*)?$/,ft);case"/":return w4+ft;default:return _4+ft}}function tx(ft){if(ft){var at=ft[0];if(at==="?"||at==="$")return Cr.factory.variable(ft.substr(1))}return ft}function Ri(ft,at){return{type:"operation",operator:ft,args:at||[]}}function og(ft,at){var mt={expression:ft==="*"?new uo:ft};if(at)for(var It in at)mt[It]=at[It];return mt}function sg(ft,at){return{type:"path",pathType:ft,items:at}}function rx(ft,at){for(var mt=0,It=at.length,or;mt<It&&(or=at[mt]);mt++)ft=Ri(or[0],[ft,or[1]]);return ft}function jl(ft,at){var mt=[],It=[],or=ft.length,dr,Te={};if(!or)return null;for(var Qa=0;Qa<or&&(dr=ft[Qa]);Qa++)(dr.named?It:mt).push(dr.iri);return Te[at||"from"]={default:mt,named:It},Te}function ug(ft){return parseInt(ft,10)}function nx(ft){return ft.type==="group"&&ft.patterns.length===1?ft.patterns[0]:ft}function ns(ft,at){return at&&at.termType!=="NamedNode"&&(at=Cr.factory.namedNode(at)),Cr.factory.literal(ft,at)}function Nae(ft,at){return Cr.factory.literal(ft,at)}function ix(ft,at,mt){if(!("termType"in at))throw new Error("Nested triples cannot contain paths");return Cr.factory.quad(ft,at,mt)}function Us(ft,at,mt,It){var or={};return ft!=null&&(or.subject=ft),at!=null&&(or.predicate=at),mt!=null&&(or.object=mt),It!=null&&(or.annotations=It),or}function Y0(ft){return typeof ft=="string"?ft.startsWith("e_")?Cr.factory.blankNode(ft):Cr.factory.blankNode("e_"+ft):Cr.factory.blankNode("g_"+S4++)}var S4=0;Cr._resetBlanks=function(){S4=0};var Fae=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Lae={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Mae=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,ax=String.fromCharCode;function A4(ft,at){ft=ft.substring(at,ft.length-at);try{ft=ft.replace(Fae,function(mt,It,or,dr){var Te;if(It){if(Te=parseInt(It,16),isNaN(Te))throw new Error;return ax(Te)}else if(or){if(Te=parseInt(or,16),isNaN(Te))throw new Error;return Te<65535?ax(Te):ax(55296+((Te-=65536)>>10),56320+(Te&1023))}else{var Qa=Lae[dr];if(!Qa)throw new Error;return Qa}})}catch{return""}if(Mae.exec(ft))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+ft);return ft}function jae(ft){var at=Y0(),mt=at,It=[],or,dr=[];ft.forEach(function(Fu){It.push(Fu.entity),ag(dr,Fu.triples)});for(var Te=0,Qa=0,Oe=It.length,or=Array(Oe*2);Te<Oe;)or[Qa++]=Us(mt,Cr.factory.namedNode(Eo),It[Te]),or[Qa++]=Us(mt,Cr.factory.namedNode(Du),mt=++Te<Oe?Y0():Cr.factory.namedNode($n));return{entity:at,triples:ag(or,dr)}}function kae(ft){var at=Y0();return{entity:at,triples:ft.map(function(mt){return Xn(Us(at),mt)})}}function ox(ft,at,mt){var It=[],or=[];return at.forEach(function(dr){let Te=null;dr.annotation&&(Te=dr.annotation,dr=dr.object),It.push(Us(null,ft,dr.entity,Te)),ag(or,dr.triples)}),rs(It,mt||[],or)}function lg(ft){return ft.variable?ft.variable.value:ft.value||ft.expression.value}function sx(ft){if(!ft)return[];if(ft.type==="aggregate")return[ft];if(ft.type==="operation"){const at=[];for(const mt of ft.args)at.push(...sx(mt));return at}return[]}function Bae(ft){const at=new Set,mt=function(It){It&&(It.termType==="Variable"?at.add(It):It.type==="operation"&&It.args.forEach(mt))};return mt(ft),at}function ux(ft,at=1,mt=[]){for(const It of ft)at>0&&It instanceof Array?ux(It,at-1,mt):mt.push(It);return mt}function lx(ft){return ft.termType==="Variable"}function T4(ft){if(ft.triples){const at=[];for(const mt of ft.triples)lx(mt.subject)&&at.push(mt.subject.value),lx(mt.predicate)&&at.push(mt.predicate.value),lx(mt.object)&&at.push(mt.object.value);return at}else if(ft.patterns){const at=[];for(const mt of ft.patterns)at.push(...T4(mt));return at}return[]}function qae(ft){const at=ft.slice().sort(),mt=[];for(let It=0;It<at.length-1;It++)at[It+1]==at[It]&&mt.push(at[It]);return mt}function Z0(ft){if(!Cr.sparqlStar)throw new Error("SPARQL-star support is not enabled");return ft}function E4(ft,at,mt){for(const It of at){const or=Us("subject"in It?It.subject:ft,It.predicate,It.object);mt.push(or),It.annotations&&E4(ix(ft,It.predicate,It.object),It.annotations,mt)}}function cx(ft){if(Cr.sparqlStar){const at=[];return ft.forEach(mt=>{const It=Us(mt.subject,mt.predicate,mt.object);at.push(It),mt.annotations&&E4(ix(mt.subject,mt.predicate,mt.object),mt.annotations,at)}),at}return ft}function x4(ft){for(const at of ft){if(at.type==="graph"&&at.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(at.type==="bgp"||at.type==="graph"){for(const mt of at.triples)if(mt.subject.termType==="Variable"||mt.predicate.termType==="Variable"||mt.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return ft}function dx(ft){for(const at of ft)if(at.type==="bgp"){for(const mt of at.triples)if(mt.subject.termType==="BlankNode"||mt.predicate.termType==="BlankNode"||mt.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return ft}var Vae=function(){var ft={EOF:1,parseError:function(mt,It){if(this.yy.parser)this.yy.parser.parseError(mt,It);else throw new Error(mt)},setInput:function(at,mt){return this.yy=mt||this.yy||{},this._input=at,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var at=this._input[0];this.yytext+=at,this.yyleng++,this.offset++,this.match+=at,this.matched+=at;var mt=at.match(/(?:\r\n?|\n).*/g);return mt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),at},unput:function(at){var mt=at.length,It=at.split(/(?:\r\n?|\n)/g);this._input=at+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-mt),this.offset-=mt;var or=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),It.length-1&&(this.yylineno-=It.length-1);var dr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:It?(It.length===or.length?this.yylloc.first_column:0)+or[or.length-It.length].length-It[0].length:this.yylloc.first_column-mt},this.options.ranges&&(this.yylloc.range=[dr[0],dr[0]+this.yyleng-mt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(at){this.unput(this.match.slice(at))},pastInput:function(){var at=this.matched.substr(0,this.matched.length-this.match.length);return(at.length>20?"...":"")+at.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var at=this.match;return at.length<20&&(at+=this._input.substr(0,20-at.length)),(at.substr(0,20)+(at.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var at=this.pastInput(),mt=new Array(at.length+1).join("-");return at+this.upcomingInput()+`
`+mt+"^"},test_match:function(at,mt){var It,or,dr;if(this.options.backtrack_lexer&&(dr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(dr.yylloc.range=this.yylloc.range.slice(0))),or=at[0].match(/(?:\r\n?|\n).*/g),or&&(this.yylineno+=or.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:or?or[or.length-1].length-or[or.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+at[0].length},this.yytext+=at[0],this.match+=at[0],this.matches=at,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(at[0].length),this.matched+=at[0],It=this.performAction.call(this,this.yy,this,mt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),It)return It;if(this._backtrack){for(var Te in dr)this[Te]=dr[Te];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var at,mt,It,or;this._more||(this.yytext="",this.match="");for(var dr=this._currentRules(),Te=0;Te<dr.length;Te++)if(It=this._input.match(this.rules[dr[Te]]),It&&(!mt||It[0].length>mt[0].length)){if(mt=It,or=Te,this.options.backtrack_lexer){if(at=this.test_match(It,dr[Te]),at!==!1)return at;if(this._backtrack){mt=!1;continue}else return!1}else if(!this.options.flex)break}return mt?(at=this.test_match(mt,dr[or]),at!==!1?at:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var mt=this.next();return mt||this.lex()},begin:function(mt){this.conditionStack.push(mt)},popState:function(){var mt=this.conditionStack.length-1;return mt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(mt){return mt=this.conditionStack.length-1-Math.abs(mt||0),mt>=0?this.conditionStack[mt]:"INITIAL"},pushState:function(mt){this.begin(mt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(mt,It,or,dr){switch(or){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(It.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return ft}();la.lexer=Vae;function Cr(){this.yy={}}return Cr.prototype=la,la.Parser=Cr,new Cr}();return zR=e,zR}var GR,EL;function vme(){if(EL)return GR;EL=1;var e="http://www.w3.org/2001/XMLSchema#integer",t="http://www.w3.org/2001/XMLSchema#string";function i(f){this._options=f=f||{};var h=f.prefixes||{};this._prefixByIri={};var p=[];for(var g in h){var m=h[g];s(m)&&(this._prefixByIri[m]=g,p.push(m))}var y=p.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+y+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=f.sparqlStar,this._indent=s(f.indent)?f.indent:"  ",this._newline=s(f.newline)?f.newline:`
`,this._explicitDatatype=!!f.explicitDatatype}i.prototype.toQuery=function(f){var h="";return f.queryType&&(h+=f.queryType.toUpperCase()+" "),f.reduced&&(h+="REDUCED "),f.distinct&&(h+="DISTINCT "),f.variables?h+=c(f.variables,void 0,function(p){return/^[?$]/.test(p)?p:l(p)?this.toEntity(p):"("+this.toExpression(p.expression)+" AS "+o(p.variable)+")"},this)+" ":f.template&&(h+=this.group(f.template,!0)+this._newline),f.from&&(h+=this.graphs("FROM ",f.from.default)+this.graphs("FROM NAMED ",f.from.named)),f.where&&(h+="WHERE "+this.group(f.where,!0)+this._newline),f.updates&&(h+=c(f.updates,";"+this._newline,this.toUpdate,this)),f.group&&(h+="GROUP BY "+c(f.group,void 0,function(p){var g=l(p.expression)?this.toEntity(p.expression):"("+this.toExpression(p.expression)+")";return p.variable?"("+g+" AS "+o(p.variable)+")":g},this)+this._newline),f.having&&(h+="HAVING ("+c(f.having,void 0,this.toExpression,this)+")"+this._newline),f.order&&(h+="ORDER BY "+c(f.order,void 0,function(p){var g="("+this.toExpression(p.expression)+")";return p.descending?"DESC "+g:g},this)+this._newline),f.offset&&(h+="OFFSET "+f.offset+this._newline),f.limit&&(h+="LIMIT "+f.limit+this._newline),f.values&&(h+=this.values(f)),h=this.baseAndPrefixes(f)+h,h.trim()},i.prototype.baseAndPrefixes=function(f){var h=f.base?"BASE <"+f.base+">"+this._newline:"",p="";for(var g in f.prefixes)(this._options.allPrefixes||this._usedPrefixes[g])&&(p+="PREFIX "+g+": <"+f.prefixes[g]+">"+this._newline);return h+p},i.prototype.toPattern=function(f){var h=f.type||f instanceof Array&&"array"||(f.subject&&f.predicate&&f.object?"triple":"");if(!(h in this))throw new Error("Unknown entry type: "+h);return this[h](f)},i.prototype.triple=function(f){return this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+"."},i.prototype.array=function(f){return c(f,this._newline,this.toPattern,this)},i.prototype.bgp=function(f){return this.encodeTriples(f.triples)},i.prototype.encodeTriples=function(f){if(!f.length)return"";for(var h=[],p=void 0,g=void 0,m=0;m<f.length;m++){var y=f[m];u(y.subject,p)?u(y.predicate,g)?h.push(","):(g=y.predicate,h.push(";"+this._newline,this._indent,this.toEntity(g))):(p&&h.push("."+this._newline),p=y.subject,g=y.predicate,h.push(this.toEntity(p)," ",this.toEntity(g))),h.push(" ",this.toEntity(y.object))}return h.push("."),h.join("")},i.prototype.graph=function(f){return"GRAPH "+this.toEntity(f.name)+" "+this.group(f)},i.prototype.graphs=function(f,h){return!h||h.length===0?"":c(h,"",function(p){return f+this.toEntity(p)+this._newline},this)},i.prototype.group=function(f,h){return f=h!==!0?this.array(f.patterns||f.triples):this.toPattern(f.type!=="group"?f:f.patterns),f.indexOf(this._newline)===-1?"{ "+f+" }":"{"+this._newline+this.indent(f)+this._newline+"}"},i.prototype.query=function(f){return this.toQuery(f)},i.prototype.filter=function(f){return"FILTER("+this.toExpression(f.expression)+")"},i.prototype.bind=function(f){return"BIND("+this.toExpression(f.expression)+" AS "+o(f.variable)+")"},i.prototype.optional=function(f){return"OPTIONAL "+this.group(f)},i.prototype.union=function(f){return c(f.patterns,this._newline+"UNION"+this._newline,function(h){return this.group(h,!0)},this)},i.prototype.minus=function(f){return"MINUS "+this.group(f)},i.prototype.values=function(f){var h=Object.keys(f.values.reduce(function(m,y){for(var v in y)m[v]=!0;return m},{})),p,g;return h.length===1?p=g="":(p="(",g=")"),"VALUES "+p+h.join(" ")+g+" {"+this._newline+c(f.values,this._newline,function(m){return"  "+p+c(h,void 0,function(y){return m[y]?this.toEntity(m[y]):"UNDEF"},this)+g},this)+this._newline+"}"},i.prototype.service=function(f){return"SERVICE "+(f.silent?"SILENT ":"")+this.toEntity(f.name)+" "+this.group(f)},i.prototype.toExpression=function(f){if(l(f))return this.toEntity(f);switch(f.type.toLowerCase()){case"aggregate":return f.aggregation.toUpperCase()+"("+(f.distinct?"DISTINCT ":"")+this.toExpression(f.expression)+(typeof f.separator=="string"?'; SEPARATOR = "'+f.separator.replace(r,n)+'"':"")+")";case"functioncall":return this.toEntity(f.function)+"("+c(f.args,", ",this.toExpression,this)+")";case"operation":var h=f.operator.toUpperCase(),p=f.args||[];switch(f.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(l(p[0])?this.toEntity(p[0]):"("+this.toExpression(p[0])+")")+" "+h+" "+(l(p[1])?this.toEntity(p[1]):"("+this.toExpression(p[1])+")");case"!":return"!("+this.toExpression(p[0])+")";case"uplus":return"+("+this.toExpression(p[0])+")";case"uminus":return"-("+this.toExpression(p[0])+")";case"notin":h="NOT IN";case"in":return this.toExpression(p[0])+" "+h+"("+(s(p[1])?p[1]:c(p[1],", ",this.toExpression,this))+")";case"notexists":h="NOT EXISTS";case"exists":return h+" "+this.group(p[0],!0);default:return h+"("+c(p,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+f.type)}},i.prototype.toEntity=function(f){if(l(f))switch(f.termType){case"Wildcard":return"*";case"Variable":return o(f);case"BlankNode":return"_:"+f.value;case"Literal":var h=f.value||"",p=f.language||"",g=f.datatype;if(f='"'+h.replace(r,n)+'"',p)f+="@"+p;else if(g){if(!this._explicitDatatype)switch(g.value){case t:return f;case e:if(/^\d+$/.test(h))return h+" "}f+="^^"+this.encodeIRI(g.value)}return f;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return f.graph&&f.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(f.graph)+" { "+this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+" }  >>":"<< "+this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+" >>";default:return this.encodeIRI(f.value)}else{var m=f.items.map(this.toEntity,this),y=f.pathType;switch(y){case"^":case"!":return y+m[0];case"*":case"+":case"?":return"("+m[0]+y+")";default:return"("+m.join(y)+")"}}};var r=/["\\\t\n\r\b\f]/g,n=function(f){return a[f]},a={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};i.prototype.encodeIRI=function(f){var h=this._prefixRegex.exec(f);if(h){var p=this._prefixByIri[h[1]];return this._usedPrefixes[p]=!0,p+":"+h[2]}return"<"+f+">"},i.prototype.toUpdate=function(f){switch(f.type||f.updateType){case"load":return"LOAD"+(f.source?" "+this.toEntity(f.source):"")+(f.destination?" INTO GRAPH "+this.toEntity(f.destination):"");case"insert":return"INSERT DATA "+this.group(f.insert,!0);case"delete":return"DELETE DATA "+this.group(f.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(f.delete,!0);case"insertdelete":return(f.graph?"WITH "+this.toEntity(f.graph)+this._newline:"")+(f.delete.length?"DELETE "+this.group(f.delete,!0)+this._newline:"")+(f.insert.length?"INSERT "+this.group(f.insert,!0)+this._newline:"")+(f.using?this.graphs("USING ",f.using.default):"")+(f.using?this.graphs("USING NAMED ",f.using.named):"")+"WHERE "+this.group(f.where,!0);case"add":case"copy":case"move":return f.type.toUpperCase()+" "+(f.silent?"SILENT ":"")+(f.source.default?"DEFAULT":this.toEntity(f.source.name))+" TO "+this.toEntity(f.destination.name);case"create":case"clear":case"drop":return f.type.toUpperCase()+(f.silent?" SILENT ":" ")+(f.graph.default?"DEFAULT":f.graph.named?"NAMED":f.graph.all?"ALL":"GRAPH "+this.toEntity(f.graph.name));default:throw new Error("Unknown update query type: "+f.type)}},i.prototype.indent=function(f){return f.replace(/^/gm,this._indent)};function o(f){return"?"+f.value}function s(f){return typeof f=="string"}function l(f){return typeof f.termType=="string"}function u(f,h){if(!f||!l(f)||!h||!l(h)||f.termType!==h.termType)return!1;switch(f.termType){case"Literal":return f.value===h.value&&f.language===h.language&&u(f.datatype,h.datatype);case"Quad":return u(f.subject,h.subject)&&u(f.predicate,h.predicate)&&u(f.object,h.object)&&u(f.graph,h.graph);default:return f.value===h.value}}function c(f,h,p,g){return f.map(p,g).join(s(h)?h:" ")}function d(f={}){return{stringify:function(h){var p=Object.create(f);return p.prefixes=h.prefixes,new i(p).toQuery(h)},createGenerator:function(){return new i(f)}}}return GR={Generator:d},GR}var WR,xL;function j0(){if(xL)return WR;xL=1;const{Parser:e}=yme(),{Generator:t}=vme(),{Wildcard:i}=jX(),{DataFactory:r}=yr();function n({prefixes:a,baseIRI:o,factory:s,pathOnly:l,sparqlStar:u,skipValidation:c,skipUngroupedVariableCheck:d}={}){const f={};for(const p in a??{})f[p]=a[p];const h=new e;return h.parse=function(){return e.base=o||"",e.prefixes=Object.create(f),e.factory=s||new r,e.sparqlStar=!!u,e.pathOnly=!!l,e.skipValidation=!!c||!!d,e.prototype.parse.apply(h,arguments)},h._resetBlanks=e._resetBlanks,h}return WR={Parser:n,Generator:t,Wildcard:i},WR}var RL;function u3(){if(RL)return us;RL=1;var e=us&&us.__createBinding||(Object.create?function(l,u,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(u,c);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,d,f)}:function(l,u,c,d){d===void 0&&(d=c),l[d]=u[c]}),t=us&&us.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),i=us&&us.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&e(u,l,c);return t(u,l),u};Object.defineProperty(us,"__esModule",{value:!0});const r=i(X2()),n=yr(),a=nn(),o=j0();class s{constructor(u){this.dataFactory=u||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(u,c=!0){return this.flattenMulti({type:r.types.ALT,input:u},c)}createAsk(u){return{type:r.types.ASK,input:u}}createBoundAggregate(u,c,d,f,h){const p=this.createAggregateExpression(c,d,f,h);return p.variable=u,p}createBgp(u){return{type:r.types.BGP,patterns:u}}createConstruct(u,c){return{type:r.types.CONSTRUCT,input:u,template:c}}createDescribe(u,c){return{type:r.types.DESCRIBE,input:u,terms:c}}createDistinct(u){return{type:r.types.DISTINCT,input:u}}createExtend(u,c,d){return{type:r.types.EXTEND,input:u,variable:c,expression:d}}createFrom(u,c,d){return{type:r.types.FROM,input:u,default:c,named:d}}createFilter(u,c){return{type:r.types.FILTER,input:u,expression:c}}createGraph(u,c){return{type:r.types.GRAPH,input:u,name:c}}createGroup(u,c,d){return{type:r.types.GROUP,input:u,variables:c,aggregates:d}}createInv(u){return{type:r.types.INV,path:u}}createJoin(u,c=!0){return this.flattenMulti({type:r.types.JOIN,input:u},c)}createLeftJoin(u,c,d){return d?{type:r.types.LEFT_JOIN,input:[u,c],expression:d}:{type:r.types.LEFT_JOIN,input:[u,c]}}createLink(u){return{type:r.types.LINK,iri:u}}createMinus(u,c){return{type:r.types.MINUS,input:[u,c]}}createNop(){return{type:r.types.NOP}}createNps(u){return{type:r.types.NPS,iris:u}}createOneOrMorePath(u){return{type:r.types.ONE_OR_MORE_PATH,path:u}}createOrderBy(u,c){return{type:r.types.ORDER_BY,input:u,expressions:c}}createPath(u,c,d,f){return f?{type:r.types.PATH,subject:u,predicate:c,object:d,graph:f}:{type:r.types.PATH,subject:u,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(u,c,d,f){const h=this.dataFactory.quad(u,c,d,f);return h.type=r.types.PATTERN,h}createProject(u,c){return{type:r.types.PROJECT,input:u,variables:c}}createReduced(u){return{type:r.types.REDUCED,input:u}}createSeq(u,c=!0){return this.flattenMulti({type:r.types.SEQ,input:u},c)}createService(u,c,d){return{type:r.types.SERVICE,input:u,name:c,silent:!!d}}createSlice(u,c,d){return c=c||0,d!==void 0?{type:r.types.SLICE,input:u,start:c,length:d}:{type:r.types.SLICE,input:u,start:c}}createUnion(u,c=!0){return this.flattenMulti({type:r.types.UNION,input:u},c)}createValues(u,c){return{type:r.types.VALUES,variables:u,bindings:c}}createZeroOrMorePath(u){return{type:r.types.ZERO_OR_MORE_PATH,path:u}}createZeroOrOnePath(u){return{type:r.types.ZERO_OR_ONE_PATH,path:u}}createAggregateExpression(u,c,d,f){return f?{type:r.types.EXPRESSION,expressionType:r.expressionTypes.AGGREGATE,aggregator:u,expression:c,separator:f,distinct:d}:{type:r.types.EXPRESSION,expressionType:r.expressionTypes.AGGREGATE,aggregator:u,expression:c,distinct:d}}createExistenceExpression(u,c){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.EXISTENCE,not:u,input:c}}createNamedExpression(u,c){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.NAMED,name:u,args:c}}createOperatorExpression(u,c){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.OPERATOR,operator:u,args:c}}createTermExpression(u){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.TERM,term:u}}createWildcardExpression(){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.WILDCARD,wildcard:new o.Wildcard}}createTerm(u){return u[0]==="$"&&(u=u.replace("$","?")),(0,a.stringToTerm)(u,this.dataFactory)}createCompositeUpdate(u){return{type:r.types.COMPOSITE_UPDATE,updates:u}}createDeleteInsert(u,c,d){const f={type:r.types.DELETE_INSERT};return u&&(f.delete=u),c&&(f.insert=c),d&&(f.where=d),f}createLoad(u,c,d){const f={type:r.types.LOAD,source:u};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(u,c){return this.addSilent({type:r.types.CLEAR,source:u},!!c)}createCreate(u,c){return this.addSilent({type:r.types.CREATE,source:u},!!c)}createDrop(u,c){return this.addSilent({type:r.types.DROP,source:u},!!c)}createAdd(u,c,d){return this.addSilent({type:r.types.ADD,source:u,destination:c},!!d)}createMove(u,c,d){return this.addSilent({type:r.types.MOVE,source:u,destination:c},!!d)}createCopy(u,c,d){return this.addSilent({type:r.types.COPY,source:u,destination:c},!!d)}addSilent(u,c){return c&&(u.silent=c),u}flattenMulti(u,c){if(!c)return u;const d=u.type,f=u.input;let h=[];for(const p of f)p.type===d?h.push(...p.input):h.push(p);return u.input=h,u}}return us.default=s,us}var vg={},OL;function ZD(){if(OL)return vg;OL=1;var e=vg&&vg.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vg,"__esModule",{value:!0});const t=X2(),i=e(u3()),r=Qi();class n{static flatten(o){return Array.prototype.concat(...o).filter(s=>s)}static objectify(o){if(o.termType){if(o.termType==="Quad")return{type:"pattern",termType:"Quad",subject:n.objectify(o.subject),predicate:n.objectify(o.predicate),object:n.objectify(o.object),graph:n.objectify(o.graph)};{let s={termType:o.termType,value:o.value};return o.language&&(s.language=o.language),o.datatype&&(s.datatype=n.objectify(o.datatype)),s}}if(Array.isArray(o))return o.map(s=>n.objectify(s));if(o===Object(o)){let s={};for(let l of Object.keys(o))s[l]=n.objectify(o[l]);return s}return o}static inScopeVariables(o){const s=[];function l(c){s.find(d=>c.value===d.value)||s.push(c)}function u(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&u(c.subject),c.predicate.termType==="Quad"&&u(c.predicate),c.object.termType==="Quad"&&u(c.object),c.graph.termType==="Quad"&&u(c.graph)}return n.recurseOperation(o,{[t.types.EXPRESSION]:c=>(c.expressionType===t.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[t.types.EXTEND]:c=>(l(c.variable),!0),[t.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[t.types.GROUP]:c=>(c.variables.forEach(l),!0),[t.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&u(c.subject),c.object.termType==="Quad"&&u(c.object),c.graph.termType==="Quad"&&u(c.graph),!0),[t.types.PATTERN]:c=>(u(c),!0),[t.types.PROJECT]:c=>(c.variables.forEach(l),!1),[t.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[t.types.VALUES]:c=>(c.variables.forEach(l),!0)}),s}static recurseOperation(o,s){let l=o,u=!0;const c=s[o.type];if(c&&(u=c(o)),!u)return;let d=f=>n.recurseOperation(f,s);switch(l.type){case t.types.ALT:l.input.map(d);break;case t.types.ASK:d(l.input);break;case t.types.BGP:l.patterns.forEach(d);break;case t.types.CONSTRUCT:d(l.input),l.template.map(d);break;case t.types.DESCRIBE:d(l.input);break;case t.types.DISTINCT:d(l.input);break;case t.types.EXPRESSION:l.expressionType===t.expressionTypes.EXISTENCE&&d(l.input);break;case t.types.EXTEND:d(l.input),d(l.expression);break;case t.types.FILTER:d(l.input),d(l.expression);break;case t.types.FROM:d(l.input);break;case t.types.GRAPH:d(l.input);break;case t.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case t.types.INV:d(l.path);break;case t.types.JOIN:l.input.map(d);break;case t.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case t.types.LINK:break;case t.types.MINUS:l.input.map(d);break;case t.types.NOP:break;case t.types.NPS:break;case t.types.ONE_OR_MORE_PATH:d(l.path);break;case t.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case t.types.PATH:d(l.predicate);break;case t.types.PATTERN:break;case t.types.PROJECT:d(l.input);break;case t.types.REDUCED:d(l.input);break;case t.types.SEQ:l.input.map(d);break;case t.types.SERVICE:d(l.input);break;case t.types.SLICE:d(l.input);break;case t.types.UNION:l.input.map(d);break;case t.types.VALUES:break;case t.types.ZERO_OR_MORE_PATH:d(l.path);break;case t.types.ZERO_OR_ONE_PATH:d(l.path);break;case t.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case t.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case t.types.LOAD:break;case t.types.CLEAR:break;case t.types.CREATE:break;case t.types.DROP:break;case t.types.ADD:break;case t.types.MOVE:break;case t.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(o,s,l){let u=o,c=!0,d=!0;l=l||new i.default;const f=s[o.type];if(f){const g=f(o,l);u=g.result,c=g.recurse,d=g.copyMetadata!==!1}let h;if(d&&(u.metadata||o.metadata)&&(h={...u.metadata,...o.metadata}),!c)return h&&(u.metadata=h),u;let p=g=>n.mapOperation(g,s,l);switch(u.type){case t.types.ALT:u=l.createAlt(u.input.map(p));break;case t.types.ASK:u=l.createAsk(p(u.input));break;case t.types.BGP:u=l.createBgp(u.patterns.map(p));break;case t.types.CONSTRUCT:u=l.createConstruct(p(u.input),u.template.map(p));break;case t.types.DESCRIBE:u=l.createDescribe(p(u.input),u.terms);break;case t.types.DISTINCT:u=l.createDistinct(p(u.input));break;case t.types.EXPRESSION:u=n.mapExpression(u,s,l);break;case t.types.EXTEND:u=l.createExtend(p(u.input),u.variable,p(u.expression));break;case t.types.FILTER:u=l.createFilter(p(u.input),p(u.expression));break;case t.types.FROM:u=l.createFrom(p(u.input),[...u.default],[...u.named]);break;case t.types.GRAPH:u=l.createGraph(p(u.input),u.name);break;case t.types.GROUP:u=l.createGroup(p(u.input),[].concat(u.variables),u.aggregates.map(p));break;case t.types.INV:u=l.createInv(p(u.path));break;case t.types.JOIN:u=l.createJoin(u.input.map(p));break;case t.types.LEFT_JOIN:u=l.createLeftJoin(p(u.input[0]),p(u.input[1]),u.expression?p(u.expression):void 0);break;case t.types.LINK:u=l.createLink(u.iri);break;case t.types.MINUS:u=l.createMinus(p(u.input[0]),p(u.input[1]));break;case t.types.NOP:u=l.createNop();break;case t.types.NPS:u=l.createNps([].concat(u.iris));break;case t.types.ONE_OR_MORE_PATH:u=l.createOneOrMorePath(p(u.path));break;case t.types.ORDER_BY:u=l.createOrderBy(p(u.input),u.expressions.map(p));break;case t.types.PATH:u=l.createPath(u.subject,p(u.predicate),u.object,u.graph);break;case t.types.PATTERN:u=l.createPattern(u.subject,u.predicate,u.object,u.graph);break;case t.types.PROJECT:u=l.createProject(p(u.input),[...u.variables]);break;case t.types.REDUCED:u=l.createReduced(p(u.input));break;case t.types.SEQ:u=l.createSeq(u.input.map(p));break;case t.types.SERVICE:u=l.createService(p(u.input),u.name,u.silent);break;case t.types.SLICE:u=l.createSlice(p(u.input),u.start,u.length);break;case t.types.UNION:u=l.createUnion(u.input.map(p));break;case t.types.VALUES:u=l.createValues([].concat(u.variables),u.bindings.map(g=>Object.assign({},g)));break;case t.types.ZERO_OR_MORE_PATH:u=l.createZeroOrMorePath(p(u.path));break;case t.types.ZERO_OR_ONE_PATH:u=l.createZeroOrOnePath(p(u.path));break;case t.types.COMPOSITE_UPDATE:u=l.createCompositeUpdate(u.updates.map(p));break;case t.types.DELETE_INSERT:u=l.createDeleteInsert(u.delete?u.delete.map(p):void 0,u.insert?u.insert.map(p):void 0,u.where?p(u.where):void 0);break;case t.types.LOAD:u=l.createLoad(u.source,u.destination,u.silent);break;case t.types.CLEAR:u=l.createClear(u.source,u.silent);break;case t.types.CREATE:u=l.createCreate(u.source,u.silent);break;case t.types.DROP:u=l.createDrop(u.source,u.silent);break;case t.types.ADD:u=l.createAdd(u.source,u.destination);break;case t.types.MOVE:u=l.createMove(u.source,u.destination);break;case t.types.COPY:u=l.createCopy(u.source,u.destination);break;default:throw new Error(`Unknown Operation type ${u.type}`)}return h&&(u.metadata=h),u}static mapExpression(o,s,l){let u=o,c=!0;l=l||new i.default;const d=s[o.expressionType];if(d&&({result:u,recurse:c}=d(o,l)),!c)return u;let f=h=>n.mapOperation(h,s,l);switch(o.expressionType){case t.expressionTypes.AGGREGATE:return o.variable?l.createBoundAggregate(o.variable,o.aggregator,f(o.expression),o.distinct,o.separator):l.createAggregateExpression(o.aggregator,f(o.expression),o.distinct,o.separator);case t.expressionTypes.EXISTENCE:return l.createExistenceExpression(o.not,f(o.input));case t.expressionTypes.NAMED:return l.createNamedExpression(o.name,o.args.map(f));case t.expressionTypes.OPERATOR:return l.createOperatorExpression(o.operator,o.args.map(f));case t.expressionTypes.TERM:return l.createTermExpression(o.term);case t.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${o.expressionType}`)}}static cloneOperation(o){return n.mapOperation(o,{})}static cloneExpression(o){return n.mapExpression(o,{})}static createUniqueVariable(o,s,l){let u=0,c=o;for(;s[c];)c=`${o}${u++}`;return l.variable(c)}static isSimpleTerm(o){return o.termType!==void 0&&o.termType!=="Quad"&&o.termType!=="Wildcard"}static isQuad(o){return o.termType==="Quad"}static hasQuadVariables(o){return(0,r.someTermsNested)(o,s=>s.termType==="Variable")}static isWildcard(o){return o.termType==="Wildcard"}}return vg.default=n,vg}var PL;function bme(){if(PL)return co;PL=1;var e=co&&co.__createBinding||(Object.create?function(C,E,S,I){I===void 0&&(I=S);var k=Object.getOwnPropertyDescriptor(E,S);(!k||("get"in k?!E.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(C,I,k)}:function(C,E,S,I){I===void 0&&(I=S),C[I]=E[S]}),t=co&&co.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),i=co&&co.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var S in C)S!=="default"&&Object.prototype.hasOwnProperty.call(C,S)&&e(E,C,S);return t(E,C),E},r=co&&co.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(co,"__esModule",{value:!0});const n=mme(),a=nn(),o=i(X2()),s=r(u3()),l=r(ZD()),u=j0().Parser,c=o.types;let d=new Set,f=0,h=!1,p;function g(C,E){E=E||{},p=new s.default(E.dataFactory);let S;if(y(C)){let I=new u(E);I._resetBlanks(),S=I.parse(C)}else S=C;return m(S,E.quads,E.blankToVariable)}co.default=g;function m(C,E,S){if(d=new Set,f=0,h=!!E,!C.type)return p.createNop();if(C.type!=="query"&&C.type!=="update")throw new Error("Translate only works on complete query or update objects.");let I;if(w(C),C.type==="query"){const k={type:"group",patterns:C.where||[]};I=R(k),I=J(C,I)}else C.type==="update"&&(I=de(C));return S&&(I=X(I)),I}function y(C){return typeof C=="string"}function v(C){return!!(C!=null&&C.termType)}function b(C){return C.subject&&C.predicate&&C.object}function _(C){return(C==null?void 0:C.termType)==="Variable"}function w(C){if(v(C))_(C)&&d.add(`?${C.value}`);else if(Array.isArray(C))for(const E of C)w(E);else if(C&&typeof C=="object")for(let E of Object.keys(C))E.startsWith("?")?d.add(E):E.startsWith("$")&&d.add(`?${E.slice(1)}`),w(C[E])}function T(C){let E={};if(b(C)){const S=[T(C.subject),T(C.predicate),T(C.object),C.graph?T(C.graph):{}];Object.assign(E,...S)}else if(v(C))_(C)&&(E[C.value]=C);else if(C.type==="bgp"){const S=C.triples;Object.assign(E,...S.map(T))}else if(C.type==="path")Object.assign(E,...C.items.map(T));else if(C.type==="group"||C.type==="union"||C.type==="optional")Object.assign(E,...C.patterns.map(T));else if(C.type==="service"||C.type==="graph")Object.assign(E,T(C.name)),Object.assign(E,...C.patterns.map(T));else if(C.type==="bind")Object.assign(E,T(C.variable));else if(C.type==="values"){if(C.values.length>0){const S=Object.keys(C.values[0]).map(I=>p.createTerm(I));Object.assign(E,...S.map(T))}}else if(C.type==="query"&&(C.queryType==="SELECT"||C.queryType==="DESCRIBE")){C.where&&C.variables.some(l.default.isWildcard)&&Object.assign(E,...C.where.map(T));for(const S of C.variables)_(S)?Object.assign(E,T(S)):S.variable&&Object.assign(E,T(S.variable));if(C.queryType==="SELECT"){if(C.group)for(const S of C.group)S.variable&&Object.assign(E,T(S.variable));if(C.values){const S={type:"values",values:C.values};Object.assign(E,T(S))}}}return E}function R(C){if(C.type==="bgp")return D(C);if(C.type==="union")return p.createUnion(C.patterns.map(E=>(E.type!=="group"&&(E={type:"group",patterns:[E]}),R(E))));if(C.type==="graph"){const E={type:"group",patterns:C.patterns};let S=R(E);return h?S=$(S,C.name):S=p.createGraph(S,C.name),S}if(C.type==="values")return oe(C);if(C.type==="query")return m(C,h,!1);if(C.type==="group"){let E=[],S=[];for(let Q of C.patterns)(Q.type==="filter"?E:S).push(Q);let I=S.reduce(te,p.createBgp([])),k=E.map(Q=>F(Q.expression));return k.length>0&&(I=p.createFilter(I,k.reduce((Q,G)=>p.createOperatorExpression("&&",[Q,G])))),I}throw new Error(`Unexpected type: ${C.type}`)}function F(C){if(l.default.isSimpleTerm(C))return p.createTermExpression(C);if(l.default.isQuad(C))return l.default.hasQuadVariables(C)?p.createOperatorExpression("triple",[F(C.subject),F(C.predicate),F(C.object)]):p.createTermExpression(C);if(l.default.isWildcard(C))return p.createWildcardExpression();if("aggregation"in C)return p.createAggregateExpression(C.aggregation,F(C.expression),!!C.distinct,C.separator);if("function"in C)return p.createNamedExpression(C.function,C.args.map(F));if("operator"in C)return C.operator==="exists"||C.operator==="notexists"?p.createExistenceExpression(C.operator==="notexists",R(C.args[0])):((C.operator==="in"||C.operator==="notin")&&(C.args=[C.args[0]].concat(C.args[1])),p.createOperatorExpression(C.operator,C.args.map(F)));throw new Error(`Unknown expression: ${JSON.stringify(C)}`)}function D(C){let E=[],S=[];for(let I of C.triples)if("pathType"in I.predicate){let k=A(I);for(let Q of k)Q.type===c.PATH?(E.length>0&&S.push(p.createBgp(E)),E=[],S.push(Q)):E.push(Q)}else E.push(H(I));return E.length>0&&S.push(p.createBgp(E)),S.length===1?S[0]:p.createJoin(S)}function A(C){let E=C.subject,S=x(C.predicate),I=C.object;return N(E,S,I)}function x(C){if(l.default.isSimpleTerm(C)){if(C.termType==="NamedNode")return p.createLink(C);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(C)}`)}if(C.pathType==="^")return p.createInv(x(C.items[0]));if(C.pathType==="!"){let E=[],S=[],I;"pathType"in C.items[0]&&C.items[0].pathType==="|"?I=C.items[0].items:I=C.items;for(let G of I)if(l.default.isSimpleTerm(G))E.push(G);else if(G.pathType==="^")S.push(G.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(G)}`);let k=p.createNps(E),Q=p.createInv(p.createNps(S));return S.length===0?k:E.length===0?Q:p.createAlt([k,Q])}if(C.pathType==="/")return p.createSeq(C.items.map(x));if(C.pathType==="|")return p.createAlt(C.items.map(x));if(C.pathType==="*")return p.createZeroOrMorePath(x(C.items[0]));if(C.pathType==="+")return p.createOneOrMorePath(x(C.items[0]));if(C.pathType==="?")return p.createZeroOrOnePath(x(C.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(C)}`)}function N(C,E,S){if(E.type===c.LINK)return[p.createPattern(C,E.iri,S)];if(E.type===c.INV)return N(S,E.path,C);if(E.type===c.SEQ){let I=C;return l.default.flatten(E.input.map((k,Q)=>{const G=Q===E.input.length-1?S:j(),ne=N(I,k,G);return G.termType==="Variable"&&(I=G),ne}))}return[p.createPath(C,E,S)]}function j(){let C=`?var${f++}`;return d.has(C)?j():(d.add(C),p.createTerm(C))}function H(C){if("pathType"in C.predicate)throw new Error("Trying to translate property path to quad.");return p.createPattern(C.subject,C.predicate,C.object,C.graph)}let M=Object.values(c);function $(C,E,S){if(C.type===c.GRAPH){if(S)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");C=$(C.input,C.name)}else if(C.type!==c.SERVICE)if(C.type===c.BGP)C.patterns=C.patterns.map(I=>(S&&(I.subject.equals(E)&&(I.subject=S),I.predicate.equals(E)&&(I.predicate=S),I.object.equals(E)&&(I.object=S)),I.graph.termType==="DefaultGraph"&&(I.graph=E),I));else if(C.type===c.PATH)S&&(C.subject.equals(E)&&(C.subject=S),C.object.equals(E)&&(C.object=S)),C.graph.termType==="DefaultGraph"&&(C.graph=E);else if(C.type===c.PROJECT&&!S)C.variables.some(I=>I.equals(E))||(S=j()),C.input=$(C.input,E,S);else if(C.type===c.EXTEND&&!S)C.variable.equals(E)&&(S=j()),C.input=$(C.input,E,S);else for(let I of Object.keys(C))Array.isArray(C[I])?C[I]=C[I].map(k=>$(k,E,S)):M.indexOf(C[I].type)>=0?C[I]=$(C[I],E,S):S&&_(C[I])&&C[I].equals(E)&&(C[I]=S);return C}function te(C,E){if(E.type==="optional"){const S=R({type:"group",patterns:E.patterns});S.type===c.FILTER?C=p.createLeftJoin(C,S.input,S.expression):C=p.createLeftJoin(C,S)}else if(E.type==="minus"){const S=R({type:"group",patterns:E.patterns});C=p.createMinus(C,S)}else if(E.type==="bind")C=p.createExtend(C,E.variable,F(E.expression));else if(E.type==="service"){const S={type:"group",patterns:E.patterns},I=p.createService(R(S),E.name,E.silent);C=re(C,I)}else{const S=R(E);C=re(C,S)}return C}function re(C,E){return C.type===c.BGP&&E.type===c.BGP?C=p.createBgp([...C.patterns,...E.patterns]):C.type===c.BGP&&C.patterns.length===0?C=E:E.type===c.BGP&&E.patterns.length===0||(C=p.createJoin([C,E])),C}function oe(C){let E=(C.values.length===0?[]:Object.keys(C.values[0])).map(p.createTerm.bind(p)),S=C.values.map(I=>{let k=Object.keys(I);k=k.filter(G=>I[G]!==void 0);let Q={};for(let G of k)Q[G]=I[G];return Q});return p.createValues(E,S)}function J(C,E){const S=C,I=[],k={};if(S.variables=S.variables&&S.variables.map(G=>fe(G,k)),S.having=S.having&&S.having.map(G=>fe(G,k)),S.order=S.order&&S.order.map(G=>fe(G,k)),S.group||Object.keys(k).length>0){const G=Object.keys(k).map(ee=>xe(k[ee],p.createTerm(ee))),ne=[];if(S.group)for(const ee of S.group)if(l.default.isSimpleTerm(ee.expression))ne.push(ee.expression);else{const se="variable"in ee?ee.variable:j();E=p.createExtend(E,se,F(ee.expression)),ne.push(se)}E=p.createGroup(E,ne,G)}if(S.having)for(let G of S.having)E=p.createFilter(E,F(G));C.values&&(E=p.createJoin([E,oe(C)]));let Q=[];if(C.queryType==="SELECT"||C.queryType==="DESCRIBE")if(C.variables.some(G=>G&&l.default.isWildcard(G)))Q=Object.values(T(C)).sort((G,ne)=>G.value.localeCompare(ne.value));else for(let G of C.variables)_(G)||!("variable"in G)?Q.push(G):G.variable&&(Q.push(G.variable),I.push(G));for(let G of I)E=p.createExtend(E,G.variable,F(G.expression));return S.order&&(E=p.createOrderBy(E,S.order.map(G=>{let ne=F(G.expression);return G.descending&&(ne=p.createOperatorExpression("desc",[ne])),ne}))),C.queryType==="SELECT"&&(E=p.createProject(E,Q)),S.distinct&&(E=p.createDistinct(E)),S.reduced&&(E=p.createReduced(E)),C.queryType==="CONSTRUCT"?E=p.createConstruct(E,(C.template||[]).map(H)):C.queryType==="ASK"?E=p.createAsk(E):C.queryType==="DESCRIBE"&&(E=p.createDescribe(E,Q)),(S.offset||S.limit)&&(E=p.createSlice(E,S.offset||0,S.limit)),S.from&&(E=p.createFrom(E,S.from.default,S.from.named)),E}function fe(C,E){if("type"in C&&C.type==="aggregate"){let S=!1,I;for(let k of Object.keys(E))if(n(E[k],C)){I=p.createTerm(k),S=!0;break}return S||(I=j(),E[(0,a.termToString)(I)]=C),I}return"expression"in C&&C.expression?{...C,expression:fe(C.expression,E)}:"args"in C&&C.args?{...C,args:C.args.map(S=>fe(S,E))}:C}function xe(C,E){if(C.type!=="aggregate"||!C.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(C)}`);const S=F(C);return S.variable=E,S}function de(C){return C.updates.length===1?ae(C.updates[0]):p.createCompositeUpdate(C.updates.map(ae))}function ae(C){if("type"in C){if(C.type==="load")return pe(C);if(C.type==="clear"||C.type==="create"||C.type==="drop")return me(C);if(C.type==="add"||C.type==="copy"||C.type==="move")return _e(C)}else if(C.updateType==="insertdelete"||C.updateType==="deletewhere"||C.updateType==="delete"||C.updateType==="insert")return Fe(C);throw new Error(`Unknown update type ${JSON.stringify(C)}`)}function Fe(C){if(!h)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let E=[],S=[],I;if(C.delete&&(E=l.default.flatten(C.delete.map(k=>Le(k,C.graph)))),C.insert&&(S=l.default.flatten(C.insert.map(k=>Le(k,C.graph)))),C.where&&C.where.length>0){I=R({type:"group",patterns:C.where});const k=C.using;k?I=p.createFrom(I,k.default,k.named):C.graph&&(I=$(I,C.graph))}else C.updateType==="deletewhere"&&E.length>0&&(I=p.createBgp(E));return p.createDeleteInsert(E.length>0?E:void 0,S.length>0?S:void 0,I)}function Le(C,E){let S=E;C.type==="graph"&&(S=C.name);let I=C.triples;return S&&(I=I.map(k=>Object.assign(k,{graph:S}))),I.map(H)}function me(C){let E;switch(l.default.isSimpleTerm(C.graph)?E=C.graph:C.graph.all?E="ALL":C.graph.default?E="DEFAULT":C.graph.named?E="NAMED":E=C.graph.name,C.type){case"clear":return p.createClear(E,C.silent);case"create":return p.createCreate(E,C.silent);case"drop":return p.createDrop(E,C.silent)}}function pe(C){return p.createLoad(C.source,C.destination,C.silent)}function _e(C){const E=C.source.default?"DEFAULT":C.source.name,S=C.destination.default?"DEFAULT":C.destination.name;switch(C.type){case"copy":return p.createCopy(E,S,C.silent);case"move":return p.createMove(E,S,C.silent);case"add":return p.createAdd(E,S,C.silent)}}function X(C){const E={},S=Array.from(d).reduce((k,Q)=>(k[Q]=!0,k),{});return l.default.mapOperation(C,{[o.types.DELETE_INSERT]:k=>({result:p.createDeleteInsert(k.delete,k.insert,k.where&&X(k.where)),recurse:!1}),[o.types.PATH]:(k,Q)=>({result:Q.createPath(I(k.subject),k.predicate,I(k.object),I(k.graph)),recurse:!1}),[o.types.PATTERN]:(k,Q)=>({result:Q.createPattern(I(k.subject),I(k.predicate),I(k.object),I(k.graph)),recurse:!1}),[o.types.CONSTRUCT]:k=>({result:p.createConstruct(X(k.input),k.template),recurse:!1})});function I(k){if(k.termType==="BlankNode"){let Q=E[k.value];return Q||(Q=l.default.createUniqueVariable(k.value,S,p.dataFactory),S[Q.value]=!0,E[k.value]=Q),Q}return k}}return co}var da={},ac={},Fr={},KR={},sn={},JR,IL;function Y2(){if(IL)return JR;IL=1,JR=e;function e(t,i){if(!t)throw new Error(i||"Assertion failed")}return e.equal=function(i,r,n){if(i!=r)throw new Error(n||"Assertion failed: "+i+" != "+r)},JR}var GA={exports:{}},CL;function _me(){return CL||(CL=1,typeof Object.create=="function"?GA.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:GA.exports=function(t,i){if(i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}}),GA.exports}var DL;function Ps(){if(DL)return sn;DL=1;var e=Y2(),t=_me();sn.inherits=t;function i(N,j){return(N.charCodeAt(j)&64512)!==55296||j<0||j+1>=N.length?!1:(N.charCodeAt(j+1)&64512)===56320}function r(N,j){if(Array.isArray(N))return N.slice();if(!N)return[];var H=[];if(typeof N=="string")if(j){if(j==="hex")for(N=N.replace(/[^a-z0-9]+/ig,""),N.length%2!==0&&(N="0"+N),$=0;$<N.length;$+=2)H.push(parseInt(N[$]+N[$+1],16))}else for(var M=0,$=0;$<N.length;$++){var te=N.charCodeAt($);te<128?H[M++]=te:te<2048?(H[M++]=te>>6|192,H[M++]=te&63|128):i(N,$)?(te=65536+((te&1023)<<10)+(N.charCodeAt(++$)&1023),H[M++]=te>>18|240,H[M++]=te>>12&63|128,H[M++]=te>>6&63|128,H[M++]=te&63|128):(H[M++]=te>>12|224,H[M++]=te>>6&63|128,H[M++]=te&63|128)}else for($=0;$<N.length;$++)H[$]=N[$]|0;return H}sn.toArray=r;function n(N){for(var j="",H=0;H<N.length;H++)j+=s(N[H].toString(16));return j}sn.toHex=n;function a(N){var j=N>>>24|N>>>8&65280|N<<8&16711680|(N&255)<<24;return j>>>0}sn.htonl=a;function o(N,j){for(var H="",M=0;M<N.length;M++){var $=N[M];j==="little"&&($=a($)),H+=l($.toString(16))}return H}sn.toHex32=o;function s(N){return N.length===1?"0"+N:N}sn.zero2=s;function l(N){return N.length===7?"0"+N:N.length===6?"00"+N:N.length===5?"000"+N:N.length===4?"0000"+N:N.length===3?"00000"+N:N.length===2?"000000"+N:N.length===1?"0000000"+N:N}sn.zero8=l;function u(N,j,H,M){var $=H-j;e($%4===0);for(var te=new Array($/4),re=0,oe=j;re<te.length;re++,oe+=4){var J;M==="big"?J=N[oe]<<24|N[oe+1]<<16|N[oe+2]<<8|N[oe+3]:J=N[oe+3]<<24|N[oe+2]<<16|N[oe+1]<<8|N[oe],te[re]=J>>>0}return te}sn.join32=u;function c(N,j){for(var H=new Array(N.length*4),M=0,$=0;M<N.length;M++,$+=4){var te=N[M];j==="big"?(H[$]=te>>>24,H[$+1]=te>>>16&255,H[$+2]=te>>>8&255,H[$+3]=te&255):(H[$+3]=te>>>24,H[$+2]=te>>>16&255,H[$+1]=te>>>8&255,H[$]=te&255)}return H}sn.split32=c;function d(N,j){return N>>>j|N<<32-j}sn.rotr32=d;function f(N,j){return N<<j|N>>>32-j}sn.rotl32=f;function h(N,j){return N+j>>>0}sn.sum32=h;function p(N,j,H){return N+j+H>>>0}sn.sum32_3=p;function g(N,j,H,M){return N+j+H+M>>>0}sn.sum32_4=g;function m(N,j,H,M,$){return N+j+H+M+$>>>0}sn.sum32_5=m;function y(N,j,H,M){var $=N[j],te=N[j+1],re=M+te>>>0,oe=(re<M?1:0)+H+$;N[j]=oe>>>0,N[j+1]=re}sn.sum64=y;function v(N,j,H,M){var $=j+M>>>0,te=($<j?1:0)+N+H;return te>>>0}sn.sum64_hi=v;function b(N,j,H,M){var $=j+M;return $>>>0}sn.sum64_lo=b;function _(N,j,H,M,$,te,re,oe){var J=0,fe=j;fe=fe+M>>>0,J+=fe<j?1:0,fe=fe+te>>>0,J+=fe<te?1:0,fe=fe+oe>>>0,J+=fe<oe?1:0;var xe=N+H+$+re+J;return xe>>>0}sn.sum64_4_hi=_;function w(N,j,H,M,$,te,re,oe){var J=j+M+te+oe;return J>>>0}sn.sum64_4_lo=w;function T(N,j,H,M,$,te,re,oe,J,fe){var xe=0,de=j;de=de+M>>>0,xe+=de<j?1:0,de=de+te>>>0,xe+=de<te?1:0,de=de+oe>>>0,xe+=de<oe?1:0,de=de+fe>>>0,xe+=de<fe?1:0;var ae=N+H+$+re+J+xe;return ae>>>0}sn.sum64_5_hi=T;function R(N,j,H,M,$,te,re,oe,J,fe){var xe=j+M+te+oe+fe;return xe>>>0}sn.sum64_5_lo=R;function F(N,j,H){var M=j<<32-H|N>>>H;return M>>>0}sn.rotr64_hi=F;function D(N,j,H){var M=N<<32-H|j>>>H;return M>>>0}sn.rotr64_lo=D;function A(N,j,H){return N>>>H}sn.shr64_hi=A;function x(N,j,H){var M=N<<32-H|j>>>H;return M>>>0}return sn.shr64_lo=x,sn}var XR={},NL;function Z2(){if(NL)return XR;NL=1;var e=Ps(),t=Y2();function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return XR.BlockHash=i,i.prototype.update=function(n,a){if(n=e.toArray(n,a),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=e.join32(n,0,n.length-o,this.endian);for(var s=0;s<n.length;s+=this._delta32)this._update(n,s,s+this._delta32)}return this},i.prototype.digest=function(n){return this.update(this._pad()),t(this.pending===null),this._digest(n)},i.prototype._pad=function(){var n=this.pendingTotal,a=this._delta8,o=a-(n+this.padLength)%a,s=new Array(o+this.padLength);s[0]=128;for(var l=1;l<o;l++)s[l]=0;if(n<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)s[l++]=0;s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=n>>>24&255,s[l++]=n>>>16&255,s[l++]=n>>>8&255,s[l++]=n&255}else for(s[l++]=n&255,s[l++]=n>>>8&255,s[l++]=n>>>16&255,s[l++]=n>>>24&255,s[l++]=0,s[l++]=0,s[l++]=0,s[l++]=0,u=8;u<this.padLength;u++)s[l++]=0;return s},XR}var oc={},ls={},FL;function kX(){if(FL)return ls;FL=1;var e=Ps(),t=e.rotr32;function i(c,d,f,h){if(c===0)return r(d,f,h);if(c===1||c===3)return a(d,f,h);if(c===2)return n(d,f,h)}ls.ft_1=i;function r(c,d,f){return c&d^~c&f}ls.ch32=r;function n(c,d,f){return c&d^c&f^d&f}ls.maj32=n;function a(c,d,f){return c^d^f}ls.p32=a;function o(c){return t(c,2)^t(c,13)^t(c,22)}ls.s0_256=o;function s(c){return t(c,6)^t(c,11)^t(c,25)}ls.s1_256=s;function l(c){return t(c,7)^t(c,18)^c>>>3}ls.g0_256=l;function u(c){return t(c,17)^t(c,19)^c>>>10}return ls.g1_256=u,ls}var YR,LL;function wme(){if(LL)return YR;LL=1;var e=Ps(),t=Z2(),i=kX(),r=e.rotl32,n=e.sum32,a=e.sum32_5,o=i.ft_1,s=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(u,s),YR=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(d,f){for(var h=this.W,p=0;p<16;p++)h[p]=d[f+p];for(;p<h.length;p++)h[p]=r(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var g=this.h[0],m=this.h[1],y=this.h[2],v=this.h[3],b=this.h[4];for(p=0;p<h.length;p++){var _=~~(p/20),w=a(r(g,5),o(_,m,y,v),b,h[p],l[_]);b=v,v=y,y=r(m,30),m=g,g=w}this.h[0]=n(this.h[0],g),this.h[1]=n(this.h[1],m),this.h[2]=n(this.h[2],y),this.h[3]=n(this.h[3],v),this.h[4]=n(this.h[4],b)},u.prototype._digest=function(d){return d==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},YR}var ZR,ML;function BX(){if(ML)return ZR;ML=1;var e=Ps(),t=Z2(),i=kX(),r=Y2(),n=e.sum32,a=e.sum32_4,o=e.sum32_5,s=i.ch32,l=i.maj32,u=i.s0_256,c=i.s1_256,d=i.g0_256,f=i.g1_256,h=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(g,h),ZR=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(y,v){for(var b=this.W,_=0;_<16;_++)b[_]=y[v+_];for(;_<b.length;_++)b[_]=a(f(b[_-2]),b[_-7],d(b[_-15]),b[_-16]);var w=this.h[0],T=this.h[1],R=this.h[2],F=this.h[3],D=this.h[4],A=this.h[5],x=this.h[6],N=this.h[7];for(r(this.k.length===b.length),_=0;_<b.length;_++){var j=o(N,c(D),s(D,A,x),this.k[_],b[_]),H=n(u(w),l(w,T,R));N=x,x=A,A=D,D=n(F,j),F=R,R=T,T=w,w=n(j,H)}this.h[0]=n(this.h[0],w),this.h[1]=n(this.h[1],T),this.h[2]=n(this.h[2],R),this.h[3]=n(this.h[3],F),this.h[4]=n(this.h[4],D),this.h[5]=n(this.h[5],A),this.h[6]=n(this.h[6],x),this.h[7]=n(this.h[7],N)},g.prototype._digest=function(y){return y==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},ZR}var eO,jL;function Sme(){if(jL)return eO;jL=1;var e=Ps(),t=BX();function i(){if(!(this instanceof i))return new i;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(i,t),eO=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(n){return n==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},eO}var tO,kL;function qX(){if(kL)return tO;kL=1;var e=Ps(),t=Z2(),i=Y2(),r=e.rotr64_hi,n=e.rotr64_lo,a=e.shr64_hi,o=e.shr64_lo,s=e.sum64,l=e.sum64_hi,u=e.sum64_lo,c=e.sum64_4_hi,d=e.sum64_4_lo,f=e.sum64_5_hi,h=e.sum64_5_lo,p=t.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}e.inherits(m,p),tO=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(H,M){for(var $=this.W,te=0;te<32;te++)$[te]=H[M+te];for(;te<$.length;te+=2){var re=x($[te-4],$[te-3]),oe=N($[te-4],$[te-3]),J=$[te-14],fe=$[te-13],xe=D($[te-30],$[te-29]),de=A($[te-30],$[te-29]),ae=$[te-32],Fe=$[te-31];$[te]=c(re,oe,J,fe,xe,de,ae,Fe),$[te+1]=d(re,oe,J,fe,xe,de,ae,Fe)}},m.prototype._update=function(H,M){this._prepareBlock(H,M);var $=this.W,te=this.h[0],re=this.h[1],oe=this.h[2],J=this.h[3],fe=this.h[4],xe=this.h[5],de=this.h[6],ae=this.h[7],Fe=this.h[8],Le=this.h[9],me=this.h[10],pe=this.h[11],_e=this.h[12],X=this.h[13],C=this.h[14],E=this.h[15];i(this.k.length===$.length);for(var S=0;S<$.length;S+=2){var I=C,k=E,Q=R(Fe,Le),G=F(Fe,Le),ne=y(Fe,Le,me,pe,_e),ee=v(Fe,Le,me,pe,_e,X),se=this.k[S],ge=this.k[S+1],Ae=$[S],Ve=$[S+1],Ge=f(I,k,Q,G,ne,ee,se,ge,Ae,Ve),qe=h(I,k,Q,G,ne,ee,se,ge,Ae,Ve);I=w(te,re),k=T(te,re),Q=b(te,re,oe,J,fe),G=_(te,re,oe,J,fe,xe);var Ee=l(I,k,Q,G),W=u(I,k,Q,G);C=_e,E=X,_e=me,X=pe,me=Fe,pe=Le,Fe=l(de,ae,Ge,qe),Le=u(ae,ae,Ge,qe),de=fe,ae=xe,fe=oe,xe=J,oe=te,J=re,te=l(Ge,qe,Ee,W),re=u(Ge,qe,Ee,W)}s(this.h,0,te,re),s(this.h,2,oe,J),s(this.h,4,fe,xe),s(this.h,6,de,ae),s(this.h,8,Fe,Le),s(this.h,10,me,pe),s(this.h,12,_e,X),s(this.h,14,C,E)},m.prototype._digest=function(H){return H==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function y(j,H,M,$,te){var re=j&M^~j&te;return re<0&&(re+=4294967296),re}function v(j,H,M,$,te,re){var oe=H&$^~H&re;return oe<0&&(oe+=4294967296),oe}function b(j,H,M,$,te){var re=j&M^j&te^M&te;return re<0&&(re+=4294967296),re}function _(j,H,M,$,te,re){var oe=H&$^H&re^$&re;return oe<0&&(oe+=4294967296),oe}function w(j,H){var M=r(j,H,28),$=r(H,j,2),te=r(H,j,7),re=M^$^te;return re<0&&(re+=4294967296),re}function T(j,H){var M=n(j,H,28),$=n(H,j,2),te=n(H,j,7),re=M^$^te;return re<0&&(re+=4294967296),re}function R(j,H){var M=r(j,H,14),$=r(j,H,18),te=r(H,j,9),re=M^$^te;return re<0&&(re+=4294967296),re}function F(j,H){var M=n(j,H,14),$=n(j,H,18),te=n(H,j,9),re=M^$^te;return re<0&&(re+=4294967296),re}function D(j,H){var M=r(j,H,1),$=r(j,H,8),te=a(j,H,7),re=M^$^te;return re<0&&(re+=4294967296),re}function A(j,H){var M=n(j,H,1),$=n(j,H,8),te=o(j,H,7),re=M^$^te;return re<0&&(re+=4294967296),re}function x(j,H){var M=r(j,H,19),$=r(H,j,29),te=a(j,H,6),re=M^$^te;return re<0&&(re+=4294967296),re}function N(j,H){var M=n(j,H,19),$=n(H,j,29),te=o(j,H,6),re=M^$^te;return re<0&&(re+=4294967296),re}return tO}var rO,BL;function Ame(){if(BL)return rO;BL=1;var e=Ps(),t=qX();function i(){if(!(this instanceof i))return new i;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(i,t),rO=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(n){return n==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},rO}var qL;function Tme(){return qL||(qL=1,oc.sha1=wme(),oc.sha224=Sme(),oc.sha256=BX(),oc.sha384=Ame(),oc.sha512=qX()),oc}var nO={},VL;function Eme(){if(VL)return nO;VL=1;var e=Ps(),t=Z2(),i=e.rotl32,r=e.sum32,n=e.sum32_3,a=e.sum32_4,o=t.BlockHash;function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(s,o),nO.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(m,y){for(var v=this.h[0],b=this.h[1],_=this.h[2],w=this.h[3],T=this.h[4],R=v,F=b,D=_,A=w,x=T,N=0;N<80;N++){var j=r(i(a(v,l(N,b,_,w),m[d[N]+y],u(N)),h[N]),T);v=T,T=w,w=i(_,10),_=b,b=j,j=r(i(a(R,l(79-N,F,D,A),m[f[N]+y],c(N)),p[N]),x),R=x,x=A,A=i(D,10),D=F,F=j}j=n(this.h[1],_,A),this.h[1]=n(this.h[2],w,x),this.h[2]=n(this.h[3],T,R),this.h[3]=n(this.h[4],v,F),this.h[4]=n(this.h[0],b,D),this.h[0]=j},s.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function l(g,m,y,v){return g<=15?m^y^v:g<=31?m&y|~m&v:g<=47?(m|~y)^v:g<=63?m&v|y&~v:m^(y|~v)}function u(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function c(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return nO}var iO,UL;function xme(){if(UL)return iO;UL=1;var e=Ps(),t=Y2();function i(r,n,a){if(!(this instanceof i))return new i(r,n,a);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(n,a))}return iO=i,i.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),t(n.length<=this.blockSize);for(var a=n.length;a<this.blockSize;a++)n.push(0);for(a=0;a<n.length;a++)n[a]^=54;for(this.inner=new this.Hash().update(n),a=0;a<n.length;a++)n[a]^=106;this.outer=new this.Hash().update(n)},i.prototype.update=function(n,a){return this.inner.update(n,a),this},i.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)},iO}var HL;function l3(){return HL||(HL=1,function(e){var t=e;t.utils=Ps(),t.common=Z2(),t.sha=Tme(),t.ripemd=Eme(),t.hmac=xme(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(KR)),KR}var $L;function Rme(){if($L)return Fr;$L=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.isTermGrounded=Fr.termToSignature=Fr.quadToSignature=Fr.sha1hex=Fr.hashTerm=Fr.hashTerms=Fr.getGraphBlankNodes=Fr.uniqGraph=Fr.deindexGraph=Fr.indexGraph=Fr.getQuadsWithoutBlankNodes=Fr.getQuadsWithBlankNodes=Fr.hasValue=Fr.hashValues=Fr.getBijectionInner=Fr.getBijection=Fr.isomorphic=void 0;const e=l3(),t=nn(),i=Qi();function r(w,T){return!!n(w,T)}Fr.isomorphic=r;function n(w,T){const R=d(c(w)),F=d(c(T));if(Object.keys(R).length!==Object.keys(F).length)return null;for(const j in R)if(R[j]!==F[j])return null;const D=h(u(w)),A=h(u(T)),x=p(w),N=p(T);return a(D,A,x,N)}Fr.getBijection=n;function a(w,T,R,F,D,A){D||(D={}),A||(A={});const[x,N]=g(w,R,D),[j,H]=g(T,F,A);if(Object.keys(x).length!==Object.keys(j).length)return null;for(const $ in x)if(!l(j,x[$]))return null;let M={};for(const $ of R){const te=t.termToString($),re=N[te];for(const oe in H)if(H[oe]===re){M[te]=oe,delete H[oe];break}}if(!o(Object.keys(M).sort(),R.map(t.termToString).sort())||!o(s(M).sort(),F.map(t.termToString).sort())){M=null;for(const $ of R){const te=t.termToString($);if(!x[te])for(const re of F){const oe=t.termToString(re);if(!j[oe]&&N[te]===H[oe]){const J=y(te);M=a(w,T,R,F,Object.assign(Object.assign({},x),{[te]:J}),Object.assign(Object.assign({},j),{[oe]:J}))}}}}return M}Fr.getBijectionInner=a;function o(w,T){if(w.length!==T.length)return!1;for(let R=w.length;R--;)if(w[R]!==T[R])return!1;return!0}function s(w){const T=[];for(const R in w)T.push(w[R]);return T}Fr.hashValues=s;function l(w,T){for(const R in w)if(w[R]===T)return!0;return!1}Fr.hasValue=l;function u(w){return w.filter(T=>i.someTerms(T,R=>R.termType==="BlankNode"||R.termType==="Quad"&&i.getTermsNested(R).some(F=>F.termType==="BlankNode")))}Fr.getQuadsWithBlankNodes=u;function c(w){return w.filter(T=>i.everyTerms(T,R=>R.termType!=="BlankNode"&&!(R.termType==="Quad"&&i.getTermsNested(R).some(F=>F.termType==="BlankNode"))))}Fr.getQuadsWithoutBlankNodes=c;function d(w){const T={};for(const R of w)T[JSON.stringify(t.quadToStringQuad(R))]=!0;return T}Fr.indexGraph=d;function f(w){return Object.keys(w).map(T=>t.stringQuadToQuad(JSON.parse(T)))}Fr.deindexGraph=f;function h(w){return f(d(w))}Fr.uniqGraph=h;function p(w){return i.uniqTerms(w.map(T=>i.getBlankNodes(i.getTermsNested(T))).reduce((T,R)=>T.concat(R),[]))}Fr.getGraphBlankNodes=p;function g(w,T,R){const F=Object.assign({},R),D={};let A=!0;for(;A;){const x=Object.keys(F).length;for(const j of T){const H=t.termToString(j);if(!F[H]){const[M,$]=m(j,w,F);M&&(F[H]=$),D[H]=$}}const N={};for(const j in D){const H=D[j];N[H]===void 0?N[H]=j:N[H]=!1}for(const j in N){const H=N[j];H&&(F[H]=j)}A=x!==Object.keys(F).length}return[F,D]}Fr.hashTerms=g;function m(w,T,R){const F=[];let D=!0;for(const x of T){const N=i.getTermsNested(x);if(N.some(j=>j.equals(w))){F.push(v(x,R,w));for(const j of N)!_(j,R)&&!j.equals(w)&&(D=!1)}}const A=y(F.sort().join(""));return[D,A]}Fr.hashTerm=m;function y(w){return e.sha1().update(w).digest("hex")}Fr.sha1hex=y;function v(w,T,R){return i.getTerms(w).map(F=>b(F,T,R)).join("|")}Fr.quadToSignature=v;function b(w,T,R){return w.equals(R)?"@self":w.termType==="BlankNode"?T[t.termToString(w)]||"@blank":w.termType==="Quad"?`<${v(w,T,R)}>`:t.termToString(w)}Fr.termToSignature=b;function _(w,T){return w.termType!=="BlankNode"&&!(w.termType==="Quad"&&i.getTermsNested(w).some(R=>!_(R,T)))||!!T[t.termToString(w)]}return Fr.isTermGrounded=_,Fr}var QL;function Ome(){return QL||(QL=1,function(e){var t=ac&&ac.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ac&&ac.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Rme(),e)}(ac)),ac}var zL;function Pme(){if(zL)return da;zL=1;var e=da&&da.__createBinding||(Object.create?function(ve,et,Ze,st){st===void 0&&(st=Ze);var ut=Object.getOwnPropertyDescriptor(et,Ze);(!ut||("get"in ut?!et.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return et[Ze]}}),Object.defineProperty(ve,st,ut)}:function(ve,et,Ze,st){st===void 0&&(st=Ze),ve[st]=et[Ze]}),t=da&&da.__setModuleDefault||(Object.create?function(ve,et){Object.defineProperty(ve,"default",{enumerable:!0,value:et})}:function(ve,et){ve.default=et}),i=da&&da.__importStar||function(ve){if(ve&&ve.__esModule)return ve;var et={};if(ve!=null)for(var Ze in ve)Ze!=="default"&&Object.prototype.hasOwnProperty.call(ve,Ze)&&e(et,ve,Ze);return t(et,ve),et},r=da&&da.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(da,"__esModule",{value:!0}),da.toSparqlJs=da.toSparql=void 0;const n=Ome(),a=nn(),o=j0(),s=i(X2()),l=r(u3()),u=r(ZD()),c=s.types,d=s.expressionTypes;let f;const h=new l.default;function p(ve,et={}){return new o.Generator(et).stringify(g(ve))}da.toSparql=p;function g(ve){m(),ve=pt(ve);let et=y(ve);return et.type==="group"?et.patterns[0]:et}da.toSparqlJs=g;function m(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(ve){switch(ve.type!==c.EXTEND&&ve.type!==c.ORDER_BY&&ve.type!==c.GRAPH&&(f.project=!1),ve.type){case c.EXPRESSION:return v(ve);case c.ASK:return pe(ve,c.ASK);case c.BGP:return j(ve);case c.CONSTRUCT:return H(ve);case c.DESCRIBE:return pe(ve,c.DESCRIBE);case c.DISTINCT:return M(ve);case c.EXTEND:return $(ve);case c.FROM:return te(ve);case c.FILTER:return re(ve);case c.GRAPH:return oe(ve);case c.GROUP:return J(ve);case c.JOIN:return fe(ve);case c.LEFT_JOIN:return xe(ve);case c.MINUS:return de(ve);case c.NOP:return{};case c.ORDER_BY:return ae(ve);case c.PATH:return Fe(ve);case c.PATTERN:return Le(ve);case c.PROJECT:return pe(ve,c.PROJECT);case c.REDUCED:return X(ve);case c.SERVICE:return C(ve);case c.SLICE:return E(ve);case c.UNION:return S(ve);case c.VALUES:return I(ve);case c.COMPOSITE_UPDATE:return Ve(ve);case c.DELETE_INSERT:return Ge(ve);case c.LOAD:return qe(ve);case c.CLEAR:return Ee(ve);case c.CREATE:return W(ve);case c.DROP:return V(ve);case c.ADD:return z(ve);case c.MOVE:return be(ve);case c.COPY:return ke(ve)}throw new Error(`Unknown Operation type ${ve.type}`)}function v(ve){switch(ve.expressionType){case d.AGGREGATE:return w(ve);case d.EXISTENCE:return T(ve);case d.NAMED:return R(ve);case d.OPERATOR:return F(ve);case d.TERM:return D(ve);case d.WILDCARD:return A(ve)}throw new Error(`Unknown Expression Operation type ${ve.expressionType}`)}function b(ve){switch(ve.type){case c.ALT:return k(ve);case c.INV:return Q(ve);case c.LINK:return G(ve);case c.NPS:return ne(ve);case c.ONE_OR_MORE_PATH:return ee(ve);case c.SEQ:return se(ve);case c.ZERO_OR_MORE_PATH:return ge(ve);case c.ZERO_OR_ONE_PATH:return Ae(ve)}throw new Error(`Unknown Path type ${ve.type}`)}function _(ve){return(0,a.termToString)(ve)}function w(ve){const et={expression:v(ve.expression),type:"aggregate",aggregation:ve.aggregator,distinct:ve.distinct};return ve.separator&&(et.separator=ve.separator),et}function T(ve){return{type:"operation",operator:ve.not?"notexists":"exists",args:[{type:"group",patterns:u.default.flatten([y(ve.input)])}]}}function R(ve){return{type:"functionCall",function:ve.name,args:ve.args.map(v)}}function F(ve){if(ve.operator==="desc"){const Ze={expression:v(ve.args[0])};return Ze.descending=!0,Ze}const et={type:"operation",operator:ve.operator,args:ve.args.map(v)};return(et.operator==="in"||et.operator==="notin")&&(et.args=[et.args[0]].concat([et.args.slice(1)])),et}function D(ve){return ve.term}function A(ve){return ve.wildcard}function x(ve){return Array.isArray(ve)?ve.length===1?ve[0]:{type:"group",patterns:ve}:ve}function N(ve){return ve}function j(ve){let et=ve.patterns.map(Le);return et.length===0?null:{type:"bgp",triples:et}}function H(ve){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:ve.template.map(Le),where:u.default.flatten([y(ve.input)])}}function M(ve){let et=y(ve.input);return et.patterns[0].distinct=!0,et}function $(ve){return f.project?(f.extend.push(ve),y(ve.input)):u.default.flatten([y(ve.input),{type:"bind",variable:ve.variable,expression:v(ve.expression)}])}function te(ve){const et=y(ve.input);let Ze=et;return et.type==="group"&&(Ze=et.patterns[0]),Ze.from={default:ve.default,named:ve.named},et}function re(ve){return{type:"group",patterns:u.default.flatten([y(ve.input),{type:"filter",expression:v(ve.expression)}])}}function oe(ve){return{type:"graph",patterns:u.default.flatten([y(ve.input)]),name:ve.name}}function J(ve){const et=y(ve.input),Ze=ve.aggregates.map(N);return f.aggregates.push(...Ze),f.group.push(...ve.variables),et}function fe(ve){return u.default.flatten(ve.input.map(y)).reduce((Ze,st)=>(st.type!=="bgp"||Ze.length==0||Ze[Ze.length-1].type!=="bgp"?Ze.push(st):Ze[Ze.length-1].triples.push(...st.triples),Ze),[])}function xe(ve){const et={type:"optional",patterns:[y(ve.input[1])]};return ve.expression&&et.patterns.push({type:"filter",expression:v(ve.expression)}),et.patterns=u.default.flatten(et.patterns),u.default.flatten([y(ve.input[0]),et])}function de(ve){let et=y(ve.input[1]);return et.type==="group"&&(et=et.patterns),Array.isArray(et)||(et=[et]),u.default.flatten([y(ve.input[0]),{type:"minus",patterns:et}])}function ae(ve){return f.order.push(...ve.expressions),y(ve.input)}function Fe(ve){return{type:"bgp",triples:[{subject:ve.subject,predicate:b(ve.predicate),object:ve.object}]}}function Le(ve){return{subject:ve.subject,predicate:ve.predicate,object:ve.object}}function me(ve,et){let Ze=u.default.isSimpleTerm(ve)?_(ve):ve;if(typeof Ze=="string"){if(et[Ze])return et[Ze]}else if(Array.isArray(ve))ve=ve.map(st=>me(st,et));else for(let st of Object.keys(ve))ve[st]=me(ve[st],et);return ve}function pe(ve,et){const Ze={type:"query",prefixes:{}},st=Ze;let ut;et===c.PROJECT?(Ze.queryType="SELECT",ut=ve.variables):et===c.ASK?Ze.queryType="ASK":et===c.DESCRIBE&&(Ze.queryType="DESCRIBE",ut=ve.terms);const xt=f.extend,Nt=f.group,Lt=f.aggregates,er=f.order;m(),f.project=!0;let Ie=u.default.flatten([y(ve.input)]);Ie.length===1&&Ie[0].type==="group"&&(Ie=Ie[0].patterns),Ze.where=Ie;let U={};for(let Ke of f.aggregates)U[_(Ke.variable)]=v(Ke);let he={};for(let Ke=f.extend.length-1;Ke>=0;--Ke){let Et=f.extend[Ke];he[_(Et.variable)]=me(v(Et.expression),U)}f.group.length>0&&(st.group=f.group.map(Ke=>{let Et=_(Ke);if(he[Et]){let lt=he[Et];return delete he[Et],{variable:Ke,expression:lt}}return{expression:Ke}})),f.order.length>0&&(st.order=f.order.map(y).map(Ke=>Ke.descending?Ke:{expression:Ke})),ut&&(st.variables=ut.map(Ke=>{let Et=_(Ke);if(he[Et]){let lt=he[Et];return delete he[Et],{variable:Ke,expression:lt}}return Ke}),st.variables.length===0&&(st.variables=[new o.Wildcard]));const je=Object.entries(he);if(je.length>0){st.where=st.where||[];for(const[Ke,Et]of je)st.where.push({type:"bind",variable:(0,a.stringToTerm)(Ke),expression:Et})}if(Ze.where.length>0&&Ze.where[Ze.where.length-1].type==="filter"){const Ke=Ze.where[Ze.where.length-1];_e(Ke,Object.keys(U))&&(st.having=u.default.flatten([me(Ke.expression,U)]),Ze.where.splice(-1))}return f.extend=xt,f.group=Nt,f.aggregates=Lt,f.order=er,{type:"group",patterns:[st]}}function _e(ve,et){return u.default.isSimpleTerm(ve)?et.indexOf(_(ve))>=0:Array.isArray(ve)?ve.some(Ze=>_e(Ze,et)):ve===Object(ve)?Object.keys(ve).some(Ze=>_e(ve[Ze],et)):et.indexOf(ve)>=0}function X(ve){let et=y(ve.input);return et.patterns[0].reduced=!0,et}function C(ve){let et=y(ve.input);return et.type==="group"&&(et=et.patterns),Array.isArray(et)||(et=[et]),{type:"service",name:ve.name,silent:ve.silent,patterns:et}}function E(ve){let et=y(ve.input),Ze=et;return et.type&&et.type==="group"&&(Ze=et.patterns[0]),ve.start!==0&&(Ze.offset=ve.start),ve.length!==void 0&&(Ze.limit=ve.length),et}function S(ve){return{type:"union",patterns:ve.input.map(y).map(x)}}function I(ve){return{type:"values",values:ve.bindings.map(et=>{let Ze={};for(let st of ve.variables){let ut=`?${st.value}`;et[ut]?Ze[ut]=et[ut]:Ze[ut]=void 0}return Ze})}}function k(ve){const et=ve.input.map(b);return et.every(Ze=>"pathType"in Ze&&Ze.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:u.default.flatten(et.map(Ze=>Ze.items))}]}:{type:"path",pathType:"|",items:et}}function Q(ve){if(ve.path.type===c.NPS){const et=ve.path.iris.map(Ze=>({type:"path",pathType:"^",items:[Ze]}));return et.length<=1?{type:"path",pathType:"!",items:et}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:et}]}}return{type:"path",pathType:"^",items:[b(ve.path)]}}function G(ve){return ve.iri}function ne(ve){return ve.iris.length<=1?{type:"path",pathType:"!",items:ve.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:ve.iris}]}}function ee(ve){return{type:"path",pathType:"+",items:[b(ve.path)]}}function se(ve){return{type:"path",pathType:"/",items:ve.input.map(b)}}function ge(ve){return{type:"path",pathType:"*",items:[b(ve.path)]}}function Ae(ve){return{type:"path",pathType:"?",items:[b(ve.path)]}}function Ve(ve){const et=ve.updates.map(Ze=>y(Ze).updates[0]);return{prefixes:{},type:"update",updates:et}}function Ge(ve){var et;let Ze=ve.where,st;if(Ze&&Ze.type===c.FROM){let xt=Ze;Ze=xt.input,st={default:xt.default,named:xt.named}}const ut=[{updateType:"insertdelete",delete:dt(ve.delete||[]),insert:dt(ve.insert||[])}];if(st&&(ut[0].using=st),!Ze||Ze.type===c.BGP&&Ze.patterns.length===0)ut[0].where=[];else{const xt=[];let Nt=y(tt(Ze,xt));if(Nt.type==="group"?ut[0].where=Nt.patterns:ut[0].where=[Nt],xt.length>0){if(xt.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((et=xt[0])===null||et===void 0?void 0:et.value)!==""&&(ut[0].where=[{type:"graph",patterns:ut[0].where,name:xt[0]}])}}return!ve.delete&&!ve.where?(ut[0].updateType="insert",delete ut[0].delete,delete ut[0].where):!ve.insert&&!ve.where?(delete ut[0].insert,delete ut[0].where,ve.delete.some(xt=>xt.subject.termType==="Variable"||xt.predicate.termType==="Variable"||xt.object.termType==="Variable")?ut[0].updateType="deletewhere":ut[0].updateType="delete"):!ve.insert&&ve.where&&ve.where.type==="bgp"&&(0,n.isomorphic)(ve.delete,ve.where.patterns)&&(delete ut[0].where,ut[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ut}}function qe(ve){const et=[{type:"load",silent:!!ve.silent,source:ve.source}];return ve.destination&&(et[0].destination=ve.destination),{prefixes:{},type:"update",updates:et}}function Ee(ve){return K(ve,"clear")}function W(ve){return K(ve,"create")}function V(ve){return K(ve,"drop")}function K(ve,et){const Ze=[{type:et,silent:!!ve.silent}];return ve.source==="DEFAULT"?Ze[0].graph={default:!0}:ve.source==="NAMED"?Ze[0].graph={named:!0}:ve.source==="ALL"?Ze[0].graph={all:!0}:Ze[0].graph={type:"graph",name:ve.source},{prefixes:{},type:"update",updates:Ze}}function z(ve){return Pe(ve,"add")}function be(ve){return Pe(ve,"move")}function ke(ve){return Pe(ve,"copy")}function Pe(ve,et){const Ze=[{type:et,silent:!!ve.silent}];return Ze[0].source=ve.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ve.source},Ze[0].destination=ve.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ve.destination},{prefixes:{},type:"update",updates:Ze}}function dt(ve){if(!ve)return[];const et={};return ve.forEach(Ze=>{const st=Ze.graph.value;et[st]||(et[st]=[]),et[st].push(Ze)}),Object.keys(et).map(Ze=>Ze===""?{type:"bgp",triples:et[Ze].map(Le)}:{type:"graph",triples:et[Ze].map(Le),name:et[Ze][0].graph})}function pt(ve){return tt(ve,[])}function tt(ve,et){if(Array.isArray(ve))return ve.map(Nt=>tt(Nt,et));if(!ve.type||ve.type===c.DELETE_INSERT)return ve;if((ve.type===c.PATTERN||ve.type===c.PATH)&&ve.graph)return et.push(ve.graph),ve.graph.name!==""?ve.type===c.PATTERN?h.createPattern(ve.subject,ve.predicate,ve.object):h.createPath(ve.subject,ve.predicate,ve.object):ve;const Ze={},st={},ut={};for(let Nt of Object.keys(ve)){const Lt=[];if(Ze[Nt]=tt(ve[Nt],Lt),Lt.length>0){st[Nt]=Lt;for(const er of Lt)ut[er.value]=er}}const xt=Object.keys(ut);if(xt.length>0)if(xt.length===1&&![c.PROJECT,c.SERVICE].includes(ve.type))et.push(ut[xt[0]]);else{if(ve.type===c.BGP)return At(ve,st.patterns);for(let Nt of Object.keys(st)){const Lt=Ze[Nt];Array.isArray(Lt)?Ze[Nt]=Lt.map((er,Ie)=>st[Nt][0].value===""?er:h.createGraph(er,st[Nt][Ie])):st[Nt][0].value!==""&&(Ze[Nt]=h.createGraph(Lt,st[Nt][0]))}}return Ze}function At(ve,et){var Ze;const st={};for(let Nt=0;Nt<ve.patterns.length;++Nt){const Lt=ve.patterns[Nt],er=et[Nt].value;st[er]=(Ze=st[er])!==null&&Ze!==void 0?Ze:{patterns:[],graph:et[Nt]},st[er].patterns.push(Lt)}let ut=[];for(const[Nt,{patterns:Lt,graph:er}]of Object.entries(st)){const Ie=h.createBgp(Lt);ut.push(Nt===""?Ie:h.createGraph(Ie,er))}let xt=ut[0];for(let Nt=1;Nt<ut.length;++Nt)xt=h.createJoin([xt,ut[Nt]]);return xt}return da}var GL;function vr(){return GL||(GL=1,function(e){var t=xo&&xo.__createBinding||(Object.create?function(c,d,f,h){h===void 0&&(h=f);var p=Object.getOwnPropertyDescriptor(d,f);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,h,p)}:function(c,d,f,h){h===void 0&&(h=f),c[h]=d[f]}),i=xo&&xo.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),r=xo&&xo.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&t(d,c,f);return i(d,c),d},n=xo&&xo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.toSparqlJs=e.toSparql=e.Factory=e.Algebra=e.translate=void 0;const a=n(bme());e.translate=a.default;const o=r(X2());e.Algebra=o;const s=n(u3());e.Factory=s.default;const l=Pme();Object.defineProperty(e,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(e,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const u=n(ZD());e.Util=u.default}(xo)),xo}var WL;function VX(){if(WL)return nc;WL=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.materializeOperation=nc.materializeTerm=void 0;const e=yr(),t=nn(),i=Qi(),r=vr(),n=new e.DataFactory,a=n.literal("true",n.namedNode("http://www.w3.org/2001/XMLSchema#boolean"));function o(u,c){if(u.termType==="Variable"){const d=c.get(u);if(d)return d}return u.termType==="Quad"&&(0,i.someTermsNested)(u,d=>d.termType==="Variable")?(0,i.mapTermsNested)(u,d=>o(d,c)):u}nc.materializeTerm=o;function s(u,c,d,f={}){return f={strictTargetVariables:"strictTargetVariables"in f?f.strictTargetVariables:!1,bindFilter:"bindFilter"in f?f.bindFilter:!0,originalBindings:"originalBindings"in f?f.originalBindings:c},r.Util.mapOperation(u,{path(h,p){return{recurse:!1,result:Object.assign(p.createPath(o(h.subject,c),h.predicate,o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},pattern(h,p){return{recurse:!1,result:Object.assign(p.createPattern(o(h.subject,c),o(h.predicate,c),o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},extend(h){if(c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,t.termToString)(h.variable)} in a BIND operator.`);return{recurse:!0,result:s(h.input,c,d,f)}}return{recurse:!0,result:h}},group(h,p){if(f.strictTargetVariables){for(const m of h.variables)if(c.has(m))throw new Error(`Tried to bind variable ${(0,t.termToString)(m)} in a GROUP BY operator.`);return{recurse:!0,result:h}}const g=h.variables.filter(m=>!c.has(m));return{recurse:!0,result:p.createGroup(h.input,g,h.aggregates)}},project(h,p){if(f.strictTargetVariables){for(const y of h.variables)if(c.has(y))throw new Error(`Tried to bind variable ${(0,t.termToString)(y)} in a SELECT operator.`);return{recurse:!0,result:h}}for(const y of c.keys())for(const v of h.variables)if(v.equals(y)){c=c.delete(y);break}const g=l(p,f.originalBindings,h.variables);let m=s(h.input,c,d,f);return g.length>0&&(m=p.createJoin([...g,m])),{recurse:!1,result:p.createProject(m,h.variables)}},filter(h,p){const g=f.originalBindings;if(h.expression.expressionType!=="operator"||g.size===0)return{recurse:!1,result:h};const m=l(p,g),y=s(h.expression,c,d,f);let v=s(h.input,c,d,f);return m.length>0&&(v=p.createJoin([...m,v])),{recurse:!1,result:p.createFilter(v,y)}},values(h,p){if(f.strictTargetVariables){for(const g of h.variables)if(c.has(g))throw new Error(`Tried to bind variable ${(0,t.termToString)(g)} in a VALUES operator.`)}else{const g=h.variables.filter(y=>!c.has(y)),m=h.bindings.map(y=>{const v={...y};let b=!0;return c.forEach((_,w)=>{const T=(0,t.termToString)(w);T in v&&(_.equals(v[T])||(b=!1),delete v[T])}),b?v:void 0}).filter(Boolean);return{recurse:!0,result:p.createValues(g,m)}}return{recurse:!1,result:h}},expression(h,p){if(!f.bindFilter)return{recurse:!1,result:h};if(h.expressionType==="term")return{recurse:!1,result:p.createTermExpression(o(h.term,c))};if(h.expressionType==="operator")return h.operator==="bound"&&h.args.length===1&&h.args[0].expressionType==="term"&&[...c.keys()].some(g=>h.args[0].term.equals(g))?{recurse:!1,result:p.createTermExpression(a)}:{recurse:!0,result:h};if(h.expressionType==="aggregate"&&"variable"in h&&c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind ${(0,t.termToString)(h.variable)} in a ${h.aggregator} aggregate.`);return{recurse:!0,result:h}}return{recurse:!0,result:h}}})}nc.materializeOperation=s;function l(u,c,d){const f=[];for(const[h,p]of c)if(!d||d.some(g=>g.equals(h))){const g={[(0,t.termToString)(h)]:p};f.push(u.createValues([h],[g]))}return f}return nc}var KL;function UX(){if(KL)return Nm;KL=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.ActorQueryOperation=void 0;const e=Ir(),t=_t(),i=YD(),r=VX();let n=0,a=class hs extends t.Actor{constructor(s){super(s)}static getSafeBindings(s){return hs.validateQueryOutput(s,"bindings"),s}static getSafeQuads(s){return hs.validateQueryOutput(s,"quads"),s}static getSafeBoolean(s){return hs.validateQueryOutput(s,"boolean"),s}static getSafeVoid(s){return hs.validateQueryOutput(s,"void"),s}static validateQueryOutput(s,l){if(s.type!==l)throw new Error(`Invalid query output type: Expected '${l}' but got '${s.type}'`)}static getBaseExpressionContext(s){const l=s.get(e.KeysInitQuery.queryTimestamp),u=s.get(e.KeysInitQuery.baseIRI),c=s.get(e.KeysInitQuery.functionArgumentsCache)??{};if(s.has(e.KeysInitQuery.extensionFunctionCreator)&&s.has(e.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let d=s.get(e.KeysInitQuery.extensionFunctionCreator);const f=s.get(e.KeysInitQuery.extensionFunctions);return f&&(d=h=>f[h.value]),{now:l,baseIRI:u,extensionFunctionCreator:d,functionArgumentsCache:c}}static getExpressionContext(s,l){return{...this.getBaseExpressionContext(s),bnode:u=>new i.BlankNodeBindingsScoped(u??`BNODE_${n++}`)}}static getAsyncExpressionContext(s,l,u){return{...this.getBaseExpressionContext(s),bnode:c=>Promise.resolve(new i.BlankNodeBindingsScoped(c??`BNODE_${n++}`)),exists:hs.createExistenceResolver(s,l,u)}}static createExistenceResolver(s,l,u){return async(c,d)=>{const f=(0,r.materializeOperation)(c.input,d,u),h=await l.mediate({operation:f,context:s}),p=hs.getSafeBindings(h);return c.not!==((await p.bindingsStream.take(1).toArray()).length===1)}}static throwOnReadOnly(s){if(s.get(e.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}static getOperationSource(s){var l;return(l=s.metadata)==null?void 0:l.scopedSource}static assignOperationSource(s,l){return s={...s},s.metadata=s.metadata?{...s.metadata}:{},s.metadata.scopedSource=l,s}static removeOperationSource(s){var l;(l=s.metadata)==null||delete l.scopedSource,s.metadata&&Object.keys(s.metadata).length===0&&delete s.metadata}static doesShapeAcceptOperation(s,l,u){return s.type==="conjunction"?s.children.every(c=>hs.doesShapeAcceptOperation(c,l,u)):s.type==="disjunction"?s.children.some(c=>hs.doesShapeAcceptOperation(c,l,u)):s.type==="arity"?hs.doesShapeAcceptOperation(s.child,l,u):((u==null?void 0:u.joinBindings)&&!s.joinBindings)??((u==null?void 0:u.filterBindings)&&!s.filterBindings)?!1:s.operation.operationType==="type"?s.operation.type==="project"||s.operation.type===l.type:s.operation.pattern.type===l.type}};return Nm.ActorQueryOperation=a,Nm}var Mm={},sc={},jm={},JL;function Ime(){if(JL)return jm;JL=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.MetadataValidationState=void 0;let e=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(i){this.invalidateListeners.push(i)}invalidate(){if(this.valid){this.valid=!1;for(const i of this.invalidateListeners)i()}}};return jm.MetadataValidationState=e,jm}var za={},XL;function Cme(){if(XL)return za;XL=1,Object.defineProperty(za,"__esModule",{value:!0}),za.cachifyMetadata=za.validateMetadataBindings=za.validateMetadataQuads=za.getMetadataBindings=za.getMetadataQuads=void 0;function e(a){return n(()=>new Promise((o,s)=>{a.getProperty("metadata",l=>o(l)),a.on("error",s)}).then(o=>i(o)))}za.getMetadataQuads=e;function t(a){return n(()=>new Promise((o,s)=>{a.getProperty("metadata",l=>o(l)),a.on("error",s)}).then(o=>("canContainUndefs"in o||(o.canContainUndefs=!1),r(o))))}za.getMetadataBindings=t;function i(a){for(const o of["cardinality"])if(!(o in a))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(a)}`);return a}za.validateMetadataQuads=i;function r(a){for(const o of["cardinality","canContainUndefs","variables"])if(!(o in a))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(a)}`);return a}za.validateMetadataBindings=r;function n(a){let o;return()=>(o||(o=a(),o.then(s=>s.state.addInvalidateListener(()=>{o=void 0})).catch(()=>{})),o)}return za.cachifyMetadata=n,za}var YL;function zi(){return YL||(YL=1,function(e){var t=sc&&sc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=sc&&sc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ime(),e),i(Cme(),e)}(sc)),sc}var ZL;function HX(){if(ZL)return Mm;ZL=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.ActorQueryOperationTyped=void 0;const e=Ir(),t=zi(),i=UX();let r=class extends i.ActorQueryOperation{constructor(a,o){if(super({...a,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(a){if(!a.operation)throw new Error("Missing field 'operation' in a query operation action.");if(a.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${a.operation.type}`);const o=a.operation;return this.testOperation(o,a.context)}async run(a){const o=a.context.get(e.KeysInitQuery.physicalQueryPlanLogger);o&&(o.logOperation(a.operation.type,void 0,a.operation,a.context.get(e.KeysInitQuery.physicalQueryPlanNode),this.name,{}),a.context=a.context.set(e.KeysInitQuery.physicalQueryPlanNode,a.operation));const s=a.operation,l=a.context.set(e.KeysQueryOperation.operation,s),u=await this.runOperation(s,l);return"metadata"in u&&(u.metadata=(0,t.cachifyMetadata)(u.metadata)),u}};return Mm.ActorQueryOperationTyped=r,Mm}var km={},e8;function Dme(){if(e8)return km;e8=1,Object.defineProperty(km,"__esModule",{value:!0}),km.ActorQueryOperationTypedMediated=void 0;const e=HX();let t=class extends e.ActorQueryOperationTyped{constructor(r,n){super(r,n)}};return km.ActorQueryOperationTypedMediated=t,km}var Bm={},t8;function Nme(){if(t8)return Bm;t8=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.BusQueryOperation=void 0;const e=_t();let t=class extends e.BusIndexed{constructor(r){super({...r,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return Bm.BusQueryOperation=t,Bm}var qm={},aO={},Vm={},r8;function Fme(){if(r8)return Vm;r8=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.LinkedList=void 0;class e{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var i;return(i=this._head)===null||i===void 0?void 0:i.value}get last(){var i;return(i=this._tail)===null||i===void 0?void 0:i.value}get empty(){return this._head===null}push(i){const r={value:i,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;const{value:i,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,i}clear(){this._length=0,this._head=this._tail=null}}return Vm.LinkedList=e,Vm}var Um={},n8;function Lme(){if(n8)return Um;n8=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.createTaskScheduler=void 0;const e=Promise.resolve(void 0);function t(){const i=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o),r=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let n=0,a=null;return o=>{a!==null?a.push(o):++n<100?i(o):(a=[o],r(()=>{for(const s of a)i(s);a=null,n=0}))}}return Um.createTaskScheduler=t,Um}var i8;function Rr(){return i8||(i8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const t=b0(),i=Fme();Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return i.LinkedList}});let n=Lme().createTaskScheduler();function a(E){n(E)}e.scheduleTask=a;function o(){return n}e.getTaskScheduler=o;function s(E){n=E}e.setTaskScheduler=s,e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class l extends t.EventEmitter{constructor(S=e.OPEN){super(),this._readable=!1,this._state=S,this.on("newListener",u)}_changeState(S,I=!1){const k=S>this._state&&this._state<e.ENDED;return k&&(this._state=S,S===e.ENDED&&(I?n(()=>this.emit("end")):this.emit("end"))),k}read(){return null}forEach(S,I){this.on("data",Fe(S,I))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(S){this.done||this._destroy(S,I=>{S=S||I,S&&this.emit("error",S),this._end(!0)})}_destroy(S,I){I()}_end(S=!1){this._changeState(S?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){n(()=>this._end())}get readable(){return this._readable}set readable(S){S=!!S&&!this.done,this._readable!==S&&(this._readable=S,S&&n(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const S=this._toStringDetails();return`[${this.constructor.name}${S?` ${S}`:""}]`}_toStringDetails(){return""}toArray(S){const I=[],k=typeof(S==null?void 0:S.limit)=="number"?S.limit:1/0;return this.ended||k<=0?Promise.resolve(I):new Promise((Q,G)=>{const ne=()=>Q(I),ee=se=>{I.push(se),I.length>=k&&(this.removeListener("error",G),this.removeListener("data",ee),this.removeListener("end",ne),Q(I))};this.on("error",G),this.on("data",ee),this.on("end",ne)})}getProperty(S,I){const k=this._properties;if(!I)return k&&k[S];if(k&&S in k)n(()=>I(k[S]));else{let Q;(Q=this._propertyCallbacks)||(this._propertyCallbacks=Q=Object.create(null)),S in Q?Q[S].push(I):Q[S]=[I]}}setProperty(S,I){const k=this._properties||(this._properties=Object.create(null));k[S]=I;const Q=this._propertyCallbacks||{},G=Q[S];if(G){delete Q[S],n(()=>{for(const ne of G)ne(I)});for(S in Q)return;delete this._propertyCallbacks}}getProperties(){const S=this._properties,I={};for(const k in S)I[k]=S[k];return I}setProperties(S){for(const I in S)this.setProperty(I,S[I])}copyProperties(S,I){for(const k of I)S.getProperty(k,Q=>this.setProperty(k,Q))}transform(S){return new A(this,S)}map(S,I){return new y(this,Fe(S,I))}filter(S,I){return this.map(function(k){return S.call(I||this,k)?k:null})}uniq(S=m){const I=new Set;return this.filter(function(k){const Q=S.call(this,k);return I.has(Q)?!1:(I.add(Q),!0)})}prepend(S){return this.transform({prepend:S})}append(S){return this.transform({append:S})}surround(S,I){return this.transform({prepend:S,append:I})}skip(S){return this.map(I=>S-- >0?null:I)}take(S){return this.transform({limit:S})}range(S,I){return this.transform({offset:S,limit:Math.max(I-S+1,0)})}clone(){return new H(this)}[Symbol.asyncIterator](){const S=this;let I=null,k=null,Q=null;S.addListener("readable",G),S.addListener("end",G),S.addListener("error",ne);function G(){if(I!==null)if(Q!==null)ne(Q);else if(S.done)I({done:!0,value:void 0}),I=k=null,ee();else{const se=S.read();se!==null&&(I({done:!1,value:se}),I=k=null)}}function ne(se){k!==null?(k(se),I=k=Q=null,ee()):Q===null&&(Q=se)}function ee(){S.removeListener("readable",G),S.removeListener("end",G),S.removeListener("error",ne)}return{next(){return new Promise((se,ge)=>{I=se,k=ge,G()})}}}}e.AsyncIterator=l;function u(E){E==="data"&&(this.removeListener("newListener",u),d(this,"readable",c),this.readable&&n(()=>c.call(this)))}function c(){let E;for(;this.listenerCount("data")!==0&&(E=this.read())!==null;)this.emit("data",E);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",c),d(this,"newListener",u))}function d(E,S,I){E.listeners(S).includes(I)||E.on(S,I)}class f extends l{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=f;class h extends l{constructor(S){super(),this._item=S,S===null?this.close():this.readable=!0}read(){const S=this._item;return this._item=null,this.close(),S}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=h;class p extends l{constructor(S=[],{autoStart:I=!0,preserve:k=!0}={}){super();const Q=k||!Array.isArray(S)?[...S]:S;this._index=0,this._sourceStarted=I!==!1,this._truncateThreshold=k?-1:64,this._sourceStarted&&Q.length===0?this.close():this._buffer=Q,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let S=null;return this._buffer&&(this._index<this._buffer.length&&(S=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),S}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(S,I){delete this._buffer,I()}toArray(S={}){if(!this._buffer)return Promise.resolve([]);const{length:I}=this._buffer,k=this._index,Q=typeof S.limit!="number"?I:k+S.limit,G=this._buffer.slice(k,Q);return this._index=Q,Q>=I&&this.close(),Promise.resolve(G)}}e.ArrayIterator=p;class g extends l{constructor({start:S=0,step:I=1,end:k}={}){super(),Number.isFinite(S)&&(S=Math.trunc(S)),this._next=S,Number.isFinite(I)&&(I=Math.trunc(I)),this._step=I;const Q=I>=0,G=Q?1/0:-1/0;Number.isFinite(k)?k=Math.trunc(k):k!==-G&&(k=G),this._last=k,!Number.isFinite(S)||(Q?S>k:S<k)?this.close():this.readable=!0}read(){if(this.closed)return null;const S=this._next,I=this._step,k=this._last,Q=this._next+=I;return(I>=0?Q>k:Q<k)&&this.close(),S}_toStringDetails(){return`(${this._next}...${this._last})`}}e.IntegerIterator=g;function m(E){return E}e.identity=m,e.DESTINATION=Symbol("destination");class y extends l{constructor(S,I=m,k={}){super(),this._map=I,this._source=v(S),this._destroySource=k.destroySource!==!1,S.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",R),this._source.on("error",T),this._source.on("readable",w),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let S,I;for(;(S=this._source.read())!==null;)if((I=this._map(S))!==null)return I}this.readable=!1,this._source.done&&this.close()}return null}_end(S){this._source.removeListener("end",R),this._source.removeListener("error",T),this._source.removeListener("readable",w),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(S)}}e.MappingIterator=y;function v(E,S=!1){if(!E||!Le(E.read)||!Le(E.on))throw new TypeError(`Invalid source: ${E}`);if(!S&&E[e.DESTINATION])throw new Error("The source already has a destination");return E}class b extends l{constructor({maxBufferSize:S=4,autoStart:I=!0}={}){super(e.INIT),this._buffer=new i.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=S,n(()=>this._init(I)),this._sourceStarted=I!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(S){S!==1/0&&(S=Number.isFinite(S)?Math.max(Math.trunc(S),1):4),this._maxBufferSize!==S&&(this._maxBufferSize=S,this._state===e.OPEN&&this._fillBuffer())}_init(S){let I=!1;this._reading=!0,this._begin(()=>{if(I)throw new Error("done callback called multiple times");I=!0,this._reading=!1,this._changeState(e.OPEN),S?this._fillBufferAsync():this.readable=!0})}_begin(S){S()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const S=this._buffer;let I;return S.empty?(I=null,this.readable=!1):I=S.shift(),!this._reading&&S.length<this._maxBufferSize&&(this.closed?S.empty&&this._endAsync():this._fillBufferAsync()),I}_read(S,I){I()}_push(S){this.done||(this._pushedCount++,this._buffer.push(S),this.readable=!0)}_fillBuffer(){let S;this._reading||(this.closed?this._completeClose():(S=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(S,()=>{if(!S)throw new Error("done callback called multiple times");S=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,n(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(S,I){this._buffer.clear(),I()}_flush(S){S()}_toStringDetails(){const S=this._buffer;return`{${S.empty?"":`next: ${S.first}, `}buffer: ${S.length}}`}}e.BufferedIterator=b;class _ extends b{constructor(S,I=S||{}){super(I),this._boundPush=k=>this._push(k),_e(S)||(S=I.source),me(S)?this.source=S:S&&(this._createSource=pe(S)?()=>S:S,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!I.optional,this._destroySource=I.destroySource!==!1}get source(){return Le(this._createSource)&&this._loadSourceAsync(),this._source}set source(S){const I=this._source=this._validateSource(S);I[e.DESTINATION]=this,this.done?this._destroySource&&I.destroy():I.done?this.close():(I.on("end",F),I.on("readable",D),I.on("error",T))}_loadSourceAsync(){Le(this._createSource)&&(Promise.resolve(this._createSource()).then(S=>{delete this._createSource,this.source=S,this._fillBuffer()},S=>this.emit("error",S)),this._createSource=null)}_validateSource(S,I=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return v(S,I)}_read(S,I){const k=()=>{this._pushedCount<S&&!this.closed?n(()=>this._readAndTransform(k,I)):I()};this._readAndTransform(k,I)}_readAndTransform(S,I){let k;const Q=this.source;!Q||Q.done||(k=Q.read())===null?I():this._optional?this._optionalTransform(k,S):this._transform(k,S,this._boundPush)}_optionalTransform(S,I){const k=this._pushedCount;this._transform(S,()=>{k===this._pushedCount&&this._push(S),I()},this._boundPush)}_transform(S,I,k){k(S),I()}_closeWhenDone(){this.close()}_end(S){const I=this._source;I&&(I.removeListener("end",F),I.removeListener("error",T),I.removeListener("readable",D),delete I[e.DESTINATION],this._destroySource&&I.destroy()),super._end(S)}}e.TransformIterator=_;function w(){this[e.DESTINATION].readable=!0}function T(E){this[e.DESTINATION].emit("error",E)}function R(){this[e.DESTINATION].close()}function F(){this[e.DESTINATION]._closeWhenDone()}function D(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}class A extends _{constructor(S,I){if(super(S,I),this._offset=0,this._limit=1/0,this._filter=k=>!0,I=I||(_e(S)?null:S),I){const k=Le(I)?I:I.transform,{limit:Q,offset:G,filter:ne,map:ee,prepend:se,append:ge}=I;G===1/0||Q===-1/0?this._limit=0:(Number.isFinite(G)&&(this._offset=Math.max(Math.trunc(G),0)),Number.isFinite(Q)&&(this._limit=Math.max(Math.trunc(Q),0)),Le(ne)&&(this._filter=ne),Le(ee)&&(this._map=ee),this._transform=Le(k)?k:null),se&&(this._prepender=me(se)?se:J(se)),ge&&(this._appender=me(ge)?ge:J(ge))}}_read(S,I){const k=()=>this._readAndTransformSimple(S,Q,I);this._readAndTransformSimple(S,Q,I);function Q(){n(k)}}_readAndTransformSimple(S,I,k){let Q;const{source:G}=this;if(!G||G.done){k();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<S&&(Q=G.read())!==null;){if(!this._filter(Q)||this._offset!==0&&this._offset--)continue;const ne=typeof this._map>"u"?Q:this._map(Q);if(ne===null)this._optional&&this._push(Q);else if(!Le(this._transform))this._push(ne);else{this._optional?this._optionalTransform(ne,I):this._transform(ne,I,this._boundPush);return}--this._limit===0&&this.close()}k()}_begin(S){this._insert(this._prepender,S),delete this._prepender}_flush(S){this._insert(this._appender,S),delete this._appender}_insert(S,I){const k=G=>this._push(G);!S||S.done?I():(S.on("data",k),S.on("end",Q));function Q(){S.removeListener("data",k),S.removeListener("end",Q),I()}}}e.SimpleTransformIterator=A;class x extends _{constructor(S,I){if(super(S,I),this._transformerQueue=[],I){const k=Le(I)?I:I.multiTransform;k&&(this._createTransformer=k)}}_read(S,I){const k=this._transformerQueue,Q=this._optional;let G,ne;for(;(G=k[0])&&G.transformer.done;){Q&&G.item!==null&&(S--,this._push(G.item)),k.shift();const{transformer:se}=G;se.removeListener("end",D),se.removeListener("readable",D),se.removeListener("error",T)}const{source:ee}=this;for(;ee&&!ee.done&&k.length<this.maxBufferSize&&(ne=ee.read(),ne!==null);){const se=this._createTransformer(ne)||new f;se[e.DESTINATION]=this,se.on("end",D),se.on("readable",D),se.on("error",T),k.push({transformer:se,item:ne})}if(G=k[0],G){const{transformer:se}=G;for(;S-- >0&&(ne=se.read())!==null;)this._push(ne),Q&&(G.item=null)}else ee&&ee.done&&this.close();I()}_createTransformer(S){return new h(S)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(S){if(super._end(S),this._destroySource)for(const I of this._transformerQueue)I.transformer.destroy()}}e.MultiTransformIterator=x;class N extends b{constructor(S,I={}){super(I),this._sources=[],this._currentSource=-1;const k=I.autoStart!==!1;if(me(S))S.on("error",Q=>this.emit("error",Q)),this._pending={loading:!1,sources:S},k&&this._loadSources();else if(Array.isArray(S)&&S.length>0)for(const Q of S)this._addSource(Q);else k&&this.close();this._destroySources=I.destroySources!==!1}_loadSources(){const S=this._pending.sources;this._pending.loading=!0,S.done?(delete this._pending,this.close()):(S.on("data",I=>{this._addSource(I),this._fillBufferAsync()}),S.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(S){pe(S)&&(S=te(S)),S.done||(this._sources.push(S),S[e.DESTINATION]=this,S.on("error",T),S.on("readable",D),S.on("end",j))}_removeEmptySources(){this._sources=this._sources.filter((S,I)=>(S.done&&I<=this._currentSource&&this._currentSource--,!S.done)),this._fillBuffer()}_read(S,I){var k;((k=this._pending)===null||k===void 0?void 0:k.loading)===!1&&this._loadSources();let Q=0,G;for(;Q!==(Q=S);)for(let ne=0;ne<this._sources.length&&S>0;ne++)this._currentSource=(this._currentSource+1)%this._sources.length,(G=this._sources[this._currentSource].read())!==null&&(S--,this._push(G));!this._pending&&this._sources.length===0&&this.close(),I()}_end(S=!1){if(super._end(S),this._destroySources){for(const I of this._sources)I.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}e.UnionIterator=N;function j(){this[e.DESTINATION]._removeEmptySources()}class H extends _{constructor(S){super(S,{autoStart:!1}),this._readPosition=0,this._reading=!1,S&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(S){const I=this._source=this._validateSource(S),k=I&&I[e.DESTINATION]||(I[e.DESTINATION]=new M(I));this.done?this._destroySource&&I.destroy():k.endsAt(0)?this.close():(k.register(this),(I._sourceStarted===!1||k.readAt(0)!==null)&&(this.readable=!0));const Q=this._propertyCallbacks;for(const G in Q){const ne=Q[G];for(const ee of ne)this._getSourceProperty(G,ee)}}_validateSource(S,I=!1){const k=S&&S[e.DESTINATION];return super._validateSource(S,!k||k instanceof M)}getProperty(S,I){const{source:k}=this,Q=this._properties,G=Q&&S in Q;if(!I)return G?Q&&Q[S]:k&&k.getProperty(S);super.getProperty(S,I),k&&!G&&this._getSourceProperty(S,I)}_getSourceProperty(S,I){this.source.getProperty(S,k=>{(!this._properties||!(S in this._properties))&&I(k)})}getProperties(){const S=this.source?this.source.getProperties():{},I=this._properties;for(const k in I)S[k]=I[k];return S}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const S=this.source;let I=null;if(!this.done&&S){const k=S[e.DESTINATION];(I=k.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,k.endsAt(this._readPosition)&&this.close()}return I}_end(S){const I=this.source,k=I==null?void 0:I[e.DESTINATION];k&&k.unregister(this),b.prototype._end.call(this,S)}}e.ClonedIterator=H;class M{constructor(S){if(this._history=[],this._trackers=new Set,this._source=S,!S.done){const I=()=>{for(const G of this._trackers)G.readable=!0},k=G=>{for(const ne of this._trackers)ne.emit("error",G)},Q=()=>{for(const G of this._trackers)G._sourceStarted!==!1&&G._readPosition===this._history.length&&G.close();this._trackers.clear(),S.removeListener("end",Q),S.removeListener("error",k),S.removeListener("readable",I)};S.on("end",Q),S.on("error",k),S.on("readable",I)}}register(S){this._source.done||this._trackers.add(S)}unregister(S){this._trackers.delete(S)}readAt(S){let I=null;return S<this._history.length?I=this._history[S]:!this._source.done&&(I=this._source.read())!==null&&(this._history[S]=I),I}endsAt(S){return this._source.done&&this._history.length===S}}class $ extends l{constructor(S,I){super(),this._source=null,this._destroySource=(I==null?void 0:I.destroySource)!==!1,pe(S)?(this._source=new l,S.then(k=>{this._source=null,this.source=k}).catch(k=>this.emit("error",k))):S&&(this.source=S)}set source(S){let I=S;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(X(I)&&(I=I[Symbol.iterator]()),C(I)){let k=I;I=new t.EventEmitter,I.read=()=>{if(k!==null){let Q;for(;!(Q=k.next()).done;)if(Q.value!==null)return Q.value;k=null,this.close()}return null}}else I=v(I);if(this.done){this._destroySource&&Le(I.destroy)&&I.destroy();return}I[e.DESTINATION]=this,I.on("end",R),I.on("error",T),I.on("readable",w),this._source=I,this.readable=I.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const S=this._source.read();if(S!==null)return S;this.readable=!1}return null}_end(S=!1){this._source!==null&&(this._source.removeListener("end",R),this._source.removeListener("error",T),this._source.removeListener("readable",w),delete this._source[e.DESTINATION],this._destroySource&&Le(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(S)}}e.WrappingIterator=$;function te(E,S){if(S&&("autoStart"in S||"optional"in S||"source"in S||"maxBufferSize"in S))return E&&!me(E)&&(E=new $(E)),new _(E,S);if(!E)return re();if(pe(E))return new $(E,S);if(E instanceof l)return E;if(Array.isArray(E))return J(E);if(X(E)||C(E)||me(E))return new $(E,S);throw new TypeError(`Invalid source: ${E}`)}e.wrap=te;function re(){return new f}e.empty=re;function oe(E){return new h(E)}e.single=oe;function J(E){return new p(E)}e.fromArray=J;function fe(E){return new $(E)}e.fromIterator=fe;function xe(E){return new $(E)}e.fromIterable=xe;function de(E){return new N(E)}e.union=de;function ae(E,S,I){return new g({start:E,end:S,step:I})}e.range=ae;function Fe(E,S){return S?E.bind(S):E}function Le(E){return typeof E=="function"}e.isFunction=Le;function me(E){return Le(E==null?void 0:E.on)}e.isEventEmitter=me;function pe(E){return Le(E==null?void 0:E.then)}e.isPromise=pe;function _e(E){return E&&(me(E)||pe(E)||Le(E))}e.isSourceExpression=_e;function X(E){return E&&Symbol.iterator in E}e.isIterable=X;function C(E){return Le(E==null?void 0:E.next)}e.isIterator=C}(aO)),aO}var a8;function Mme(){if(a8)return qm;a8=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.ClosableIterator=void 0;const e=Rr();let t=class extends e.AsyncIterator{constructor(o,s){super(),this.onClose=s.onClose,this._source=o,this._source[e.DESTINATION]=this,this._source.on("end",n),this._source.on("error",r),this._source.on("readable",i),this.readable=this._source.readable}read(){const o=this._source.read();return o||(this.readable=!1,this._source.done&&this.close()),o}_end(o){this.onClose(),this._source.removeListener("end",n),this._source.removeListener("error",r),this._source.removeListener("readable",i),delete this._source[e.DESTINATION],this._source.destroy(),super._end(o)}};qm.ClosableIterator=t;function i(){this[e.DESTINATION].readable=!0}function r(a){this[e.DESTINATION].emit("error",a)}function n(){this[e.DESTINATION].close()}return qm}var Hm={},o8;function jme(){if(o8)return Hm;o8=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.ClosableTransformIterator=void 0;const e=Rr();let t=class extends e.TransformIterator{constructor(r,n){super(r,n),this.onClose=n.onClose}_end(r){this.onClose(),super._end(r)}};return Hm.ClosableTransformIterator=t,Hm}var s8;function hr(){return s8||(s8=1,function(e){var t=tc&&tc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=tc&&tc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(UX(),e),i(HX(),e),i(Dme(),e),i(VX(),e),i(Nme(),e),i(Mme(),e),i(jme(),e)}(tc)),tc}var uc={},$m={},lc={},Qm={},u8;function kme(){if(u8)return Qm;u8=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.ActorContextPreprocess=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Qm.ActorContextPreprocess=t,Qm}var l8;function eA(){return l8||(l8=1,function(e){var t=lc&&lc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=lc&&lc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(kme(),e)}(lc)),lc}var c8;function Bme(){if(c8)return $m;c8=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.ActorContextPreprocessConvertShortcuts=void 0;const e=eA(),t=_t();let i=class $X extends e.ActorContextPreprocess{constructor(n){super(n)}async test(n){return!0}async run(n){return{context:$X.expandShortcuts(n.context,this.contextKeyShortcuts)}}static expandShortcuts(n,a){for(const o of n.keys())a[o.name]&&(n=n.set(new t.ActionContextKey(a[o.name]),n.get(o)).delete(o));return n}};return $m.ActorContextPreprocessConvertShortcuts=i,$m}var d8;function QX(){return d8||(d8=1,function(e){var t=uc&&uc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=uc&&uc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Bme(),e)}(uc)),uc}var cc={},zm={},f8;function qme(){if(f8)return zm;f8=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.ActorContextPreprocessSetDefaults=void 0;const e=eA(),t=Ir();let i=class extends e.ActorContextPreprocess{constructor(n){super(n),this.defaultFunctionArgumentsCache={}}async test(n){return!0}async run(n){let a=n.context;if(n.initialize){a=a.setDefault(t.KeysInitQuery.queryTimestamp,new Date).setDefault(t.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(t.KeysCore.log,this.logger).setDefault(t.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map);let o={language:"sparql",version:"1.1"};a.has(t.KeysInitQuery.queryFormat)?(o=a.get(t.KeysInitQuery.queryFormat),o.language==="graphql"&&(a=a.setDefault(t.KeysInitQuery.graphqlSingularizeVariables,{}))):a=a.set(t.KeysInitQuery.queryFormat,o)}return{context:a}}};return zm.ActorContextPreprocessSetDefaults=i,zm}var h8;function zX(){return h8||(h8=1,function(e){var t=cc&&cc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=cc&&cc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(qme(),e)}(cc)),cc}var dc={},Gm={},p8;function Vme(){if(p8)return Gm;p8=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.ActorContextPreprocessSourceToDestination=void 0;const e=eA(),t=Ir();let i=class extends e.ActorContextPreprocess{constructor(n){super(n)}async test(n){return!0}async run(n){if(n.context.get(t.KeysInitQuery.querySourcesUnidentified)&&!n.context.get(t.KeysRdfUpdateQuads.destination)){const a=n.context.get(t.KeysInitQuery.querySourcesUnidentified);if(a.length===1)return{context:n.context.set(t.KeysRdfUpdateQuads.destination,a[0])}}return n}};return Gm.ActorContextPreprocessSourceToDestination=i,Gm}var g8;function GX(){return g8||(g8=1,function(e){var t=dc&&dc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=dc&&dc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Vme(),e)}(dc)),dc}var fc={},Wm={},Km={},oO={},m8;function eN(){return m8||(m8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.deskolemizeOperation=e.deskolemizeQuad=e.deskolemizeTermNestedThrowing=e.deskolemizeTerm=e.skolemizeBindingsStream=e.skolemizeQuadStream=e.skolemizeBindings=e.skolemizeQuad=e.skolemizeTerm=e.getSourceId=e.SKOLEM_PREFIX=void 0;const t=YD(),i=yr(),r=Qi(),n=vr(),a=new i.DataFactory;e.SKOLEM_PREFIX="urn:comunica_skolem:source_";function o(m,y){let v=m.get(y.referenceValue);return v===void 0&&(v=`${m.size}`,m.set(y.referenceValue,v)),v}e.getSourceId=o;function s(m,y){return m.termType==="BlankNode"?new t.BlankNodeScoped(`bc_${y}_${m.value}`,a.namedNode(`${e.SKOLEM_PREFIX}${y}:${m.value}`)):m}e.skolemizeTerm=s;function l(m,y){return(0,r.mapTermsNested)(m,v=>s(v,y))}e.skolemizeQuad=l;function u(m,y){return m.map(v=>v.termType==="Quad"?l(v,y):s(v,y))}e.skolemizeBindings=u;function c(m,y){const v=m.map(_=>l(_,y));function b(){m.getProperty("metadata",_=>{v.setProperty("metadata",_),_.state.addInvalidateListener(b)})}return b(),v}e.skolemizeQuadStream=c;function d(m,y){const v=m.map(_=>u(_,y));function b(){m.getProperty("metadata",_=>{v.setProperty("metadata",_),_.state.addInvalidateListener(b)})}return b(),v}e.skolemizeBindingsStream=d;function f(m,y){if(m.termType==="BlankNode"&&"skolemized"in m&&(m=m.skolemized),m.termType==="NamedNode"&&m.value.startsWith(e.SKOLEM_PREFIX)){const v=m.value.indexOf(":",e.SKOLEM_PREFIX.length);if(m.value.slice(e.SKOLEM_PREFIX.length,v)===y){const _=m.value.slice(v+1,m.value.length);return a.blankNode(_)}return null}return m}e.deskolemizeTerm=f;function h(m,y){if(m.termType==="Quad")return(0,r.mapTermsNested)(m,b=>{const _=f(b,y);if(!_)throw new Error("Skolemized term is not in scope for this source");return _});const v=f(m,y);if(v===null)throw new Error("Skolemized term is not in scope for this source");return v}e.deskolemizeTermNestedThrowing=h;function p(m,y){return(0,r.mapTermsNested)(m,v=>f(v,y)??v)}e.deskolemizeQuad=p;function g(m,y){try{return n.Util.mapOperation(m,{[n.Algebra.types.PATTERN](v,b){return{result:Object.assign(b.createPattern(h(v.subject,y),h(v.predicate,y),h(v.object,y),h(v.graph,y)),{metadata:v.metadata}),recurse:!1}},[n.Algebra.types.PATH](v,b){return{result:Object.assign(b.createPath(h(v.subject,y),v.predicate,h(v.object,y),h(v.graph,y)),{metadata:v.metadata}),recurse:!1}}})}catch{}}e.deskolemizeOperation=g}(oO)),oO}var y8;function WX(){if(y8)return Km;y8=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.QuerySourceSkolemized=void 0;const e=zi(),t=Rr(),i=eN();let r=class{constructor(a,o){this.innerSource=a,this.sourceId=o}async getSelectorShape(a){return this.innerSource.getSelectorShape(a)}queryBindings(a,o,s){const l=(0,i.deskolemizeOperation)(a,this.sourceId);if(!l){const u=new t.ArrayIterator([],{autoStart:!1});return u.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]}),u}return(0,i.skolemizeBindingsStream)(this.innerSource.queryBindings(l,o,s),this.sourceId)}queryBoolean(a,o){return this.innerSource.queryBoolean(a,o)}queryQuads(a,o){const s=(0,i.deskolemizeOperation)(a,this.sourceId);if(!s){const l=new t.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,i.skolemizeQuadStream)(this.innerSource.queryQuads(s,o),this.sourceId)}queryVoid(a,o){return this.innerSource.queryVoid(a,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return Km.QuerySourceSkolemized=r,Km}var v8;function Ume(){if(v8)return Wm;v8=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.ActorContextPreprocessQuerySourceSkolemize=void 0;const e=eA(),t=Ir(),i=WX(),r=eN();let n=class extends e.ActorContextPreprocess{constructor(o){super(o)}async test(o){return!0}async run(o){let s=o.context;if(s.has(t.KeysQueryOperation.querySources)){s.has(t.KeysQuerySourceIdentify.sourceIds)||(s=s.set(t.KeysQuerySourceIdentify.sourceIds,new Map));const l=s.getSafe(t.KeysQuerySourceIdentify.sourceIds);let u=s.getSafe(t.KeysQueryOperation.querySources);u=u.map(c=>({source:new i.QuerySourceSkolemized(c.source,(0,r.getSourceId)(l,c.source)),context:c.context})),s=s.set(t.KeysQueryOperation.querySources,u)}return{context:s}}};return Wm.ActorContextPreprocessQuerySourceSkolemize=n,Wm}var b8;function tN(){return b8||(b8=1,function(e){var t=fc&&fc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=fc&&fc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ume(),e),i(WX(),e),i(eN(),e)}(fc)),fc}var hc={},Jm={},_8;function Hme(){if(_8)return Jm;_8=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.MediatorCombinePipeline=void 0;const e=_t();let t=class extends e.Mediator{constructor(r){super(r)}async mediate(r){let n;try{n=this.publish(r)}catch{return r}if(this.filterErrors){const o=[];for(const s of n)try{await s.reply,o.push(s)}catch{}n=o}if(n=await Promise.all(n.map(async({actor:o,reply:s})=>({actor:o,reply:await s}))),this.order){const o=s=>{const l=this.field?s[this.field]:s;if(typeof l!="number")throw new TypeError("Cannot order elements that are not numbers.");return l};n=n.sort((s,l)=>(this.order==="increasing"?1:-1)*(o(s.reply)-o(l.reply)))}let a=r;for(const{actor:o}of n)a={...a,...await o.runObservable(a)};return a}mediateWith(){throw new Error("Method not supported.")}};return Jm.MediatorCombinePipeline=t,Jm}var w8;function dE(){return w8||(w8=1,function(e){var t=hc&&hc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=hc&&hc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Hme(),e)}(hc)),hc}var pc={},Xm={},gc={},Ym={},S8;function $me(){if(S8)return Ym;S8=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.ActorHashBindings=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Ym.ActorHashBindings=t,Ym}var A8;function Qme(){return A8||(A8=1,function(e){var t=gc&&gc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=gc&&gc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i($me(),e)}(gc)),gc}var sO,T8;function zme(){return T8||(T8=1,sO=function e(t){if(typeof t=="number"&&isNaN(t))throw new Error("NaN is not allowed");if(typeof t=="number"&&!isFinite(t))throw new Error("Infinity is not allowed");return t===null||typeof t!="object"?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce((n,a,o)=>`${n}${o===0?"":","}${e(a===void 0||typeof a=="symbol"?null:a)}`,"")}]`:`{${Object.keys(t).sort().reduce((r,n)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const a=r.length===0?"":",";return`${r}${a}${e(n)}:${e(t[n])}`},"")}}`}),sO}var E8;function Gme(){if(E8)return Xm;E8=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.ActorHashBindingsSha1=void 0;const e=Qme(),t=l3(),i=nn(),r=zme();let n=class extends e.ActorHashBindings{async test(o){if(!o.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(o){return{hashFunction:s=>(0,t.sha1)().update(r(Object.fromEntries([...s].map(([l,u])=>[(0,i.termToString)(l),(0,i.termToString)(u)])))).digest("hex"),hashCollisions:!0}}};return Xm.ActorHashBindingsSha1=n,Xm}var x8;function KX(){return x8||(x8=1,function(e){var t=pc&&pc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=pc&&pc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Gme(),e)}(pc)),pc}var mc={},Zm={},R8;function Wme(){if(R8)return Zm;R8=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.MediatorRace=void 0;const e=_t();let t=class extends e.Mediator{constructor(r){super(r)}mediateWith(r,n){return new Promise((a,o)=>{const s=[];for(const l of n)l.reply.then(()=>{a(l.actor)}).catch(u=>{s.push(u),s.length===n.length&&o(new Error(`${this.name} mediated over all rejecting actors:
${s.map(c=>c.message).join(`
`)}`))})})}};return Zm.MediatorRace=t,Zm}var O8;function Gr(){return O8||(O8=1,function(e){var t=mc&&mc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=mc&&mc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Wme(),e)}(mc)),mc}var yc={},ey={},vc={},ty={},P8;function Kme(){if(P8)return ty;P8=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.ActorHashQuads=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return ty.ActorHashQuads=t,ty}var I8;function Jme(){return I8||(I8=1,function(e){var t=vc&&vc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=vc&&vc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Kme(),e)}(vc)),vc}var C8;function Xme(){if(C8)return ey;C8=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.ActorHashQuadsSha1=void 0;const e=Jme(),t=l3(),i=nn();let r=class extends e.ActorHashQuads{async test(a){if(!a.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(a){return{hashFunction:o=>(0,t.sha1)().update(JSON.stringify((0,i.quadToStringQuad)(o))).digest("hex"),hashCollisions:!0}}};return ey.ActorHashQuadsSha1=r,ey}var D8;function JX(){return D8||(D8=1,function(e){var t=yc&&yc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=yc&&yc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Xme(),e)}(yc)),yc}var bc={},ry={},_c={},ny={},N8;function Yme(){if(N8)return ny;N8=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.ActorOptimizeQueryOperation=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return ny.ActorOptimizeQueryOperation=t,ny}var F8;function wo(){return F8||(F8=1,function(e){var t=_c&&_c.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=_c&&_c.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Yme(),e)}(_c)),_c}var L8;function Zme(){if(L8)return ry;L8=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.ActorOptimizeQueryOperationRewriteCopy=void 0;const e=wo(),t=vr();let i=class extends e.ActorOptimizeQueryOperation{constructor(n){super(n)}async test(n){return!0}async run(n){return{operation:t.Util.mapOperation(n.operation,{[t.Algebra.types.COPY](o,s){let l;return typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source)?l=s.createCompositeUpdate([]):l=s.createCompositeUpdate([s.createDrop(o.destination,!0),s.createAdd(o.source,o.destination,o.silent)]),{result:l,recurse:!1}}}),context:n.context}}};return ry.ActorOptimizeQueryOperationRewriteCopy=i,ry}var M8;function XX(){return M8||(M8=1,function(e){var t=bc&&bc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=bc&&bc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Zme(),e)}(bc)),bc}var wc={},iy={},j8;function eye(){if(j8)return iy;j8=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.ActorOptimizeQueryOperationRewriteMove=void 0;const e=wo(),t=vr();let i=class extends e.ActorOptimizeQueryOperation{constructor(n){super(n)}async test(n){return!0}async run(n){return{operation:t.Util.mapOperation(n.operation,{[t.Algebra.types.MOVE](o,s){let l;if(typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source))l=s.createCompositeUpdate([]);else{const u=[s.createDrop(o.destination,!0),s.createAdd(o.source,o.destination,o.silent),s.createDrop(o.source)];l=s.createCompositeUpdate(u)}return{result:l,recurse:!1}}}),context:n.context}}};return iy.ActorOptimizeQueryOperationRewriteMove=i,iy}var k8;function YX(){return k8||(k8=1,function(e){var t=wc&&wc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=wc&&wc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(eye(),e)}(wc)),wc}var Sc={},ay={},B8;function tye(){if(B8)return ay;B8=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.ActorOptimizeQueryOperationRewriteAdd=void 0;const e=wo(),t=yr(),i=vr(),r=new t.DataFactory;let n=class extends e.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return!0}async run(o){return{operation:i.Util.mapOperation(o.operation,{[i.Algebra.types.ADD](l,u){const c=l.destination==="DEFAULT"?r.defaultGraph():l.destination,d=l.source==="DEFAULT"?r.defaultGraph():l.source;return{result:u.createDeleteInsert(void 0,[u.createPattern(r.variable("s"),r.variable("p"),r.variable("o"),c)],u.createPattern(r.variable("s"),r.variable("p"),r.variable("o"),d)),recurse:!1}}}),context:o.context}}};return ay.ActorOptimizeQueryOperationRewriteAdd=n,ay}var q8;function ZX(){return q8||(q8=1,function(e){var t=Sc&&Sc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Sc&&Sc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(tye(),e)}(Sc)),Sc}var Ac={},oy={},V8;function rye(){if(V8)return oy;V8=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.ActorOptimizeQueryOperationGroupSources=void 0;const e=wo(),t=hr(),i=vr(),r=new i.Factory;let n=class extends e.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){if(t.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,s){var d;if(t.ActorQueryOperation.getOperationSource(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const f=await this.groupOperation(o.input,s);if((d=f.metadata)!=null&&d.scopedSource){const h=t.ActorQueryOperation.getOperationSource(f);t.ActorQueryOperation.doesShapeAcceptOperation(await h.source.getSelectorShape(s),o)&&(this.logDebug(s,`Hoist 1 source-specific operation into a single ${o.type} operation for ${h.source.toString()}`),t.ActorQueryOperation.removeOperationSource(f),o=t.ActorQueryOperation.assignOperationSource(o,h))}return{...o,input:f}}const l=await Promise.all(o.input.map(f=>this.groupOperation(f,s))),u=this.clusterOperationsWithEqualSources(l);if(u.length===1){const f=u[0],h=t.ActorQueryOperation.getOperationSource(u[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,f,h,s),input:f}}if(u.length===l.length)return{...o,input:l};let c;switch(o.type){case i.Algebra.types.JOIN:c=r.createJoin.bind(r);break;case i.Algebra.types.UNION:c=r.createUnion.bind(r);break;case i.Algebra.types.ALT:c=r.createAlt.bind(r);break;case i.Algebra.types.SEQ:c=r.createSeq.bind(r);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(u,c,s)}async groupOperationMulti(o,s,l){let u=!0;const c=await Promise.all(o.map(async d=>{const f=t.ActorQueryOperation.getOperationSource(d[0]),h=await this.moveSourceAnnotationUpwardsIfPossible(s(d,!0),d,f,l);return t.ActorQueryOperation.getOperationSource(h)&&(u=!1),h}));return s(c,u)}clusterOperationsWithEqualSources(o){const s=new Map,l=[];for(const c of o){const d=t.ActorQueryOperation.getOperationSource(c);d?(s.has(d)||s.set(d,[]),s.get(d).push(c)):l.push(c)}const u=[];l.length>0&&u.push(l);for(const[c,d]of s.entries())u.push(d.map(f=>t.ActorQueryOperation.assignOperationSource(f,c)));return u}async moveSourceAnnotationUpwardsIfPossible(o,s,l,u){if(l&&t.ActorQueryOperation.doesShapeAcceptOperation(await l.source.getSelectorShape(u),o)){this.logDebug(u,`Hoist ${s.length} source-specific operations into a single ${o.type} operation for ${l.source.toString()}`),o=t.ActorQueryOperation.assignOperationSource(o,l);for(const c of s)t.ActorQueryOperation.removeOperationSource(c)}return o}};return oy.ActorOptimizeQueryOperationGroupSources=n,oy}var U8;function eY(){return U8||(U8=1,function(e){var t=Ac&&Ac.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ac&&Ac.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(rye(),e)}(Ac)),Ac}var Tc={},sy={},H8;function nye(){if(H8)return sy;H8=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.ActorOptimizeQueryOperationConstructDistinct=void 0;const e=wo(),t=NX(),i=vr();let r=class extends e.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){if(!a.context.has(t.KeysInitQuery.distinctConstruct))throw new Error(`${this.name} was not enabled by the query.`);return!0}async run(a){return{operation:i.Util.mapOperation(a.operation,{construct(s,l){return{recurse:!1,result:l.createDistinct(l.createConstruct(s.input,s.template))}}}),context:a.context.delete(t.KeysInitQuery.distinctConstruct)}}};return sy.ActorOptimizeQueryOperationConstructDistinct=r,sy}var $8;function tY(){return $8||($8=1,function(e){var t=Tc&&Tc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Tc&&Tc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(nye(),e)}(Tc)),Tc}var Ec={},uy={},xc={},ly={},Q8;function iye(){if(Q8)return ly;Q8=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.ActorQueryParse=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return ly.ActorQueryParse=t,ly}var z8;function rY(){return z8||(z8=1,function(e){var t=xc&&xc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=xc&&xc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(iye(),e)}(xc)),xc}var G8;function aye(){if(G8)return uy;G8=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.ActorQueryParseSparql=void 0;const e=rY(),t=vr(),i=j0();let r=class extends e.ActorQueryParse{constructor(a){super(a),this.prefixes=Object.freeze(this.prefixes)}async test(a){if(a.queryFormat&&a.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(a){const s=new i.Parser({prefixes:this.prefixes,baseIRI:a.baseIRI,sparqlStar:!0}).parse(a.query);return{baseIRI:s.type==="query"?s.base:void 0,operation:(0,t.translate)(s,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:a.baseIRI})}}};return uy.ActorQueryParseSparql=r,uy}var W8;function nY(){return W8||(W8=1,function(e){var t=Ec&&Ec.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ec&&Ec.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(aye(),e)}(Ec)),Ec}var Rc={},cy={},Oc={},Pc={},Ic={},dy={},K8;function k0(){if(K8)return dy;K8=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.DirectiveNodeHandlerAdapter=void 0;let e=class{constructor(i,r,n){this.targetKind=i,this.util=r,this.settings=n}getDirectiveConditionalValue(i,r){const n=this.util.getArgument(i.arguments,"if");if(!n)throw new Error(`The directive ${i.name.value} is missing an if-argument.`);const a=this.util.handleNodeValue(n.value,n.name.value,r);if(a.terms.length!==1)throw new Error(`Can not apply the directive ${i.name.value} with a list.`);return a.terms[0]}isDirectiveScopeAll(i){const r=this.util.getArgument(i.arguments,"scope");return r&&r.value.kind==="EnumValue"&&r.value.value==="all"}};return dy.DirectiveNodeHandlerAdapter=e,dy}var fy={},J8;function oye(){if(J8)return fy;J8=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.DirectiveNodeHandlerInclude=void 0;const e=k0();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(r,n){super("include",r,n)}handle(r,n){const a=this.getDirectiveConditionalValue(r.directive,n);return a.termType==="Literal"&&a.value==="false"?{ignore:!0}:{}}};return fy.DirectiveNodeHandlerInclude=t,fy}var hy={},X8;function sye(){if(X8)return hy;X8=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.DirectiveNodeHandlerOptional=void 0;const e=k0();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(r,n){super("optional",r,n)}handle(r,n){return{operationOverrider:a=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),a)}}};return hy.DirectiveNodeHandlerOptional=t,hy}var py={},uO={},Y8;function tA(){return Y8||(Y8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SingularizeState=void 0,function(t){t[t.SINGLE=0]="SINGLE",t[t.PLURAL=1]="PLURAL"}(e.SingularizeState||(e.SingularizeState={}))}(uO)),uO}var Z8;function uye(){if(Z8)return py;Z8=1,Object.defineProperty(py,"__esModule",{value:!0}),py.DirectiveNodeHandlerPlural=void 0;const e=tA(),t=k0();let i=class extends t.DirectiveNodeHandlerAdapter{constructor(n,a){super("plural",n,a)}handle(n,a){return this.isDirectiveScopeAll(n.directive)&&(a.singularizeState=e.SingularizeState.PLURAL),delete a.singularizeVariables[this.util.nameToVariable(n.fieldLabel,a).value],{}}};return py.DirectiveNodeHandlerPlural=i,py}var gy={},eM;function lye(){if(eM)return gy;eM=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.DirectiveNodeHandlerSingle=void 0;const e=tA(),t=k0();let i=class extends t.DirectiveNodeHandlerAdapter{constructor(n,a){super("single",n,a)}handle(n,a){return this.isDirectiveScopeAll(n.directive)&&(a.singularizeState=e.SingularizeState.SINGLE),a.singularizeVariables[this.util.nameToVariable(n.fieldLabel,a).value]=!0,{}}};return gy.DirectiveNodeHandlerSingle=i,gy}var my={},tM;function cye(){if(tM)return my;tM=1,Object.defineProperty(my,"__esModule",{value:!0}),my.DirectiveNodeHandlerSkip=void 0;const e=k0();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(r,n){super("skip",r,n)}handle(r,n){const a=this.getDirectiveConditionalValue(r.directive,n);return a.termType==="Literal"&&a.value==="true"?{ignore:!0}:{}}};return my.DirectiveNodeHandlerSkip=t,my}var rM;function iY(){return rM||(rM=1,function(e){var t=Ic&&Ic.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ic&&Ic.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(k0(),e),i(oye(),e),i(sye(),e),i(uye(),e),i(lye(),e),i(cye(),e)}(Ic)),Ic}var Cc={},yy={},nM;function Is(){if(nM)return yy;nM=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.NodeValueHandlerAdapter=void 0;let e=class{constructor(i,r,n){this.targetKind=i,this.util=r,this.settings=n}};return yy.NodeValueHandlerAdapter=e,yy}var vy={},iM;function dye(){if(iM)return vy;iM=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.NodeValueHandlerBoolean=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("BooleanValue",r,n),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(r,n,a){return{terms:[this.util.dataFactory.literal(r.value?"true":"false",this.datatype)]}}};return vy.NodeValueHandlerBoolean=t,vy}var by={},aM;function fye(){if(aM)return by;aM=1,Object.defineProperty(by,"__esModule",{value:!0}),by.NodeValueHandlerEnum=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("EnumValue",r,n)}handle(r,n,a){return{terms:[this.util.valueToNamedNode(r.value,a.context)]}}};return by.NodeValueHandlerEnum=t,by}var _y={},oM;function hye(){if(oM)return _y;oM=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.NodeValueHandlerFloat=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("FloatValue",r,n),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(r,n,a){return{terms:[this.util.dataFactory.literal(r.value,this.datatype)]}}};return _y.NodeValueHandlerFloat=t,_y}var wy={},sM;function pye(){if(sM)return wy;sM=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.NodeValueHandlerInt=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("IntValue",r,n),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(r,n,a){return{terms:[this.util.dataFactory.literal(r.value,this.datatype)]}}};return wy.NodeValueHandlerInt=t,wy}var Sy={},uM;function gye(){if(uM)return Sy;uM=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.NodeValueHandlerList=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("ListValue",r,n),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(r,n,a){const o=[];let s=[];for(const l of r.values){const u=this.util.handleNodeValue(l,n,a);for(const c of u.terms)o.push(c);u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let u=l,c=o.length;for(const d of o){s.push(this.util.operationFactory.createPattern(u,this.nodeFirst,d,a.graph));const f=--c===0?this.nodeNil:this.util.dataFactory.blankNode();s.push(this.util.operationFactory.createPattern(u,this.nodeRest,f,a.graph)),u=f}return{terms:[l],auxiliaryPatterns:s}}else return{terms:o,auxiliaryPatterns:s}}};return Sy.NodeValueHandlerList=t,Sy}var Ay={},lM;function mye(){if(lM)return Ay;lM=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.NodeValueHandlerNull=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("NullValue",r,n),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(r,n,a){return{terms:[this.nil]}}};return Ay.NodeValueHandlerNull=t,Ay}var Ty={},cM;function yye(){if(cM)return Ty;cM=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.NodeValueHandlerObject=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("ObjectValue",r,n)}handle(r,n,a){const o=this.util.dataFactory.blankNode();let s=[];for(const l of r.fields){const u=this.util.handleNodeValue(l.value,n,a);for(const c of u.terms)s.push(this.util.createQuadPattern(o,l.name,c,a.graph,a.context));u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}return{terms:[o],auxiliaryPatterns:s}}};return Ty.NodeValueHandlerObject=t,Ty}var Ey={},dM;function vye(){if(dM)return Ey;dM=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.NodeValueHandlerString=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("StringValue",r,n)}handle(r,n,a){const o=a.context.getContextRaw()[n];let s,l;return o&&typeof o!="string"&&(o["@language"]?s=o["@language"]:o["@type"]&&(l=this.util.dataFactory.namedNode(o["@type"]))),{terms:[this.util.dataFactory.literal(r.value,s||l)]}}};return Ey.NodeValueHandlerString=t,Ey}var xy={},fM;function bye(){if(fM)return xy;fM=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.NodeValueHandlerVariable=void 0;const e=Is();let t=class extends e.NodeValueHandlerAdapter{constructor(r,n){super("Variable",r,n)}handle(r,n,a){const o=r.name.value,s=a.variablesDict[o],l=a.variablesMetaDict[o];if(!s){if(!a.ignoreUnknownVariables&&(!l||l.mandatory))throw new Error(`Undefined variable: ${o}`);{const u=this.util.dataFactory.variable(o);return a.terminalVariables.map(c=>c.value).indexOf(o)<0&&a.terminalVariables.push(u),{terms:[u]}}}if(s.kind==="Variable")throw new Error(`Variable refers to another variable: ${o}`);if(l)if(l.list){if(s.kind!=="ListValue")throw new Error(`Expected a list, but got ${s.kind} for ${o}`);if(l.type){const u=s;for(const c of u.values)if(c.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${c.kind} for ${o}`)}}else l.type;return this.util.handleNodeValue(s,n,a)}};return xy.NodeValueHandlerVariable=t,xy}var hM;function _ye(){return hM||(hM=1,function(e){var t=Cc&&Cc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Cc&&Cc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Is(),e),i(dye(),e),i(fye(),e),i(hye(),e),i(pye(),e),i(gye(),e),i(mye(),e),i(yye(),e),i(vye(),e),i(bye(),e)}(Cc)),Cc}var Ry={},pM;function c3(){if(pM)return Ry;pM=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.NodeHandlerAdapter=void 0;let e=class{constructor(i,r,n){this.targetKind=i,this.util=r,this.settings=n}getNodeQuadContextSelectionSet(i,r,n){const a={};if(i){for(const o of i.selections)if(o.kind==="Field"){const s=o;this.handleNodeQuadContextField(s,n,a,"id","subject"),this.handleNodeQuadContextField(s,n,a,"graph","graph")}}return a}handleNodeQuadContextField(i,r,n,a,o){if(!n[o]&&i.name.value===a){if(!n[o]){const s=this.util.getArgument(i.arguments,"_");if(s){const l=this.util.handleNodeValue(s.value,i.name.value,r);if(l.terms.length!==1)throw new Error(`Only single values can be set as ${a}, but got ${l.terms.length} at ${i.name.value}`);n[o]=l.terms[0],l.auxiliaryPatterns&&(n.auxiliaryPatterns||(n.auxiliaryPatterns=[]),n.auxiliaryPatterns.concat(l.auxiliaryPatterns))}}if(!n[o]){const s=this.util.nameToVariable(this.util.getFieldLabel(i),r);r.terminalVariables.push(s),n[o]=s}}}getDirectiveOutputs(i,r,n){const a=[];if(i)for(const o of i){const s=this.util.handleDirectiveNode({directive:o,fieldLabel:r},n);if(s){if(s.ignore)return null;a.push(s)}}return a}handleDirectiveOutputs(i,r){for(const n of i){if(n.ignore)return this.util.operationFactory.createBgp([]);n.operationOverrider&&(r=n.operationOverrider(r))}return r}};return Ry.NodeHandlerAdapter=e,Ry}var Oy={},gM;function rN(){if(gM)return Oy;gM=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.NodeHandlerDefinitionAdapter=void 0;const e=c3();let t=class extends e.NodeHandlerAdapter{constructor(r,n,a){super(r,n,a)}};return Oy.NodeHandlerDefinitionAdapter=t,Oy}var Py={},mM;function wye(){if(mM)return Py;mM=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.NodeHandlerDefinitionFragment=void 0;const e=rN();let t=class extends e.NodeHandlerDefinitionAdapter{constructor(r,n){super("FragmentDefinition",r,n)}handle(r,n){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return Py.NodeHandlerDefinitionFragment=t,Py}var Iy={},yM;function Sye(){if(yM)return Iy;yM=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.NodeHandlerDefinitionOperation=void 0;const e=rN();let t=class extends e.NodeHandlerDefinitionAdapter{constructor(r,n){super("OperationDefinition",r,n)}handle(r,n){if(r.operation!=="query")throw new Error("Unsupported definition operation: "+r.operation);if(r.variableDefinitions)for(const s of r.variableDefinitions){const l=s.variable.name.value;s.defaultValue&&(n.variablesDict[l]||(n.variablesDict[l]=s.defaultValue));let u=s.type;const c=u.kind==="NonNullType";c&&(u=u.type);const d=u.kind==="ListType";d&&(u=u.type);const f=u.name.value;n.variablesMetaDict[l]={mandatory:c,list:d,type:f}}const a=this.getDirectiveOutputs(r.directives,r.name?r.name.value:"",n);if(!a)return this.util.operationFactory.createBgp([]);const o=this.util.joinOperations(r.selectionSet.selections.map(s=>this.util.handleNode(s,n)));return this.handleDirectiveOutputs(a,o)}};return Iy.NodeHandlerDefinitionOperation=t,Iy}var Cy={},vM;function Aye(){if(vM)return Cy;vM=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.NodeHandlerDocument=void 0;const e=vr(),t=c3();let i=class extends t.NodeHandlerAdapter{constructor(n,a){super("Document",n,a)}handle(n,a){const o=n.definitions.map(l=>{const u=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},a),{ignoreUnknownVariables:!0})),c=Object.assign(Object.assign({},a),{graph:u.graph||a.graph,subject:u.subject||this.util.dataFactory.blankNode()});let d=this.util.handleNode(l,c);return u&&u.auxiliaryPatterns&&(d=this.util.joinOperations([d,this.util.operationFactory.createBgp(u.auxiliaryPatterns)])),d}),s=this.util.operationFactory.createProject(o.length===1?o[0]:this.util.operationFactory.createUnion(o),a.terminalVariables);return this.translateBlankNodesToVariables(s)}getNodeQuadContextDefinitionNode(n,a){if(n.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(n.selectionSet,n.name?n.name.value:"",a);throw new Error(`Unsupported definition: ${n.kind}`)}translateBlankNodesToVariables(n){const a=this,o={},s=Array.from(n.variables).reduce((u,c)=>(u[c.value]=!0,u),{});return e.Util.mapOperation(n,{path:(u,c)=>({recurse:!1,result:c.createPath(l(u.subject),u.predicate,l(u.object),l(u.graph))}),pattern:(u,c)=>({recurse:!1,result:c.createPattern(l(u.subject),l(u.predicate),l(u.object),l(u.graph))})});function l(u){if(u.termType==="BlankNode"){let c=o[u.value];return c||(c=e.Util.createUniqueVariable(u.value,s,a.util.dataFactory),s[c.value]=!0,o[u.value]=c),c}return u}}};return Cy.NodeHandlerDocument=i,Cy}var Dy={},bM;function d3(){if(bM)return Dy;bM=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.NodeHandlerSelectionAdapter=void 0;const e=vr(),t=tA(),i=c3();let r=class extends i.NodeHandlerAdapter{constructor(a,o,s){super(a,o,s)}getNodeQuadContextFieldNode(a,o,s){return this.getNodeQuadContextSelectionSet(a.selectionSet,o,Object.assign(Object.assign({},s),{path:this.util.appendFieldToPath(s.path,o)}))}fieldToOperation(a,o,s,l){const u=s;let c=0,d;if((o.name.value==="id"||o.name.value==="graph")&&(s=!1,o.arguments))for(const w of o.arguments)w.name.value==="_"&&this.util.handleNodeValue(w.value,o.name.value,a);const f=this.util.getFieldLabel(o);if(a.singularizeState===t.SingularizeState.SINGLE&&(a.singularizeVariables[this.util.nameToVariable(f,a).value]=!0),s){const w=this.handleMetaField(a,f,l);if(w)return w}const h=l?[this.util.operationFactory.createBgp(l)]:[],p=this.getNodeQuadContextFieldNode(o,f,a);let g=p.subject||this.util.nameToVariable(f,a),m=p.graph||a.graph;p.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(p.auxiliaryPatterns));let y=!0,v=null;if(s&&o.arguments&&o.arguments.length){for(const w of o.arguments)if(w.name.value==="_"){const T=this.util.handleNodeValue(w.value,o.name.value,a);v=T.terms,h.push(this.util.operationFactory.createBgp(T.terms.map(R=>this.util.createQuadPattern(a.subject,o.name,R,a.graph,a.context)))),T.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(T.auxiliaryPatterns)),s=!1;break}else if(w.name.value==="graph"){const T=this.util.handleNodeValue(w.value,o.name.value,a);if(T.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${T.terms.length} at ${o.name.value}`);m=T.terms[0],a=Object.assign(Object.assign({},a),{graph:m}),T.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(T.auxiliaryPatterns));break}else if(w.name.value==="alt"){let T=w.value;T.kind!=="ListValue"&&(T={kind:"ListValue",values:[T]}),h.push(this.util.createQuadPath(a.subject,o.name,T,g,a.graph,a.context)),y=!1;break}}if(s&&y&&h.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(a.subject,o.name,g,a.graph,a.context)])),o.arguments&&o.arguments.length){for(const w of o.arguments)if(!(w.name.value==="_"||w.name.value==="graph"||w.name.value==="alt"))if(w.name.value==="first"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+w.value.kind);d=parseInt(w.value.value,10)}else if(w.name.value==="offset"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+w.value.kind);c=parseInt(w.value.value,10)}else{const T=this.util.handleNodeValue(w.value,w.name.value,a);h.push(this.util.operationFactory.createBgp(T.terms.map(R=>this.util.createQuadPattern(g,w.name,R,a.graph,a.context)))),T.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(T.auxiliaryPatterns))}}const b=this.getDirectiveOutputs(o.directives,f,a);if(!b)return this.util.operationFactory.createBgp([]);let _=this.util.joinOperations(h);if(o.selectionSet&&o.selectionSet.selections.length){if(v){if(v.length!==1)throw new Error(`Only single values can be set as id, but got ${v.length} at ${o.name.value}`);g=v[0]}const w=Object.assign(Object.assign(Object.assign({},a),u?{path:this.util.appendFieldToPath(a.path,f)}:{}),{graph:m,subject:u?g:a.subject});let T=!1;const R=o.selectionSet.selections.filter(D=>D.kind==="Field"&&D.name.value==="totalCount"?(T=!0,!1):!0);let F=this.util.joinOperations(h.concat(R.map(D=>this.util.handleNode(D,w))));if(T){const D=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),A=this.util.dataFactory.variable(g.value+this.settings.variableDelimiter+"totalCount"),x=this.util.operationFactory.createBoundAggregate(D,"count",this.util.operationFactory.createTermExpression(g),!1),N=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(_,[],[x]),A,this.util.operationFactory.createTermExpression(D)),[A]);a.terminalVariables.push(A),R.length?F=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(F,[]),N]):F=N}_=F}else s&&g.termType==="Variable"&&a.terminalVariables.push(g);return(c||d)&&(_=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(_,e.Util.inScopeVariables(_)),c,d)),this.handleDirectiveOutputs(b,_)}handleMetaField(a,o,s){if(o==="__typename"){const l=this.util.nameToVariable(o,a);return a.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(a.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(o,a),a.graph)].concat(s||[]))}}};return Dy.NodeHandlerSelectionAdapter=r,Dy}var Ny={},_M;function Tye(){if(_M)return Ny;_M=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.NodeHandlerSelectionField=void 0;const e=d3();let t=class extends e.NodeHandlerSelectionAdapter{constructor(r,n){super("Field",r,n)}handle(r,n){return this.fieldToOperation(n,r,!0)}};return Ny.NodeHandlerSelectionField=t,Ny}var Fy={},wM;function Eye(){if(wM)return Fy;wM=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.NodeHandlerSelectionFragmentSpread=void 0;const e=d3();let t=class extends e.NodeHandlerSelectionAdapter{constructor(r,n){super("FragmentSpread",r,n)}handle(r,n){const a=n.fragmentDefinitions[r.name.value];if(!a)throw new Error("Undefined fragment definition: "+r.name.value);const o={alias:void 0,arguments:void 0,directives:a.directives,kind:"Field",name:r.name,selectionSet:a.selectionSet},s=[this.util.newTypePattern(n.subject,a.typeCondition,n)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(n,o,!1,s))}};return Fy.NodeHandlerSelectionFragmentSpread=t,Fy}var Ly={},SM;function xye(){if(SM)return Ly;SM=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.NodeHandlerSelectionInlineFragment=void 0;const e=d3();let t=class extends e.NodeHandlerSelectionAdapter{constructor(r,n){super("InlineFragment",r,n)}handle(r,n){const a={alias:void 0,arguments:void 0,directives:r.directives,kind:"Field",name:{kind:"Name",value:n.subject.value},selectionSet:r.selectionSet},o=r.typeCondition?[this.util.newTypePattern(n.subject,r.typeCondition,n)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(n,a,!1,o))}};return Ly.NodeHandlerSelectionInlineFragment=t,Ly}var AM;function aY(){return AM||(AM=1,function(e){var t=Pc&&Pc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Pc&&Pc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(iY(),e),i(_ye(),e),i(c3(),e),i(rN(),e),i(wye(),e),i(Sye(),e),i(Aye(),e),i(d3(),e),i(Tye(),e),i(Eye(),e),i(xye(),e)}(Pc)),Pc}var Dc={},oY=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",lI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function ET(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ET=function(i){return typeof i}:ET=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ET(e)}var Rye=10,sY=2;function uY(e){return f3(e,[])}function f3(e,t){switch(ET(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":Oye(e,t);default:return String(e)}}function Oye(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var i=[].concat(t,[e]),r=Cye(e);if(r!==void 0){var n=r.call(e);if(n!==e)return typeof n=="string"?n:f3(n,i)}else if(Array.isArray(e))return Iye(e,i);return Pye(e,i)}function Pye(e,t){var i=Object.keys(e);if(i.length===0)return"{}";if(t.length>sY)return"["+Dye(e)+"]";var r=i.map(function(n){var a=f3(e[n],t);return n+": "+a});return"{ "+r.join(", ")+" }"}function Iye(e,t){if(e.length===0)return"[]";if(t.length>sY)return"[Array]";for(var i=Math.min(Rye,e.length),r=e.length-i,n=[],a=0;a<i;++a)n.push(f3(e[a],t));return r===1?n.push("... 1 more item"):r>1&&n.push("... ".concat(r," more items")),"["+n.join(", ")+"]"}function Cye(e){var t=e[String(lI)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function Dye(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var i=e.constructor.name;if(typeof i=="string"&&i!=="")return i}return t}function xT(e,t){var i=!!e;if(!i)throw new Error(t)}const Nye=function(t,i){return t instanceof i};function Fye(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lye(e,t,i){return t&&Fye(e.prototype,t),e}var nN=function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||xT(0,"Body must be a string. Received: ".concat(uY(t),".")),this.body=t,this.name=i,this.locationOffset=r,this.locationOffset.line>0||xT(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||xT(0,"column in locationOffset is 1-indexed and must be positive.")}return Lye(e,[{key:oY,get:function(){return"Source"}}]),e}();function Mye(e){return Nye(e,nN)}function fE(e,t){for(var i=/\r\n|[\n\r]/g,r=1,n=t+1,a;(a=i.exec(e.body))&&a.index<t;)r+=1,n=t+1-(a.index+a[0].length);return{line:r,column:n}}function lY(e){return iN(e.source,fE(e.source,e.start))}function iN(e,t){var i=e.locationOffset.column-1,r=RT(i)+e.body,n=t.line-1,a=e.locationOffset.line-1,o=t.line+a,s=t.line===1?i:0,l=t.column+s,u="".concat(e.name,":").concat(o,":").concat(l,`
`),c=r.split(/\r\n|[\n\r]/g),d=c[n];if(d.length>120){for(var f=Math.floor(l/80),h=l%80,p=[],g=0;g<d.length;g+=80)p.push(d.slice(g,g+80));return u+TM([["".concat(o),p[0]]].concat(p.slice(1,f+1).map(function(m){return["",m]}),[[" ",RT(h-1)+"^"],["",p[f+1]]]))}return u+TM([["".concat(o-1),c[n-1]],["".concat(o),d],["",RT(l-1)+"^"],["".concat(o+1),c[n+1]]])}function TM(e){var t=e.filter(function(r){r[0];var n=r[1];return n!==void 0}),i=Math.max.apply(Math,t.map(function(r){var n=r[0];return n.length}));return t.map(function(r){var n=r[0],a=r[1];return jye(i,n)+(a?" | "+a:" |")}).join(`
`)}function RT(e){return Array(e+1).join(" ")}function jye(e,t){return RT(e-t.length)+t}var Ht=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),gt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function OT(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?OT=function(i){return typeof i}:OT=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},OT(e)}function kye(e){return OT(e)=="object"&&e!==null}function PT(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?PT=function(i){return typeof i}:PT=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},PT(e)}function EM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function Bye(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(i),!0).forEach(function(r){qye(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):EM(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function qye(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uye(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hye(e,t,i){return t&&Uye(e.prototype,t),e}function $ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u2(e,t)}function Qye(e){var t=dY();return function(){var r=l2(e),n;if(t){var a=l2(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cY(this,n)}}function cY(e,t){return t&&(PT(t)==="object"||typeof t=="function")?t:wS(e)}function wS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(e){var t=typeof Map=="function"?new Map:void 0;return cI=function(r){if(r===null||!zye(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return IT(r,arguments,l2(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u2(n,r)},cI(e)}function IT(e,t,i){return dY()?IT=Reflect.construct:IT=function(n,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(n,s),u=new l;return o&&u2(u,o.prototype),u},IT.apply(null,arguments)}function dY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function zye(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function u2(e,t){return u2=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},u2(e,t)}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},l2(e)}var Gye=function(e){$ye(i,e);var t=Qye(i);function i(r,n,a,o,s,l,u){var c,d,f,h;Vye(this,i),h=t.call(this,r),h.name="GraphQLError",h.originalError=l??void 0,h.nodes=xM(Array.isArray(n)?n:n?[n]:void 0);for(var p=[],g=0,m=(y=h.nodes)!==null&&y!==void 0?y:[];g<m.length;g++){var y,v=m[g],b=v.loc;b!=null&&p.push(b)}p=xM(p),h.source=a??((c=p)===null||c===void 0?void 0:c[0].source),h.positions=o??((d=p)===null||d===void 0?void 0:d.map(function(w){return w.start})),h.locations=o&&a?o.map(function(w){return fE(a,w)}):(f=p)===null||f===void 0?void 0:f.map(function(w){return fE(w.source,w.start)}),h.path=s??void 0;var _=l==null?void 0:l.extensions;return u==null&&kye(_)?h.extensions=Bye({},_):h.extensions=u??{},Object.defineProperties(wS(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(wS(h),"stack",{value:l.stack,writable:!0,configurable:!0}),cY(h)):(Error.captureStackTrace?Error.captureStackTrace(wS(h),i):Object.defineProperty(wS(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return Hye(i,[{key:"toString",value:function(){return Wye(this)}},{key:"toJSON",value:function(){return Kye(this)}},{key:oY,get:function(){return"Object"}}]),i}(cI(Error));function xM(e){return e===void 0||e.length===0?void 0:e}function Wye(e){var t=e.message;if(e.nodes)for(var i=0,r=e.nodes;i<r.length;i++){var n=r[i];n.loc&&(t+=`

`+lY(n.loc))}else if(e.source&&e.locations)for(var a=0,o=e.locations;a<o.length;a++){var s=o[a];t+=`

`+iN(e.source,s)}return t}function Kye(e){var t;e||xT(0,"Received null or undefined error.");var i=(t=e.message)!==null&&t!==void 0?t:"An unknown error occurred.",r=e.locations,n=e.path,a=e.extensions;return a&&Object.keys(a).length>0?{message:i,locations:r,path:n,extensions:a}:{message:i,locations:r,path:n}}function Ja(e,t,i){return new Gye("Syntax Error: ".concat(i),void 0,e,[t])}function Jye(e,t){var i=!!e;if(!i)throw new Error("Unexpected invariant triggered.")}function fY(e){var t=e.prototype.toJSON;typeof t=="function"||Jye(0),e.prototype.inspect=t,lI&&(e.prototype[lI]=t)}var aN=function(){function e(i,r,n){this.start=i.start,this.end=r.end,this.startToken=i,this.endToken=r,this.source=n}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();fY(aN);var kn=function(){function e(i,r,n,a,o,s,l){this.kind=i,this.start=r,this.end=n,this.line=a,this.column=o,this.value=l,this.prev=s,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();fY(kn);function RM(e){return e!=null&&typeof e.kind=="string"}function Xye(e){var t=e.split(/\r\n|[\n\r]/g),i=Yye(e);if(i!==0)for(var r=1;r<t.length;r++)t[r]=t[r].slice(i);for(var n=0;n<t.length&&OM(t[n]);)++n;for(var a=t.length;a>n&&OM(t[a-1]);)--a;return t.slice(n,a).join(`
`)}function OM(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function Yye(e){for(var t,i=!0,r=!0,n=0,a=null,o=0;o<e.length;++o)switch(e.charCodeAt(o)){case 13:e.charCodeAt(o+1)===10&&++o;case 10:i=!1,r=!0,n=0;break;case 9:case 32:++n;break;default:r&&!i&&(a===null||n<a)&&(a=n),r=!1}return(t=a)!==null&&t!==void 0?t:0}function Zye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.indexOf(`
`)===-1,n=e[0]===" "||e[0]==="	",a=e[e.length-1]==='"',o=e[e.length-1]==="\\",s=!r||a||o||i,l="";return s&&!(r&&n)&&(l+=`
`+t),l+=t?e.replace(/\n/g,`
`+t):e,s&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var hY=function(){function e(i){var r=new kn(gt.SOF,0,0,0,0,null);this.source=i,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},t.lookahead=function(){var r=this.token;if(r.kind!==gt.EOF)do{var n;r=(n=r.next)!==null&&n!==void 0?n:r.next=tve(this,r)}while(r.kind===gt.COMMENT);return r},e}();function eve(e){return e===gt.BANG||e===gt.DOLLAR||e===gt.AMP||e===gt.PAREN_L||e===gt.PAREN_R||e===gt.SPREAD||e===gt.COLON||e===gt.EQUALS||e===gt.AT||e===gt.BRACKET_L||e===gt.BRACKET_R||e===gt.BRACE_L||e===gt.PIPE||e===gt.BRACE_R}function Cp(e){return isNaN(e)?gt.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function tve(e,t){for(var i=e.source,r=i.body,n=r.length,a=t.end;a<n;){var o=r.charCodeAt(a),s=e.line,l=1+a-e.lineStart;switch(o){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:r.charCodeAt(a+1)===10?a+=2:++a,++e.line,e.lineStart=a;continue;case 33:return new kn(gt.BANG,a,a+1,s,l,t);case 35:return nve(i,a,s,l,t);case 36:return new kn(gt.DOLLAR,a,a+1,s,l,t);case 38:return new kn(gt.AMP,a,a+1,s,l,t);case 40:return new kn(gt.PAREN_L,a,a+1,s,l,t);case 41:return new kn(gt.PAREN_R,a,a+1,s,l,t);case 46:if(r.charCodeAt(a+1)===46&&r.charCodeAt(a+2)===46)return new kn(gt.SPREAD,a,a+3,s,l,t);break;case 58:return new kn(gt.COLON,a,a+1,s,l,t);case 61:return new kn(gt.EQUALS,a,a+1,s,l,t);case 64:return new kn(gt.AT,a,a+1,s,l,t);case 91:return new kn(gt.BRACKET_L,a,a+1,s,l,t);case 93:return new kn(gt.BRACKET_R,a,a+1,s,l,t);case 123:return new kn(gt.BRACE_L,a,a+1,s,l,t);case 124:return new kn(gt.PIPE,a,a+1,s,l,t);case 125:return new kn(gt.BRACE_R,a,a+1,s,l,t);case 34:return r.charCodeAt(a+1)===34&&r.charCodeAt(a+2)===34?ove(i,a,s,l,t,e):ave(i,a,s,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ive(i,a,o,s,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return uve(i,a,s,l,t)}throw Ja(i,a,rve(o))}var u=e.line,c=1+a-e.lineStart;return new kn(gt.EOF,n,n,u,c,t)}function rve(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(Cp(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Cp(e),".")}function nve(e,t,i,r,n){var a=e.body,o,s=t;do o=a.charCodeAt(++s);while(!isNaN(o)&&(o>31||o===9));return new kn(gt.COMMENT,t,s,i,r,n,a.slice(t+1,s))}function ive(e,t,i,r,n,a){var o=e.body,s=i,l=t,u=!1;if(s===45&&(s=o.charCodeAt(++l)),s===48){if(s=o.charCodeAt(++l),s>=48&&s<=57)throw Ja(e,l,"Invalid number, unexpected digit after 0: ".concat(Cp(s),"."))}else l=lO(e,l,s),s=o.charCodeAt(l);if(s===46&&(u=!0,s=o.charCodeAt(++l),l=lO(e,l,s),s=o.charCodeAt(l)),(s===69||s===101)&&(u=!0,s=o.charCodeAt(++l),(s===43||s===45)&&(s=o.charCodeAt(++l)),l=lO(e,l,s),s=o.charCodeAt(l)),s===46||lve(s))throw Ja(e,l,"Invalid number, expected digit but got: ".concat(Cp(s),"."));return new kn(u?gt.FLOAT:gt.INT,t,l,r,n,a,o.slice(t,l))}function lO(e,t,i){var r=e.body,n=t,a=i;if(a>=48&&a<=57){do a=r.charCodeAt(++n);while(a>=48&&a<=57);return n}throw Ja(e,n,"Invalid number, expected digit but got: ".concat(Cp(a),"."))}function ave(e,t,i,r,n){for(var a=e.body,o=t+1,s=o,l=0,u="";o<a.length&&!isNaN(l=a.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return u+=a.slice(s,o),new kn(gt.STRING,t,o+1,i,r,n,u);if(l<32&&l!==9)throw Ja(e,o,"Invalid character within String: ".concat(Cp(l),"."));if(++o,l===92){switch(u+=a.slice(s,o-1),l=a.charCodeAt(o),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var c=sve(a.charCodeAt(o+1),a.charCodeAt(o+2),a.charCodeAt(o+3),a.charCodeAt(o+4));if(c<0){var d=a.slice(o+1,o+5);throw Ja(e,o,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(c),o+=4;break}default:throw Ja(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,s=o}}throw Ja(e,o,"Unterminated string.")}function ove(e,t,i,r,n,a){for(var o=e.body,s=t+3,l=s,u=0,c="";s<o.length&&!isNaN(u=o.charCodeAt(s));){if(u===34&&o.charCodeAt(s+1)===34&&o.charCodeAt(s+2)===34)return c+=o.slice(l,s),new kn(gt.BLOCK_STRING,t,s+3,i,r,n,Xye(c));if(u<32&&u!==9&&u!==10&&u!==13)throw Ja(e,s,"Invalid character within String: ".concat(Cp(u),"."));u===10?(++s,++a.line,a.lineStart=s):u===13?(o.charCodeAt(s+1)===10?s+=2:++s,++a.line,a.lineStart=s):u===92&&o.charCodeAt(s+1)===34&&o.charCodeAt(s+2)===34&&o.charCodeAt(s+3)===34?(c+=o.slice(l,s)+'"""',s+=4,l=s):++s}throw Ja(e,s,"Unterminated string.")}function sve(e,t,i,r){return WA(e)<<12|WA(t)<<8|WA(i)<<4|WA(r)}function WA(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function uve(e,t,i,r,n){for(var a=e.body,o=a.length,s=t+1,l=0;s!==o&&!isNaN(l=a.charCodeAt(s))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new kn(gt.NAME,t,s,i,r,n,a.slice(t,s))}function lve(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}var pY=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function cve(e,t){var i=new oN(e,t);return i.parseDocument()}function dve(e,t){var i=new oN(e,t);i.expectToken(gt.SOF);var r=i.parseValueLiteral(!1);return i.expectToken(gt.EOF),r}function fve(e,t){var i=new oN(e,t);i.expectToken(gt.SOF);var r=i.parseTypeReference();return i.expectToken(gt.EOF),r}var oN=function(){function e(i,r){var n=Mye(i)?i:new nN(i);this._lexer=new hY(n),this._options=r}var t=e.prototype;return t.parseName=function(){var r=this.expectToken(gt.NAME);return{kind:Ht.NAME,value:r.value,loc:this.loc(r)}},t.parseDocument=function(){var r=this._lexer.token;return{kind:Ht.DOCUMENT,definitions:this.many(gt.SOF,this.parseDefinition,gt.EOF),loc:this.loc(r)}},t.parseDefinition=function(){if(this.peek(gt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(gt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(gt.BRACE_L))return{kind:Ht.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var n=this.parseOperationType(),a;return this.peek(gt.NAME)&&(a=this.parseName()),{kind:Ht.OPERATION_DEFINITION,operation:n,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseOperationType=function(){var r=this.expectToken(gt.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},t.parseVariableDefinitions=function(){return this.optionalMany(gt.PAREN_L,this.parseVariableDefinition,gt.PAREN_R)},t.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:Ht.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(gt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(gt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},t.parseVariable=function(){var r=this._lexer.token;return this.expectToken(gt.DOLLAR),{kind:Ht.VARIABLE,name:this.parseName(),loc:this.loc(r)}},t.parseSelectionSet=function(){var r=this._lexer.token;return{kind:Ht.SELECTION_SET,selections:this.many(gt.BRACE_L,this.parseSelection,gt.BRACE_R),loc:this.loc(r)}},t.parseSelection=function(){return this.peek(gt.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var r=this._lexer.token,n=this.parseName(),a,o;return this.expectOptionalToken(gt.COLON)?(a=n,o=this.parseName()):o=n,{kind:Ht.FIELD,alias:a,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(gt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},t.parseArguments=function(r){var n=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(gt.PAREN_L,n,gt.PAREN_R)},t.parseArgument=function(){var r=this._lexer.token,n=this.parseName();return this.expectToken(gt.COLON),{kind:Ht.ARGUMENT,name:n,value:this.parseValueLiteral(!1),loc:this.loc(r)}},t.parseConstArgument=function(){var r=this._lexer.token;return{kind:Ht.ARGUMENT,name:this.parseName(),value:(this.expectToken(gt.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},t.parseFragment=function(){var r=this._lexer.token;this.expectToken(gt.SPREAD);var n=this.expectOptionalKeyword("on");return!n&&this.peek(gt.NAME)?{kind:Ht.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:Ht.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseFragmentDefinition=function(){var r,n=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:Ht.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}:{kind:Ht.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(r){var n=this._lexer.token;switch(n.kind){case gt.BRACKET_L:return this.parseList(r);case gt.BRACE_L:return this.parseObject(r);case gt.INT:return this._lexer.advance(),{kind:Ht.INT,value:n.value,loc:this.loc(n)};case gt.FLOAT:return this._lexer.advance(),{kind:Ht.FLOAT,value:n.value,loc:this.loc(n)};case gt.STRING:case gt.BLOCK_STRING:return this.parseStringLiteral();case gt.NAME:switch(this._lexer.advance(),n.value){case"true":return{kind:Ht.BOOLEAN,value:!0,loc:this.loc(n)};case"false":return{kind:Ht.BOOLEAN,value:!1,loc:this.loc(n)};case"null":return{kind:Ht.NULL,loc:this.loc(n)};default:return{kind:Ht.ENUM,value:n.value,loc:this.loc(n)}}case gt.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:Ht.STRING,value:r.value,block:r.kind===gt.BLOCK_STRING,loc:this.loc(r)}},t.parseList=function(r){var n=this,a=this._lexer.token,o=function(){return n.parseValueLiteral(r)};return{kind:Ht.LIST,values:this.any(gt.BRACKET_L,o,gt.BRACKET_R),loc:this.loc(a)}},t.parseObject=function(r){var n=this,a=this._lexer.token,o=function(){return n.parseObjectField(r)};return{kind:Ht.OBJECT,fields:this.any(gt.BRACE_L,o,gt.BRACE_R),loc:this.loc(a)}},t.parseObjectField=function(r){var n=this._lexer.token,a=this.parseName();return this.expectToken(gt.COLON),{kind:Ht.OBJECT_FIELD,name:a,value:this.parseValueLiteral(r),loc:this.loc(n)}},t.parseDirectives=function(r){for(var n=[];this.peek(gt.AT);)n.push(this.parseDirective(r));return n},t.parseDirective=function(r){var n=this._lexer.token;return this.expectToken(gt.AT),{kind:Ht.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(n)}},t.parseTypeReference=function(){var r=this._lexer.token,n;return this.expectOptionalToken(gt.BRACKET_L)?(n=this.parseTypeReference(),this.expectToken(gt.BRACKET_R),n={kind:Ht.LIST_TYPE,type:n,loc:this.loc(r)}):n=this.parseNamedType(),this.expectOptionalToken(gt.BANG)?{kind:Ht.NON_NULL_TYPE,type:n,loc:this.loc(r)}:n},t.parseNamedType=function(){var r=this._lexer.token;return{kind:Ht.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},t.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===gt.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},t.peekDescription=function(){return this.peek(gt.STRING)||this.peek(gt.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),o=this.many(gt.BRACE_L,this.parseOperationTypeDefinition,gt.BRACE_R);return{kind:Ht.SCHEMA_DEFINITION,description:n,directives:a,operationTypes:o,loc:this.loc(r)}},t.parseOperationTypeDefinition=function(){var r=this._lexer.token,n=this.parseOperationType();this.expectToken(gt.COLON);var a=this.parseNamedType();return{kind:Ht.OPERATION_TYPE_DEFINITION,operation:n,type:a,loc:this.loc(r)}},t.parseScalarTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),o=this.parseDirectives(!0);return{kind:Ht.SCALAR_TYPE_DEFINITION,description:n,name:a,directives:o,loc:this.loc(r)}},t.parseObjectTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Ht.OBJECT_TYPE_DEFINITION,description:n,name:a,interfaces:o,directives:s,fields:l,loc:this.loc(r)}},t.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var n=[];this.expectOptionalToken(gt.AMP);do n.push(this.parseNamedType());while(this.expectOptionalToken(gt.AMP)||this.peek(gt.NAME));return n}return this.delimitedMany(gt.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(gt.BRACE_L)&&this._lexer.lookahead().kind===gt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(gt.BRACE_L,this.parseFieldDefinition,gt.BRACE_R)},t.parseFieldDefinition=function(){var r=this._lexer.token,n=this.parseDescription(),a=this.parseName(),o=this.parseArgumentDefs();this.expectToken(gt.COLON);var s=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:Ht.FIELD_DEFINITION,description:n,name:a,arguments:o,type:s,directives:l,loc:this.loc(r)}},t.parseArgumentDefs=function(){return this.optionalMany(gt.PAREN_L,this.parseInputValueDef,gt.PAREN_R)},t.parseInputValueDef=function(){var r=this._lexer.token,n=this.parseDescription(),a=this.parseName();this.expectToken(gt.COLON);var o=this.parseTypeReference(),s;this.expectOptionalToken(gt.EQUALS)&&(s=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:Ht.INPUT_VALUE_DEFINITION,description:n,name:a,type:o,defaultValue:s,directives:l,loc:this.loc(r)}},t.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Ht.INTERFACE_TYPE_DEFINITION,description:n,name:a,interfaces:o,directives:s,fields:l,loc:this.loc(r)}},t.parseUnionTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:Ht.UNION_TYPE_DEFINITION,description:n,name:a,directives:o,types:s,loc:this.loc(r)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(gt.EQUALS)?this.delimitedMany(gt.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:Ht.ENUM_TYPE_DEFINITION,description:n,name:a,directives:o,values:s,loc:this.loc(r)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(gt.BRACE_L,this.parseEnumValueDefinition,gt.BRACE_R)},t.parseEnumValueDefinition=function(){var r=this._lexer.token,n=this.parseDescription(),a=this.parseName(),o=this.parseDirectives(!0);return{kind:Ht.ENUM_VALUE_DEFINITION,description:n,name:a,directives:o,loc:this.loc(r)}},t.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:Ht.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:a,directives:o,fields:s,loc:this.loc(r)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(gt.BRACE_L,this.parseInputValueDef,gt.BRACE_R)},t.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===gt.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},t.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var n=this.parseDirectives(!0),a=this.optionalMany(gt.BRACE_L,this.parseOperationTypeDefinition,gt.BRACE_R);if(n.length===0&&a.length===0)throw this.unexpected();return{kind:Ht.SCHEMA_EXTENSION,directives:n,operationTypes:a,loc:this.loc(r)}},t.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var n=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:Ht.SCALAR_TYPE_EXTENSION,name:n,directives:a,loc:this.loc(r)}},t.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var n=this.parseName(),a=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(a.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Ht.OBJECT_TYPE_EXTENSION,name:n,interfaces:a,directives:o,fields:s,loc:this.loc(r)}},t.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var n=this.parseName(),a=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(a.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Ht.INTERFACE_TYPE_EXTENSION,name:n,interfaces:a,directives:o,fields:s,loc:this.loc(r)}},t.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var n=this.parseName(),a=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Ht.UNION_TYPE_EXTENSION,name:n,directives:a,types:o,loc:this.loc(r)}},t.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var n=this.parseName(),a=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Ht.ENUM_TYPE_EXTENSION,name:n,directives:a,values:o,loc:this.loc(r)}},t.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var n=this.parseName(),a=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Ht.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:a,fields:o,loc:this.loc(r)}},t.parseDirectiveDefinition=function(){var r=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(gt.AT);var a=this.parseName(),o=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:Ht.DIRECTIVE_DEFINITION,description:n,name:a,arguments:o,repeatable:s,locations:l,loc:this.loc(r)}},t.parseDirectiveLocations=function(){return this.delimitedMany(gt.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var r=this._lexer.token,n=this.parseName();if(pY[n.value]!==void 0)return n;throw this.unexpected(r)},t.loc=function(r){var n;if(((n=this._options)===null||n===void 0?void 0:n.noLocation)!==!0)return new aN(r,this._lexer.lastToken,this._lexer.source)},t.peek=function(r){return this._lexer.token.kind===r},t.expectToken=function(r){var n=this._lexer.token;if(n.kind===r)return this._lexer.advance(),n;throw Ja(this._lexer.source,n.start,"Expected ".concat(gY(r),", found ").concat(cO(n),"."))},t.expectOptionalToken=function(r){var n=this._lexer.token;if(n.kind===r)return this._lexer.advance(),n},t.expectKeyword=function(r){var n=this._lexer.token;if(n.kind===gt.NAME&&n.value===r)this._lexer.advance();else throw Ja(this._lexer.source,n.start,'Expected "'.concat(r,'", found ').concat(cO(n),"."))},t.expectOptionalKeyword=function(r){var n=this._lexer.token;return n.kind===gt.NAME&&n.value===r?(this._lexer.advance(),!0):!1},t.unexpected=function(r){var n=r??this._lexer.token;return Ja(this._lexer.source,n.start,"Unexpected ".concat(cO(n),"."))},t.any=function(r,n,a){this.expectToken(r);for(var o=[];!this.expectOptionalToken(a);)o.push(n.call(this));return o},t.optionalMany=function(r,n,a){if(this.expectOptionalToken(r)){var o=[];do o.push(n.call(this));while(!this.expectOptionalToken(a));return o}return[]},t.many=function(r,n,a){this.expectToken(r);var o=[];do o.push(n.call(this));while(!this.expectOptionalToken(a));return o},t.delimitedMany=function(r,n){this.expectOptionalToken(r);var a=[];do a.push(n.call(this));while(this.expectOptionalToken(r));return a},e}();function cO(e){var t=e.value;return gY(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function gY(e){return eve(e)?'"'.concat(e,'"'):e}var hve={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},jg=Object.freeze({});function mY(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hve,r=void 0,n=Array.isArray(e),a=[e],o=-1,s=[],l=void 0,u=void 0,c=void 0,d=[],f=[],h=e;do{o++;var p=o===a.length,g=p&&s.length!==0;if(p){if(u=f.length===0?void 0:d[d.length-1],l=c,c=f.pop(),g){if(n)l=l.slice();else{for(var m={},y=0,v=Object.keys(l);y<v.length;y++){var b=v[y];m[b]=l[b]}l=m}for(var _=0,w=0;w<s.length;w++){var T=s[w][0],R=s[w][1];n&&(T-=_),n&&R===null?(l.splice(T,1),_++):l[T]=R}}o=r.index,a=r.keys,s=r.edits,n=r.inArray,r=r.prev}else{if(u=c?n?o:a[o]:void 0,l=c?c[u]:h,l==null)continue;c&&d.push(u)}var F=void 0;if(!Array.isArray(l)){if(!RM(l))throw new Error("Invalid AST Node: ".concat(uY(l),"."));var D=hE(t,l.kind,p);if(D){if(F=D.call(t,l,u,c,d,f),F===jg)break;if(F===!1){if(!p){d.pop();continue}}else if(F!==void 0&&(s.push([u,F]),!p))if(RM(F))l=F;else{d.pop();continue}}}if(F===void 0&&g&&s.push([u,l]),p)d.pop();else{var A;r={inArray:n,index:o,keys:a,edits:s,prev:r},n=Array.isArray(l),a=n?l:(A=i[l.kind])!==null&&A!==void 0?A:[],o=-1,s=[],c&&f.push(c),c=l}}while(r!==void 0);return s.length!==0&&(h=s[s.length-1][1]),h}function pve(e){var t=new Array(e.length);return{enter:function(r){for(var n=0;n<e.length;n++)if(t[n]==null){var a=hE(e[n],r.kind,!1);if(a){var o=a.apply(e[n],arguments);if(o===!1)t[n]=r;else if(o===jg)t[n]=jg;else if(o!==void 0)return o}}},leave:function(r){for(var n=0;n<e.length;n++)if(t[n]==null){var a=hE(e[n],r.kind,!0);if(a){var o=a.apply(e[n],arguments);if(o===jg)t[n]=jg;else if(o!==void 0&&o!==!1)return o}}else t[n]===r&&(t[n]=null)}}}function hE(e,t,i){var r=e[t];if(r){if(!i&&typeof r=="function")return r;var n=i?r.leave:r.enter;if(typeof n=="function")return n}else{var a=i?e.leave:e.enter;if(a){if(typeof a=="function")return a;var o=a[t];if(typeof o=="function")return o}}}function gve(e){return mY(e,{leave:yve})}var mve=80,yve={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return Yt(t.definitions,`

`)+`
`},OperationDefinition:function(t){var i=t.operation,r=t.name,n=Mn("(",Yt(t.variableDefinitions,", "),")"),a=Yt(t.directives," "),o=t.selectionSet;return!r&&!a&&!n&&i==="query"?o:Yt([i,Yt([r,n]),a,o]," ")},VariableDefinition:function(t){var i=t.variable,r=t.type,n=t.defaultValue,a=t.directives;return i+": "+r+Mn(" = ",n)+Mn(" ",Yt(a," "))},SelectionSet:function(t){var i=t.selections;return Oo(i)},Field:function(t){var i=t.alias,r=t.name,n=t.arguments,a=t.directives,o=t.selectionSet,s=Mn("",i,": ")+r,l=s+Mn("(",Yt(n,", "),")");return l.length>mve&&(l=s+Mn(`(
`,CT(Yt(n,`
`)),`
)`)),Yt([l,Yt(a," "),o]," ")},Argument:function(t){var i=t.name,r=t.value;return i+": "+r},FragmentSpread:function(t){var i=t.name,r=t.directives;return"..."+i+Mn(" ",Yt(r," "))},InlineFragment:function(t){var i=t.typeCondition,r=t.directives,n=t.selectionSet;return Yt(["...",Mn("on ",i),Yt(r," "),n]," ")},FragmentDefinition:function(t){var i=t.name,r=t.typeCondition,n=t.variableDefinitions,a=t.directives,o=t.selectionSet;return"fragment ".concat(i).concat(Mn("(",Yt(n,", "),")")," ")+"on ".concat(r," ").concat(Mn("",Yt(a," ")," "))+o},IntValue:function(t){var i=t.value;return i},FloatValue:function(t){var i=t.value;return i},StringValue:function(t,i){var r=t.value,n=t.block;return n?Zye(r,i==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(t){var i=t.value;return i?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var i=t.value;return i},ListValue:function(t){var i=t.values;return"["+Yt(i,", ")+"]"},ObjectValue:function(t){var i=t.fields;return"{"+Yt(i,", ")+"}"},ObjectField:function(t){var i=t.name,r=t.value;return i+": "+r},Directive:function(t){var i=t.name,r=t.arguments;return"@"+i+Mn("(",Yt(r,", "),")")},NamedType:function(t){var i=t.name;return i},ListType:function(t){var i=t.type;return"["+i+"]"},NonNullType:function(t){var i=t.type;return i+"!"},SchemaDefinition:Ro(function(e){var t=e.directives,i=e.operationTypes;return Yt(["schema",Yt(t," "),Oo(i)]," ")}),OperationTypeDefinition:function(t){var i=t.operation,r=t.type;return i+": "+r},ScalarTypeDefinition:Ro(function(e){var t=e.name,i=e.directives;return Yt(["scalar",t,Yt(i," ")]," ")}),ObjectTypeDefinition:Ro(function(e){var t=e.name,i=e.interfaces,r=e.directives,n=e.fields;return Yt(["type",t,Mn("implements ",Yt(i," & ")),Yt(r," "),Oo(n)]," ")}),FieldDefinition:Ro(function(e){var t=e.name,i=e.arguments,r=e.type,n=e.directives;return t+(PM(i)?Mn(`(
`,CT(Yt(i,`
`)),`
)`):Mn("(",Yt(i,", "),")"))+": "+r+Mn(" ",Yt(n," "))}),InputValueDefinition:Ro(function(e){var t=e.name,i=e.type,r=e.defaultValue,n=e.directives;return Yt([t+": "+i,Mn("= ",r),Yt(n," ")]," ")}),InterfaceTypeDefinition:Ro(function(e){var t=e.name,i=e.interfaces,r=e.directives,n=e.fields;return Yt(["interface",t,Mn("implements ",Yt(i," & ")),Yt(r," "),Oo(n)]," ")}),UnionTypeDefinition:Ro(function(e){var t=e.name,i=e.directives,r=e.types;return Yt(["union",t,Yt(i," "),r&&r.length!==0?"= "+Yt(r," | "):""]," ")}),EnumTypeDefinition:Ro(function(e){var t=e.name,i=e.directives,r=e.values;return Yt(["enum",t,Yt(i," "),Oo(r)]," ")}),EnumValueDefinition:Ro(function(e){var t=e.name,i=e.directives;return Yt([t,Yt(i," ")]," ")}),InputObjectTypeDefinition:Ro(function(e){var t=e.name,i=e.directives,r=e.fields;return Yt(["input",t,Yt(i," "),Oo(r)]," ")}),DirectiveDefinition:Ro(function(e){var t=e.name,i=e.arguments,r=e.repeatable,n=e.locations;return"directive @"+t+(PM(i)?Mn(`(
`,CT(Yt(i,`
`)),`
)`):Mn("(",Yt(i,", "),")"))+(r?" repeatable":"")+" on "+Yt(n," | ")}),SchemaExtension:function(t){var i=t.directives,r=t.operationTypes;return Yt(["extend schema",Yt(i," "),Oo(r)]," ")},ScalarTypeExtension:function(t){var i=t.name,r=t.directives;return Yt(["extend scalar",i,Yt(r," ")]," ")},ObjectTypeExtension:function(t){var i=t.name,r=t.interfaces,n=t.directives,a=t.fields;return Yt(["extend type",i,Mn("implements ",Yt(r," & ")),Yt(n," "),Oo(a)]," ")},InterfaceTypeExtension:function(t){var i=t.name,r=t.interfaces,n=t.directives,a=t.fields;return Yt(["extend interface",i,Mn("implements ",Yt(r," & ")),Yt(n," "),Oo(a)]," ")},UnionTypeExtension:function(t){var i=t.name,r=t.directives,n=t.types;return Yt(["extend union",i,Yt(r," "),n&&n.length!==0?"= "+Yt(n," | "):""]," ")},EnumTypeExtension:function(t){var i=t.name,r=t.directives,n=t.values;return Yt(["extend enum",i,Yt(r," "),Oo(n)]," ")},InputObjectTypeExtension:function(t){var i=t.name,r=t.directives,n=t.fields;return Yt(["extend input",i,Yt(r," "),Oo(n)]," ")}};function Ro(e){return function(t){return Yt([t.description,e(t)],`
`)}}function Yt(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(r){return r}).join(i))!==null&&t!==void 0?t:""}function Oo(e){return Mn(`{
`,CT(Yt(e,`
`)),`
}`)}function Mn(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+i:""}function CT(e){return Mn("  ",e.replace(/\n/g,`
  `))}function vve(e){return e.indexOf(`
`)!==-1}function PM(e){return e!=null&&e.some(vve)}function bve(e){return yY(e)||vY(e)||_Y(e)}function yY(e){return e.kind===Ht.OPERATION_DEFINITION||e.kind===Ht.FRAGMENT_DEFINITION}function _ve(e){return e.kind===Ht.FIELD||e.kind===Ht.FRAGMENT_SPREAD||e.kind===Ht.INLINE_FRAGMENT}function wve(e){return e.kind===Ht.VARIABLE||e.kind===Ht.INT||e.kind===Ht.FLOAT||e.kind===Ht.STRING||e.kind===Ht.BOOLEAN||e.kind===Ht.NULL||e.kind===Ht.ENUM||e.kind===Ht.LIST||e.kind===Ht.OBJECT}function Sve(e){return e.kind===Ht.NAMED_TYPE||e.kind===Ht.LIST_TYPE||e.kind===Ht.NON_NULL_TYPE}function vY(e){return e.kind===Ht.SCHEMA_DEFINITION||bY(e)||e.kind===Ht.DIRECTIVE_DEFINITION}function bY(e){return e.kind===Ht.SCALAR_TYPE_DEFINITION||e.kind===Ht.OBJECT_TYPE_DEFINITION||e.kind===Ht.INTERFACE_TYPE_DEFINITION||e.kind===Ht.UNION_TYPE_DEFINITION||e.kind===Ht.ENUM_TYPE_DEFINITION||e.kind===Ht.INPUT_OBJECT_TYPE_DEFINITION}function _Y(e){return e.kind===Ht.SCHEMA_EXTENSION||wY(e)}function wY(e){return e.kind===Ht.SCALAR_TYPE_EXTENSION||e.kind===Ht.OBJECT_TYPE_EXTENSION||e.kind===Ht.INTERFACE_TYPE_EXTENSION||e.kind===Ht.UNION_TYPE_EXTENSION||e.kind===Ht.ENUM_TYPE_EXTENSION||e.kind===Ht.INPUT_OBJECT_TYPE_EXTENSION}const Ave=Object.freeze(Object.defineProperty({__proto__:null,BREAK:jg,DirectiveLocation:pY,Kind:Ht,Lexer:hY,Location:aN,Source:nN,Token:kn,TokenKind:gt,getLocation:fE,getVisitFn:hE,isDefinitionNode:bve,isExecutableDefinitionNode:yY,isSelectionNode:_ve,isTypeDefinitionNode:bY,isTypeExtensionNode:wY,isTypeNode:Sve,isTypeSystemDefinitionNode:vY,isTypeSystemExtensionNode:_Y,isValueNode:wve,parse:cve,parseType:fve,parseValue:dve,print:gve,printLocation:lY,printSourceLocation:iN,visit:mY,visitInParallel:pve},Symbol.toStringTag,{value:"Module"})),Tve=qC(Ave);var My={},Nc={},jy={},dO={},IM;function SY(){return IM||(IM=1,function(){(function(e){(function(t){var i=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof si<"u"&&si||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function n(A){return A&&DataView.prototype.isPrototypeOf(A)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(A){return A&&a.indexOf(Object.prototype.toString.call(A))>-1};function s(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function l(A){return typeof A!="string"&&(A=String(A)),A}function u(A){var x={next:function(){var N=A.shift();return{done:N===void 0,value:N}}};return r.iterable&&(x[Symbol.iterator]=function(){return x}),x}function c(A){this.map={},A instanceof c?A.forEach(function(x,N){this.append(N,x)},this):Array.isArray(A)?A.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(x){this.append(x,A[x])},this)}c.prototype.append=function(A,x){A=s(A),x=l(x);var N=this.map[A];this.map[A]=N?N+", "+x:x},c.prototype.delete=function(A){delete this.map[s(A)]},c.prototype.get=function(A){return A=s(A),this.has(A)?this.map[A]:null},c.prototype.has=function(A){return this.map.hasOwnProperty(s(A))},c.prototype.set=function(A,x){this.map[s(A)]=l(x)},c.prototype.forEach=function(A,x){for(var N in this.map)this.map.hasOwnProperty(N)&&A.call(x,this.map[N],N,this)},c.prototype.keys=function(){var A=[];return this.forEach(function(x,N){A.push(N)}),u(A)},c.prototype.values=function(){var A=[];return this.forEach(function(x){A.push(x)}),u(A)},c.prototype.entries=function(){var A=[];return this.forEach(function(x,N){A.push([N,x])}),u(A)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function f(A){return new Promise(function(x,N){A.onload=function(){x(A.result)},A.onerror=function(){N(A.error)}})}function h(A){var x=new FileReader,N=f(x);return x.readAsArrayBuffer(A),N}function p(A){var x=new FileReader,N=f(x),j=/charset=([A-Za-z0-9_-]+)/.exec(A.type),H=j?j[1]:"utf-8";return x.readAsText(A,H),N}function g(A){for(var x=new Uint8Array(A),N=new Array(x.length),j=0;j<x.length;j++)N[j]=String.fromCharCode(x[j]);return N.join("")}function m(A){if(A.slice)return A.slice(0);var x=new Uint8Array(A.byteLength);return x.set(new Uint8Array(A)),x.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:r.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:r.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():r.arrayBuffer&&r.blob&&n(A)?(this._bodyArrayBuffer=m(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||o(A))?this._bodyArrayBuffer=m(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=d(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(A){var x=A.toUpperCase();return v.indexOf(x)>-1?x:A}function _(A,x){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var N=x.body;if(A instanceof _){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,x.headers||(this.headers=new c(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!N&&A._bodyInit!=null&&(N=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new c(x.headers)),this.method=b(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||function(){if("AbortController"in i){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(A){var x=new FormData;return A.trim().split("&").forEach(function(N){if(N){var j=N.split("="),H=j.shift().replace(/\+/g," "),M=j.join("=").replace(/\+/g," ");x.append(decodeURIComponent(H),decodeURIComponent(M))}}),x}function T(A){var x=new c,N=A.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var H=j.split(":"),M=H.shift().trim();if(M){var $=H.join(":").trim();try{x.append(M,$)}catch(te){console.warn("Response "+te.message)}}}),x}y.call(_.prototype);function R(A,x){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new c(x.headers),this.url=x.url||"",this._initBody(A)}y.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},R.error=function(){var A=new R(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var F=[301,302,303,307,308];R.redirect=function(A,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new R(null,{status:x,headers:{location:A}})},t.DOMException=i.DOMException;try{new t.DOMException}catch{t.DOMException=function(x,N){this.message=x,this.name=N;var j=Error(x);this.stack=j.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(A,x){return new Promise(function(N,j){var H=new _(A,x);if(H.signal&&H.signal.aborted)return j(new t.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function $(){M.abort()}M.onload=function(){var oe={statusText:M.statusText,headers:T(M.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(M.status<200||M.status>599)?oe.status=200:oe.status=M.status,oe.url="responseURL"in M?M.responseURL:oe.headers.get("X-Request-URL");var J="response"in M?M.response:M.responseText;setTimeout(function(){N(new R(J,oe))},0)},M.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){j(new t.DOMException("Aborted","AbortError"))},0)};function te(oe){try{return oe===""&&i.location.href?i.location.href:oe}catch{return oe}}if(M.open(H.method,te(H.url),!0),H.credentials==="include"?M.withCredentials=!0:H.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(r.blob?M.responseType="blob":r.arrayBuffer&&(M.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof c||i.Headers&&x.headers instanceof i.Headers)){var re=[];Object.getOwnPropertyNames(x.headers).forEach(function(oe){re.push(s(oe)),M.setRequestHeader(oe,l(x.headers[oe]))}),H.headers.forEach(function(oe,J){re.indexOf(J)===-1&&M.setRequestHeader(J,oe)})}else H.headers.forEach(function(oe,J){M.setRequestHeader(J,oe)});H.signal&&(H.signal.addEventListener("abort",$),M.onreadystatechange=function(){M.readyState===4&&H.signal.removeEventListener("abort",$)}),M.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return D.polyfill=!0,i.fetch||(i.fetch=D,i.Headers=c,i.Request=_,i.Response=R),t.Headers=c,t.Request=_,t.Response=R,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:dO)}()),dO}var fO={},CM;function rA(){return CM||(CM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(r,n){super(r),this.code=n}}e.ErrorCoded=t,function(i){i.COLLIDING_KEYWORDS="colliding keywords",i.CONFLICTING_INDEXES="conflicting indexes",i.CYCLIC_IRI_MAPPING="cyclic IRI mapping",i.INVALID_ID_VALUE="invalid @id value",i.INVALID_INDEX_VALUE="invalid @index value",i.INVALID_NEST_VALUE="invalid @nest value",i.INVALID_PREFIX_VALUE="invalid @prefix value",i.INVALID_PROPAGATE_VALUE="invalid @propagate value",i.INVALID_REVERSE_VALUE="invalid @reverse value",i.INVALID_IMPORT_VALUE="invalid @import value",i.INVALID_VERSION_VALUE="invalid @version value",i.INVALID_BASE_IRI="invalid base IRI",i.INVALID_CONTAINER_MAPPING="invalid container mapping",i.INVALID_CONTEXT_ENTRY="invalid context entry",i.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",i.INVALID_DEFAULT_LANGUAGE="invalid default language",i.INVALID_INCLUDED_VALUE="invalid @included value",i.INVALID_IRI_MAPPING="invalid IRI mapping",i.INVALID_JSON_LITERAL="invalid JSON literal",i.INVALID_KEYWORD_ALIAS="invalid keyword alias",i.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",i.INVALID_LANGUAGE_MAPPING="invalid language mapping",i.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",i.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",i.INVALID_LOCAL_CONTEXT="invalid local context",i.INVALID_REMOTE_CONTEXT="invalid remote context",i.INVALID_REVERSE_PROPERTY="invalid reverse property",i.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",i.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",i.INVALID_SCOPED_CONTEXT="invalid scoped context",i.INVALID_SCRIPT_ELEMENT="invalid script element",i.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",i.INVALID_TERM_DEFINITION="invalid term definition",i.INVALID_TYPE_MAPPING="invalid type mapping",i.INVALID_TYPE_VALUE="invalid type value",i.INVALID_TYPED_VALUE="invalid typed value",i.INVALID_VALUE_OBJECT="invalid value object",i.INVALID_VALUE_OBJECT_VALUE="invalid value object value",i.INVALID_VOCAB_MAPPING="invalid vocab mapping",i.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",i.KEYWORD_REDEFINITION="keyword redefinition",i.LOADING_DOCUMENT_FAILED="loading document failed",i.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",i.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",i.PROCESSING_MODE_CONFLICT="processing mode conflict",i.PROTECTED_TERM_REDEFINITION="protected term redefinition",i.CONTEXT_OVERFLOW="context overflow",i.INVALID_BASE_DIRECTION="invalid base direction",i.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",i.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",i.INVALID_EMBEDDED_NODE="invalid embedded node",i.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(fO)),fO}var ky={},DM;function AY(){if(DM)return ky;DM=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.FetchDocumentLoader=void 0,SY();const e=rA(),t=GC(),i=Ko();let r=class{constructor(a){this.fetcher=a}async load(a){const o=await(this.fetcher||fetch)(a,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let s=o.headers.get("Content-Type");if(s){const l=s.indexOf(";");l>0&&(s=s.substr(0,l))}if(s==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((u,c)=>{if(c==="link"){const d=(0,t.parse)(u);for(const f of d.get("type","application/ld+json"))if(f.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+a);l=(0,i.resolve)(f.uri,a)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${s}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return ky.FetchDocumentLoader=r,ky}var hO={},By={},NM;function sN(){if(NM)return By;NM=1,Object.defineProperty(By,"__esModule",{value:!0}),By.Util=void 0;class e{static isCompactIri(i){return i.indexOf(":")>0&&!(i&&i[0]==="#")}static getPrefix(i,r){if(i&&i[0]==="#")return null;const n=i.indexOf(":");if(n>=0){if(i.length>n+1&&i.charAt(n+1)==="/"&&i.charAt(n+2)==="/")return null;const a=i.substr(0,n);if(a==="_")return null;if(r[a])return a}return null}static getContextValueId(i){if(i===null||typeof i=="string")return i;const r=i["@id"];return r||null}static isSimpleTermDefinitionPrefix(i,r){return!e.isPotentialKeyword(i)&&(r.allowPrefixNonGenDelims||typeof i=="string"&&(i[0]==="_"||e.isPrefixIriEndingWithGenDelim(i)))}static isPotentialKeyword(i){return typeof i=="string"&&e.KEYWORD_REGEX.test(i)}static isPrefixIriEndingWithGenDelim(i){return e.ENDS_WITH_GEN_DELIM.test(i)}static isPrefixValue(i){return i&&(typeof i=="string"||i&&typeof i=="object")}static isValidIri(i){return!!(i&&e.IRI_REGEX.test(i))}static isValidIriWeak(i){return!!i&&i[0]!==":"&&e.IRI_REGEX_WEAK.test(i)}static isValidKeyword(i){return e.VALID_KEYWORDS[i]}static isTermProtected(i,r){const n=i[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(i){for(const r of Object.keys(i))if(e.isTermProtected(i,r))return!0;return!1}static isReservedInternalKeyword(i){return i.startsWith("@__")}static deepEqual(i,r){const n=Object.keys(i),a=Object.keys(r);return n.length!==a.length?!1:n.every(o=>{const s=i[o],l=r[o];return s===l||s!==null&&l!==null&&typeof s=="object"&&typeof l=="object"&&this.deepEqual(s,l)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],By.Util=e,By}var FM;function TY(){return FM||(FM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Ko(),i=rA(),r=sN();class n{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,s,l=e.defaultExpandOptions){const u=this.contextRaw[o];if(u===null||u&&u["@id"]===null)return null;let c=!0;if(u&&s){const m=r.Util.getContextValueId(u);if(m&&m!==o)if(typeof m!="string"||!r.Util.isValidIri(m)&&!r.Util.isValidKeyword(m))r.Util.isPotentialKeyword(m)||(c=!1);else return m}const d=r.Util.getPrefix(o,this.contextRaw),f=this.contextRaw["@vocab"],h=(!!f||f==="")&&f.indexOf(":")<0,p=this.contextRaw["@base"],g=r.Util.isPotentialKeyword(o);if(d){const m=this.contextRaw[d],y=r.Util.getContextValueId(m);if(y){if(typeof m=="string"||!l.allowPrefixForcing){if(!r.Util.isSimpleTermDefinitionPrefix(y,l))return o}else if(y[0]!=="_"&&!g&&!m["@prefix"]&&!(o in this.contextRaw))return o;return y+o.substr(d.length+1)}}else if(s&&(f||f===""||l.allowVocabRelativeToBase&&p&&h)&&!g&&!r.Util.isCompactIri(o))if(h){if(l.allowVocabRelativeToBase)return(f||p?(0,t.resolve)(f,p):"")+o;throw new i.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${f}' is not allowed.`,i.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+o;else if(!s&&p&&!g&&!r.Util.isCompactIri(o))return(0,t.resolve)(o,p);if(c)return o;throw new i.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(u)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,s){if(s&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const u in this.contextRaw){const c=this.contextRaw[u];if(c&&!r.Util.isPotentialKeyword(u)){const d=r.Util.getContextValueId(c);if(o.startsWith(d)){const f=o.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=u,l.suffix=f);else if(s)return u}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=n,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(hO)),hO}var LM;function Eve(){if(LM)return jy;LM=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.ContextParser=void 0,SY();const e=Ko(),t=rA(),i=AY(),r=TY(),n=sN();let a=class op{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new i.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,l,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!n.Util.REGEX_LANGUAGE_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,l){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!n.Util.REGEX_DIRECTION_TAG.test(s)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const l of Object.keys(s)){let u=s[l];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||n.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[l]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],n.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,l,u){const c=s.getContextRaw();for(const d of u||Object.keys(c))if(n.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!n.Util.isReservedInternalKeyword(d)){const f=c[d];if(n.Util.isPotentialKeyword(d)&&n.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof c[d]=="object"&&!(c[d]["@protected"]||c[d]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(n.Util.ALIAS_RANGE_BLACKLIST.indexOf(n.Util.getContextValueId(f))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&n.Util.isPotentialKeyword(n.Util.getContextValueId(f))&&f["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;n.Util.isPrefixValue(c[d]);){const h=c[d];let p=!1;if(typeof h=="string")c[d]=s.expandTerm(h,!0),p=p||h!==c[d];else{const g=h["@id"],m=h["@type"],y=!("@prefix"in h)||n.Util.isValidIri(d);if("@id"in h)g!=null&&typeof g=="string"&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":s.expandTerm(g,!0)}),p=p||g!==c[d]["@id"]);else if(!n.Util.isPotentialKeyword(d)&&y){const v=s.expandTerm(d,!0);v!==d&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":v}),p=!0)}if(m&&typeof m=="string"&&m!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let v=s.expandTerm(m,!0);l&&m===v&&(v=s.expandTerm(m,!1)),v!==m&&(p=!0,c[d]=Object.assign(Object.assign({},c[d]),{"@type":v}))}}if(!p)break}}}normalize(s,{processingMode:l,normalizeLanguageTags:u}){if(u||l===1)for(const c of Object.keys(s))if(c==="@language"&&typeof s[c]=="string")s[c]=s[c].toLowerCase();else{const d=s[c];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const f=d["@language"].toLowerCase();f!==d["@language"]&&(s[c]=Object.assign(Object.assign({},d),{"@language":f}))}}}containersToHash(s){for(const l of Object.keys(s)){const u=s[l];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[l]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const c={};for(const d of u["@container"])c[d]=!0;s[l]=Object.assign(Object.assign({},u),{"@container":c})}}}}applyScopedProtected(s,{processingMode:l},u){if(l&&l>=1.1&&s["@protected"]){for(const c of Object.keys(s))if(!n.Util.isReservedInternalKeyword(c)&&!n.Util.isPotentialKeyword(c)&&!n.Util.isTermProtected(s,c)){const d=s[c];d&&typeof d=="object"?"@protected"in s[c]||(s[c]=Object.assign(Object.assign({},s[c]),{"@protected":!0})):(s[c]={"@id":d,"@protected":!0},n.Util.isSimpleTermDefinitionPrefix(d,u)&&(s[c]=Object.assign(Object.assign({},s[c]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,l,u,c){for(const d of c??Object.keys(l))if(n.Util.isTermProtected(s,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!n.Util.deepEqual(s[d],l[d])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(n.Util.getContextValueId(s[d]))} to ${JSON.stringify(n.Util.getContextValueId(l[d]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:l}){for(const u of Object.keys(s)){if(n.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const c=s[u],d=typeof c;if(n.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(c!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${c}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(c!==null&&d!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":c!==null&&op.validateLanguage(c,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(c!==null&&d!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${c}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":c!==null&&op.validateDirection(c,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${c}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(c!==null&&d!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${c}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(n.Util.isValidKeyword(u)&&n.Util.isValidKeyword(n.Util.getContextValueId(c)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${n.Util.getContextValueId(c)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(c!==null)switch(d){case"string":if(n.Util.getPrefix(c,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(n.Util.isValidIriWeak(u)){if(c==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${c}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(n.Util.isValidIri(c)&&c!==new r.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${c}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!n.Util.isCompactIri(u)&&!("@id"in c)&&(c["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const f of Object.keys(c)){const h=c[f];if(h)switch(f){case"@id":if(n.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(n.Util.isValidIriWeak(u)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(n.Util.isValidIri(h)&&h!==new r.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(n.Util.getPrefix(h,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(c["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(l===1||h!=="@json")&&(l===1||h!=="@none")&&(h[0]==="_"||!n.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&c["@id"]&&c["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${c["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in c)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(h).length>1||n.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${n.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&c["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(n.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${p}'), must be one of ${n.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":op.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":op.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in c)&&!n.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!c["@container"]||!c["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(n.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${c}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,l,u){return typeof s=="string"||(u&&!("@base"in s)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(s["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!n.Util.isValidIri(s["@base"])&&(s["@base"]=(0,e.resolve)(s["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(s["@base"]=l.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,l){if(!n.Util.isValidIri(s))try{s=(0,e.resolve)(s,l)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,l,u){for(const c of u??Object.keys(s)){const d=s[c];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const f=Object.assign(Object.assign({},s),{[c]:Object.assign({},s[c])});delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(f){throw new t.ErrorCoded(f.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[c]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,l={},u={}){const{baseIRI:c,parentContext:d,external:f,processingMode:h=op.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:g,minimalProcessing:m}=l,y=l.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!g&&d&&n.Util.hasProtectedTerms(d))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new r.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof s=="string"){const v=this.normalizeContextIri(s,c),b=this.getOverriddenLoad(v,l);if(b)return new r.JsonLdContextNormalized(b);const _=await this.parse(await this.load(v),Object.assign(Object.assign({},l),{baseIRI:v,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[v]:!0})}));return this.applyBaseEntry(_.getContextRaw(),l,!0),_}else if(Array.isArray(s)){const v=[],b=await Promise.all(s.map((w,T)=>{if(typeof w=="string"){const R=this.normalizeContextIri(w,c);v[T]=R;const F=this.getOverriddenLoad(R,l);return F||this.load(R)}else return w}));if(m)return new r.JsonLdContextNormalized(b);const _=await b.reduce((w,T,R)=>w.then(F=>this.parse(T,Object.assign(Object.assign({},l),{baseIRI:v[R]||l.baseIRI,external:!!v[R]||l.external,parentContext:F.getContextRaw(),remoteContexts:v[R]?Object.assign(Object.assign({},y),{[v[R]]:!0}):y}),{skipValidation:R<b.length-1})),Promise.resolve(new r.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(_.getContextRaw(),l,!0),_}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],l);if(s=Object.assign({},s),f&&delete s["@base"],this.applyBaseEntry(s,l,!0),this.containersToHash(s),m)return new r.JsonLdContextNormalized(s);let v={};if("@import"in s)if(h>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);v=await this.loadImportContext(this.normalizeContextIri(s["@import"],c)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(v,{processingMode:h},r.defaultExpandOptions);const b=Object.assign(v,s);this.idifyReverseTerms(b),this.normalize(b,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(b,{processingMode:h},r.defaultExpandOptions);const _=Object.keys(b),w=[];if(typeof d=="object")for(const R in d)R in b?w.push(R):b[R]=d[R];await this.parseInnerContexts(b,l,_);const T=new r.JsonLdContextNormalized(b);return(b&&b["@version"]||op.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(d&&"@vocab"in d&&s["@vocab"].indexOf(":")<0?b["@vocab"]=d["@vocab"]+s["@vocab"]:(n.Util.isCompactIri(s["@vocab"])||s["@vocab"]in b)&&(b["@vocab"]=T.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(T,this.expandContentTypeToBase,_),!g&&d&&h>=1.1&&this.validateKeywordRedefinitions(d,b,r.defaultExpandOptions,w),this.validateContext&&!u.skipValidation&&this.validate(b,{processingMode:h}),T}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const l=this.documentCache[s];if(l)return l;let u;try{u=await this.documentLoader.load(s)}catch(c){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${c.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,l){if(s in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let l=await this.load(s);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return a.DEFAULT_PROCESSING_MODE=1.1,jy.ContextParser=a,jy}var pO={},MM;function xve(){return MM||(MM=1,Object.defineProperty(pO,"__esModule",{value:!0})),pO}var gO={},jM;function Rve(){return jM||(jM=1,Object.defineProperty(gO,"__esModule",{value:!0})),gO}var kM;function Ai(){return kM||(kM=1,function(e){var t=Nc&&Nc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Nc&&Nc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Eve(),e),i(rA(),e),i(AY(),e),i(xve(),e),i(Rve(),e),i(TY(),e),i(sN(),e)}(Nc)),Nc}var BM;function EY(){if(BM)return My;BM=1,Object.defineProperty(My,"__esModule",{value:!0}),My.Util=void 0;const e=yr(),t=Ai(),i=vr();class r{constructor(a){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=a,this.dataFactory=a.dataFactory||new e.DataFactory,this.operationFactory=new i.Factory(this.dataFactory),this.contextParser=new t.ContextParser}registerNodeHandler(a){this.nodeHandlers[a.targetKind]=a}registerNodeValueHandler(a){this.nodeValueHandlers[a.targetKind]=a}registerDirectiveNodeHandler(a){this.directiveNodeHandlers[a.targetKind]=a}handleNode(a,o){const s=this.nodeHandlers[a.kind];if(!s)throw new Error(`Unsupported GraphQL node '${a.kind}'`);return s.handle(a,o)}handleNodeValue(a,o,s){const l=this.nodeValueHandlers[a.kind];if(!l)throw new Error(`Unsupported GraphQL value node '${a.kind}'`);return l.handle(a,o,s)}handleDirectiveNode(a,o){const s=this.directiveNodeHandlers[a.directive.name.value];return s?s.handle(a,o):null}joinOperations(a){if(a.length===1)return a[0];const o=[],s=[];for(const l of a)l.type==="bgp"?o.push(l):s.push(l);if(o.length===a.length)return this.joinOperationsAsBgp(o);if(o.length===a.length-1&&s[0].type==="leftjoin"&&s[0].input[0].type==="bgp"){const l=s[0];return o.push(l.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(o),l.input[1])}else return s.length===a.length?this.joinOperationsAsNestedJoin(s):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(o),this.joinOperationsAsNestedJoin(s)])}joinOperationsAsBgp(a){return this.operationFactory.createBgp([].concat.apply([],a.map(o=>o.patterns)))}joinOperationsAsNestedJoin(a){return this.operationFactory.createJoin(a)}appendFieldToPath(a,o){return a.concat([o])}getFieldLabel(a){return(a.alias?a.alias:a.name).value}nameToVariable(a,o){return this.dataFactory.variable((o.path.length?o.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+a)}valueToNamedNode(a,o){const s=o.expandTerm(a,!0);if(this.settings.requireContext&&!s)throw new Error("No context entry was found for "+a);return this.dataFactory.namedNode(s||a)}getArgument(a,o){if(a){for(const s of a)if(s.name.value===o)return s}}newTypePattern(a,o,s){return this.operationFactory.createPattern(a,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(o.name.value,s.context),s.graph)}createQuadPattern(a,o,s,l,u){const c=this.valueToNamedNode(o.value,u);return u&&u.getContextRaw()[o.value]&&u.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPattern(s,c,a,l):this.operationFactory.createPattern(a,c,s,l)}createQuadPath(a,o,s,l,u,c){const d=this.valueToNamedNode(o.value,c);let f=this.operationFactory.createLink(d);for(const h of s.values){if(h.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+h.kind);f=this.operationFactory.createAlt([f,this.operationFactory.createLink(this.valueToNamedNode(h.value,c))])}return c&&c.getContextRaw()[o.value]&&c.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPath(l,f,a,u):this.operationFactory.createPath(a,f,l,u)}}return My.Util=r,My}var qM;function Ove(){if(qM)return Dc;qM=1;var e=Dc&&Dc.__awaiter||function(s,l,u,c){function d(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function p(y){try{m(c.next(y))}catch(v){h(v)}}function g(y){try{m(c.throw(y))}catch(v){h(v)}}function m(y){y.done?f(y.value):d(y.value).then(p,g)}m((c=c.apply(s,l||[])).next())})};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.Converter=void 0;const t=Tve,i=aY(),r=iY(),n=tA(),a=EY();class o{constructor(l){l=l||{},l.variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new a.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,u){l.registerNodeHandler(new i.NodeHandlerDocument(l,u)),l.registerNodeHandler(new i.NodeHandlerDefinitionOperation(l,u)),l.registerNodeHandler(new i.NodeHandlerDefinitionFragment(l,u)),l.registerNodeHandler(new i.NodeHandlerSelectionFragmentSpread(l,u)),l.registerNodeHandler(new i.NodeHandlerSelectionInlineFragment(l,u)),l.registerNodeHandler(new i.NodeHandlerSelectionField(l,u))}static registerNodeValueHandlers(l,u){l.registerNodeValueHandler(new i.NodeValueHandlerVariable(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerInt(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerFloat(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerString(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerBoolean(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerNull(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerEnum(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerList(l,u)),l.registerNodeValueHandler(new i.NodeValueHandlerObject(l,u))}static registerDirectiveNodeHandlers(l,u){l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerInclude(l,u)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerOptional(l,u)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerPlural(l,u)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerSingle(l,u)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerSkip(l,u))}graphqlToSparqlAlgebra(l,u,c){return e(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(u),c)})}graphqlToSparqlAlgebraRawContext(l,u,c){c=c||{};const d=typeof l=="string"?(0,t.parse)(l):l,f=this.indexFragments(d),h={context:u,fragmentDefinitions:f,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:n.SingularizeState.PLURAL,singularizeVariables:c.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:c.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(d,h)}indexFragments(l){const u={},c=[];for(const d of l.definitions)d.kind==="FragmentDefinition"?u[d.name.value]=d:c.push(d);return l.definitions=c,u}initializeNodeHandlers(l){o.registerNodeHandlers(this.util,l),o.registerNodeValueHandlers(this.util,l),o.registerDirectiveNodeHandlers(this.util,l)}}return Dc.Converter=o,Dc}var mO={},VM;function Pve(){return VM||(VM=1,Object.defineProperty(mO,"__esModule",{value:!0})),mO}var UM;function Ive(){return UM||(UM=1,function(e){var t=Oc&&Oc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Oc&&Oc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(aY(),e),i(Ove(),e),i(tA(),e),i(Pve(),e),i(EY(),e)}(Oc)),Oc}var HM;function Cve(){if(HM)return cy;HM=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.ActorQueryParseGraphql=void 0;const e=rY(),t=Ir(),i=Ive();let r=class extends e.ActorQueryParse{constructor(a){super(a),this.graphqlToSparql=new i.Converter({requireContext:!0})}async test(a){var o;if(((o=a.queryFormat)==null?void 0:o.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(a){const o=a.context.get(t.KeysInitQuery.jsonLdContext)||{},s={singularizeVariables:a.context.get(t.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(a.query,o,s)}}};return cy.ActorQueryParseGraphql=r,cy}var $M;function xY(){return $M||($M=1,function(e){var t=Rc&&Rc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Rc&&Rc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Cve(),e)}(Rc)),Rc}var Fc={},qy={},Lc={},Vy={},Mc={},Uy={},QM;function RY(){if(QM)return Uy;QM=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.ActorAbstractMediaTyped=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}async run(r){if("handle"in r){const n=r;return{handle:await this.runHandle(n.handle,n.handleMediaType,r.context)}}if("mediaTypes"in r)return{mediaTypes:await this.getMediaTypes(r.context)};if("mediaTypeFormats"in r)return{mediaTypeFormats:await this.getMediaTypeFormats(r.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(r){if("handle"in r){const n=r;return{handle:await this.testHandle(n.handle,n.handleMediaType,r.context)}}if("mediaTypes"in r)return{mediaTypes:await this.testMediaType(r.context)};if("mediaTypeFormats"in r)return{mediaTypeFormats:await this.testMediaTypeFormats(r.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return Uy.ActorAbstractMediaTyped=t,Uy}var Hy={},zM;function Dve(){if(zM)return Hy;zM=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.ActorAbstractMediaTypedFixed=void 0;const e=RY();let t=class extends e.ActorAbstractMediaTyped{constructor(r){super(r);const n=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[a,[o,s]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=n*s;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,n,a){if(!n||!(n in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${n}`);return await this.testHandleChecked(r,a)}async testMediaType(r){return!0}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return!0}async getMediaTypeFormats(r){return this.mediaTypeFormats}};return Hy.ActorAbstractMediaTypedFixed=t,Hy}var GM;function B0(){return GM||(GM=1,function(e){var t=Mc&&Mc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Mc&&Mc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(RY(),e),i(Dve(),e)}(Mc)),Mc}var WM;function Nve(){if(WM)return Vy;WM=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.ActorQueryResultSerialize=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTyped{constructor(r){super(r)}};return Vy.ActorQueryResultSerialize=t,Vy}var $y={},KM;function Fve(){if(KM)return $y;KM=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.ActorQueryResultSerializeFixedMediaTypes=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,n){return!0}};return $y.ActorQueryResultSerializeFixedMediaTypes=t,$y}var JM;function Cs(){return JM||(JM=1,function(e){var t=Lc&&Lc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Lc&&Lc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Nve(),e),i(Fve(),e)}(Lc)),Lc}var XM;function Lve(){if(XM)return qy;XM=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.ActorQueryResultSerializeJson=void 0;const e=Cs(),t=Rr(),i=nn(),r=Xr();let n=class extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,s){if(!["bindings","quads","boolean"].includes(o.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(o,s,l){const u=new r.Readable;if(u._read=()=>{},o.type==="bindings"||o.type==="quads"){let c=o.type==="bindings"?(0,t.wrap)(o.bindingsStream).map(f=>JSON.stringify(Object.fromEntries([...f].map(([h,p])=>[h.value,i.termToString(p)])))):(0,t.wrap)(o.quadStream).map(f=>JSON.stringify(i.quadToStringQuad(f))),d=!0;c=c.map(f=>{const h=`${d?"":","}
${f}`;return d=!1,h}).prepend(["["]).append([`
]
`]),u.wrap(c)}else try{u.push(`${JSON.stringify(await o.execute())}
`),u.push(null)}catch(c){setTimeout(()=>u.emit("error",c))}return{data:u}}};return qy.ActorQueryResultSerializeJson=n,qy}var YM;function OY(){return YM||(YM=1,function(e){var t=Fc&&Fc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Fc&&Fc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Lve(),e)}(Fc)),Fc}var jc={},Qy={},ZM;function Mve(){if(ZM)return Qy;ZM=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.ActorQueryResultSerializeSimple=void 0;const e=Cs(),t=Rr(),i=nn(),r=Xr();let n=class Cg extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,s){if(!["bindings","quads","boolean","void"].includes(o.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(o){return o.termType==="Quad"?(0,i.termToString)(o):o.value}async runHandle(o,s,l){const u=new r.Readable;return o.type==="bindings"?u.wrap(o.bindingsStream.map(c=>`${[...c].map(([d,f])=>`?${d.value}: ${Cg.termToString(f)}`).join(`
`)}

`)):o.type==="quads"?u.wrap(o.quadStream.map(c=>`subject: ${Cg.termToString(c.subject)}
predicate: ${Cg.termToString(c.predicate)}
object: ${Cg.termToString(c.object)}
graph: ${Cg.termToString(c.graph)}

`)):u.wrap((0,t.wrap)(o.type==="boolean"?o.execute().then(c=>[`${c}
`]):o.execute().then(()=>[`ok
`]))),{data:u}}};return Qy.ActorQueryResultSerializeSimple=n,Qy}var ej;function PY(){return ej||(ej=1,function(e){var t=jc&&jc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=jc&&jc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Mve(),e)}(jc)),jc}var kc={},zy={},tj;function jve(){if(tj)return zy;tj=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.ActorQueryResultSerializeSparqlCsv=void 0;const e=Cs(),t=Xr();let i=class SS extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(n){super(n)}static bindingToCsvBindings(n){if(!n)return"";let a=n.value;if(n.termType==="Literal")a=`${a}`;else if(n.termType==="BlankNode")a=`_:${a}`;else if(n.termType==="Quad"){let o=SS.bindingToCsvBindings(n.object);n.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),a=`<< ${SS.bindingToCsvBindings(n.subject)} ${SS.bindingToCsvBindings(n.predicate)} ${o} >>`}else a=`<${a}>`;return/[",\n\r]/u.test(a)&&(a=`"${a.replaceAll('"','""')}"`),a}async testHandleChecked(n,a){if(n.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(n,a,o){const s=n,l=new t.Readable,u=await s.metadata();return l.push(`${u.variables.map(c=>c.value).join(",")}\r
`),l.wrap(s.bindingsStream.map(c=>`${u.variables.map(d=>SS.bindingToCsvBindings(c.get(d))).join(",")}\r
`)),{data:l}}};return zy.ActorQueryResultSerializeSparqlCsv=i,zy}var rj;function IY(){return rj||(rj=1,function(e){var t=kc&&kc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=kc&&kc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(jve(),e)}(kc)),kc}var Bc={},Gy={},yO={},Ci={},nj;function kve(){if(nj)return Ci;nj=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.stringQuadToQuad=Ci.quadToStringQuad=Ci.stringToTerm=Ci.getLiteralLanguage=Ci.getLiteralType=Ci.getLiteralValue=Ci.termToString=void 0;const e=yr(),t=new e.DataFactory;function i(p){if(p)switch(p.termType){case"NamedNode":return`<${u(p.value)}>`;case"BlankNode":return`_:${p.value}`;case"Literal":{const g=p;return`"${c(g.value)}"${g.datatype&&g.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&g.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${g.datatype.value}>`:""}${g.language?`@${g.language}`:""}`}case"Quad":return`<<${i(p.subject)} ${i(p.predicate)} ${i(p.object)}${p.graph.termType==="DefaultGraph"?"":` ${i(p.graph)}`}>>`;case"Variable":return`?${p.value}`;case"DefaultGraph":return p.value}}Ci.termToString=i;function r(p){const g=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(p);if(!g)throw new Error(`${p} is not a literal`);return g[1].replace(/\\"/ug,'"')}Ci.getLiteralValue=r;function n(p){const g=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(p);if(!g)throw new Error(`${p} is not a literal`);return g[1]||(g[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ci.getLiteralType=n;function a(p){const g=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(p);if(!g)throw new Error(`${p} is not a literal`);return g[1]?g[1].toLowerCase():""}Ci.getLiteralLanguage=a;function o(p,g){if(g=g||t,!p||p.length===0)return g.defaultGraph();switch(p[0]){case"_":return g.blankNode(p.slice(2));case"?":if(!g.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return g.variable(p.slice(1));case'"':{const m=a(p),y=g.namedNode(n(p));return g.literal(r(p),m||y)}case"<":default:if(p.startsWith("<<")&&p.endsWith(">>")){const m=p.slice(2,-2),y=[];let v=0,b=0;for(let _=0;_<m.length;_++){const w=m[_];if(w==="<"&&v++,w===">"){if(v===0)throw new Error(`Found closing tag without opening tag in ${p}`);v--}w===" "&&v===0&&(y.push(m.slice(b,_)),b=_+1)}if(v!==0)throw new Error(`Found opening tag without closing tag in ${p}`);if(y.push(m.slice(b,m.length)),y.length!==3&&y.length!==4)throw new Error(`Nested quad syntax error ${p}`);return g.quad(o(y[0]),o(y[1]),o(y[2]),y[3]?o(y[3]):void 0)}if(!p.startsWith("<")||!p.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${p}`);return g.namedNode(p.slice(1,-1))}}Ci.stringToTerm=o;function s(p){return{subject:i(p.subject),predicate:i(p.predicate),object:i(p.object),graph:i(p.graph)}}Ci.quadToStringQuad=s;function l(p,g){return g=g||t,g.quad(o(p.subject,g),o(p.predicate,g),o(p.object,g),o(p.graph,g))}Ci.stringQuadToQuad=l;function u(p){return p.replace(d,h)}function c(p){return d.test(p)&&(p=p.replace(d,h)),p}const d=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function h(p){const g=f.get(p);if(!g){if(p.length===1){const y=p.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-y.length)}${y}`}const m=((p.charCodeAt(0)-55296)*1024+p.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-m.length)}${m}`}return g}return Ci}var ij;function nA(){return ij||(ij=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=kve();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(yO)),yO}var aj;function Bve(){if(aj)return Gy;aj=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.ActorQueryResultSerializeSparqlTsv=void 0;const e=Cs(),t=nA(),i=Xr();let r=class CY extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToTsvBindings(a){return a?(0,t.termToString)(a).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(a,o){if(a.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(a,o,s){const l=a,u=new i.Readable,c=await l.metadata();return u.push(`${c.variables.map(d=>d.value).join("	")}
`),u.wrap(l.bindingsStream.map(d=>`${c.variables.map(f=>CY.bindingToTsvBindings(d.get(f))).join("	")}
`)),{data:u}}};return Gy.ActorQueryResultSerializeSparqlTsv=r,Gy}var oj;function DY(){return oj||(oj=1,function(e){var t=Bc&&Bc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Bc&&Bc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Bve(),e)}(Bc)),Bc}var qc={},Wy={},Ky={},sj;function qve(){if(sj)return Ky;sj=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.XmlSerializer=void 0;let e=class{constructor(){this.stack=[]}open(i,r){const n=`${this.identation()+this.formatTag(i,r,"open")}
`;return this.stack.push(i),n}close(){const i=this.stack.pop();if(i===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(i,{},"close")}
`}serializeNode(i){if(i.children===void 0)return`${this.identation()+this.formatTag(i.name,i.attributes,"self-closing")}
`;if(typeof i.children=="string")return`${this.identation()+this.formatTag(i.name,i.attributes,"open")+this.escape(i.children)+this.formatTag(i.name,{},"close")}
`;const r=[];r.push(`${this.identation()+this.formatTag(i.name,i.attributes,"open")}
`),this.stack.push(i.name);for(const n of i.children)r.push(this.serializeNode(n));return this.stack.pop(),r.push(`${this.identation()+this.formatTag(i.name,{},"close")}
`),r.join("")}identation(){return this.stack.map(i=>"  ").join("")}formatTag(i,r,n){return`<${n==="close"?"/":""}${i}${Object.entries(r??{}).map(a=>` ${a[0]}="${this.escape(a[1])}"`)}${n==="self-closing"?"/":""}>`}escape(i){return i.replaceAll(/["&'<>]/gu,r=>{switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return Ky.XmlSerializer=e,e.header=`<?xml version="1.0" encoding="UTF-8"?>
`,Ky}var uj;function Vve(){if(uj)return Wy;uj=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.ActorQueryResultSerializeSparqlXml=void 0;const e=Cs(),t=Rr(),i=Xr(),r=qve();let n=class NY extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,s){return{name:"binding",attributes:{name:s.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let s;switch(o.termType){case"Literal":return o.language?s={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?s={datatype:o.datatype.value}:s={},{name:"literal",attributes:s,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,s){if(!["bindings","boolean"].includes(o.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(o,s,l){const u=new i.Readable;u._read=()=>{};const c=new r.XmlSerializer,d=await o.metadata();if(u.push(r.XmlSerializer.header),u.push(c.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),u.push(c.serializeNode({name:"head",children:d.variables.map(f=>({name:"variable",attributes:{name:f.value}}))})),o.type==="bindings"){function*f(){yield c.close(),yield c.close()}u.push(c.open("results"));const h=(0,t.wrap)(o.bindingsStream).map(p=>c.serializeNode({name:"result",children:[...p].map(([g,m])=>NY.bindingToXmlBindings(m,g))})).append((0,t.wrap)(f()));u.wrap(h)}else try{const f=await o.execute();u.push(c.serializeNode({name:"boolean",children:f.toString()})),u.push(c.close()),setTimeout(()=>u.push(null))}catch(f){setTimeout(()=>u.emit("error",f))}return{data:u}}};return Wy.ActorQueryResultSerializeSparqlXml=n,Wy}var lj;function FY(){return lj||(lj=1,function(e){var t=qc&&qc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=qc&&qc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Vve(),e)}(qc)),qc}var Vc={},Jy={},cj;function Uve(){if(cj)return Jy;cj=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.ActorQueryResultSerializeTable=void 0;const e=Cs(),t=yr(),i=nn(),r=Qi(),n=Xr(),a=new t.DataFactory,o=r.QUAD_TERM_NAMES.map(l=>a.variable(l));let s=class dI extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u),this.padding=dI.repeat(" ",this.columnWidth)}static repeat(u,c){return u.repeat(c)}async testHandleChecked(u,c){if(!["bindings","quads"].includes(u.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(u){return u.termType==="Quad"?(0,i.termToString)(u):u.value}pad(u){return u.length<=this.columnWidth?u+this.padding.slice(u.length):`${u.slice(0,this.columnWidth-1)}…`}pushHeader(u,c){const d=c.map(f=>this.pad(f.value)).join(" ");u.push(`${d}
${dI.repeat("-",d.length)}
`)}createRow(u,c){return`${u.map(d=>c.has(d)?this.termToString(c.get(d)):"").map(d=>this.pad(d)).join(" ")}
`}async runHandle(u,c,d){const f=new n.Readable;let h;if(u.type==="bindings"){h=u.bindingsStream.map(g=>this.createRow(p,g));const p=(await u.metadata()).variables;this.pushHeader(f,p)}else h=u.quadStream.map(p=>`${(0,r.getTerms)(p).map(g=>this.pad(this.termToString(g))).join(" ")}
`),this.pushHeader(f,o);return f.wrap(h),{data:f}}};return Jy.ActorQueryResultSerializeTable=s,Jy}var dj;function LY(){return dj||(dj=1,function(e){var t=Vc&&Vc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Vc&&Vc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Uve(),e)}(Vc)),Vc}var Uc={},Xy={},Hc={},Yy={},$c={},Qc={},Zy={},ev={},fj;function c0(){if(fj)return ev;fj=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.Translator=void 0;let e=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(i){throw new Error(`Invalid RDF ${i.datatype.value} value: '${i.value}'`)}registerHandler(i,r,n){for(const a of r)this.supportedRdfDatatypes.push(a),this.fromRdfHandlers[a.value]=i;for(const a of n){let o=this.toRdfHandlers[a];o||(this.toRdfHandlers[a]=o=[]),o.push(i)}}fromRdf(i,r){const n=this.fromRdfHandlers[i.datatype.value];return n?n.fromRdf(i,r):i.value}toRdf(i,r){const n=this.toRdfHandlers[typeof i];if(n)for(const a of n){const o=a.toRdf(i,r);if(o)return o}throw new Error(`Invalid JavaScript value: '${i}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return ev.Translator=e,ev}var hj;function Hve(){if(hj)return Zy;hj=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.TypeHandlerBoolean=void 0;const e=c0();let t=class MY{fromRdf(r,n){switch(r.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return n&&e.Translator.incorrectRdfDataType(r),!1}toRdf(r,{datatype:n,dataFactory:a}){return a.literal(r?"true":"false",n||a.namedNode(MY.TYPE))}};return t.TYPE="http://www.w3.org/2001/XMLSchema#boolean",Zy.TypeHandlerBoolean=t,Zy}var tv={},pj;function $ve(){if(pj)return tv;pj=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.TypeHandlerDate=void 0;const e=c0();let t=class fI{fromRdf(r,n){switch(n&&!r.value.match(fI.VALIDATORS[r.datatype.value.substr(33,r.datatype.value.length)])&&e.Translator.incorrectRdfDataType(r),r.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(r.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const a=r.value.split("-");return new Date(0,parseInt(a[0],10)-1,parseInt(a[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(r.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(r.value+"-01");default:return new Date(r.value)}}toRdf(r,{datatype:n,dataFactory:a}){if(n=n||a.namedNode(fI.TYPES[0]),!(r instanceof Date))return null;const o=r;let s;switch(n.value){case"http://www.w3.org/2001/XMLSchema#gDay":s=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":s=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":s=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":s=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":s=o.toISOString().replace(/T.*$/,"");break;default:s=o.toISOString()}return a.literal(s,n)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],t.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},tv.TypeHandlerDate=t,tv}var rv={},gj;function Qve(){if(gj)return rv;gj=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.TypeHandlerNumberDouble=void 0;const e=c0();let t=class jY{fromRdf(r,n){const a=parseFloat(r.value);return n&&isNaN(a)&&e.Translator.incorrectRdfDataType(r),a}toRdf(r,{datatype:n,dataFactory:a}){return n=n||a.namedNode(jY.TYPES[0]),isNaN(r)?a.literal("NaN",n):isFinite(r)?r%1===0?null:a.literal(r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),n):a.literal(r>0?"INF":"-INF",n)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],rv.TypeHandlerNumberDouble=t,rv}var nv={},mj;function zve(){if(mj)return nv;mj=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.TypeHandlerNumberInteger=void 0;const e=c0();let t=class AS{fromRdf(r,n){const a=parseInt(r.value,10);return n&&(isNaN(a)||r.value.indexOf(".")>=0)&&e.Translator.incorrectRdfDataType(r),a}toRdf(r,{datatype:n,dataFactory:a}){return a.literal(String(r),n||(r<=AS.MAX_INT&&r>=AS.MIN_INT?a.namedNode(AS.TYPES[0]):a.namedNode(AS.TYPES[1])))}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],t.MAX_INT=2147483647,t.MIN_INT=-2147483648,nv.TypeHandlerNumberInteger=t,nv}var iv={},yj;function Gve(){if(yj)return iv;yj=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.TypeHandlerString=void 0;let e=class{fromRdf(i){return i.value}toRdf(i,{datatype:r,dataFactory:n}){return n.literal(i,r)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],iv.TypeHandlerString=e,iv}var vj;function bj(){return vj||(vj=1,function(e){var t=Qc&&Qc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Qc&&Qc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Hve(),e),i($ve(),e),i(Qve(),e),i(zve(),e),i(Gve(),e)}(Qc)),Qc}var vO={},_j;function Wve(){return _j||(_j=1,Object.defineProperty(vO,"__esModule",{value:!0})),vO}var wj;function Kve(){return wj||(wj=1,function(e){var t=$c&&$c.__createBinding||(Object.create?function(h,p,g,m){m===void 0&&(m=g);var y=Object.getOwnPropertyDescriptor(p,g);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(h,m,y)}:function(h,p,g,m){m===void 0&&(m=g),h[m]=p[g]}),i=$c&&$c.__exportStar||function(h,p){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,h,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedJavaScriptPrimitives=e.getSupportedRdfDatatypes=e.getTermRaw=e.toRdf=e.fromRdf=void 0;const r=yr(),n=bj(),a=c0();i(bj(),e),i(Wve(),e),i(c0(),e);const o=new r.DataFactory,s=new a.Translator;s.registerHandler(new n.TypeHandlerString,n.TypeHandlerString.TYPES.map(h=>o.namedNode(h)),["string"]),s.registerHandler(new n.TypeHandlerBoolean,[n.TypeHandlerBoolean.TYPE].map(h=>o.namedNode(h)),["boolean"]),s.registerHandler(new n.TypeHandlerNumberDouble,n.TypeHandlerNumberDouble.TYPES.map(h=>o.namedNode(h)),["number"]),s.registerHandler(new n.TypeHandlerNumberInteger,n.TypeHandlerNumberInteger.TYPES.map(h=>o.namedNode(h)),["number"]),s.registerHandler(new n.TypeHandlerDate,n.TypeHandlerDate.TYPES.map(h=>o.namedNode(h)),["object"]);function l(h,p){return s.fromRdf(h,p)}e.fromRdf=l;function u(h,p){return p&&"namedNode"in p&&(p={dataFactory:p}),p=p||{},p&&!p.dataFactory&&(p.dataFactory=o),s.toRdf(h,p)}e.toRdf=u;function c(h,p){return h.termType==="Literal"?l(h,p):h.value}e.getTermRaw=c;function d(){return s.getSupportedRdfDatatypes()}e.getSupportedRdfDatatypes=d;function f(){return s.getSupportedJavaScriptPrimitives()}e.getSupportedJavaScriptPrimitives=f}($c)),$c}var zc={},av={},Sj;function Jve(){if(Sj)return av;Sj=1,Object.defineProperty(av,"__esModule",{value:!0}),av.SparqlJsonParser=void 0;const e=yr(),t=Xr(),i=sK();let r=class{constructor(a){var o;a=a||{},this.dataFactory=a.dataFactory||new e.DataFactory,this.prefixVariableQuestionMark=!!a.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(o=a.suppressMissingStreamResultsError)!==null&&o!==void 0?o:!0}parseJsonResults(a){return a.results.bindings.map(o=>this.parseJsonBindings(o))}parseJsonResultsStream(a){const o=d=>c.emit("error",d);a.on("error",o);const s=new i;s.onError=o;let l=!1,u=!1;s.onValue=d=>{if(s.key==="vars"&&s.stack.length===2&&s.stack[1].key==="head")c.emit("variables",d.map(f=>this.dataFactory.variable(f))),l=!0;else if(s.key==="results"&&s.stack.length===1)u=!0;else if(typeof s.key=="number"&&s.stack.length===3&&s.stack[1].key==="results"&&s.stack[2].key==="bindings")try{c.push(this.parseJsonBindings(d))}catch(f){c.emit("error",f)}else s.key==="metadata"&&s.stack.length===1&&c.emit("metadata",d)};const c=a.on("end",d=>{!u&&!this.suppressMissingStreamResultsError?c.emit("error",new Error("No valid SPARQL query results were found.")):l||c.emit("variables",[])}).pipe(new t.Transform({objectMode:!0,transform(d,f,h){s.write(d),h()}}));return c}parseJsonBindings(a){const o={};for(const s in a){const l=a[s];o[this.prefixVariableQuestionMark?"?"+s:s]=this.parseJsonValue(l)}return o}parseJsonValue(a){let o;switch(a.type){case"bnode":o=this.dataFactory.blankNode(a.value);break;case"literal":a["xml:lang"]?o=this.dataFactory.literal(a.value,a["xml:lang"]):a.datatype?o=this.dataFactory.literal(a.value,this.dataFactory.namedNode(a.datatype)):o=this.dataFactory.literal(a.value);break;case"typed-literal":o=this.dataFactory.literal(a.value,this.dataFactory.namedNode(a.datatype));break;case"triple":const s=a.value;if(!s||!s.subject||!s.predicate||!s.object)throw new Error("Invalid quoted triple: "+JSON.stringify(a));o=this.dataFactory.quad(this.parseJsonValue(s.subject),this.parseJsonValue(s.predicate),this.parseJsonValue(s.object));break;default:o=this.dataFactory.namedNode(a.value);break}return o}parseJsonBoolean(a){if("boolean"in a)return a.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(a){return new Promise((o,s)=>{const l=new i;l.onError=s,l.onValue=u=>{l.key==="boolean"&&typeof u=="boolean"&&l.stack.length===1&&o(u)},a.on("error",s).on("data",u=>l.write(u)).on("end",()=>s(new Error("No valid ASK response was found.")))})}};return av.SparqlJsonParser=r,av}var Aj;function kY(){return Aj||(Aj=1,function(e){var t=zc&&zc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=zc&&zc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Jve(),e)}(zc)),zc}var Tj;function Xve(){if(Tj)return Yy;Tj=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.Converter=void 0;const e=Kve(),t=kY();let i=class nu{constructor(n){n=n||{delimiter:"_"},n.prefixVariableQuestionMark=!1,this.delimiter=n.delimiter||"_",this.parser=new t.SparqlJsonParser(n),this.materializeRdfJsTerms=n.materializeRdfJsTerms}static addValueToTree(n,a,o,s,l,u){const c=a[0],d=s?s+u+c:c,f=l.singularizeVariables[d];if(a.length===1)f?n[c]||(n[c]=o):(n[c]||(n[c]=[]),n[c].push(o));else{let h;f?(n[c]||(n[c]={}),h=n[c]):(n[c]||(n[c]=[{}]),h=n[c][0]),nu.addValueToTree(h,a.slice(1),o,d,l,u)}}static mergeTrees(n,a){if(typeof n!=typeof a)throw new Error(`Two incompatible tree nodes were found: ${typeof n} and ${typeof a}`);if(Array.isArray(n)!==Array.isArray(a))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(n)} and Array?${Array.isArray(a)}`);if(typeof n=="object"&&typeof a=="object"){if(n.termType&&a.termType)return n.equals(a)?{valid:!0,result:n}:{valid:!1,result:n};if(Array.isArray(n)&&Array.isArray(a)){if(n.length>0){const o=[];let s=!1;for(const l of n){const u=nu.mergeTrees(l,a[0]);u.valid?(s=!0,o.push(u.result)):o.push(l)}if(s)return{valid:!0,result:o}}return{valid:!0,result:n.concat(a)}}else{const o={};for(const s in a)o[s]=a[s];for(const s in n)if(o[s]){const l=nu.mergeTrees(n[s],o[s]);if(l.valid)o[s]=l.result;else return{valid:!1,result:n}}else o[s]=n[s];return{valid:!0,result:o}}}else throw new Error(`Unmergable tree types: ${typeof n} and ${typeof a}`)}static materializeTree(n){if(n.termType)return(0,e.getTermRaw)(n);if(Array.isArray(n))return n.map(nu.materializeTree);{const a={};for(const o in n)a[o]=nu.materializeTree(n[o]);return a}}sparqlJsonResultsToTree(n,a){return this.bindingsToTree(this.parser.parseJsonResults(n),a||{singularizeVariables:{}})}bindingsToTree(n,a){const o=a&&a.singularizeVariables[""];let s=o?{}:[];for(const l of n){const u=o?{}:[{}];for(const c in l){const d=c.split(this.delimiter),f=l[c];nu.addValueToTree(o?u:u[0],d,f,"",a,this.delimiter)}s=nu.mergeTrees(s,u).result}return this.materializeRdfJsTerms&&(s=nu.materializeTree(s)),s}};return Yy.Converter=i,Yy}var Ej;function Yve(){return Ej||(Ej=1,function(e){var t=Hc&&Hc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Hc&&Hc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Xve(),e)}(Hc)),Hc}var xj;function Rj(){if(xj)return Xy;xj=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.ActorQueryResultSerializeTree=void 0;const e=Cs(),t=Ir(),i=_t(),r=Xr(),n=Yve();let a=class BY extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static async bindingsStreamToGraphQl(s,l,u){const c=i.ActionContext.ensureActionContext(l),d=new n.Converter(u),f={singularizeVariables:c.get(t.KeysInitQuery.graphqlSingularizeVariables)??{}};return d.bindingsToTree(await s.map(h=>Object.fromEntries([...h].map(([p,g])=>[p.value,g]))).toArray(),f)}async testHandleChecked(s){if(s.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(s,l){const u=new r.Readable;return u._read=()=>{u._read=()=>{},BY.bindingsStreamToGraphQl(s.bindingsStream,s.context,{materializeRdfJsTerms:!0}).then(c=>{u.push(JSON.stringify(c,null,"  ")),u.push(null)}).catch(c=>u.emit("error",c))},{data:u}}};return Xy.ActorQueryResultSerializeTree=a,Xy}var Oj;function qY(){return Oj||(Oj=1,function(e){var t=Uc&&Uc.__createBinding||(Object.create?function(a,o,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,l,u)}:function(a,o,s,l){l===void 0&&(l=s),a[l]=o[s]}),i=Uc&&Uc.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsStreamToGraphQl=void 0;const r=Rj(),{bindingsStreamToGraphQl:n}=r.ActorQueryResultSerializeTree;e.bindingsStreamToGraphQl=n,i(Rj(),e)}(Uc)),Uc}var Gc={},ov={},Pj;function Zve(){if(Pj)return ov;Pj=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.MediatorCombineUnion=void 0;const e=_t();let t=class extends e.Mediator{constructor(r){super(r),this.combiner=this.createCombiner()}async mediate(r){let n;try{n=this.publish(r)}catch{n=[]}if(this.filterErrors){const o=[];for(const s of n)try{await s.reply,o.push(s)}catch{}n=o}await Promise.all(n.map(({reply:o})=>o));const a=await Promise.all(n.map(o=>o.actor.runObservable(r)));return this.combiner(a)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return r=>{const n={};return n[this.field]={},[{}].concat(r.map(a=>a[this.field])).forEach(a=>{n[this.field]={...a,...n[this.field]}}),n}}};return ov.MediatorCombineUnion=t,ov}var Ij;function Ki(){return Ij||(Ij=1,function(e){var t=Gc&&Gc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Gc&&Gc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Zve(),e)}(Gc)),Gc}var Wc={},sv={},Cj;function ebe(){if(Cj)return sv;Cj=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.MediatorNumber=void 0;const e=_t();let t=class extends e.Mediator{constructor(r){super(r),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return r=>r.reduce((n,a,o)=>{const s=this.getOrDefault(a[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(n[0])||n[0]>s)?[s,o]:n},[Number.NaN,-1])[1];case"max":return r=>r.reduce((n,a,o)=>{const s=this.getOrDefault(a[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(n[0])||n[0]<s)?[s,o]:n},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(r,n){return r===void 0?n:r}async mediateWith(r,n){let a=n.map(({reply:u})=>u);const o=[];if(this.ignoreErrors){const u={};u[this.field]=null,a=a.map(c=>c.catch(d=>(o.push(d),u)))}const s=await Promise.all(a),l=this.indexPicker(s);if(l<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(u=>u.message).join(`
`)}`);return n[l].actor}};return sv.MediatorNumber=t,sv}var Dj;function ys(){return Dj||(Dj=1,function(e){var t=Wc&&Wc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Wc&&Wc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(ebe(),e)}(Wc)),Wc}var Kc={},uv={},Jc={},lv={},Gs={},Nj;function uN(){if(Nj)return Gs;Nj=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ActorDereferenceBase=Gs.isHardError=Gs.emptyReadable=void 0;const e=Ir(),t=_t(),i=Xr();function r(){const o=new i.Readable;return o.push(null),o}Gs.emptyReadable=r;function n(o){return!o.get(e.KeysInitQuery.lenient)}Gs.isHardError=n;let a=class extends t.Actor{constructor(s){super(s)}async dereferenceErrorHandler(s,l,u){if(n(s.context))throw l;return this.logWarn(s.context,l.message),{...u,data:r()}}};return Gs.ActorDereferenceBase=a,Gs}var Fj;function tbe(){if(Fj)return lv;Fj=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.ActorDereference=void 0;const e=uN();let t=class extends e.ActorDereferenceBase{constructor(r){super(r)}async handleDereferenceErrors(r,n,a,o=0){return this.dereferenceErrorHandler(r,n,{url:r.url,exists:!1,headers:a,requestTime:o})}};return lv.ActorDereference=t,lv}var Xc={},Lj;function rbe(){if(Lj)return Xc;Lj=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.ActorDereferenceParse=Xc.getMediaTypeFromExtension=void 0;const e=Xr(),t=uN();function i(n,a){const o=n.lastIndexOf(".");return o>=0&&(a==null?void 0:a[n.slice(o+1)])||""}Xc.getMediaTypeFromExtension=i;let r=class extends t.ActorDereferenceBase{constructor(a){super(a)}async test(a){return!0}handleDereferenceStreamErrors(a,o){return(0,t.isHardError)(a.context)||(o.on("error",s=>{this.logWarn(a.context,s.message,()=>({url:a.url})),o.push(null)}),o=o.pipe(new e.PassThrough({objectMode:!0}))),o}async run(a){var u,c;const{context:o}=a,s=await this.mediatorDereference.mediate({...a,mediaTypes:async()=>{var d,f;return(f=await((d=this.mediatorParseMediatypes)==null?void 0:d.mediate({context:o,mediaTypes:!0})))==null?void 0:f.mediaTypes}});let l;try{l=(await this.mediatorParse.mediate({context:o,handle:{context:o,...s,metadata:await this.getMetadata(s)},handleMediaType:s.mediaType||i(s.url,this.mediaMappings)||a.mediaType})).handle,l.data=this.handleDereferenceStreamErrors(a,l.data)}catch(d){await((c=(u=s.data).close)==null?void 0:c.call(u)),l=await this.dereferenceErrorHandler(a,d,{})}return{...s,...l}}};return Xc.ActorDereferenceParse=r,Xc}var Mj;function lN(){return Mj||(Mj=1,function(e){var t=Jc&&Jc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Jc&&Jc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(tbe(),e),i(rbe(),e),i(uN(),e)}(Jc)),Jc}var jj;function nbe(){if(jj)return uv;jj=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.ActorDereferenceFallback=void 0;const e=lN();let t=class extends e.ActorDereference{constructor(r){super(r)}async test(r){return!0}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}};return uv.ActorDereferenceFallback=t,uv}var kj;function VY(){return kj||(kj=1,function(e){var t=Kc&&Kc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Kc&&Kc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(nbe(),e)}(Kc)),Kc}var Yc={},cv={},Zc={},dv={},Bj;function ibe(){if(Bj)return dv;Bj=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.ActorRdfJoinEntriesSort=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return dv.ActorRdfJoinEntriesSort=t,dv}var qj;function abe(){return qj||(qj=1,function(e){var t=Zc&&Zc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Zc&&Zc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(ibe(),e)}(Zc)),Zc}var Vj;function obe(){if(Vj)return cv;Vj=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.ActorRdfJoinEntriesSortCardinality=void 0;const e=abe();let t=class extends e.ActorRdfJoinEntriesSort{constructor(r){super(r)}async test(r){return!0}async run(r){return{entries:[...r.entries].sort((a,o)=>a.metadata.cardinality.value-o.metadata.cardinality.value)}}};return cv.ActorRdfJoinEntriesSortCardinality=t,cv}var Uj;function UY(){return Uj||(Uj=1,function(e){var t=Yc&&Yc.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Yc&&Yc.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(obe(),e)}(Yc)),Yc}var ed={},td={},rd={},fv={},Hj;function sbe(){if(Hj)return fv;Hj=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.ActorRdfJoinSelectivity=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return fv.ActorRdfJoinSelectivity=t,fv}var $j;function ube(){return $j||($j=1,function(e){var t=rd&&rd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=rd&&rd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(sbe(),e)}(rd)),rd}var Qj;function lbe(){if(Qj)return td;Qj=1,Object.defineProperty(td,"__esModule",{value:!0}),td.JoinTypes=td.ActorRdfJoinSelectivityVariableCounting=void 0;const e=ube(),t=vr();let i=class sp extends e.ActorRdfJoinSelectivity{constructor(a){super(a)}async test(a){return{accuracy:.5}}static getPatternCost(a){let o=1;return a.subject.termType==="Variable"&&(o+=4),(a.predicate.termType==="Variable"||a.type===t.Algebra.types.PATH)&&(o+=1),a.object.termType==="Variable"&&(o+=2),a.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(a,o){const s=[];return a.subject.termType==="Variable"?(a.subject.equals(o.subject)&&s.push(r.unboundSS),o.type==="pattern"&&a.subject.equals(o.predicate)&&s.push(r.unboundSP),a.subject.equals(o.object)&&s.push(r.unboundSO),a.subject.equals(o.graph)&&s.push(r.unboundSG)):(a.subject.equals(o.subject)&&s.push(r.boundSS),o.type==="pattern"&&a.subject.equals(o.predicate)&&s.push(r.boundSP),a.subject.equals(o.object)&&s.push(r.boundSO),a.subject.equals(o.graph)&&s.push(r.boundSG)),a.type==="pattern"&&(a.predicate.termType==="Variable"?(a.predicate.equals(o.subject)&&s.push(r.unboundPS),o.type==="pattern"&&a.predicate.equals(o.predicate)&&s.push(r.unboundPP),a.predicate.equals(o.object)&&s.push(r.unboundPO),a.predicate.equals(o.graph)&&s.push(r.unboundPG)):(a.predicate.equals(o.subject)&&s.push(r.boundPS),o.type==="pattern"&&a.predicate.equals(o.predicate)&&s.push(r.boundPP),a.predicate.equals(o.object)&&s.push(r.boundPO),a.predicate.equals(o.graph)&&s.push(r.boundPG))),a.object.termType==="Variable"?(a.object.equals(o.subject)&&s.push(r.unboundOS),o.type==="pattern"&&a.object.equals(o.predicate)&&s.push(r.unboundOP),a.object.equals(o.object)&&s.push(r.unboundOO),a.object.equals(o.graph)&&s.push(r.unboundOG)):(a.object.equals(o.subject)&&s.push(r.boundOS),o.type==="pattern"&&a.object.equals(o.predicate)&&s.push(r.boundOP),a.object.equals(o.object)&&s.push(r.boundOO),a.object.equals(o.graph)&&s.push(r.boundOG)),a.graph.termType==="Variable"?(a.graph.equals(o.subject)&&s.push(r.unboundGS),o.type==="pattern"&&a.graph.equals(o.predicate)&&s.push(r.unboundGP),a.graph.equals(o.object)&&s.push(r.unboundGO),a.graph.equals(o.graph)&&s.push(r.unboundGG)):(a.graph.equals(o.subject)&&s.push(r.boundGS),o.type==="pattern"&&a.graph.equals(o.predicate)&&s.push(r.boundGP),a.graph.equals(o.object)&&s.push(r.boundGO),a.graph.equals(o.graph)&&s.push(r.boundGG)),s}static getOperationsPairwiseJoinCost(a,o){let s=sp.MAX_PAIRWISE_COST;for(const l of sp.getJoinTypes(a,o))switch(l){case r.boundSS:s-=2*2;break;case r.boundSP:s-=3*2;break;case r.boundSO:s-=1*2;break;case r.boundSG:s-=3*2;break;case r.boundPS:s-=3*2;break;case r.boundPP:return 1;case r.boundPO:s-=3*2;break;case r.boundPG:s-=3*2;break;case r.boundOS:s-=1*2;break;case r.boundOP:s-=3*2;break;case r.boundOO:s-=1*2;break;case r.boundOG:s-=3*2;break;case r.boundGS:s-=3*2;break;case r.boundGP:s-=3*2;break;case r.boundGO:s-=3*2;break;case r.boundGG:s-=3*2;break;case r.unboundSS:s-=2;break;case r.unboundSP:s-=3;break;case r.unboundSO:s-=1;break;case r.unboundSG:s-=3;break;case r.unboundPS:s-=3;break;case r.unboundPP:s-=3;break;case r.unboundPO:s-=3;break;case r.unboundPG:s-=3;break;case r.unboundOS:s-=1;break;case r.unboundOP:s-=3;break;case r.unboundOO:s-=1;break;case r.unboundOG:s-=3;break;case r.unboundGS:s-=3;break;case r.unboundGP:s-=3;break;case r.unboundGO:s-=3;break;case r.unboundGG:s-=3;break}return s/sp.MAX_PAIRWISE_COST}static getOperationsJoinCost(a){const o=[];for(const u of a)t.Util.recurseOperation(u,{[t.Algebra.types.PATTERN](c){return o.push(c),!1},[t.Algebra.types.PATH](c){return o.push(c),!1}});let s=0,l=0;for(const u of o)for(const c of o)u!==c&&(s+=sp.getOperationsPairwiseJoinCost(u,c),l++);return l===0?1:s/l*o.reduce((u,c)=>u*sp.getPatternCost(c),1)}async run(a){return a.entries.length<=1?{selectivity:1}:{selectivity:sp.getOperationsJoinCost(a.entries.map(o=>o.operation))}}};td.ActorRdfJoinSelectivityVariableCounting=i,i.MAX_PAIRWISE_COST=41*2;var r;return function(n){n[n.boundSS=0]="boundSS",n[n.boundSP=1]="boundSP",n[n.boundSO=2]="boundSO",n[n.boundSG=3]="boundSG",n[n.boundPS=4]="boundPS",n[n.boundPP=5]="boundPP",n[n.boundPO=6]="boundPO",n[n.boundPG=7]="boundPG",n[n.boundOS=8]="boundOS",n[n.boundOP=9]="boundOP",n[n.boundOO=10]="boundOO",n[n.boundOG=11]="boundOG",n[n.boundGS=12]="boundGS",n[n.boundGP=13]="boundGP",n[n.boundGO=14]="boundGO",n[n.boundGG=15]="boundGG",n[n.unboundSS=16]="unboundSS",n[n.unboundSP=17]="unboundSP",n[n.unboundSO=18]="unboundSO",n[n.unboundSG=19]="unboundSG",n[n.unboundPS=20]="unboundPS",n[n.unboundPP=21]="unboundPP",n[n.unboundPO=22]="unboundPO",n[n.unboundPG=23]="unboundPG",n[n.unboundOS=24]="unboundOS",n[n.unboundOP=25]="unboundOP",n[n.unboundOO=26]="unboundOO",n[n.unboundOG=27]="unboundOG",n[n.unboundGS=28]="unboundGS",n[n.unboundGP=29]="unboundGP",n[n.unboundGO=30]="unboundGO",n[n.unboundGG=31]="unboundGG"}(r||(td.JoinTypes=r={})),td}var zj;function HY(){return zj||(zj=1,function(e){var t=ed&&ed.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ed&&ed.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(lbe(),e)}(ed)),ed}var nd={},hv={},id={},pv={},Gj;function cbe(){if(Gj)return pv;Gj=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.ActorRdfMetadata=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return pv.ActorRdfMetadata=t,pv}var Wj;function $Y(){return Wj||(Wj=1,function(e){var t=id&&id.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=id&&id.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(cbe(),e)}(id)),id}var Kj;function dbe(){if(Kj)return hv;Kj=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.ActorRdfMetadataPrimaryTopic=void 0;const e=$Y(),t=Xr();let i=class extends e.ActorRdfMetadata{constructor(n){super(n)}async test(n){if(n.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(n){const a=new t.Readable({objectMode:!0}),o=new t.Readable({objectMode:!0}),s=()=>{a._read=o._read=()=>{},n.quads.on("error",d=>{a.emit("error",d),o.emit("error",d)});const l={};let u;const c={};n.quads.on("data",d=>{d.predicate.value==="http://rdfs.org/ns/void#subset"&&d.object.value===n.url?u=d.subject.value:d.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(c[d.object.value]=d.subject.value);let f=l[d.graph.value];f||(f=l[d.graph.value]=[]),f.push(d)}),n.quads.on("end",()=>{const d=u?c[u]:void 0;for(const f in l)if(f===d){for(const h of l[f])o.push(h);if(this.metadataToData)for(const h of l[f])a.push(h)}else{for(const h of l[f])a.push(h);if(!d&&this.dataToMetadataOnInvalidMetadataGraph)for(const h of l[f])o.push(h)}a.push(null),o.push(null)})};return a._read=o._read=()=>{s()},{data:a,metadata:o}}};return hv.ActorRdfMetadataPrimaryTopic=i,hv}var Jj;function QY(){return Jj||(Jj=1,function(e){var t=nd&&nd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=nd&&nd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(dbe(),e)}(nd)),nd}var ad={},gv={},Xj;function fbe(){if(Xj)return gv;Xj=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.ActorRdfMetadataAll=void 0;const e=$Y(),t=Xr();let i=class extends e.ActorRdfMetadata{constructor(n){super(n)}async test(n){return!0}async run(n){const a=new t.Readable({objectMode:!0}),o=new t.Readable({objectMode:!0});n.quads.on("error",l=>{a.emit("error",l),o.emit("error",l)}),n.quads.on("end",()=>{a.push(null),o.push(null)});const s=a._read=o._read=l=>{for(;l>0;){const u=n.quads.read();if(u===null)return n.quads.once("readable",()=>s(l));l--,a.push(u),o.push(u)}};return{data:a,metadata:o}}};return gv.ActorRdfMetadataAll=i,gv}var Yj;function zY(){return Yj||(Yj=1,function(e){var t=ad&&ad.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ad&&ad.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(fbe(),e)}(ad)),ad}var od={},mv={},sd={},yv={},Zj;function hbe(){if(Zj)return yv;Zj=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.ActorRdfMetadataAccumulate=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return yv.ActorRdfMetadataAccumulate=t,yv}var e9;function h3(){return e9||(e9=1,function(e){var t=sd&&sd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=sd&&sd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(hbe(),e)}(sd)),sd}var t9;function pbe(){if(t9)return mv;t9=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const e=h3();let t=class extends e.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){if(r.mode==="initialize")return{metadata:{canContainUndefs:!1}};let n=r.accumulatedMetadata.canContainUndefs;return r.appendingMetadata.canContainUndefs&&(n=!0),{metadata:{canContainUndefs:n}}}};return mv.ActorRdfMetadataAccumulateCanContainUndefs=t,mv}var r9;function GY(){return r9||(r9=1,function(e){var t=od&&od.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=od&&od.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(pbe(),e)}(od)),od}var ud={},vv={},n9;function gbe(){if(n9)return vv;n9=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.ActorRdfMetadataAccumulateCardinality=void 0;const e=h3();let t=class extends e.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const n={...r.accumulatedMetadata.cardinality};if(n.dataset){if(r.accumulatedMetadata.defaultGraph===n.dataset&&n.dataset!==r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(r.appendingMetadata.cardinality.dataset){if(n.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===n.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(n.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:n}};delete n.dataset}else return{metadata:{cardinality:n}}}return!r.appendingMetadata.cardinality||!Number.isFinite(r.appendingMetadata.cardinality.value)?(n.type="estimate",n.value=Number.POSITIVE_INFINITY):(r.appendingMetadata.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=r.appendingMetadata.cardinality.value),{metadata:{cardinality:n}}}};return vv.ActorRdfMetadataAccumulateCardinality=t,vv}var i9;function WY(){return i9||(i9=1,function(e){var t=ud&&ud.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ud&&ud.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(gbe(),e)}(ud)),ud}var ld={},bv={},a9;function mbe(){if(a9)return bv;a9=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.ActorRdfMetadataAccumulatePageSize=void 0;const e=h3();let t=class extends e.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}};return bv.ActorRdfMetadataAccumulatePageSize=t,bv}var o9;function KY(){return o9||(o9=1,function(e){var t=ld&&ld.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ld&&ld.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(mbe(),e)}(ld)),ld}var cd={},_v={},s9;function ybe(){if(s9)return _v;s9=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.ActorRdfMetadataAccumulateRequestTime=void 0;const e=h3();let t=class extends e.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}};return _v.ActorRdfMetadataAccumulateRequestTime=t,_v}var u9;function JY(){return u9||(u9=1,function(e){var t=cd&&cd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=cd&&cd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(ybe(),e)}(cd)),cd}var dd={},wv={},fd={},Sv={},l9;function vbe(){if(l9)return Sv;l9=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.ActorRdfMetadataExtract=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Sv.ActorRdfMetadataExtract=t,Sv}var c9;function El(){return c9||(c9=1,function(e){var t=fd&&fd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=fd&&fd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(vbe(),e)}(fd)),fd}var bO={exports:{}},d9;function bbe(){return d9||(d9=1,function(e){(function(t){var i=function(){function p(g){this.options=g}return p.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},p}(),r=function(){function p(R){return Object.prototype.toString.apply(R)==="[object Array]"}function g(R){return Object.prototype.toString.apply(R)==="[object String]"}function m(R){return Object.prototype.toString.apply(R)==="[object Number]"}function y(R){return Object.prototype.toString.apply(R)==="[object Boolean]"}function v(R,F){var D="",A=!0,x;for(x=0;x<R.length;x+=1)A?A=!1:D+=F,D+=R[x];return D}function b(R,F){for(var D=[],A=0;A<R.length;A+=1)D.push(F(R[A]));return D}function _(R,F){for(var D=[],A=0;A<R.length;A+=1)F(R[A])&&D.push(R[A]);return D}function w(R){if(typeof R!="object"||R===null)return R;Object.freeze(R);var F,D;for(D in R)R.hasOwnProperty(D)&&(F=R[D],typeof F=="object"&&T(F));return R}function T(R){return typeof Object.freeze=="function"?w(R):R}return{isArray:p,isString:g,isNumber:m,isBoolean:y,join:v,map:b,filter:_,deepFreeze:T}}(),n=function(){function p(y){return y>="a"&&y<="z"||y>="A"&&y<="Z"}function g(y){return y>="0"&&y<="9"}function m(y){return g(y)||y>="a"&&y<="f"||y>="A"&&y<="F"}return{isAlpha:p,isDigit:g,isHexDigit:m}}(),a=function(){var p={encode:function(_){return unescape(encodeURIComponent(_))},numBytes:function(_){return _<=127?1:194<=_&&_<=223?2:224<=_&&_<=239?3:240<=_&&_<=244?4:0},isValidFollowingCharCode:function(_){return 128<=_&&_<=191}};function g(_){var w="",T=p.encode(_),R,F;for(F=0;F<T.length;F+=1)R=T.charCodeAt(F),w+="%"+(R<16?"0":"")+R.toString(16).toUpperCase();return w}function m(_,w){return _.charAt(w)==="%"&&n.isHexDigit(_.charAt(w+1))&&n.isHexDigit(_.charAt(w+2))}function y(_,w){return parseInt(_.substr(w,2),16)}function v(_){if(!m(_,0))return!1;var w=y(_,1),T=p.numBytes(w);if(T===0)return!1;for(var R=1;R<T;R+=1)if(!m(_,3*R)||!p.isValidFollowingCharCode(y(_,3*R+1)))return!1;return!0}function b(_,w){var T=_.charAt(w);if(!m(_,w))return T;var R=y(_,w+1),F=p.numBytes(R);if(F===0)return T;for(var D=1;D<F;D+=1)if(!m(_,w+3*D)||!p.isValidFollowingCharCode(y(_,w+3*D+1)))return T;return _.substr(w,3*F)}return{encodeCharacter:g,isPctEncoded:v,pctCharAt:b}}(),o=function(){function p(y){return n.isAlpha(y)||n.isDigit(y)||y==="_"||a.isPctEncoded(y)}function g(y){return n.isAlpha(y)||n.isDigit(y)||y==="-"||y==="."||y==="_"||y==="~"}function m(y){return y===":"||y==="/"||y==="?"||y==="#"||y==="["||y==="]"||y==="@"||y==="!"||y==="$"||y==="&"||y==="("||y===")"||y==="*"||y==="+"||y===","||y===";"||y==="="||y==="'"}return{isVarchar:p,isUnreserved:g,isReserved:m}}(),s=function(){function p(v,b){var _="",w,T="";for((typeof v=="number"||typeof v=="boolean")&&(v=v.toString()),w=0;w<v.length;w+=T.length)T=v.charAt(w),_+=o.isUnreserved(T)||b&&o.isReserved(T)?T:a.encodeCharacter(T);return _}function g(v){return p(v,!0)}function m(v,b){var _=a.pctCharAt(v,b);return _.length>1||o.isReserved(_)||o.isUnreserved(_)?_:a.encodeCharacter(_)}function y(v){var b="",_,w="";for(_=0;_<v.length;_+=w.length)w=a.pctCharAt(v,_),w.length>1?b+=w:b+=o.isReserved(w)||o.isUnreserved(w)?w:a.encodeCharacter(w);return b}return{encode:p,encodePassReserved:g,encodeLiteral:y,encodeLiteralCharacter:m}}(),l=function(){var p={};function g(m){p[m]={symbol:m,separator:m==="?"?"&":m===""||m==="+"||m==="#"?",":m,named:m===";"||m==="&"||m==="?",ifEmpty:m==="&"||m==="?"?"=":"",first:m==="+"?"":m,encode:m==="+"||m==="#"?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return g(""),g("+"),g("#"),g("."),g("/"),g(";"),g("?"),g("&"),{valueOf:function(m){return p[m]?p[m]:"=,!@|".indexOf(m)>=0?null:p[""]}}}();function u(p){var g;if(p==null)return!1;if(r.isArray(p))return p.length>0;if(typeof p=="string"||typeof p=="number"||typeof p=="boolean")return!0;for(g in p)if(p.hasOwnProperty(g)&&u(p[g]))return!0;return!1}var c=function(){function p(g){this.literal=s.encodeLiteral(g)}return p.prototype.expand=function(){return this.literal},p.prototype.toString=p.prototype.expand,p}(),d=function(){function p(m){var y,v=[],b=null,_=null,w=null,T,R="";function F(){var A=m.substring(_,T);if(A.length===0)throw new i({expressionText:m,message:"a varname must be specified",position:T});b={varname:A,exploded:!1,maxLength:null},_=null}function D(){if(w===T)throw new i({expressionText:m,message:"after a ':' you have to specify the length",position:T});b.maxLength=parseInt(m.substring(w,T),10),w=null}for(y=function(A){var x=l.valueOf(A);if(x===null)throw new i({expressionText:m,message:"illegal use of reserved operator",position:T,operator:A});return x}(m.charAt(0)),T=y.symbol.length,_=T;T<m.length;T+=R.length){if(R=a.pctCharAt(m,T),_!==null){if(R==="."){if(_===T)throw new i({expressionText:m,message:"a varname MUST NOT start with a dot",position:T});continue}if(o.isVarchar(R))continue;F()}if(w!==null){if(T===w&&R==="0")throw new i({expressionText:m,message:"A :prefix must not start with digit 0",position:T});if(n.isDigit(R)){if(T-w>=4)throw new i({expressionText:m,message:"A :prefix must have max 4 digits",position:T});continue}D()}if(R===":"){if(b.maxLength!==null)throw new i({expressionText:m,message:"only one :maxLength is allowed per varspec",position:T});if(b.exploded)throw new i({expressionText:m,message:"an exploeded varspec MUST NOT be varspeced",position:T});w=T+1;continue}if(R==="*"){if(b===null)throw new i({expressionText:m,message:"exploded without varspec",position:T});if(b.exploded)throw new i({expressionText:m,message:"exploded twice",position:T});if(b.maxLength)throw new i({expressionText:m,message:"an explode (*) MUST NOT follow to a prefix",position:T});b.exploded=!0;continue}if(R===","){v.push(b),b=null,_=T+1;continue}throw new i({expressionText:m,message:"illegal character",character:R,position:T})}return _!==null&&F(),w!==null&&D(),v.push(b),new f(m,y,v)}function g(m){var y,v,b=[],_=null,w=0;for(y=0;y<m.length;y+=1){if(v=m.charAt(y),w!==null){if(v==="}")throw new i({templateText:m,message:"unopened brace closed",position:y});v==="{"&&(w<y&&b.push(new c(m.substring(w,y))),w=null,_=y);continue}if(_!==null){if(v==="{")throw new i({templateText:m,message:"brace already opened",position:y});if(v==="}"){if(_+1===y)throw new i({templateText:m,message:"empty braces",position:_});try{b.push(p(m.substring(_+1,y)))}catch(T){throw T.prototype===i.prototype?new i({templateText:m,message:T.options.message,position:_+T.options.position,details:T.options}):T}_=null,w=y+1}continue}throw new Error("reached unreachable code")}if(_!==null)throw new i({templateText:m,message:"unclosed brace",position:_});return w<m.length&&b.push(new c(m.substr(w))),new h(m,b)}return g}(),f=function(){function p(R){return JSON&&JSON.stringify?JSON.stringify(R):R}function g(R){if(!u(R))return!0;if(r.isString(R))return R==="";if(r.isNumber(R)||r.isBoolean(R))return!1;if(r.isArray(R))return R.length===0;for(var F in R)if(R.hasOwnProperty(F))return!1;return!0}function m(R){var F=[],D;for(D in R)R.hasOwnProperty(D)&&F.push({name:D,value:R[D]});return F}function y(R,F,D){this.templateText=R,this.operator=F,this.varspecs=D}y.prototype.toString=function(){return this.templateText};function v(R,F,D){var A="";if(D=D.toString(),F.named){if(A+=s.encodeLiteral(R.varname),D==="")return A+=F.ifEmpty,A;A+="="}return R.maxLength!==null&&(D=D.substr(0,R.maxLength)),A+=F.encode(D),A}function b(R){return u(R.value)}function _(R,F,D){var A=[],x="";if(F.named){if(x+=s.encodeLiteral(R.varname),g(D))return x+=F.ifEmpty,x;x+="="}return r.isArray(D)?(A=D,A=r.filter(A,u),A=r.map(A,F.encode),x+=r.join(A,",")):(A=m(D),A=r.filter(A,b),A=r.map(A,function(N){return F.encode(N.name)+","+F.encode(N.value)}),x+=r.join(A,",")),x}function w(R,F,D){var A=r.isArray(D),x=[];return A?(x=D,x=r.filter(x,u),x=r.map(x,function(N){var j=s.encodeLiteral(R.varname);return g(N)?j+=F.ifEmpty:j+="="+F.encode(N),j})):(x=m(D),x=r.filter(x,b),x=r.map(x,function(N){var j=s.encodeLiteral(N.name);return g(N.value)?j+=F.ifEmpty:j+="="+F.encode(N.value),j})),r.join(x,F.separator)}function T(R,F){var D=[],A="";return r.isArray(F)?(D=F,D=r.filter(D,u),D=r.map(D,R.encode),A+=r.join(D,R.separator)):(D=m(F),D=r.filter(D,function(x){return u(x.value)}),D=r.map(D,function(x){return R.encode(x.name)+"="+R.encode(x.value)}),A+=r.join(D,R.separator)),A}return y.prototype.expand=function(R){var F=[],D,A,x,N=this.operator;for(D=0;D<this.varspecs.length;D+=1)if(A=this.varspecs[D],x=R[A.varname],x!=null)if(A.exploded,r.isArray(x),typeof x=="string"||typeof x=="number"||typeof x=="boolean")F.push(v(A,N,x));else{if(A.maxLength&&u(x))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+p(x));A.exploded?u(x)&&(N.named?F.push(w(A,N,x)):F.push(T(N,x))):(N.named||!g(x))&&F.push(_(A,N,x))}return F.length===0?"":N.first+r.join(F,N.separator)},y}(),h=function(){function p(g,m){this.templateText=g,this.expressions=m,r.deepFreeze(this)}return p.prototype.toString=function(){return this.templateText},p.prototype.expand=function(g){var m,y="";for(m=0;m<this.expressions.length;m+=1)y+=this.expressions[m].expand(g);return y},p.parse=d,p.UriTemplateError=i,p}();t(h)})(function(t){e.exports=t})}(bO)),bO.exports}var f9;function _be(){if(f9)return wv;f9=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.ActorRdfMetadataExtractHydraControls=void 0;const e=El(),t=bbe();let i=class DT extends e.ActorRdfMetadataExtract{constructor(n){super(n),this.parsedUriTemplateCache={}}async test(n){return!0}getLinks(n,a){return Object.fromEntries(DT.LINK_TYPES.map(o=>{const s=a[o]||a[`${o}Page`],l=s&&s[n];return[o,l&&l.length>0?[l[0]]:[]]}))}parseUriTemplateCached(n){const a=this.parsedUriTemplateCache[n];return a||(this.parsedUriTemplateCache[n]=(0,t.parse)(n))}getSearchForms(n){const a=n.search,o=[];if(a)for(const s in a)for(const l of a[s]){const u=(n.template||{})[l]||[];if(u.length!==1)throw new Error(`Expected 1 hydra:template for ${l}`);const c=u[0],d=this.parseUriTemplateCached(c),f=Object.fromEntries(((n.mapping||{})[l]||[]).map(p=>{const g=((n.variable||{})[p]||[])[0],m=((n.property||{})[p]||[])[0];if(!g)throw new Error(`Expected a hydra:variable for ${p}`);if(!m)throw new Error(`Expected a hydra:property for ${p}`);return[m,g]})),h=p=>d.expand(Object.fromEntries(Object.keys(p).map(g=>[f[g],p[g]])));o.push({dataset:s,template:c,mappings:f,getUri:h})}return{values:o}}getHydraProperties(n){return new Promise((a,o)=>{n.on("error",o);const s={};n.on("data",l=>{if(l.predicate.value.startsWith(DT.HYDRA)){const u=l.predicate.value.slice(DT.HYDRA.length),c=s[u]||(s[u]={});(c[l.subject.value]||(c[l.subject.value]=[])).push(l.object.value)}}),n.on("end",()=>a(s))})}async run(n){const a={},o=await this.getHydraProperties(n.metadata);return Object.assign(a,this.getLinks(n.url,o)),a.searchForms=this.getSearchForms(o),{metadata:a}}};return wv.ActorRdfMetadataExtractHydraControls=i,i.HYDRA="http://www.w3.org/ns/hydra/core#",i.LINK_TYPES=["first","next","previous","last"],wv}var h9;function XY(){return h9||(h9=1,function(e){var t=dd&&dd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=dd&&dd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(_be(),e)}(dd)),dd}var hd={},Av={},p9;function wbe(){if(p9)return Av;p9=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.ActorRdfMetadataExtractHydraCount=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}run(r){return new Promise((n,a)=>{r.metadata.on("error",a),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&n({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),r.metadata.on("end",()=>{n({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return Av.ActorRdfMetadataExtractHydraCount=t,Av}var g9;function YY(){return g9||(g9=1,function(e){var t=hd&&hd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=hd&&hd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(wbe(),e)}(hd)),hd}var pd={},Tv={},m9;function Sbe(){if(m9)return Tv;m9=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.ActorRdfMetadataExtractHydraPagesize=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){return new Promise((n,a)=>{r.metadata.on("error",a),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&n({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),r.metadata.on("end",()=>{n({metadata:{}})})})}};return Tv.ActorRdfMetadataExtractHydraPagesize=t,Tv}var y9;function ZY(){return y9||(y9=1,function(e){var t=pd&&pd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=pd&&pd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Sbe(),e)}(pd)),pd}var gd={},Ev={},v9;function Abe(){if(v9)return Ev;v9=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.ActorRdfMetadataExtractRequestTime=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){return{metadata:{requestTime:r.requestTime}}}};return Ev.ActorRdfMetadataExtractRequestTime=t,Ev}var b9;function eZ(){return b9||(b9=1,function(e){var t=gd&&gd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=gd&&gd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Abe(),e)}(gd)),gd}var md={},xv={},_9;function Tbe(){if(_9)return xv;_9=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.ActorRdfMetadataExtractAllowHttpMethods=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var a,o;const n={};return(a=r.headers)!=null&&a.get("allow")&&(n.allowHttpMethods=(o=r.headers.get("allow"))==null?void 0:o.split(/, */u)),{metadata:n}}};return xv.ActorRdfMetadataExtractAllowHttpMethods=t,xv}var w9;function tZ(){return w9||(w9=1,function(e){var t=md&&md.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=md&&md.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Tbe(),e)}(md)),md}var yd={},Rv={},S9;function Ebe(){if(S9)return Rv;S9=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.ActorRdfMetadataExtractPutAccepted=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var a,o;const n={};return(a=r.headers)!=null&&a.get("accept-put")&&(n.putAccepted=(o=r.headers.get("accept-put"))==null?void 0:o.split(/, */u)),{metadata:n}}};return Rv.ActorRdfMetadataExtractPutAccepted=t,Rv}var A9;function rZ(){return A9||(A9=1,function(e){var t=yd&&yd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=yd&&yd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ebe(),e)}(yd)),yd}var vd={},Ov={},T9;function xbe(){if(T9)return Ov;T9=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const e=El();let t=class extends e.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var a,o,s,l;const n={};return(((o=(a=r.headers)==null?void 0:a.get("accept-patch"))==null?void 0:o.includes("application/sparql-update"))??((l=(s=r.headers)==null?void 0:s.get("ms-author-via"))==null?void 0:l.includes("SPARQL")))&&(n.patchSparqlUpdate=!0),{metadata:n}}};return Ov.ActorRdfMetadataExtractPatchSparqlUpdate=t,Ov}var E9;function nZ(){return E9||(E9=1,function(e){var t=vd&&vd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=vd&&vd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(xbe(),e)}(vd)),vd}var bd={},Pv={},x9;function Rbe(){if(x9)return Pv;x9=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.ActorRdfMetadataExtractSparqlService=void 0;const e=El(),t=Ko();let i=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){return new Promise((a,o)=>{n.metadata.on("error",o);const s={};n.metadata.on("data",l=>{l.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(l.subject.termType==="BlankNode"||l.subject.value===n.url)?(s.sparqlService=l.object.termType==="Literal"?(0,t.resolve)(l.object.value,n.url):l.object.value,this.inferHttpsEndpoint&&n.url.startsWith("https")&&!s.sparqlService.startsWith("https")&&(s.sparqlService=s.sparqlService.replace("http:","https:"))):l.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(s.defaultGraph=l.object.value)}),n.metadata.on("end",()=>{a({metadata:s})})})}};return Pv.ActorRdfMetadataExtractSparqlService=i,Pv}var R9;function iZ(){return R9||(R9=1,function(e){var t=bd&&bd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=bd&&bd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Rbe(),e)}(bd)),bd}var _d={},Iv={},wd={},Cv={},O9;function Obe(){if(O9)return Cv;O9=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.ActorRdfParse=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTyped{constructor(r){super(r)}};return Cv.ActorRdfParse=t,Cv}var Dv={},P9;function Pbe(){if(P9)return Dv;P9=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.ActorRdfParseFixedMediaTypes=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return!0}};return Dv.ActorRdfParseFixedMediaTypes=t,Dv}var I9;function q0(){return I9||(I9=1,function(e){var t=wd&&wd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=wd&&wd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Obe(),e),i(Pbe(),e)}(wd)),wd}const xl=qC(Sfe);var C9;function Ibe(){if(C9)return Iv;C9=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.ActorRdfParseN3=void 0;const e=q0(),t=xl;let i=class extends e.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,a,o){var l;n.data.on("error",u=>s.emit("error",u));const s=n.data.pipe(new t.StreamParser({baseIRI:(l=n.metadata)==null?void 0:l.baseIRI,format:a.endsWith("n3")?a:`${a}*`}));return{data:s,metadata:{triples:a==="text/turtle"||a==="application/n-triples"||a==="text/n3"}}}};return Iv.ActorRdfParseN3=i,Iv}var D9;function aZ(){return D9||(D9=1,function(e){var t=_d&&_d.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=_d&&_d.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ibe(),e)}(_d)),_d}var Sd={},Nv={},Ad={},Td={},Ed={},_O={},N9;function Cbe(){return N9||(N9=1,function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r -퟿-�𐀀-􏿿`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,i=10,r=13,n=32;e.S_LIST=[n,i,r,t];function a(u){return u>=n&&u<=55295||u===i||u===r||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}e.isChar=a;function o(u){return u===n||u===i||u===r||u===t}e.isS=o;function s(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}e.isNameStartChar=s;function l(u){return s(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}e.isNameChar=l}(_O)),_O}var wO={},F9;function Dbe(){return F9||(F9=1,function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-퟿-�𐀀-􏿿",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,i=10,r=13,n=32;e.S_LIST=[n,i,r,t];function a(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isChar=a;function o(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}e.isRestrictedChar=o;function s(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isCharAndNotRestricted=s;function l(d){return d===n||d===i||d===r||d===t}e.isS=l;function u(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}e.isNameStartChar=u;function c(d){return u(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}e.isNameChar=c}(wO)),wO}var SO={},L9;function Nbe(){return L9||(L9=1,function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}e.isNCNameStartChar=t;function i(r){return t(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}e.isNCNameChar=i}(SO)),SO}var M9;function oZ(){if(M9)return Ed;M9=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.SaxesParser=Ed.EVENTS=void 0;const e=Cbe(),t=Dbe(),i=Nbe();var r=e.isS,n=e.isChar,a=e.isNameStartChar,o=e.isNameChar,s=e.S_LIST,l=e.NAME_RE,u=t.isChar,c=i.isNCNameStartChar,d=i.isNCNameChar,f=i.NC_NAME_RE;const h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:h,xmlns:p},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,v=-2,b=0,_=1,w=2,T=3,R=4,F=5,D=6,A=7,x=8,N=9,j=10,H=11,M=12,$=13,te=14,re=15,oe=16,J=17,fe=18,xe=19,de=20,ae=21,Fe=22,Le=23,me=24,pe=25,_e=26,X=27,C=28,E=29,S=30,I=31,k=32,Q=33,G=34,ne=35,ee=36,se=37,ge=38,Ae=39,Ve=40,Ge=41,qe=42,Ee=43,W=44,V=9,K=10,z=13,be=32,ke=33,Pe=34,dt=38,pt=39,tt=45,At=47,ve=59,et=60,Ze=61,st=62,ut=63,xt=91,Nt=93,Lt=133,er=8232,Ie=St=>St===Pe||St===pt,U=[Pe,pt],he=[...U,xt,st],je=[...U,et,Nt],Ke=[Ze,ut,...s],Et=[...s,st,dt,et];function lt(St,Ce,Qe){switch(Ce){case"xml":Qe!==h&&St.fail(`xml prefix must be bound to ${h}.`);break;case"xmlns":Qe!==p&&St.fail(`xmlns prefix must be bound to ${p}.`);break}switch(Qe){case p:St.fail(Ce===""?`the default namespace may not be set to ${Qe}.`:`may not assign a prefix (even "xmlns") to the URI ${p}.`);break;case h:switch(Ce){case"xml":break;case"":St.fail(`the default namespace may not be set to ${Qe}.`);break;default:St.fail("may not assign the xml namespace to another prefix.")}break}}function qt(St,Ce){for(const Qe of Object.keys(Ce))lt(St,Qe,Ce[Qe])}const bt=St=>f.test(St),Rt=St=>l.test(St),Qt=0,gr=1,Zt=2;Ed.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Dt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Hn{get closed(){return this._closed}constructor(Ce){this.opt=Ce??{},this.fragmentOpt=!!this.opt.fragment;const Qe=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Qe){this.nameStartCheck=c,this.nameCheck=d,this.isName=bt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},g);const Xe=this.opt.additionalNamespaces;Xe!=null&&(qt(this,Xe),Object.assign(this.ns,Xe))}else this.nameStartCheck=a,this.nameCheck=o,this.isName=Rt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var Ce;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Qt,this.attribList=[];const{fragmentOpt:Qe}=this;this.state=Qe?$:b,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Qe,this.xmlDeclPossible=!Qe,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Xe}=this.opt;if(Xe===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Xe="1.0"}this.setXMLVersion(Xe),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(m),(Ce=this.readyHandler)===null||Ce===void 0||Ce.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Ce,Qe){this[Dt[Ce]]=Qe}off(Ce){this[Dt[Ce]]=void 0}makeError(Ce){var Qe;let Xe=(Qe=this.fileName)!==null&&Qe!==void 0?Qe:"";return this.trackPosition&&(Xe.length>0&&(Xe+=":"),Xe+=`${this.line}:${this.column}`),Xe.length>0&&(Xe+=": "),new Error(Xe+Ce)}fail(Ce){const Qe=this.makeError(Ce),Xe=this.errorHandler;if(Xe===void 0)throw Qe;return Xe(Qe),this}write(Ce){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Qe=!1;Ce===null?(Qe=!0,Ce=""):typeof Ce=="object"&&(Ce=Ce.toString()),this.carriedFromPrevious!==void 0&&(Ce=`${this.carriedFromPrevious}${Ce}`,this.carriedFromPrevious=void 0);let Xe=Ce.length;const jt=Ce.charCodeAt(Xe-1);!Qe&&(jt===z||jt>=55296&&jt<=56319)&&(this.carriedFromPrevious=Ce[Xe-1],Xe--,Ce=Ce.slice(0,Xe));const{stateTable:kt}=this;for(this.chunk=Ce,this.i=0;this.i<Xe;)kt[this.state].call(this);return this.chunkPosition+=Xe,Qe?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Ce,i:Qe}=this;if(this.prevI=Qe,this.i=Qe+1,Qe>=Ce.length)return y;const Xe=Ce.charCodeAt(Qe);if(this.column++,Xe<55296){if(Xe>=be||Xe===V)return Xe;switch(Xe){case K:return this.line++,this.column=0,this.positionAtNewLine=this.position,K;case z:return Ce.charCodeAt(Qe+1)===K&&(this.i=Qe+2),this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Xe}}if(Xe>56319)return Xe>=57344&&Xe<=65533||this.fail("disallowed character."),Xe;const jt=65536+(Xe-55296)*1024+(Ce.charCodeAt(Qe+1)-56320);return this.i=Qe+2,jt>1114111&&this.fail("disallowed character."),jt}getCode11(){const{chunk:Ce,i:Qe}=this;if(this.prevI=Qe,this.i=Qe+1,Qe>=Ce.length)return y;const Xe=Ce.charCodeAt(Qe);if(this.column++,Xe<55296){if(Xe>31&&Xe<127||Xe>159&&Xe!==er||Xe===V)return Xe;switch(Xe){case K:return this.line++,this.column=0,this.positionAtNewLine=this.position,K;case z:{const kt=Ce.charCodeAt(Qe+1);(kt===K||kt===Lt)&&(this.i=Qe+2)}case Lt:case er:return this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Xe}}if(Xe>56319)return Xe>=57344&&Xe<=65533||this.fail("disallowed character."),Xe;const jt=65536+(Xe-55296)*1024+(Ce.charCodeAt(Qe+1)-56320);return this.i=Qe+2,jt>1114111&&this.fail("disallowed character."),jt}getCodeNorm(){const Ce=this.getCode();return Ce===v?K:Ce}unget(){this.i=this.prevI,this.column--}captureTo(Ce){let{i:Qe}=this;const{chunk:Xe}=this;for(;;){const jt=this.getCode(),kt=jt===v,Wt=kt?K:jt;if(Wt===y||Ce.includes(Wt))return this.text+=Xe.slice(Qe,this.prevI),Wt;kt&&(this.text+=`${Xe.slice(Qe,this.prevI)}
`,Qe=this.i)}}captureToChar(Ce){let{i:Qe}=this;const{chunk:Xe}=this;for(;;){let jt=this.getCode();switch(jt){case v:this.text+=`${Xe.slice(Qe,this.prevI)}
`,Qe=this.i,jt=K;break;case y:return this.text+=Xe.slice(Qe),!1}if(jt===Ce)return this.text+=Xe.slice(Qe,this.prevI),!0}}captureNameChars(){const{chunk:Ce,i:Qe}=this;for(;;){const Xe=this.getCode();if(Xe===y)return this.name+=Ce.slice(Qe),y;if(!o(Xe))return this.name+=Ce.slice(Qe,this.prevI),Xe===v?K:Xe}}skipSpaces(){for(;;){const Ce=this.getCodeNorm();if(Ce===y||!r(Ce))return Ce}}setXMLVersion(Ce){this.currentXMLVersion=Ce,Ce==="1.0"?(this.isChar=n,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=_}sBeginWhitespace(){const Ce=this.i,Qe=this.skipSpaces();switch(this.prevI!==Ce&&(this.xmlDeclPossible=!1),Qe){case et:if(this.state=re,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=$,this.xmlDeclPossible=!1}}sDoctype(){var Ce;const Qe=this.captureTo(he);switch(Qe){case st:{(Ce=this.doctypeHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text="",this.state=$,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(Qe),Qe===xt?this.state=R:Ie(Qe)&&(this.state=T,this.q=Qe)}}sDoctypeQuote(){const Ce=this.q;this.captureToChar(Ce)&&(this.text+=String.fromCodePoint(Ce),this.q=null,this.state=w)}sDTD(){const Ce=this.captureTo(je);Ce!==y&&(this.text+=String.fromCodePoint(Ce),Ce===Nt?this.state=w:Ce===et?this.state=D:Ie(Ce)&&(this.state=F,this.q=Ce))}sDTDQuoted(){const Ce=this.q;this.captureToChar(Ce)&&(this.text+=String.fromCodePoint(Ce),this.state=R,this.q=null)}sDTDOpenWaka(){const Ce=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Ce),Ce){case ke:this.state=A,this.openWakaBang="";break;case ut:this.state=H;break;default:this.state=R}}sDTDOpenWakaBang(){const Ce=String.fromCodePoint(this.getCodeNorm()),Qe=this.openWakaBang+=Ce;this.text+=Ce,Qe!=="-"&&(this.state=Qe==="--"?x:R,this.openWakaBang="")}sDTDComment(){this.captureToChar(tt)&&(this.text+="-",this.state=N)}sDTDCommentEnding(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),this.state=Ce===tt?j:x}sDTDCommentEnded(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),Ce===st?this.state=R:(this.fail("malformed comment."),this.state=x)}sDTDPI(){this.captureToChar(ut)&&(this.text+="?",this.state=M)}sDTDPIEnding(){const Ce=this.getCodeNorm();this.text+=String.fromCodePoint(Ce),Ce===st&&(this.state=R)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Ce}=this;const{chunk:Qe}=this;e:for(;;)switch(this.getCode()){case v:this.entity+=`${Qe.slice(Ce,this.prevI)}
`,Ce=this.i;break;case ve:{const{entityReturnState:Xe}=this,jt=this.entity+Qe.slice(Ce,this.prevI);this.state=Xe;let kt;jt===""?(this.fail("empty entity name."),kt="&;"):(kt=this.parseEntity(jt),this.entity=""),(Xe!==$||this.textHandler!==void 0)&&(this.text+=kt);break e}case y:this.entity+=Qe.slice(Ce);break e}}sOpenWaka(){const Ce=this.getCode();if(a(Ce))this.state=G,this.unget(),this.xmlDeclPossible=!1;else switch(Ce){case At:this.state=Ee,this.xmlDeclPossible=!1;break;case ke:this.state=oe,this.openWakaBang="",this.xmlDeclPossible=!1;break;case ut:this.state=Le;break;default:this.fail("disallowed character in tag name"),this.state=$,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=de,this.openWakaBang="";break;case"--":this.state=J,this.openWakaBang="";break;case"DOCTYPE":this.state=w,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(tt)&&(this.state=fe)}sCommentEnding(){var Ce;const Qe=this.getCodeNorm();Qe===tt?(this.state=xe,(Ce=this.commentHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Qe)}`,this.state=J)}sCommentEnded(){const Ce=this.getCodeNorm();Ce!==st?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Ce)}`,this.state=J):this.state=$}sCData(){this.captureToChar(Nt)&&(this.state=ae)}sCDataEnding(){const Ce=this.getCodeNorm();Ce===Nt?this.state=Fe:(this.text+=`]${String.fromCodePoint(Ce)}`,this.state=de)}sCDataEnding2(){var Ce;const Qe=this.getCodeNorm();switch(Qe){case st:{(Ce=this.cdataHandler)===null||Ce===void 0||Ce.call(this,this.text),this.text="",this.state=$;break}case Nt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Qe)}`,this.state=de}}sPIFirstChar(){const Ce=this.getCodeNorm();this.nameStartCheck(Ce)?(this.piTarget+=String.fromCodePoint(Ce),this.state=me):Ce===ut||r(Ce)?(this.fail("processing instruction without a target."),this.state=Ce===ut?_e:pe):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ce),this.state=me)}sPIRest(){const{chunk:Ce,i:Qe}=this;for(;;){const Xe=this.getCodeNorm();if(Xe===y){this.piTarget+=Ce.slice(Qe);return}if(!this.nameCheck(Xe)){this.piTarget+=Ce.slice(Qe,this.prevI);const jt=Xe===ut;jt||r(Xe)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=jt?Q:X):this.state=jt?_e:pe:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Xe));break}}}sPIBody(){if(this.text.length===0){const Ce=this.getCodeNorm();Ce===ut?this.state=_e:r(Ce)||(this.text=String.fromCodePoint(Ce))}else this.captureToChar(ut)&&(this.state=_e)}sPIEnding(){var Ce;const Qe=this.getCodeNorm();if(Qe===st){const{piTarget:Xe}=this;Xe.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Ce=this.piHandler)===null||Ce===void 0||Ce.call(this,{target:Xe,body:this.text}),this.piTarget=this.text="",this.state=$}else Qe===ut?this.text+="?":(this.text+=`?${String.fromCodePoint(Qe)}`,this.state=pe);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Ce=this.skipSpaces();if(Ce===ut){this.state=Q;return}Ce!==y&&(this.state=C,this.name=String.fromCodePoint(Ce))}sXMLDeclName(){const Ce=this.captureTo(Ke);if(Ce===ut){this.state=Q,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(r(Ce)||Ce===Ze){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Ce===Ze?S:E}}sXMLDeclEq(){const Ce=this.getCodeNorm();if(Ce===ut){this.state=Q,this.fail("XML declaration is incomplete.");return}r(Ce)||(Ce!==Ze&&this.fail("value required."),this.state=S)}sXMLDeclValueStart(){const Ce=this.getCodeNorm();if(Ce===ut){this.state=Q,this.fail("XML declaration is incomplete.");return}r(Ce)||(Ie(Ce)?this.q=Ce:(this.fail("value must be quoted."),this.q=be),this.state=I)}sXMLDeclValue(){const Ce=this.captureTo([this.q,ut]);if(Ce===ut){this.state=Q,this.text="",this.fail("XML declaration is incomplete.");return}if(Ce===y)return;const Qe=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Xe=Qe;this.xmlDecl.version=Xe,/^1\.[0-9]+$/.test(Xe)?this.opt.forceXMLVersion||this.setXMLVersion(Xe):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Qe)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Qe;break;case"standalone":Qe!=="yes"&&Qe!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Qe;break}this.name="",this.state=k}sXMLDeclSeparator(){const Ce=this.getCodeNorm();if(Ce===ut){this.state=Q;return}r(Ce)||(this.fail("whitespace required."),this.unget()),this.state=X}sXMLDeclEnding(){var Ce;this.getCodeNorm()===st?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Ce=this.xmldeclHandler)===null||Ce===void 0||Ce.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=$):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Ce;const Qe=this.captureNameChars();if(Qe===y)return;const Xe=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Xe.ns=Object.create(null)),(Ce=this.openTagStartHandler)===null||Ce===void 0||Ce.call(this,Xe),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Qe){case st:this.openTag();break;case At:this.state=ne;break;default:r(Qe)||this.fail("disallowed character in tag name."),this.state=ee}}sOpenTagSlash(){this.getCode()===st?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ee)}sAttrib(){const Ce=this.skipSpaces();Ce!==y&&(a(Ce)?(this.unget(),this.state=se):Ce===st?this.openTag():Ce===At?this.state=ne:this.fail("disallowed character in attribute name."))}sAttribName(){const Ce=this.captureNameChars();Ce===Ze?this.state=Ae:r(Ce)?this.state=ge:Ce===st?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Ce!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Ce=this.skipSpaces();switch(Ce){case y:return;case Ze:this.state=Ae;break;default:this.fail("attribute without value."),this.text="",this.name="",Ce===st?this.openTag():a(Ce)?(this.unget(),this.state=se):(this.fail("disallowed character in attribute name."),this.state=ee)}}sAttribValue(){const Ce=this.getCodeNorm();Ie(Ce)?(this.q=Ce,this.state=Ve):r(Ce)||(this.fail("unquoted attribute value."),this.state=qe,this.unget())}sAttribValueQuoted(){const{q:Ce,chunk:Qe}=this;let{i:Xe}=this;for(;;)switch(this.getCode()){case Ce:this.pushAttrib(this.name,this.text+Qe.slice(Xe,this.prevI)),this.name=this.text="",this.q=null,this.state=Ge;return;case dt:this.text+=Qe.slice(Xe,this.prevI),this.state=te,this.entityReturnState=Ve;return;case K:case v:case V:this.text+=`${Qe.slice(Xe,this.prevI)} `,Xe=this.i;break;case et:this.text+=Qe.slice(Xe,this.prevI),this.fail("disallowed character.");return;case y:this.text+=Qe.slice(Xe);return}}sAttribValueClosed(){const Ce=this.getCodeNorm();r(Ce)?this.state=ee:Ce===st?this.openTag():Ce===At?this.state=ne:a(Ce)?(this.fail("no whitespace between attributes."),this.unget(),this.state=se):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Ce=this.captureTo(Et);switch(Ce){case dt:this.state=te,this.entityReturnState=qe;break;case et:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Ce===st?this.openTag():this.state=ee}}sCloseTag(){const Ce=this.captureNameChars();Ce===st?this.closeTag():r(Ce)?this.state=W:Ce!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case st:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Ce,forbiddenState:Qe}=this;const{chunk:Xe,textHandler:jt}=this;e:for(;;)switch(this.getCode()){case et:{if(this.state=re,jt!==void 0){const{text:kt}=this,Wt=Xe.slice(Ce,this.prevI);kt.length!==0?(jt(kt+Wt),this.text=""):Wt.length!==0&&jt(Wt)}Qe=Qt;break e}case dt:this.state=te,this.entityReturnState=$,jt!==void 0&&(this.text+=Xe.slice(Ce,this.prevI)),Qe=Qt;break e;case Nt:switch(Qe){case Qt:Qe=gr;break;case gr:Qe=Zt;break;case Zt:break;default:throw new Error("impossible state")}break;case st:Qe===Zt&&this.fail('the string "]]>" is disallowed in char data.'),Qe=Qt;break;case v:jt!==void 0&&(this.text+=`${Xe.slice(Ce,this.prevI)}
`),Ce=this.i,Qe=Qt;break;case y:jt!==void 0&&(this.text+=Xe.slice(Ce));break e;default:Qe=Qt}this.forbiddenState=Qe}handleTextOutsideRoot(){let{i:Ce}=this;const{chunk:Qe,textHandler:Xe}=this;let jt=!1;e:for(;;){const kt=this.getCode();switch(kt){case et:{if(this.state=re,Xe!==void 0){const{text:Wt}=this,Br=Qe.slice(Ce,this.prevI);Wt.length!==0?(Xe(Wt+Br),this.text=""):Br.length!==0&&Xe(Br)}break e}case dt:this.state=te,this.entityReturnState=$,Xe!==void 0&&(this.text+=Qe.slice(Ce,this.prevI)),jt=!0;break e;case v:Xe!==void 0&&(this.text+=`${Qe.slice(Ce,this.prevI)}
`),Ce=this.i;break;case y:Xe!==void 0&&(this.text+=Qe.slice(Ce));break e;default:r(kt)||(jt=!0)}}jt&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Ce,Qe){var Xe;const{prefix:jt,local:kt}=this.qname(Ce),Wt={name:Ce,prefix:jt,local:kt,value:Qe};if(this.attribList.push(Wt),(Xe=this.attributeHandler)===null||Xe===void 0||Xe.call(this,Wt),jt==="xmlns"){const Br=Qe.trim();this.currentXMLVersion==="1.0"&&Br===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[kt]=Br,lt(this,kt,Br)}else if(Ce==="xmlns"){const Br=Qe.trim();this.topNS[""]=Br,lt(this,"",Br)}}pushAttribPlain(Ce,Qe){var Xe;const jt={name:Ce,value:Qe};this.attribList.push(jt),(Xe=this.attributeHandler)===null||Xe===void 0||Xe.call(this,jt)}end(){var Ce,Qe;this.sawRoot||this.fail("document must contain a root element.");const{tags:Xe}=this;for(;Xe.length>0;){const kt=Xe.pop();this.fail(`unclosed tag: ${kt.name}`)}this.state!==b&&this.state!==$&&this.fail("unexpected end.");const{text:jt}=this;return jt.length!==0&&((Ce=this.textHandler)===null||Ce===void 0||Ce.call(this,jt),this.text=""),this._closed=!0,(Qe=this.endHandler)===null||Qe===void 0||Qe.call(this),this._init(),this}resolve(Ce){var Qe,Xe;let jt=this.topNS[Ce];if(jt!==void 0)return jt;const{tags:kt}=this;for(let Wt=kt.length-1;Wt>=0;Wt--)if(jt=kt[Wt].ns[Ce],jt!==void 0)return jt;return jt=this.ns[Ce],jt!==void 0?jt:(Xe=(Qe=this.opt).resolvePrefix)===null||Xe===void 0?void 0:Xe.call(Qe,Ce)}qname(Ce){const Qe=Ce.indexOf(":");if(Qe===-1)return{prefix:"",local:Ce};const Xe=Ce.slice(Qe+1),jt=Ce.slice(0,Qe);return(jt===""||Xe===""||Xe.includes(":"))&&this.fail(`malformed name: ${Ce}.`),{prefix:jt,local:Xe}}processAttribsNS(){var Ce;const{attribList:Qe}=this,Xe=this.tag;{const{prefix:Wt,local:Br}=this.qname(Xe.name);Xe.prefix=Wt,Xe.local=Br;const Yr=Xe.uri=(Ce=this.resolve(Wt))!==null&&Ce!==void 0?Ce:"";Wt!==""&&(Wt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Yr===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Wt)}.`),Xe.uri=Wt))}if(Qe.length===0)return;const{attributes:jt}=Xe,kt=new Set;for(const Wt of Qe){const{name:Br,prefix:Yr,local:Ua}=Wt;let xi,an;Yr===""?(xi=Br==="xmlns"?p:"",an=Br):(xi=this.resolve(Yr),xi===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Yr)}.`),xi=Yr),an=`{${xi}}${Ua}`),kt.has(an)&&this.fail(`duplicate attribute: ${an}.`),kt.add(an),Wt.uri=xi,jt[Br]=Wt}this.attribList=[]}processAttribsPlain(){const{attribList:Ce}=this,Qe=this.tag.attributes;for(const{name:Xe,value:jt}of Ce)Qe[Xe]!==void 0&&this.fail(`duplicate attribute: ${Xe}.`),Qe[Xe]=jt;this.attribList=[]}openTag(){var Ce;this.processAttribs();const{tags:Qe}=this,Xe=this.tag;Xe.isSelfClosing=!1,(Ce=this.openTagHandler)===null||Ce===void 0||Ce.call(this,Xe),Qe.push(Xe),this.state=$,this.name=""}openSelfClosingTag(){var Ce,Qe,Xe;this.processAttribs();const{tags:jt}=this,kt=this.tag;kt.isSelfClosing=!0,(Ce=this.openTagHandler)===null||Ce===void 0||Ce.call(this,kt),(Qe=this.closeTagHandler)===null||Qe===void 0||Qe.call(this,kt),(this.tag=(Xe=jt[jt.length-1])!==null&&Xe!==void 0?Xe:null)===null&&(this.closedRoot=!0),this.state=$,this.name=""}closeTag(){const{tags:Ce,name:Qe}=this;if(this.state=$,this.name="",Qe===""){this.fail("weird empty close tag."),this.text+="</>";return}const Xe=this.closeTagHandler;let jt=Ce.length;for(;jt-- >0;){const kt=this.tag=Ce.pop();if(this.topNS=kt.ns,Xe==null||Xe(kt),kt.name===Qe)break;this.fail("unexpected close tag.")}jt===0?this.closedRoot=!0:jt<0&&(this.fail(`unmatched closing tag: ${Qe}.`),this.text+=`</${Qe}>`)}parseEntity(Ce){if(Ce[0]!=="#"){const Xe=this.ENTITIES[Ce];return Xe!==void 0?Xe:(this.fail(this.isName(Ce)?"undefined entity.":"disallowed character in entity name."),`&${Ce};`)}let Qe=NaN;return Ce[1]==="x"&&/^#x[0-9a-f]+$/i.test(Ce)?Qe=parseInt(Ce.slice(2),16):/^#[0-9]+$/.test(Ce)&&(Qe=parseInt(Ce.slice(1),10)),this.isChar(Qe)?String.fromCodePoint(Qe):(this.fail("malformed character entity."),`&${Ce};`)}}return Ed.SaxesParser=Hn,Ed}var Fv={},j9;function Fbe(){if(j9)return Fv;j9=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.ParseError=void 0;let e=class extends Error{constructor(i,r){const n=i.saxParser;super(i.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}};return Fv.ParseError=e,Fv}var xd={},AO={},k9;function Lbe(){return k9||(k9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const s="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c=`${u}\\.${u}\\.${u}\\.${u}`,d="[a-fA-F0-9]{1,4}",f=`(${d}:${d}|${c})`,h=`((${d}:){6}${f}|::(${d}:){5}${f}|(${d})?::(${d}:){4}${f}|((${d}:){0,1}${d})?::(${d}:){3}${f}|((${d}:){0,2}${d})?::(${d}:){2}${f}|((${d}:){0,3}${d})?::${d}:${f}|((${d}:){0,4}${d})?::${f}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,p=`v[a-fA-F0-9]+\\.(${s}|${s}|":)+`,g=`\\[(${h}|${p})\\]`,m="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",b="[-󰀀-󿿽􀀀-􏿽]",T="[a-zA-Z0-9\\-._~ -퟿豈-﷏ﷰ-￯𐀀-🿽𠀀-𯿽𰀀-𿿽񀀀-񏿽񐀀-񟿽񠀀-񯿽񰀀-񿿽򀀀-򏿽򐀀-򟿽򠀀-򯿽򰀀-򿿽󀀀-󏿽󐀀-󟿽󡀀-󯿽]",R=`(${T}|${l}|${s}|[:@])*`,F=`(${R}|[\\/?])*`,D=`(${R}|${b}|[\\/?])*`,A=`(${R})+`,x=`(${R})*`,N="",j=`${A}(\\/${x})*`,H=`\\/(${A}(\\/${x})*)?`,M=`(\\/${x})*`,$=`(${T}|${l}|${s})*`,te=`(${g}|${c}|${$})`,J=`(\\/\\/${`(${`(${T}|${l}|${s}|:)*`}@)?${te}(:${m})?`}${M}|${H}|${j}|${N})`,fe=`^${y}:${J}(\\?${D})?(#${F})?$`;return new RegExp(fe,"u")}const i=t(),r=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var n;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(n=e.IriValidationStrategy||(e.IriValidationStrategy={}));function a(o,s=n.Strict){switch(s){case n.Strict:return i.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case n.Pragmatic:return r.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case n.None:return;default:return new Error(`Not supported validation strategy "${s}"`)}}e.validateIri=a}(AO)),AO}var B9;function Mbe(){return B9||(B9=1,function(e){var t=xd&&xd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=xd&&xd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Lbe(),e)}(xd)),xd}var q9;function jbe(){if(q9)return Td;q9=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.ParseType=Td.RdfXmlParser=void 0;const e=Ko(),t=oZ(),i=Xr(),r=Fbe(),n=yr(),a=Mbe();let o=class Ln extends i.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new n.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?a.IriValidationStrategy.Pragmatic:a.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const c=new i.PassThrough({readableObjectMode:!0});u.on("error",f=>d.emit("error",f)),u.on("data",f=>c.push(f)),u.on("end",()=>c.push(null));const d=c.pipe(new Ln(this.options));return d}_transform(u,c,d){try{this.saxParser.write(u)}catch(f){return d(f)}d()}newParseError(u){return new r.ParseError(this,u)}valueToUri(u,c){return this.uriToNamedNode((0,e.resolve)(u,c.baseIRI))}uriToNamedNode(u){const c=(0,a.validateIri)(u,this.iriValidationStrategy);if(c instanceof Error)throw this.newParseError(c.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!Ln.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=s.RESOURCE;if(c&&(c.hadChildren=!0,d=c.childrenParseType),c&&c.childrenStringTags){const h=u.name;let p="";for(const v in u.attributes)p+=` ${v}="${u.attributes[v].value}"`;const m=`<${`${h}${p}`}>`;c.childrenStringTags.push(m);const y={childrenStringTags:c.childrenStringTags};y.childrenStringEmitClosingTag=`</${h}>`,this.activeTagStack.push(y);return}const f={};c?(f.language=c.language,f.baseIRI=c.baseIRI):f.baseIRI=this.baseIRI,this.activeTagStack.push(f),d===s.RESOURCE?this.onTagResource(u,f,c,!c):this.onTagProperty(u,f,c)}onTagResource(u,c,d,f){c.childrenParseType=s.PROPERTY;let h=!0;if(u.uri===Ln.RDF){if(!f&&Ln.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":c.childrenParseType=s.RESOURCE;case"Description":h=!1}}const p=[],g=[];let m=null,y=!1,v=!1,b=null;for(const _ in u.attributes){const w=u.attributes[_];if(d&&w.uri===Ln.RDF)switch(w.local){case"about":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${m} where found.`);m=w.value;continue;case"ID":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${m} where found.`);this.validateNcname(w.value),m="#"+w.value,y=!0;continue;case"nodeID":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${m} where found.`);this.validateNcname(w.value),m=w.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":b=w.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(w.uri===Ln.XML){if(w.local==="lang"){c.language=w.value===""?null:w.value.toLowerCase();continue}else if(w.local==="base"){c.baseIRI=(0,e.resolve)(w.value,c.baseIRI);continue}}w.prefix!=="xml"&&w.prefix!=="xmlns"&&(w.prefix!==""||w.local!=="xmlns")&&w.uri&&(p.push(this.uriToNamedNode(w.uri+w.local)),g.push(w.value))}if(m!==null&&(c.subject=v?this.dataFactory.blankNode(m):this.valueToUri(m,c),y&&this.claimNodeId(c.subject)),c.subject||(c.subject=this.dataFactory.blankNode()),h){const _=this.uriToNamedNode(u.uri+u.local);this.emitTriple(c.subject,this.dataFactory.namedNode(Ln.RDF+"type"),_,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const _=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,_,d.reifiedStatementId),this.emitTriple(_,this.dataFactory.namedNode(Ln.RDF+"first"),c.subject,c.reifiedStatementId),d.childrenCollectionSubject=_,d.childrenCollectionPredicate=this.dataFactory.namedNode(Ln.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,c.subject,d.reifiedStatementId);for(let _=0;_<d.predicateSubPredicates.length;_++)this.emitTriple(c.subject,d.predicateSubPredicates[_],d.predicateSubObjects[_],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let _=0;_<p.length;_++){const w=this.dataFactory.literal(g[_],c.datatype||c.language);this.emitTriple(c.subject,p[_],w,d.reifiedStatementId)}b&&this.emitTriple(c.subject,this.dataFactory.namedNode(Ln.RDF+"type"),this.uriToNamedNode(b),null)}}onTagProperty(u,c,d){if(c.childrenParseType=s.RESOURCE,c.subject=d.subject,u.uri===Ln.RDF&&u.local==="li"?(d.listItemCounter||(d.listItemCounter=1),c.predicate=this.uriToNamedNode(u.uri+"_"+d.listItemCounter++)):c.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===Ln.RDF&&Ln.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);c.predicateSubPredicates=[],c.predicateSubObjects=[];let f=!1,h=!1,p=null,g=!0;const m=[],y=[];for(const v in u.attributes){const b=u.attributes[v];if(b.uri===Ln.RDF)switch(b.local){case"resource":if(p)throw this.newParseError(`Found both rdf:resource (${b.value}) and rdf:nodeID (${p}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${b.value})`);c.hadChildren=!0,p=b.value,g=!1;continue;case"datatype":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${b.value}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${b.value})`);c.datatype=this.valueToUri(b.value,c);continue;case"nodeID":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${b.value}).`);if(c.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${b.value}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${b.value})`);this.validateNcname(b.value),c.hadChildren=!0,p=b.value,g=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(h)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(c.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${c.datatype.value})`);if(p)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${p})`);if(b.value==="Resource"){f=!0,c.childrenParseType=s.PROPERTY;const _=this.dataFactory.blankNode();this.emitTriple(c.subject,c.predicate,_,c.reifiedStatementId),c.subject=_,c.predicate=null}else b.value==="Collection"?(f=!0,c.hadChildren=!0,c.childrenCollectionSubject=c.subject,c.childrenCollectionPredicate=c.predicate,g=!1):b.value==="Literal"&&(f=!0,c.childrenTagsToString=!0,c.childrenStringTags=[]);continue;case"ID":this.validateNcname(b.value),c.reifiedStatementId=this.valueToUri("#"+b.value,c),this.claimNodeId(c.reifiedStatementId);continue}else if(b.uri===Ln.XML&&b.local==="lang"){c.language=b.value===""?null:b.value.toLowerCase();continue}if(b.prefix!=="xml"&&b.prefix!=="xmlns"&&(b.prefix!==""||b.local!=="xmlns")&&b.uri){if(f||c.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${b.value}`);c.hadChildren=!0,h=!0,m.push(this.uriToNamedNode(b.uri+b.local)),y.push(this.dataFactory.literal(b.value,c.datatype||c.language))}}if(p!==null){const v=c.subject;c.subject=g?this.dataFactory.blankNode(p):this.valueToUri(p,c),this.emitTriple(v,c.predicate,c.subject,c.reifiedStatementId);for(let b=0;b<m.length;b++)this.emitTriple(c.subject,m[b],y[b],null);c.predicateEmitted=!0}else g&&(c.predicateSubPredicates=m,c.predicateSubObjects=y,c.predicateEmitted=!1)}emitTriple(u,c,d,f){this.push(this.dataFactory.quad(u,c,d,this.defaultGraph)),f&&(this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Ln.RDF+"type"),this.dataFactory.namedNode(Ln.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Ln.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Ln.RDF+"predicate"),c,this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Ln.RDF+"object"),d,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;c&&(c.childrenStringTags?c.childrenStringTags.push(u):c.predicate&&(c.text=u))}onCloseTag(){const u=this.activeTagStack.pop();if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(Ln.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(Ln.RDF+"nil"),u.reifiedStatementId);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==s.PROPERTY)this.emitTriple(u.subject,u.predicate,this.dataFactory.literal(u.text||"",u.datatype||u.language),u.reifiedStatementId);else if(!u.predicateEmitted){const c=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,c,u.reifiedStatementId);for(let d=0;d<u.predicateSubPredicates.length;d++)this.emitTriple(c,u.predicateSubPredicates[d],u.predicateSubObjects[d],null)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(c,d,f)=>(this.saxParser.ENTITIES[d]=f,""))}};Td.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var s;return function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(s||(Td.ParseType=s={})),Td}var V9;function kbe(){return V9||(V9=1,function(e){var t=Ad&&Ad.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ad&&Ad.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(jbe(),e)}(Ad)),Ad}var U9;function Bbe(){if(U9)return Nv;U9=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.ActorRdfParseRdfXml=void 0;const e=q0(),t=kbe();let i=class extends e.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n){var o;n.data.on("error",s=>a.emit("error",s));const a=n.data.pipe(new t.RdfXmlParser({baseIRI:(o=n.metadata)==null?void 0:o.baseIRI}));return{data:a,metadata:{triples:!0}}}};return Nv.ActorRdfParseRdfXml=i,Nv}var H9;function sZ(){return H9||(H9=1,function(e){var t=Sd&&Sd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Sd&&Sd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Bbe(),e)}(Sd)),Sd}var Rd={},Lv={},Od={},TO={},$9;function qbe(){return $9||($9=1,Object.defineProperty(TO,"__esModule",{value:!0})),TO}var EO={},Q9;function Vbe(){return Q9||(Q9=1,Object.defineProperty(EO,"__esModule",{value:!0})),EO}var xO={},z9;function Ube(){return z9||(z9=1,Object.defineProperty(xO,"__esModule",{value:!0})),xO}var Mv={},Po={},Io={},RO={},Co={},KA={},G9;function Hbe(){return G9||(G9=1,Object.defineProperty(KA,"__esModule",{value:!0}),KA.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(e){return e.charCodeAt(0)}))),KA}var JA={},W9;function $be(){return W9||(W9=1,Object.defineProperty(JA,"__esModule",{value:!0}),JA.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(e){return e.charCodeAt(0)}))),JA}var OO={},K9;function J9(){return K9||(K9=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var i=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(a){var o="";return a>65535&&(a-=65536,o+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),o+=String.fromCharCode(a),o};function r(a){var o;return a>=55296&&a<=57343||a>1114111?65533:(o=i.get(a))!==null&&o!==void 0?o:a}e.replaceCodePoint=r;function n(a){return(0,e.fromCodePoint)(r(a))}e.default=n}(OO)),OO}var X9;function d0(){return X9||(X9=1,function(e){var t=Co&&Co.__createBinding||(Object.create?function(x,N,j,H){H===void 0&&(H=j);var M=Object.getOwnPropertyDescriptor(N,j);(!M||("get"in M?!N.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return N[j]}}),Object.defineProperty(x,H,M)}:function(x,N,j,H){H===void 0&&(H=j),x[H]=N[j]}),i=Co&&Co.__setModuleDefault||(Object.create?function(x,N){Object.defineProperty(x,"default",{enumerable:!0,value:N})}:function(x,N){x.default=N}),r=Co&&Co.__importStar||function(x){if(x&&x.__esModule)return x;var N={};if(x!=null)for(var j in x)j!=="default"&&Object.prototype.hasOwnProperty.call(x,j)&&t(N,x,j);return i(N,x),N},n=Co&&Co.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var a=n(Hbe());e.htmlDecodeTree=a.default;var o=n($be());e.xmlDecodeTree=o.default;var s=r(J9());e.decodeCodePoint=s.default;var l=J9();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var u;(function(x){x[x.NUM=35]="NUM",x[x.SEMI=59]="SEMI",x[x.EQUALS=61]="EQUALS",x[x.ZERO=48]="ZERO",x[x.NINE=57]="NINE",x[x.LOWER_A=97]="LOWER_A",x[x.LOWER_F=102]="LOWER_F",x[x.LOWER_X=120]="LOWER_X",x[x.LOWER_Z=122]="LOWER_Z",x[x.UPPER_A=65]="UPPER_A",x[x.UPPER_F=70]="UPPER_F",x[x.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var c=32,d;(function(x){x[x.VALUE_LENGTH=49152]="VALUE_LENGTH",x[x.BRANCH_LENGTH=16256]="BRANCH_LENGTH",x[x.JUMP_TABLE=127]="JUMP_TABLE"})(d=e.BinTrieFlags||(e.BinTrieFlags={}));function f(x){return x>=u.ZERO&&x<=u.NINE}function h(x){return x>=u.UPPER_A&&x<=u.UPPER_F||x>=u.LOWER_A&&x<=u.LOWER_F}function p(x){return x>=u.UPPER_A&&x<=u.UPPER_Z||x>=u.LOWER_A&&x<=u.LOWER_Z||f(x)}function g(x){return x===u.EQUALS||p(x)}var m;(function(x){x[x.EntityStart=0]="EntityStart",x[x.NumericStart=1]="NumericStart",x[x.NumericDecimal=2]="NumericDecimal",x[x.NumericHex=3]="NumericHex",x[x.NamedEntity=4]="NamedEntity"})(m||(m={}));var y;(function(x){x[x.Legacy=0]="Legacy",x[x.Strict=1]="Strict",x[x.Attribute=2]="Attribute"})(y=e.DecodingMode||(e.DecodingMode={}));var v=function(){function x(N,j,H){this.decodeTree=N,this.emitCodePoint=j,this.errors=H,this.state=m.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return x.prototype.startEntity=function(N){this.decodeMode=N,this.state=m.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},x.prototype.write=function(N,j){switch(this.state){case m.EntityStart:return N.charCodeAt(j)===u.NUM?(this.state=m.NumericStart,this.consumed+=1,this.stateNumericStart(N,j+1)):(this.state=m.NamedEntity,this.stateNamedEntity(N,j));case m.NumericStart:return this.stateNumericStart(N,j);case m.NumericDecimal:return this.stateNumericDecimal(N,j);case m.NumericHex:return this.stateNumericHex(N,j);case m.NamedEntity:return this.stateNamedEntity(N,j)}},x.prototype.stateNumericStart=function(N,j){return j>=N.length?-1:(N.charCodeAt(j)|c)===u.LOWER_X?(this.state=m.NumericHex,this.consumed+=1,this.stateNumericHex(N,j+1)):(this.state=m.NumericDecimal,this.stateNumericDecimal(N,j))},x.prototype.addToNumericResult=function(N,j,H,M){if(j!==H){var $=H-j;this.result=this.result*Math.pow(M,$)+parseInt(N.substr(j,$),M),this.consumed+=$}},x.prototype.stateNumericHex=function(N,j){for(var H=j;j<N.length;){var M=N.charCodeAt(j);if(f(M)||h(M))j+=1;else return this.addToNumericResult(N,H,j,16),this.emitNumericEntity(M,3)}return this.addToNumericResult(N,H,j,16),-1},x.prototype.stateNumericDecimal=function(N,j){for(var H=j;j<N.length;){var M=N.charCodeAt(j);if(f(M))j+=1;else return this.addToNumericResult(N,H,j,10),this.emitNumericEntity(M,2)}return this.addToNumericResult(N,H,j,10),-1},x.prototype.emitNumericEntity=function(N,j){var H;if(this.consumed<=j)return(H=this.errors)===null||H===void 0||H.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(N===u.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,s.replaceCodePoint)(this.result),this.consumed),this.errors&&(N!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},x.prototype.stateNamedEntity=function(N,j){for(var H=this.decodeTree,M=H[this.treeIndex],$=(M&d.VALUE_LENGTH)>>14;j<N.length;j++,this.excess++){var te=N.charCodeAt(j);if(this.treeIndex=_(H,M,this.treeIndex+Math.max(1,$),te),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&($===0||g(te))?0:this.emitNotTerminatedNamedEntity();if(M=H[this.treeIndex],$=(M&d.VALUE_LENGTH)>>14,$!==0){if(te===u.SEMI)return this.emitNamedEntityData(this.treeIndex,$,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},x.prototype.emitNotTerminatedNamedEntity=function(){var N,j=this,H=j.result,M=j.decodeTree,$=(M[H]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(H,$,this.consumed),(N=this.errors)===null||N===void 0||N.missingSemicolonAfterCharacterReference(),this.consumed},x.prototype.emitNamedEntityData=function(N,j,H){var M=this.decodeTree;return this.emitCodePoint(j===1?M[N]&~d.VALUE_LENGTH:M[N+1],H),j===3&&this.emitCodePoint(M[N+2],H),H},x.prototype.end=function(){var N;switch(this.state){case m.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case m.NumericDecimal:return this.emitNumericEntity(0,2);case m.NumericHex:return this.emitNumericEntity(0,3);case m.NumericStart:return(N=this.errors)===null||N===void 0||N.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case m.EntityStart:return 0}},x}();e.EntityDecoder=v;function b(x){var N="",j=new v(x,function(H){return N+=(0,s.fromCodePoint)(H)});return function(M,$){for(var te=0,re=0;(re=M.indexOf("&",re))>=0;){N+=M.slice(te,re),j.startEntity($);var oe=j.write(M,re+1);if(oe<0){te=re+j.end();break}te=re+oe,re=oe===0?te+1:te}var J=N+M.slice(te);return N="",J}}function _(x,N,j,H){var M=(N&d.BRANCH_LENGTH)>>7,$=N&d.JUMP_TABLE;if(M===0)return $!==0&&H===$?j:-1;if($){var te=H-$;return te<0||te>=M?-1:x[j+te]-1}for(var re=j,oe=re+M-1;re<=oe;){var J=re+oe>>>1,fe=x[J];if(fe<H)re=J+1;else if(fe>H)oe=J-1;else return x[J+M]}return-1}e.determineBranch=_;var w=b(a.default),T=b(o.default);function R(x,N){return N===void 0&&(N=y.Legacy),w(x,N)}e.decodeHTML=R;function F(x){return w(x,y.Attribute)}e.decodeHTMLAttribute=F;function D(x){return w(x,y.Strict)}e.decodeHTMLStrict=D;function A(x){return T(x,y.Strict)}e.decodeXML=A}(Co)),Co}var Y9;function uZ(){return Y9||(Y9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=d0(),i;(function(f){f[f.Tab=9]="Tab",f[f.NewLine=10]="NewLine",f[f.FormFeed=12]="FormFeed",f[f.CarriageReturn=13]="CarriageReturn",f[f.Space=32]="Space",f[f.ExclamationMark=33]="ExclamationMark",f[f.Number=35]="Number",f[f.Amp=38]="Amp",f[f.SingleQuote=39]="SingleQuote",f[f.DoubleQuote=34]="DoubleQuote",f[f.Dash=45]="Dash",f[f.Slash=47]="Slash",f[f.Zero=48]="Zero",f[f.Nine=57]="Nine",f[f.Semi=59]="Semi",f[f.Lt=60]="Lt",f[f.Eq=61]="Eq",f[f.Gt=62]="Gt",f[f.Questionmark=63]="Questionmark",f[f.UpperA=65]="UpperA",f[f.LowerA=97]="LowerA",f[f.UpperF=70]="UpperF",f[f.LowerF=102]="LowerF",f[f.UpperZ=90]="UpperZ",f[f.LowerZ=122]="LowerZ",f[f.LowerX=120]="LowerX",f[f.OpeningSquareBracket=91]="OpeningSquareBracket"})(i||(i={}));var r;(function(f){f[f.Text=1]="Text",f[f.BeforeTagName=2]="BeforeTagName",f[f.InTagName=3]="InTagName",f[f.InSelfClosingTag=4]="InSelfClosingTag",f[f.BeforeClosingTagName=5]="BeforeClosingTagName",f[f.InClosingTagName=6]="InClosingTagName",f[f.AfterClosingTagName=7]="AfterClosingTagName",f[f.BeforeAttributeName=8]="BeforeAttributeName",f[f.InAttributeName=9]="InAttributeName",f[f.AfterAttributeName=10]="AfterAttributeName",f[f.BeforeAttributeValue=11]="BeforeAttributeValue",f[f.InAttributeValueDq=12]="InAttributeValueDq",f[f.InAttributeValueSq=13]="InAttributeValueSq",f[f.InAttributeValueNq=14]="InAttributeValueNq",f[f.BeforeDeclaration=15]="BeforeDeclaration",f[f.InDeclaration=16]="InDeclaration",f[f.InProcessingInstruction=17]="InProcessingInstruction",f[f.BeforeComment=18]="BeforeComment",f[f.CDATASequence=19]="CDATASequence",f[f.InSpecialComment=20]="InSpecialComment",f[f.InCommentLike=21]="InCommentLike",f[f.BeforeSpecialS=22]="BeforeSpecialS",f[f.SpecialStartSequence=23]="SpecialStartSequence",f[f.InSpecialTag=24]="InSpecialTag",f[f.BeforeEntity=25]="BeforeEntity",f[f.BeforeNumericEntity=26]="BeforeNumericEntity",f[f.InNamedEntity=27]="InNamedEntity",f[f.InNumericEntity=28]="InNumericEntity",f[f.InHexEntity=29]="InHexEntity"})(r||(r={}));function n(f){return f===i.Space||f===i.NewLine||f===i.Tab||f===i.FormFeed||f===i.CarriageReturn}function a(f){return f===i.Slash||f===i.Gt||n(f)}function o(f){return f>=i.Zero&&f<=i.Nine}function s(f){return f>=i.LowerA&&f<=i.LowerZ||f>=i.UpperA&&f<=i.UpperZ}function l(f){return f>=i.UpperA&&f<=i.UpperF||f>=i.LowerA&&f<=i.LowerF}var u;(function(f){f[f.NoValue=0]="NoValue",f[f.Unquoted=1]="Unquoted",f[f.Single=2]="Single",f[f.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function f(h,p){var g=h.xmlMode,m=g===void 0?!1:g,y=h.decodeEntities,v=y===void 0?!0:y;this.cbs=p,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=m,this.decodeEntities=v,this.entityTrie=m?t.xmlDecodeTree:t.htmlDecodeTree}return f.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},f.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},f.prototype.end=function(){this.running&&this.finish()},f.prototype.pause=function(){this.running=!1},f.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},f.prototype.getIndex=function(){return this.index},f.prototype.getSectionStart=function(){return this.sectionStart},f.prototype.stateText=function(h){h===i.Lt||!this.decodeEntities&&this.fastForwardTo(i.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===i.Amp&&(this.state=r.BeforeEntity)},f.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,g=p?a(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!g)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(h)},f.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===i.Gt||n(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var g=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=g}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&h===i.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(i.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===i.Lt)},f.prototype.stateCDATASequence=function(h){h===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(h))},f.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},f.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},f.prototype.isTagStartChar=function(h){return this.xmlMode?!a(h):s(h)},f.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=r.SpecialStartSequence},f.prototype.stateBeforeTagName=function(h){if(h===i.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===i.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&p===c.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else h===i.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(h))},f.prototype.stateInTagName=function(h){a(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h))},f.prototype.stateBeforeClosingTagName=function(h){n(h)||(h===i.Gt?this.state=r.Text:(this.state=this.isTagStartChar(h)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},f.prototype.stateInClosingTagName=function(h){(h===i.Gt||n(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(h))},f.prototype.stateAfterClosingTagName=function(h){(h===i.Gt||this.fastForwardTo(i.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeAttributeName=function(h){h===i.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===i.Slash?this.state=r.InSelfClosingTag:n(h)||(this.state=r.InAttributeName,this.sectionStart=this.index)},f.prototype.stateInSelfClosingTag=function(h){h===i.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(h)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h))},f.prototype.stateInAttributeName=function(h){(h===i.Eq||a(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(h))},f.prototype.stateAfterAttributeName=function(h){h===i.Eq?this.state=r.BeforeAttributeValue:h===i.Slash||h===i.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h)):n(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},f.prototype.stateBeforeAttributeValue=function(h){h===i.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):h===i.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(h)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},f.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===i.DoubleQuote?u.Double:u.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&h===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},f.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,i.DoubleQuote)},f.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,i.SingleQuote)},f.prototype.stateInAttributeValueNoQuotes=function(h){n(h)||h===i.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},f.prototype.stateBeforeDeclaration=function(h){h===i.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=h===i.Dash?r.BeforeComment:r.InDeclaration},f.prototype.stateInDeclaration=function(h){(h===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateInProcessingInstruction=function(h){(h===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeComment=function(h){h===i.Dash?(this.state=r.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},f.prototype.stateInSpecialComment=function(h){(h===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):p===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(h))},f.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===i.Number?this.state=r.BeforeNumericEntity:h===i.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(h))},f.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var g=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==i.Semi)this.trieIndex+=g;else{var m=this.index-this.entityExcess+1;m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.entityResult=this.trieIndex,this.trieIndex+=g,this.entityExcess=0,this.sectionStart=this.index+1,g===0&&this.emitNamedEntity()}}},f.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},f.prototype.stateBeforeNumericEntity=function(h){(h|32)===i.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(h))},f.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,g=p+2+ +(this.state===r.InHexEntity);g!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},f.prototype.stateInNumericEntity=function(h){h===i.Semi?this.emitNumericEntity(!0):o(h)?(this.entityResult=this.entityResult*10+(h-i.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.stateInHexEntity=function(h){h===i.Semi?this.emitNumericEntity(!0):o(h)?(this.entityResult=this.entityResult*16+(h-i.Zero),this.entityExcess++):l(h)?(this.entityResult=this.entityResult*16+((h|32)-i.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},f.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},f.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},f.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(h);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case r.InSpecialTag:{this.stateInSpecialTag(h);break}case r.CDATASequence:{this.stateCDATASequence(h);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case r.InAttributeName:{this.stateInAttributeName(h);break}case r.InCommentLike:{this.stateInCommentLike(h);break}case r.InSpecialComment:{this.stateInSpecialComment(h);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case r.InTagName:{this.stateInTagName(h);break}case r.InClosingTagName:{this.stateInClosingTagName(h);break}case r.BeforeTagName:{this.stateBeforeTagName(h);break}case r.AfterAttributeName:{this.stateAfterAttributeName(h);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case r.InDeclaration:{this.stateInDeclaration(h);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case r.BeforeComment:{this.stateBeforeComment(h);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case r.InNamedEntity:{this.stateInNamedEntity(h);break}case r.BeforeEntity:{this.stateBeforeEntity(h);break}case r.InHexEntity:{this.stateInHexEntity(h);break}case r.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},f.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},f.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},f.prototype.emitPartial=function(h,p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},f.prototype.emitCodePoint=function(h){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},f}();e.default=d}(RO)),RO}var Z9;function ek(){if(Z9)return Io;Z9=1;var e=Io&&Io.__createBinding||(Object.create?function(m,y,v,b){b===void 0&&(b=v);var _=Object.getOwnPropertyDescriptor(y,v);(!_||("get"in _?!y.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(m,b,_)}:function(m,y,v,b){b===void 0&&(b=v),m[b]=y[v]}),t=Io&&Io.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),i=Io&&Io.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&e(y,m,v);return t(y,m),y};Object.defineProperty(Io,"__esModule",{value:!0}),Io.Parser=void 0;var r=i(uZ()),n=d0(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,g=function(){function m(y,v){v===void 0&&(v={});var b,_,w,T,R;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(b=v.lowerCaseTags)!==null&&b!==void 0?b:!v.xmlMode,this.lowerCaseAttributeNames=(_=v.lowerCaseAttributeNames)!==null&&_!==void 0?_:!v.xmlMode,this.tokenizer=new((w=v.Tokenizer)!==null&&w!==void 0?w:r.default)(this.options,this),(R=(T=this.cbs).onparserinit)===null||R===void 0||R.call(T,this)}return m.prototype.ontext=function(y,v){var b,_,w=this.getSlice(y,v);this.endIndex=v-1,(_=(b=this.cbs).ontext)===null||_===void 0||_.call(b,w),this.startIndex=v},m.prototype.ontextentity=function(y){var v,b,_=this.tokenizer.getSectionStart();this.endIndex=_-1,(b=(v=this.cbs).ontext)===null||b===void 0||b.call(v,(0,n.fromCodePoint)(y)),this.startIndex=_},m.prototype.isVoidElement=function(y){return!this.options.xmlMode&&d.has(y)},m.prototype.onopentagname=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},m.prototype.emitOpenTag=function(y){var v,b,_,w;this.openTagStart=this.startIndex,this.tagname=y;var T=!this.options.xmlMode&&c.get(y);if(T)for(;this.stack.length>0&&T.has(this.stack[this.stack.length-1]);){var R=this.stack.pop();(b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,R,!0)}this.isVoidElement(y)||(this.stack.push(y),f.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(w=(_=this.cbs).onopentagname)===null||w===void 0||w.call(_,y),this.cbs.onopentag&&(this.attribs={})},m.prototype.endOpenTag=function(y){var v,b;this.startIndex=this.openTagStart,this.attribs&&((b=(v=this.cbs).onopentag)===null||b===void 0||b.call(v,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},m.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},m.prototype.onclosetag=function(y,v){var b,_,w,T,R,F;this.endIndex=v;var D=this.getSlice(y,v);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(f.has(D)||h.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((_=(b=this.cbs).onopentagname)===null||_===void 0||_.call(b,"br"),(T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,"br",{},!0),(F=(R=this.cbs).onclosetag)===null||F===void 0||F.call(R,"br",!1));else{var A=this.stack.lastIndexOf(D);if(A!==-1)if(this.cbs.onclosetag)for(var x=this.stack.length-A;x--;)this.cbs.onclosetag(this.stack.pop(),x!==0);else this.stack.length=A;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},m.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},m.prototype.closeCurrentTag=function(y){var v,b,_=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===_&&((b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,_,!y),this.stack.pop())},m.prototype.onattribname=function(y,v){this.startIndex=y;var b=this.getSlice(y,v);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},m.prototype.onattribdata=function(y,v){this.attribvalue+=this.getSlice(y,v)},m.prototype.onattribentity=function(y){this.attribvalue+=(0,n.fromCodePoint)(y)},m.prototype.onattribend=function(y,v){var b,_;this.endIndex=v,(_=(b=this.cbs).onattribute)===null||_===void 0||_.call(b,this.attribname,this.attribvalue,y===r.QuoteType.Double?'"':y===r.QuoteType.Single?"'":y===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},m.prototype.getInstructionName=function(y){var v=y.search(p),b=v<0?y:y.substr(0,v);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},m.prototype.ondeclaration=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);if(this.cbs.onprocessinginstruction){var _=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(_),"!".concat(b))}this.startIndex=v+1},m.prototype.onprocessinginstruction=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);if(this.cbs.onprocessinginstruction){var _=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(_),"?".concat(b))}this.startIndex=v+1},m.prototype.oncomment=function(y,v,b){var _,w,T,R;this.endIndex=v,(w=(_=this.cbs).oncomment)===null||w===void 0||w.call(_,this.getSlice(y,v-b)),(R=(T=this.cbs).oncommentend)===null||R===void 0||R.call(T),this.startIndex=v+1},m.prototype.oncdata=function(y,v,b){var _,w,T,R,F,D,A,x,N,j;this.endIndex=v;var H=this.getSlice(y,v-b);this.options.xmlMode||this.options.recognizeCDATA?((w=(_=this.cbs).oncdatastart)===null||w===void 0||w.call(_),(R=(T=this.cbs).ontext)===null||R===void 0||R.call(T,H),(D=(F=this.cbs).oncdataend)===null||D===void 0||D.call(F)):((x=(A=this.cbs).oncomment)===null||x===void 0||x.call(A,"[CDATA[".concat(H,"]]")),(j=(N=this.cbs).oncommentend)===null||j===void 0||j.call(N)),this.startIndex=v+1},m.prototype.onend=function(){var y,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b],!0));}(v=(y=this.cbs).onend)===null||v===void 0||v.call(y)},m.prototype.reset=function(){var y,v,b,_;(v=(y=this.cbs).onreset)===null||v===void 0||v.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(_=(b=this.cbs).onparserinit)===null||_===void 0||_.call(b,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},m.prototype.parseComplete=function(y){this.reset(),this.end(y)},m.prototype.getSlice=function(y,v){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(y-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,v-this.bufferOffset);return b},m.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},m.prototype.write=function(y){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},m.prototype.end=function(y){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},m.prototype.pause=function(){this.tokenizer.pause()},m.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},m.prototype.parseChunk=function(y){this.write(y)},m.prototype.done=function(y){this.end(y)},m}();return Io.Parser=g,Io}var Pd={},PO={},tk;function V0(){return tk||(tk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function i(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=i,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(PO)),PO}var Er={},rk;function nk(){if(rk)return Er;rk=1;var e=Er&&Er.__extends||function(){var w=function(T,R){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,D){F.__proto__=D}||function(F,D){for(var A in D)Object.prototype.hasOwnProperty.call(D,A)&&(F[A]=D[A])},w(T,R)};return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");w(T,R);function F(){this.constructor=T}T.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}}(),t=Er&&Er.__assign||function(){return t=Object.assign||function(w){for(var T,R=1,F=arguments.length;R<F;R++){T=arguments[R];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(w[D]=T[D])}return w},t.apply(this,arguments)};Object.defineProperty(Er,"__esModule",{value:!0}),Er.cloneNode=Er.hasChildren=Er.isDocument=Er.isDirective=Er.isComment=Er.isText=Er.isCDATA=Er.isTag=Er.Element=Er.Document=Er.CDATA=Er.NodeWithChildren=Er.ProcessingInstruction=Er.Comment=Er.Text=Er.DataNode=Er.Node=void 0;var i=V0(),r=function(){function w(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(w.prototype,"parentNode",{get:function(){return this.parent},set:function(T){this.parent=T},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"previousSibling",{get:function(){return this.prev},set:function(T){this.prev=T},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"nextSibling",{get:function(){return this.next},set:function(T){this.next=T},enumerable:!1,configurable:!0}),w.prototype.cloneNode=function(T){return T===void 0&&(T=!1),b(this,T)},w}();Er.Node=r;var n=function(w){e(T,w);function T(R){var F=w.call(this)||this;return F.data=R,F}return Object.defineProperty(T.prototype,"nodeValue",{get:function(){return this.data},set:function(R){this.data=R},enumerable:!1,configurable:!0}),T}(r);Er.DataNode=n;var a=function(w){e(T,w);function T(){var R=w!==null&&w.apply(this,arguments)||this;return R.type=i.ElementType.Text,R}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),T}(n);Er.Text=a;var o=function(w){e(T,w);function T(){var R=w!==null&&w.apply(this,arguments)||this;return R.type=i.ElementType.Comment,R}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),T}(n);Er.Comment=o;var s=function(w){e(T,w);function T(R,F){var D=w.call(this,F)||this;return D.name=R,D.type=i.ElementType.Directive,D}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),T}(n);Er.ProcessingInstruction=s;var l=function(w){e(T,w);function T(R){var F=w.call(this)||this;return F.children=R,F}return Object.defineProperty(T.prototype,"firstChild",{get:function(){var R;return(R=this.children[0])!==null&&R!==void 0?R:null},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"childNodes",{get:function(){return this.children},set:function(R){this.children=R},enumerable:!1,configurable:!0}),T}(r);Er.NodeWithChildren=l;var u=function(w){e(T,w);function T(){var R=w!==null&&w.apply(this,arguments)||this;return R.type=i.ElementType.CDATA,R}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),T}(l);Er.CDATA=u;var c=function(w){e(T,w);function T(){var R=w!==null&&w.apply(this,arguments)||this;return R.type=i.ElementType.Root,R}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),T}(l);Er.Document=c;var d=function(w){e(T,w);function T(R,F,D,A){D===void 0&&(D=[]),A===void 0&&(A=R==="script"?i.ElementType.Script:R==="style"?i.ElementType.Style:i.ElementType.Tag);var x=w.call(this,D)||this;return x.name=R,x.attribs=F,x.type=A,x}return Object.defineProperty(T.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tagName",{get:function(){return this.name},set:function(R){this.name=R},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"attributes",{get:function(){var R=this;return Object.keys(this.attribs).map(function(F){var D,A;return{name:F,value:R.attribs[F],namespace:(D=R["x-attribsNamespace"])===null||D===void 0?void 0:D[F],prefix:(A=R["x-attribsPrefix"])===null||A===void 0?void 0:A[F]}})},enumerable:!1,configurable:!0}),T}(l);Er.Element=d;function f(w){return(0,i.isTag)(w)}Er.isTag=f;function h(w){return w.type===i.ElementType.CDATA}Er.isCDATA=h;function p(w){return w.type===i.ElementType.Text}Er.isText=p;function g(w){return w.type===i.ElementType.Comment}Er.isComment=g;function m(w){return w.type===i.ElementType.Directive}Er.isDirective=m;function y(w){return w.type===i.ElementType.Root}Er.isDocument=y;function v(w){return Object.prototype.hasOwnProperty.call(w,"children")}Er.hasChildren=v;function b(w,T){T===void 0&&(T=!1);var R;if(p(w))R=new a(w.data);else if(g(w))R=new o(w.data);else if(f(w)){var F=T?_(w.children):[],D=new d(w.name,t({},w.attribs),F);F.forEach(function(j){return j.parent=D}),w.namespace!=null&&(D.namespace=w.namespace),w["x-attribsNamespace"]&&(D["x-attribsNamespace"]=t({},w["x-attribsNamespace"])),w["x-attribsPrefix"]&&(D["x-attribsPrefix"]=t({},w["x-attribsPrefix"])),R=D}else if(h(w)){var F=T?_(w.children):[],A=new u(F);F.forEach(function(H){return H.parent=A}),R=A}else if(y(w)){var F=T?_(w.children):[],x=new c(F);F.forEach(function(H){return H.parent=x}),w["x-mode"]&&(x["x-mode"]=w["x-mode"]),R=x}else if(m(w)){var N=new s(w.name,w.data);w["x-name"]!=null&&(N["x-name"]=w["x-name"],N["x-publicId"]=w["x-publicId"],N["x-systemId"]=w["x-systemId"]),R=N}else throw new Error("Not implemented yet: ".concat(w.type));return R.startIndex=w.startIndex,R.endIndex=w.endIndex,w.sourceCodeLocation!=null&&(R.sourceCodeLocation=w.sourceCodeLocation),R}Er.cloneNode=b;function _(w){for(var T=w.map(function(F){return b(F,!0)}),R=1;R<T.length;R++)T[R].prev=T[R-1],T[R-1].next=T[R];return T}return Er}var ik;function Ts(){return ik||(ik=1,function(e){var t=Pd&&Pd.__createBinding||(Object.create?function(s,l,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,c,d)}:function(s,l,u,c){c===void 0&&(c=u),s[c]=l[u]}),i=Pd&&Pd.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=V0(),n=nk();i(nk(),e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function s(l,u,c){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=a),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??a,this.elementCB=c??null}return s.prototype.onparserinit=function(l){this.parser=l},s.prototype.onreset=function(){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(l){this.handleCallback(l)},s.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},s.prototype.onopentag=function(l,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,d=new n.Element(l,u,void 0,c);this.addNode(d),this.tagStack.push(d)},s.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new n.Text(l);this.addNode(c),this.lastNode=c}},s.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new n.Comment(l);this.addNode(u),this.lastNode=u},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var l=new n.Text(""),u=new n.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(l,u){var c=new n.ProcessingInstruction(l,u);this.addNode(c)},s.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},s.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},s}();e.DomHandler=o,e.default=o}(Pd)),Pd}var Id={},cs={},Da={},IO={},Ws={},XA={},ak;function Qbe(){if(ak)return XA;ak=1,Object.defineProperty(XA,"__esModule",{value:!0});function e(t){for(var i=1;i<t.length;i++)t[i][0]+=t[i-1][0]+1;return t}return XA.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),XA}var CO={},ok;function hI(){return ok||(ok=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(n,a){return n.codePointAt(a)}:function(n,a){return(n.charCodeAt(a)&64512)===55296?(n.charCodeAt(a)-55296)*1024+n.charCodeAt(a+1)-56320+65536:n.charCodeAt(a)};function i(n){for(var a="",o=0,s;(s=e.xmlReplacer.exec(n))!==null;){var l=s.index,u=n.charCodeAt(l),c=t.get(u);c!==void 0?(a+=n.substring(o,l)+c,o=l+1):(a+="".concat(n.substring(o,l),"&#x").concat((0,e.getCodePoint)(n,l).toString(16),";"),o=e.xmlReplacer.lastIndex+=+((u&64512)===55296))}return a+n.substr(o)}e.encodeXML=i,e.escape=i;function r(n,a){return function(s){for(var l,u=0,c="";l=n.exec(s);)u!==l.index&&(c+=s.substring(u,l.index)),c+=a.get(l[0].charCodeAt(0)),u=l.index+1;return c+s.substring(u)}}e.escapeUTF8=r(/[&<>'"]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(CO)),CO}var sk;function uk(){if(sk)return Ws;sk=1;var e=Ws&&Ws.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.encodeNonAsciiHTML=Ws.encodeHTML=void 0;var t=e(Qbe()),i=hI(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function n(s){return o(r,s)}Ws.encodeHTML=n;function a(s){return o(i.xmlReplacer,s)}Ws.encodeNonAsciiHTML=a;function o(s,l){for(var u="",c=0,d;(d=s.exec(l))!==null;){var f=d.index;u+=l.substring(c,f);var h=l.charCodeAt(f),p=t.default.get(h);if(typeof p=="object"){if(f+1<l.length){var g=l.charCodeAt(f+1),m=typeof p.n=="number"?p.n===g?p.o:void 0:p.n.get(g);if(m!==void 0){u+=m,c=s.lastIndex+=1;continue}}p=p.v}if(p!==void 0)u+=p,c=f+1;else{var y=(0,i.getCodePoint)(l,f);u+="&#x".concat(y.toString(16),";"),c=s.lastIndex+=+(y!==h)}}return u+l.substr(c)}return Ws}var lk;function zbe(){return lk||(lk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=d0(),i=uk(),r=hI(),n;(function(f){f[f.XML=0]="XML",f[f.HTML=1]="HTML"})(n=e.EntityLevel||(e.EntityLevel={}));var a;(function(f){f[f.UTF8=0]="UTF8",f[f.ASCII=1]="ASCII",f[f.Extensive=2]="Extensive",f[f.Attribute=3]="Attribute",f[f.Text=4]="Text"})(a=e.EncodingMode||(e.EncodingMode={}));function o(f,h){h===void 0&&(h=n.XML);var p=typeof h=="number"?h:h.level;if(p===n.HTML){var g=typeof h=="object"?h.mode:void 0;return(0,t.decodeHTML)(f,g)}return(0,t.decodeXML)(f)}e.decode=o;function s(f,h){var p;h===void 0&&(h=n.XML);var g=typeof h=="number"?{level:h}:h;return(p=g.mode)!==null&&p!==void 0||(g.mode=t.DecodingMode.Strict),o(f,g)}e.decodeStrict=s;function l(f,h){h===void 0&&(h=n.XML);var p=typeof h=="number"?{level:h}:h;return p.mode===a.UTF8?(0,r.escapeUTF8)(f):p.mode===a.Attribute?(0,r.escapeAttribute)(f):p.mode===a.Text?(0,r.escapeText)(f):p.level===n.HTML?p.mode===a.ASCII?(0,i.encodeNonAsciiHTML)(f):(0,i.encodeHTML)(f):(0,r.encodeXML)(f)}e.encode=l;var u=hI();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var c=uk();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var d=d0();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(IO)),IO}var Cd={},ck;function Gbe(){return ck||(ck=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.attributeNames=Cd.elementNames=void 0,Cd.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),Cd.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),Cd}var dk;function Wbe(){if(dk)return Da;dk=1;var e=Da&&Da.__assign||function(){return e=Object.assign||function(_){for(var w,T=1,R=arguments.length;T<R;T++){w=arguments[T];for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(_[F]=w[F])}return _},e.apply(this,arguments)},t=Da&&Da.__createBinding||(Object.create?function(_,w,T,R){R===void 0&&(R=T);var F=Object.getOwnPropertyDescriptor(w,T);(!F||("get"in F?!w.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(_,R,F)}:function(_,w,T,R){R===void 0&&(R=T),_[R]=w[T]}),i=Da&&Da.__setModuleDefault||(Object.create?function(_,w){Object.defineProperty(_,"default",{enumerable:!0,value:w})}:function(_,w){_.default=w}),r=Da&&Da.__importStar||function(_){if(_&&_.__esModule)return _;var w={};if(_!=null)for(var T in _)T!=="default"&&Object.prototype.hasOwnProperty.call(_,T)&&t(w,_,T);return i(w,_),w};Object.defineProperty(Da,"__esModule",{value:!0}),Da.render=void 0;var n=r(V0()),a=zbe(),o=Gbe(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(_){return _.replace(/"/g,"&quot;")}function u(_,w){var T;if(_){var R=((T=w.encodeEntities)!==null&&T!==void 0?T:w.decodeEntities)===!1?l:w.xmlMode||w.encodeEntities!=="utf8"?a.encodeXML:a.escapeAttribute;return Object.keys(_).map(function(F){var D,A,x=(D=_[F])!==null&&D!==void 0?D:"";return w.xmlMode==="foreign"&&(F=(A=o.attributeNames.get(F))!==null&&A!==void 0?A:F),!w.emptyAttrs&&!w.xmlMode&&x===""?F:"".concat(F,'="').concat(R(x),'"')}).join(" ")}}var c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(_,w){w===void 0&&(w={});for(var T=("length"in _)?_:[_],R="",F=0;F<T.length;F++)R+=f(T[F],w);return R}Da.render=d,Da.default=d;function f(_,w){switch(_.type){case n.Root:return d(_.children,w);case n.Doctype:case n.Directive:return m(_);case n.Comment:return b(_);case n.CDATA:return v(_);case n.Script:case n.Style:case n.Tag:return g(_,w);case n.Text:return y(_,w)}}var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function g(_,w){var T;w.xmlMode==="foreign"&&(_.name=(T=o.elementNames.get(_.name))!==null&&T!==void 0?T:_.name,_.parent&&h.has(_.parent.name)&&(w=e(e({},w),{xmlMode:!1}))),!w.xmlMode&&p.has(_.name)&&(w=e(e({},w),{xmlMode:"foreign"}));var R="<".concat(_.name),F=u(_.attribs,w);return F&&(R+=" ".concat(F)),_.children.length===0&&(w.xmlMode?w.selfClosingTags!==!1:w.selfClosingTags&&c.has(_.name))?(w.xmlMode||(R+=" "),R+="/>"):(R+=">",_.children.length>0&&(R+=d(_.children,w)),(w.xmlMode||!c.has(_.name))&&(R+="</".concat(_.name,">"))),R}function m(_){return"<".concat(_.data,">")}function y(_,w){var T,R=_.data||"";return((T=w.encodeEntities)!==null&&T!==void 0?T:w.decodeEntities)!==!1&&!(!w.xmlMode&&_.parent&&s.has(_.parent.name))&&(R=w.xmlMode||w.encodeEntities!=="utf8"?(0,a.encodeXML)(R):(0,a.escapeText)(R)),R}function v(_){return"<![CDATA[".concat(_.children[0].data,"]]>")}function b(_){return"<!--".concat(_.data,"-->")}return Da}var fk;function lZ(){if(fk)return cs;fk=1;var e=cs&&cs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.getOuterHTML=n,cs.getInnerHTML=a,cs.getText=o,cs.textContent=s,cs.innerText=l;var t=Ts(),i=e(Wbe()),r=V0();function n(u,c){return(0,i.default)(u,c)}function a(u,c){return(0,t.hasChildren)(u)?u.children.map(function(d){return n(d,c)}).join(""):""}function o(u){return Array.isArray(u)?u.map(o).join(""):(0,t.isTag)(u)?u.name==="br"?`
`:o(u.children):(0,t.isCDATA)(u)?o(u.children):(0,t.isText)(u)?u.data:""}function s(u){return Array.isArray(u)?u.map(s).join(""):(0,t.hasChildren)(u)&&!(0,t.isComment)(u)?s(u.children):(0,t.isText)(u)?u.data:""}function l(u){return Array.isArray(u)?u.map(l).join(""):(0,t.hasChildren)(u)&&(u.type===r.ElementType.Tag||(0,t.isCDATA)(u))?l(u.children):(0,t.isText)(u)?u.data:""}return cs}var Do={},hk;function Kbe(){if(hk)return Do;hk=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.getChildren=t,Do.getParent=i,Do.getSiblings=r,Do.getAttributeValue=n,Do.hasAttrib=a,Do.getName=o,Do.nextElementSibling=s,Do.prevElementSibling=l;var e=Ts();function t(u){return(0,e.hasChildren)(u)?u.children:[]}function i(u){return u.parent||null}function r(u){var c,d,f=i(u);if(f!=null)return t(f);for(var h=[u],p=u.prev,g=u.next;p!=null;)h.unshift(p),c=p,p=c.prev;for(;g!=null;)h.push(g),d=g,g=d.next;return h}function n(u,c){var d;return(d=u.attribs)===null||d===void 0?void 0:d[c]}function a(u,c){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,c)&&u.attribs[c]!=null}function o(u){return u.name}function s(u){for(var c,d=u.next;d!==null&&!(0,e.isTag)(d);)c=d,d=c.next;return d}function l(u){for(var c,d=u.prev;d!==null&&!(0,e.isTag)(d);)c=d,d=c.prev;return d}return Do}var Ks={},pk;function Jbe(){if(pk)return Ks;pk=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.removeElement=e,Ks.replaceElement=t,Ks.appendChild=i,Ks.append=r,Ks.prependChild=n,Ks.prepend=a;function e(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var s=o.parent.children,l=s.lastIndexOf(o);l>=0&&s.splice(l,1)}o.next=null,o.prev=null,o.parent=null}function t(o,s){var l=s.prev=o.prev;l&&(l.next=s);var u=s.next=o.next;u&&(u.prev=s);var c=s.parent=o.parent;if(c){var d=c.children;d[d.lastIndexOf(o)]=s,o.parent=null}}function i(o,s){if(e(s),s.next=null,s.parent=o,o.children.push(s)>1){var l=o.children[o.children.length-2];l.next=s,s.prev=l}else s.prev=null}function r(o,s){e(s);var l=o.parent,u=o.next;if(s.next=u,s.prev=o,o.next=s,s.parent=l,u){if(u.prev=s,l){var c=l.children;c.splice(c.lastIndexOf(u),0,s)}}else l&&l.children.push(s)}function n(o,s){if(e(s),s.parent=o,s.prev=null,o.children.unshift(s)!==1){var l=o.children[1];l.prev=s,s.next=l}else s.next=null}function a(o,s){e(s);var l=o.parent;if(l){var u=l.children;u.splice(u.indexOf(o),0,s)}o.prev&&(o.prev.next=s),s.parent=l,s.prev=o.prev,s.next=o,o.prev=s}return Ks}var Js={},gk;function cZ(){if(gk)return Js;gk=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.filter=t,Js.find=i,Js.findOneChild=r,Js.findOne=n,Js.existsOne=a,Js.findAll=o;var e=Ts();function t(s,l,u,c){return u===void 0&&(u=!0),c===void 0&&(c=1/0),i(s,Array.isArray(l)?l:[l],u,c)}function i(s,l,u,c){for(var d=[],f=[Array.isArray(l)?l:[l]],h=[0];;){if(h[0]>=f[0].length){if(h.length===1)return d;f.shift(),h.shift();continue}var p=f[0][h[0]++];if(s(p)&&(d.push(p),--c<=0))return d;u&&(0,e.hasChildren)(p)&&p.children.length>0&&(h.unshift(0),f.unshift(p.children))}}function r(s,l){return l.find(s)}function n(s,l,u){u===void 0&&(u=!0);for(var c=Array.isArray(l)?l:[l],d=0;d<c.length;d++){var f=c[d];if((0,e.isTag)(f)&&s(f))return f;if(u&&(0,e.hasChildren)(f)&&f.children.length>0){var h=n(s,f.children,!0);if(h)return h}}return null}function a(s,l){return(Array.isArray(l)?l:[l]).some(function(u){return(0,e.isTag)(u)&&s(u)||(0,e.hasChildren)(u)&&a(s,u.children)})}function o(s,l){for(var u=[],c=[Array.isArray(l)?l:[l]],d=[0];;){if(d[0]>=c[0].length){if(c.length===1)return u;c.shift(),d.shift();continue}var f=c[0][d[0]++];(0,e.isTag)(f)&&s(f)&&u.push(f),(0,e.hasChildren)(f)&&f.children.length>0&&(d.unshift(0),c.unshift(f.children))}}return Js}var Xs={},mk;function dZ(){if(mk)return Xs;mk=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.testElement=o,Xs.getElements=s,Xs.getElementById=l,Xs.getElementsByTagName=u,Xs.getElementsByClassName=c,Xs.getElementsByTagType=d;var e=Ts(),t=cZ(),i={tag_name:function(f){return typeof f=="function"?function(h){return(0,e.isTag)(h)&&f(h.name)}:f==="*"?e.isTag:function(h){return(0,e.isTag)(h)&&h.name===f}},tag_type:function(f){return typeof f=="function"?function(h){return f(h.type)}:function(h){return h.type===f}},tag_contains:function(f){return typeof f=="function"?function(h){return(0,e.isText)(h)&&f(h.data)}:function(h){return(0,e.isText)(h)&&h.data===f}}};function r(f,h){return typeof h=="function"?function(p){return(0,e.isTag)(p)&&h(p.attribs[f])}:function(p){return(0,e.isTag)(p)&&p.attribs[f]===h}}function n(f,h){return function(p){return f(p)||h(p)}}function a(f){var h=Object.keys(f).map(function(p){var g=f[p];return Object.prototype.hasOwnProperty.call(i,p)?i[p](g):r(p,g)});return h.length===0?null:h.reduce(n)}function o(f,h){var p=a(f);return p?p(h):!0}function s(f,h,p,g){g===void 0&&(g=1/0);var m=a(f);return m?(0,t.filter)(m,h,p,g):[]}function l(f,h,p){return p===void 0&&(p=!0),Array.isArray(h)||(h=[h]),(0,t.findOne)(r("id",f),h,p)}function u(f,h,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,t.filter)(i.tag_name(f),h,p,g)}function c(f,h,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,t.filter)(r("class",f),h,p,g)}function d(f,h,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,t.filter)(i.tag_type(f),h,p,g)}return Xs}var ju={},yk;function Xbe(){if(yk)return ju;yk=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.DocumentPosition=void 0,ju.removeSubsets=t,ju.compareDocumentPosition=r,ju.uniqueSort=n;var e=Ts();function t(a){for(var o=a.length;--o>=0;){var s=a[o];if(o>0&&a.lastIndexOf(s,o-1)>=0){a.splice(o,1);continue}for(var l=s.parent;l;l=l.parent)if(a.includes(l)){a.splice(o,1);break}}return a}var i;(function(a){a[a.DISCONNECTED=1]="DISCONNECTED",a[a.PRECEDING=2]="PRECEDING",a[a.FOLLOWING=4]="FOLLOWING",a[a.CONTAINS=8]="CONTAINS",a[a.CONTAINED_BY=16]="CONTAINED_BY"})(i||(ju.DocumentPosition=i={}));function r(a,o){var s=[],l=[];if(a===o)return 0;for(var u=(0,e.hasChildren)(a)?a:a.parent;u;)s.unshift(u),u=u.parent;for(u=(0,e.hasChildren)(o)?o:o.parent;u;)l.unshift(u),u=u.parent;for(var c=Math.min(s.length,l.length),d=0;d<c&&s[d]===l[d];)d++;if(d===0)return i.DISCONNECTED;var f=s[d-1],h=f.children,p=s[d],g=l[d];return h.indexOf(p)>h.indexOf(g)?f===o?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:f===a?i.PRECEDING|i.CONTAINS:i.PRECEDING}function n(a){return a=a.filter(function(o,s,l){return!l.includes(o,s+1)}),a.sort(function(o,s){var l=r(o,s);return l&i.PRECEDING?-1:l&i.FOLLOWING?1:0}),a}return ju}var YA={},vk;function Ybe(){if(vk)return YA;vk=1,Object.defineProperty(YA,"__esModule",{value:!0}),YA.getFeed=i;var e=lZ(),t=dZ();function i(f){var h=l(d,f);return h?h.name==="feed"?r(h):n(h):null}function r(f){var h,p=f.children,g={type:"atom",items:(0,t.getElementsByTagName)("entry",p).map(function(v){var b,_=v.children,w={media:s(_)};c(w,"id","id",_),c(w,"title","title",_);var T=(b=l("link",_))===null||b===void 0?void 0:b.attribs.href;T&&(w.link=T);var R=u("summary",_)||u("content",_);R&&(w.description=R);var F=u("updated",_);return F&&(w.pubDate=new Date(F)),w})};c(g,"id","id",p),c(g,"title","title",p);var m=(h=l("link",p))===null||h===void 0?void 0:h.attribs.href;m&&(g.link=m),c(g,"description","subtitle",p);var y=u("updated",p);return y&&(g.updated=new Date(y)),c(g,"author","email",p,!0),g}function n(f){var h,p,g=(p=(h=l("channel",f.children))===null||h===void 0?void 0:h.children)!==null&&p!==void 0?p:[],m={type:f.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",f.children).map(function(v){var b=v.children,_={media:s(b)};c(_,"id","guid",b),c(_,"title","title",b),c(_,"link","link",b),c(_,"description","description",b);var w=u("pubDate",b)||u("dc:date",b);return w&&(_.pubDate=new Date(w)),_})};c(m,"title","title",g),c(m,"link","link",g),c(m,"description","description",g);var y=u("lastBuildDate",g);return y&&(m.updated=new Date(y)),c(m,"author","managingEditor",g,!0),m}var a=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(f){return(0,t.getElementsByTagName)("media:content",f).map(function(h){for(var p=h.attribs,g={medium:p.medium,isDefault:!!p.isDefault},m=0,y=a;m<y.length;m++){var v=y[m];p[v]&&(g[v]=p[v])}for(var b=0,_=o;b<_.length;b++){var v=_[b];p[v]&&(g[v]=parseInt(p[v],10))}return p.expression&&(g.expression=p.expression),g})}function l(f,h){return(0,t.getElementsByTagName)(f,h,!0,1)[0]}function u(f,h,p){return p===void 0&&(p=!1),(0,e.textContent)((0,t.getElementsByTagName)(f,h,p,1)).trim()}function c(f,h,p,g,m){m===void 0&&(m=!1);var y=u(p,g,m);y&&(f[h]=y)}function d(f){return f==="rss"||f==="feed"||f==="rdf:RDF"}return YA}var bk;function Gg(){return bk||(bk=1,function(e){var t=Id&&Id.__createBinding||(Object.create?function(n,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(n,s,l)}:function(n,a,o,s){s===void 0&&(s=o),n[s]=a[o]}),i=Id&&Id.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,i(lZ(),e),i(Kbe(),e),i(Jbe(),e),i(cZ(),e),i(dZ(),e),i(Xbe(),e),i(Ybe(),e);var r=Ts();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})}(Id)),Id}var _k;function fZ(){return _k||(_k=1,function(e){var t=Po&&Po.__createBinding||(Object.create?function(y,v,b,_){_===void 0&&(_=b);var w=Object.getOwnPropertyDescriptor(v,b);(!w||("get"in w?!v.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(y,_,w)}:function(y,v,b,_){_===void 0&&(_=b),y[_]=v[b]}),i=Po&&Po.__setModuleDefault||(Object.create?function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}:function(y,v){y.default=v}),r=Po&&Po.__importStar||function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&t(v,y,b);return i(v,y),v},n=Po&&Po.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=ek(),o=ek();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Ts(),l=Ts();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(y,v){var b=new s.DomHandler(void 0,v);return new a.Parser(b,v).end(y),b.root}e.parseDocument=u;function c(y,v){return u(y,v).children}e.parseDOM=c;function d(y,v,b){var _=new s.DomHandler(y,v,b);return new a.Parser(_,v)}e.createDomStream=d;var f=uZ();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return n(f).default}}),e.ElementType=r(V0());var h=Gg(),p=Gg();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var g={xmlMode:!0};function m(y,v){return v===void 0&&(v=g),(0,h.getFeed)(c(y,v))}e.parseFeed=m,e.DomUtils=r(Gg())}(Po)),Po}const Zbe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},e_e={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var Dd={},wk;function cN(){return wk||(wk=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.RDFA_CONTENTTYPES=Dd.RDFA_FEATURES=void 0,Dd.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},Dd.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),Dd}var jv={},Sk;function hZ(){if(Sk)return jv;Sk=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.Util=void 0;const e=Ko(),t=cN(),i=yr();class r{constructor(a,o){this.dataFactory=a||new i.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(a,o,s){const l={};if(s)for(const u in a)u.startsWith("xmlns")&&(l[u.substr(6)]=a[u]);if(a.prefix||Object.keys(l).length>0){const u=Object.assign(Object.assign({},o),l);if(a.prefix){let c;for(;c=r.PREFIX_REGEX.exec(a.prefix);)u[c[1]]=c[2]}return u}else return o}static expandPrefixedTerm(a,o){const s=a.indexOf(":");let l,u;if(s>=0&&(l=a.substr(0,s),u=a.substr(s+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+u;if(l){const c=o.prefixesAll[l];if(c)return c+u}if(a){const c=o.prefixesAll[a.toLocaleLowerCase()];if(c)return c}return a}static isValidIri(a){return r.IRI_REGEX.test(a)}static contentTypeToProfile(a){return t.RDFA_CONTENTTYPES[a]||""}getBaseIRI(a){let o=a;const s=o.indexOf("#");return s>=0&&(o=o.substr(0,s)),this.dataFactory.namedNode((0,e.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(a,o){return a===!0?this.getBaseIriTerm(o):a}getBaseIriTerm(a){return a.localBaseIRI||this.baseIRI}createVocabIris(a,o,s,l){return a.split(/\s+/).filter(u=>u&&(s||u.indexOf(":")>=0)).map(u=>this.createIri(u,o,!0,!0,l)).filter(u=>u!=null)}createLiteral(a,o){if(o.interpretObjectAsTime&&!o.datatype){for(const s of r.TIME_REGEXES)if(a.match(s.regex)){o.datatype=this.dataFactory.namedNode(r.XSD+s.type);break}}return this.dataFactory.literal(a,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(a,o,s,l,u){if(a=a||"",!l)return s||(a=(0,e.resolve)(a,this.getBaseIriTerm(o).value)),r.isValidIri(a)?this.dataFactory.namedNode(a):null;if(a.length>0&&a[0]==="["&&a[a.length-1]==="]"&&(a=a.substr(1,a.length-2),a.indexOf(":")<0))return null;if(a.startsWith("_:"))return u?this.dataFactory.blankNode(a.substr(2)||"b_identity"):null;if(s&&o.vocab&&a.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+a);let c=r.expandPrefixedTerm(a,o);return s?a!==c&&(c=(0,e.resolve)(c,this.baseIRIDocument.value)):c=(0,e.resolve)(c,this.getBaseIriTerm(o).value),r.isValidIri(c)?this.dataFactory.namedNode(c):null}}return jv.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,r.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,jv}var Ak;function t_e(){if(Ak)return Mv;Ak=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.RdfaParser=void 0;const e=fZ(),t=Xr(),i=Zbe,r=e_e,n=cN(),a=hZ();let o=class pZ extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new a.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const u=l.contentType?a.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||n.RDFA_FEATURES[u],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(u==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},r["@context"]),this.features.xhtmlInitialContext?i["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const u=new t.PassThrough({readableObjectMode:!0});l.on("error",d=>c.emit("error",d)),l.on("data",d=>u.push(d)),l.on("end",()=>u.push(null));const c=u.pipe(new pZ(this.options));return c}_transform(l,u,c){this.parser.write(l.toString()),c()}_flush(l){this.parser.end(),l()}onTagOpen(l,u){let c=this.activeTagStack.length-1;for(;c>0&&this.activeTagStack[c].skipElement;)c--;let d=this.activeTagStack[c];c!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const f={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in u,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(f),f.collectChildTags){for(const w of Object.keys(d.prefixesCustom).sort()){const T=d.prefixesCustom[w],R=w===""?"xmlns":"xmlns:"+w;R in u||(u[R]=T)}const _=Object.keys(u).map(w=>`${w}="${u[w]}"`).join(" ");if(f.text=[`<${l}${_?" "+_:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let h=!0,p=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in u&&"rel"in u&&(h=!1,u.rel.indexOf(":")<0&&delete u.rel),"property"in u&&"rev"in u&&(p=!1,u.rev.indexOf(":")<0&&delete u.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const _={attributes:u,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(_),f.collectedPatternTag=_;return}if(u.typeof==="rdfa:Pattern"){f.collectedPatternTag={attributes:u,children:[],name:l,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(u.property==="rdfa:copy"){const _=u.resource||u.href||u.src;this.rdfaPatterns[_]?this.emitPatternCopy(d,this.rdfaPatterns[_],_):(this.pendingRdfaPatternCopies[_]||(this.pendingRdfaPatternCopies[_]=[]),this.pendingRdfaPatternCopies[_].push(d));return}}this.features.baseTag&&l==="base"&&u.href&&(this.util.baseIRI=this.util.getBaseIRI(u.href)),this.features.xmlBase&&u["xml:base"]&&(f.localBaseIRI=this.util.getBaseIRI(u["xml:base"])),this.features.timeTag&&l==="time"&&!u.datatype&&(f.interpretObjectAsTime=!0);let g,m,y;if("vocab"in u?u.vocab?(f.vocab=u.vocab,this.emitTriple(this.util.getBaseIriTerm(f),this.util.dataFactory.namedNode(a.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(f.vocab))):f.vocab=this.activeTagStack[0].vocab:f.vocab=d.vocab,f.prefixesCustom=a.Util.parsePrefixes(u,d.prefixesCustom,this.features.xmlnsPrefixMappings),f.prefixesAll=Object.keys(f.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),f.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&u.role){const _=u.id?this.util.createIri("#"+u.id,f,!1,!1,!1):this.util.createBlankNode(),w=f.vocab;f.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const T of this.util.createVocabIris(u.role,f,!0,!1))this.emitTriple(_,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),T);f.vocab=w}"xml:lang"in u||this.features.langAttribute&&"lang"in u?f.language=u["xml:lang"]||u.lang:f.language=d.language;const v=this.activeTagStack.length===2;if(!("rel"in u)&&!("rev"in u)?"property"in u&&!("content"in u)&&!("datatype"in u)?("about"in u?(g=this.util.createIri(u.about,f,!1,!0,!0),f.explicitNewSubject=!!g):v?g=!0:d.object&&(g=d.object),"typeof"in u&&("about"in u&&(y=this.util.createIri(u.about,f,!1,!0,!0)),!y&&v&&(y=!0),!y&&"resource"in u&&(y=this.util.createIri(u.resource,f,!1,!0,!0)),!y&&("href"in u||"src"in u)&&(y=this.util.createIri(u.href||u.src,f,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(l)&&(y=g),y||(y=this.util.createBlankNode()),m=y)):(("about"in u||"resource"in u)&&(g=this.util.createIri(u.about||u.resource,f,!1,!0,!0),f.explicitNewSubject=!!g),!g&&("href"in u||"src"in u)&&(g=this.util.createIri(u.href||u.src,f,!1,!1,!0),f.explicitNewSubject=!!g),g||(v?g=!0:this.isInheritSubjectInHeadBody(l)?g=d.object:"typeof"in u?(g=this.util.createBlankNode(),f.explicitNewSubject=!0):d.object&&(g=d.object,"property"in u||(f.skipElement=!0))),"typeof"in u&&(y=g)):("about"in u?(g=this.util.createIri(u.about,f,!1,!0,!0),f.explicitNewSubject=!!g,"typeof"in u&&(y=g)):v?g=!0:d.object&&(g=d.object),"resource"in u&&(m=this.util.createIri(u.resource,f,!1,!0,!0)),m||("href"in u||"src"in u?m=this.util.createIri(u.href||u.src,f,!1,!1,!0):"typeof"in u&&!("about"in u)&&!this.isInheritSubjectInHeadBody(l)&&(m=this.util.createBlankNode())),"typeof"in u&&!("about"in u)&&(this.isInheritSubjectInHeadBody(l)?y=g:y=m)),y)for(const _ of this.util.createVocabIris(u.typeof,f,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,f),this.util.dataFactory.namedNode(a.Util.RDF+"type"),_);if(g&&(f.listMapping={}),m){if("rel"in u&&"inlist"in u)for(const _ of this.util.createVocabIris(u.rel,f,h,!1))this.addListMapping(f,g,_,m);if(!("rel"in u&&"inlist"in u)){if("rel"in u)for(const _ of this.util.createVocabIris(u.rel,f,h,!1))this.emitTriple(this.util.getResourceOrBaseIri(g,f),_,this.util.getResourceOrBaseIri(m,f));if("rev"in u)for(const _ of this.util.createVocabIris(u.rev,f,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(m,f),_,this.util.getResourceOrBaseIri(g,f))}}if(!m){if("rel"in u)if("inlist"in u)for(const _ of this.util.createVocabIris(u.rel,f,h,!1))this.addListMapping(f,g,_,null),f.incompleteTriples.push({predicate:_,reverse:!1,list:!0});else for(const _ of this.util.createVocabIris(u.rel,f,h,!1))f.incompleteTriples.push({predicate:_,reverse:!1});if("rev"in u)for(const _ of this.util.createVocabIris(u.rev,f,p,!1))f.incompleteTriples.push({predicate:_,reverse:!0});f.incompleteTriples.length>0&&(m=this.util.createBlankNode())}if("property"in u){f.predicates=this.util.createVocabIris(u.property,f,!0,!1);let _;if("datatype"in u?(f.datatype=this.util.createIri(u.datatype,f,!0,!0,!1),f.datatype&&(f.datatype.value===a.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&f.datatype.value===a.Util.RDF+"HTML")&&(f.collectChildTags=!0)):(!("rev"in u)&&!("rel"in u)&&!("content"in u)&&("resource"in u&&(_=this.util.createIri(u.resource,f,!1,!0,!0)),!_&&"href"in u&&(_=this.util.createIri(u.href,f,!1,!1,!0)),!_&&"src"in u&&(_=this.util.createIri(u.src,f,!1,!1,!0))),"typeof"in u&&!("about"in u)&&(_=y)),"content"in u){const w=this.util.createLiteral(u.content,f);if("inlist"in u)for(const T of f.predicates)this.addListMapping(f,g,T,w);else{const T=this.util.getResourceOrBaseIri(g,f);for(const R of f.predicates)this.emitTriple(T,R,w)}f.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in u){f.interpretObjectAsTime=!0;const w=this.util.createLiteral(u.datetime,f);if("inlist"in u)for(const T of f.predicates)this.addListMapping(f,g,T,w);else{const T=this.util.getResourceOrBaseIri(g,f);for(const R of f.predicates)this.emitTriple(T,R,w)}f.predicates=null}else if(_){const w=this.util.getResourceOrBaseIri(_,f);if("inlist"in u)for(const T of f.predicates)this.addListMapping(f,g,T,w);else{const T=this.util.getResourceOrBaseIri(g,f);for(const R of f.predicates)this.emitTriple(T,R,w)}f.predicates=null}}let b=!1;if(!f.skipElement&&g&&d.incompleteTriples.length>0){b=!0;const _=this.util.getResourceOrBaseIri(d.subject,f),w=this.util.getResourceOrBaseIri(g,f);for(const T of d.incompleteTriples)if(T.reverse)this.emitTriple(w,T.predicate,_);else if(T.list){let R=null;for(let F=this.activeTagStack.length-1;F>=0;F--)if(this.activeTagStack[F].inlist){R=this.activeTagStack[F];break}this.addListMapping(R,g,T.predicate,w)}else this.emitTriple(_,T.predicate,w)}!b&&d.incompleteTriples.length>0&&(f.incompleteTriples=f.incompleteTriples.concat(d.incompleteTriples)),f.subject=g||d.subject,f.object=m||g}onText(l){const u=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&u.collectedPatternTag){u.collectedPatternTag.text.push(l);return}u.text||(u.text=[]),u.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],u=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&u.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const c=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[c]=l.collectedPatternTag,this.pendingRdfaPatternCopies[c]){for(const d of this.pendingRdfaPatternCopies[c])this.emitPatternCopy(d,l.collectedPatternTag,c);delete this.pendingRdfaPatternCopies[c]}this.activeTagStack.pop();return}if(l.predicates){const c=this.util.getResourceOrBaseIri(l.subject,l);let d=l.text||[];l.collectChildTags&&u.collectChildTags&&(d=d.slice(1));const f=this.util.createLiteral(d.join(""),l);if(l.inlist)for(const h of l.predicates)this.addListMapping(l,c,h,f);else for(const h of l.predicates)this.emitTriple(c,h,f);u.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const c=this.util.getResourceOrBaseIri(l.object,l);for(const d in l.listMapping){const f=this.util.dataFactory.namedNode(d),h=l.listMapping[d];if(h.length>0){const p=h.map(()=>this.util.createBlankNode());for(let g=0;g<h.length;g++){const m=this.util.getResourceOrBaseIri(h[g],l);this.emitTriple(p[g],this.util.dataFactory.namedNode(a.Util.RDF+"first"),m),this.emitTriple(p[g],this.util.dataFactory.namedNode(a.Util.RDF+"rest"),g<h.length-1?p[g+1]:this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}this.emitTriple(c,f,p[0])}else this.emitTriple(c,f,this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&u&&(u.text?u.text=u.text.concat(l.text):u.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const u=this.rdfaPatterns[l];u.referenced||(u.attributes.typeof="rdfa:Pattern",u.attributes.resource=l,this.emitPatternCopy(u.parentTag,u,l),u.referenced=!1,delete u.attributes.typeof,delete u.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const u of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(u),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,u,c,d){if(l.explicitNewSubject){const f=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(u,l),c,f),this.emitTriple(f,this.util.dataFactory.namedNode(a.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,l)),this.emitTriple(f,this.util.dataFactory.namedNode(a.Util.RDF+"rest"),this.util.dataFactory.namedNode(a.Util.RDF+"nil"))}else{let f=l.listMappingLocal[c.value];f||(l.listMappingLocal[c.value]=f=[]),d&&f.push(d)}}emitTriple(l,u,c){l.termType==="NamedNode"&&l.value.indexOf(":")<0||u.termType==="NamedNode"&&u.value.indexOf(":")<0||c.termType==="NamedNode"&&c.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,u,c,this.defaultGraph))}emitPatternCopy(l,u,c){if(this.activeTagStack.push(l),u.referenced=!0,!u.constructedBlankNodes)u.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return u.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>u.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(u,!0,c),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,u,c){if(!(!u&&l.attributes.property==="rdfa:copy"&&l.attributes.href===c)){this.onTagOpen(l.name,l.attributes);for(const d of l.text)this.onText(d);for(const d of l.children)this.emitPatternCopyAbsolute(d,!1,c);this.onTagClose()}}initializeParser(l){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(u){this.emit("error",u)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(u){this.emit("error",u)}},onopentag:(u,c)=>{try{this.onTagOpen(u,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(u,c)}catch(d){this.emit("error",d)}},ontext:u=>{try{this.onText(u),this.htmlParseListener&&this.htmlParseListener.onText(u)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return Mv.RdfaParser=o,Mv}var Tk;function gZ(){return Tk||(Tk=1,function(e){var t=Od&&Od.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Od&&Od.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(qbe(),e),i(Vbe(),e),i(Ube(),e),i(t_e(),e),i(cN(),e),i(hZ(),e)}(Od)),Od}var Ek;function r_e(){if(Ek)return Lv;Ek=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.ActorRdfParseXmlRdfa=void 0;const e=q0(),t=gZ();let i=class extends e.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,a,o){var u;const s=(n.headers&&n.headers.get("content-language"))??void 0;n.data.on("error",c=>l.emit("error",c));const l=n.data.pipe(new t.RdfaParser({baseIRI:(u=n.metadata)==null?void 0:u.baseIRI,profile:"xml",language:s}));return{data:l,metadata:{triples:!0}}}};return Lv.ActorRdfParseXmlRdfa=i,Lv}var xk;function mZ(){return xk||(xk=1,function(e){var t=Rd&&Rd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Rd&&Rd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(r_e(),e)}(Rd)),Rd}var Nd={},kv={},bg={},Bv={},Rk;function yZ(){if(Rk)return Bv;Rk=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.promisifyEventEmitter=void 0;function e(t,i){return new Promise((r,n)=>{t.on("end",()=>r(i)),t.on("error",n)})}return Bv.promisifyEventEmitter=e,Bv}var Ok;function U0(){if(Ok)return bg;Ok=1;var e=bg&&bg.__awaiter||function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function c(h){try{f(o.next(h))}catch(p){u(p)}}function d(h){try{f(o.throw(h))}catch(p){u(p)}}function f(h){h.done?l(h.value):s(h.value).then(c,d)}f((o=o.apply(r,n||[])).next())})};Object.defineProperty(bg,"__esModule",{value:!0}),bg.stringify=i;const t=yZ();function i(r){return e(this,void 0,void 0,function*(){let n="";return r.on("data",a=>{n+=a}),yield(0,t.promisifyEventEmitter)(r),n})}return bg}var ZA={},DO,Pk;function n_e(){if(Pk)return DO;Pk=1;var e=function(){var t=function(qt,bt,Rt,Qt){for(Rt=Rt||{},Qt=qt.length;Qt--;Rt[qt[Qt]]=bt);return Rt},i=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],n=[7,13,16,115,130],a=[1,25],o=[1,29],s=[1,27],l=[1,28],u=[13,16,115,130],c=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],f=[1,42],h=[46,48,53,56],p=[1,54],g=[1,60],m=[1,56],y=[1,57],v=[1,58],b=[1,63],_=[1,64],w=[1,65],T=[1,66],R=[1,67],F=[1,68],D=[1,75],A=[28,46,48,53,56],x=[28,42,46,48,53,56],N=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],j=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],H=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],M=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],$=[13,16,28,56,115,130],te=[13,16,38,58,87,96,109,115,126,130],re=[1,116],oe=[1,112],J=[1,108],fe=[1,114],xe=[1,111],de=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],ae=[48,53],Fe=[48,53,87,96,126],Le=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],me=[1,126],pe=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],_e=[1,129],X=[48,53,67,87,96,126],C=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],E=[1,133],S=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],I=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],k=[1,151],Q=[1,153],G=[1,156],ne=[1,157],ee=[1,158],se=[1,167],ge=[1,175],Ae=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],Ve=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ge=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],qe={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(bt,Rt,Qt,gr,Zt,Dt,Hn){var St=Dt.length-1;switch(Zt){case 1:this.$=U(lt.factory.namedNode(st("")),lt.factory.namedNode(W),lt.factory.namedNode(At+"Ontology"));break;case 5:lt.base=lt.factory.namedNode(Dt[St].slice(1,-1)),lt.n3Parser._setBase(lt.base.value);break;case 6:this.$=U(lt.base,lt.factory.namedNode(At+"imports"),lt.factory.namedNode(Dt[St].slice(1,-1)));break;case 7:this.$=lt.prefixes[Dt[St-1].substr(0,Dt[St-1].length-1)]=st(Dt[St]);break;case 8:lt.nodeShapeStack=!1,U(lt.currentNodeShape=Dt[St],lt.factory.namedNode(W),lt.factory.namedNode(tt+"NodeShape"));break;case 10:this.$=U(lt.currentNodeShape,lt.factory.namedNode(W),lt.factory.namedNode(ve+"Class"));break;case 11:this.$=Ke();break;case 13:this.$=Dt[St].forEach(Xe=>U(lt.currentNodeShape,Dt[St-1],Xe));break;case 14:this.$=[Dt[St-1],...Dt[St]];break;case 18:this.$=Ze(Dt[St-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=Dt[St];break;case 20:lt.tempCurrentNodeShape=lt.currentNodeShape,this.$=lt.currentNodeShape=Lt();break;case 21:lt.currentNodeShape=lt.tempCurrentNodeShape;break;case 22:case 31:this.$=Dt[St-2];break;case 23:lt.tempCurrentNodeShape=lt.currentNodeShape,lt.currentNodeShape=lt.currentPropertyNode;break;case 24:lt.currentNodeShape=lt.tempCurrentNodeShape;break;case 26:lt.currentNodeShape=Dt[St];break;case 29:lt.nodeShapeStack?(lt.nodeShapeStack.push(lt.currentNodeShape),U(lt.currentPropertyNode,lt.factory.namedNode(tt+"node"),lt.currentNodeShape=Lt())):lt.nodeShapeStack=[],this.$=lt.currentNodeShape;break;case 30:lt.nodeShapeStack.length>0&&(lt.currentNodeShape=lt.nodeShapeStack.pop());break;case 32:this.$=Dt[St].forEach(Xe=>{U(lt.currentNodeShape,lt.factory.namedNode(tt+"targetClass"),Xe)});break;case 35:this.$=U(lt.currentNodeShape,lt.factory.namedNode(tt+Dt[St][0]),Dt[St][1]);break;case 36:break;case 37:const Ce=Ze([Dt[St-1],...Dt[St]].map(Xe=>{const jt=Lt();return U(jt,lt.factory.namedNode(tt+Xe[0]),Xe[1]),jt}));this.$=["or",Ce];break;case 39:case 46:this.$=je("not",...Dt[St]);break;case 40:case 50:this.$=[Dt[St-2],Dt[St]];break;case 43:this.$=Dt[St]&&he(...Dt[St]);break;case 44:this.$=he("or",Ze([Dt[St-1],...Dt[St]].map(Xe=>{const jt=Lt();return U(jt,lt.factory.namedNode(tt+Xe[0]),Xe[1]),jt})));break;case 47:this.$=[et[Dt[St].value]?"datatype":"class",Dt[St]];break;case 48:this.$=["nodeKind",lt.factory.namedNode(tt+Dt[St])];break;case 49:this.$=["node",lt.factory.namedNode(Dt[St])];break;case 51:this.$=void 0;break;case 53:this.$=Dt[St]>0&&he("minCount",xt(Dt[St],ke));break;case 54:this.$=he("maxCount",xt(Dt[St],ke));break;case 56:this.$=ut(Dt[St].slice(1));break;case 57:this.$=st(Dt[St]);break;case 59:U(lt.currentNodeShape,lt.factory.namedNode(tt+"property"),lt.currentPropertyNode=Lt()),he("path",Dt[St]);break;case 62:const Qe=Lt();U(Qe,lt.factory.namedNode(tt+"alternativePath"),Ze([Dt[St-1],...Dt[St]])),this.$=Qe;break;case 65:this.$=Ze([Dt[St-1],...Dt[St]]);break;case 67:U(this.$=Lt(),lt.factory.namedNode(tt+Dt[St]),Dt[St-1]);break;case 69:U(this.$=Lt(),lt.factory.namedNode(tt+"inversePath"),Dt[St]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=Dt[St-1];break;case 77:this.$=Ze(Dt[St-1]);break;case 80:this.$=lt.factory.namedNode(st(Dt[St]));break;case 81:this.$=lt.factory.namedNode(ut(Dt[St]));break;case 82:this.$=Ke(lt.factory.namedNode(W));break;case 83:this.$=xt(Dt[St]);break;case 84:this.$=Nt(Dt[St-1],lowercase(Dt[St].substr(1)));break;case 85:this.$=xt(Dt[St-2],Dt[St]);break;case 86:this.$=xt(Dt[St],ke);break;case 87:this.$=xt(Dt[St],Pe);break;case 88:this.$=xt(Dt[St].toLowerCase(),dt);break;case 89:this.$=xt(Dt[St].toLowerCase(),pt);break;case 90:this.$=Ie(Dt[St],1);break;case 91:this.$=Ie(Dt[St],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:Dt[St-1].push(Dt[St]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[Dt[St]];break}},table:[t(i,[2,92],{3:1,4:2}),{1:[3]},t(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(n,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(i,[2,93]),t(i,[2,2]),t(i,[2,3]),t(i,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(r,[2,97]),{7:[2,28],13:a,16:o,18:24,51:23,52:22,114:26,115:s,130:l},t(r,[2,94]),t(r,[2,95]),{13:a,16:o,17:30,18:31,114:26,115:s,130:l},{13:a,16:o,17:32,18:31,114:26,115:s,130:l},t(i,[2,5]),t(i,[2,6]),{13:[1,33]},{1:[2,1]},t(n,[2,111]),{13:a,16:o,18:36,29:34,30:35,114:26,115:s,130:l},t(u,[2,26]),t(c,[2,80]),t(c,[2,81]),t(c,[2,82]),t(c,[2,140]),t(c,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:f,56:[2,102]},t(i,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:f}),{13:a,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:g,92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},{22:69,27:70,28:f,56:[2,100]},t(d,[2,99]),{13:a,16:o,18:72,62:71,114:26,115:s,130:l},{23:73,55:74,56:D},{56:[2,103]},{13:a,16:o,18:36,29:76,30:35,114:26,115:s,130:l},t(n,[2,27]),t(h,[2,12]),t(h,[2,105]),t(A,[2,13]),t(x,[2,106],{34:77}),t(N,[2,15]),t(N,[2,16]),t(N,[2,17]),t(j,[2,78]),t(j,[2,79]),{13:a,16:o,18:36,29:78,30:35,114:26,115:s,130:l},t(H,[2,108],{39:79}),t(j,[2,83],{117:[1,80],118:[1,81]}),t(j,[2,86]),t(j,[2,87]),t(j,[2,88]),t(j,[2,89]),t(u,[2,20]),t(M,[2,90]),t(M,[2,91]),t(j,[2,142]),t(j,[2,143]),t(M,[2,144]),t(M,[2,145]),t(M,[2,146]),t(M,[2,147]),{23:82,55:74,56:D},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:o,115:s,130:l}),t($,[2,114]),t(r,[2,10]),t(te,[2,112],{59:84}),t(te,[2,29]),t(h,[2,11]),t(A,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:o,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:g,92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},t(j,[2,84]),{13:a,16:o,18:91,114:26,115:s,130:l},t(r,[2,9]),t($,[2,115]),{13:a,16:o,18:115,38:re,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:oe,96:J,97:101,99:103,103:106,105:109,106:113,108:110,109:fe,114:26,115:s,125:96,126:xe,130:l},t(x,[2,107]),{13:a,16:o,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:g,92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},t(N,[2,22]),t(N,[2,21]),t(N,[2,18]),t(H,[2,109]),t(j,[2,85]),t(de,[2,31]),t(te,[2,113]),t(de,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(ae,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:oe,96:J,126:xe}),t(ae,[2,119]),t(Fe,[2,116]),t(Le,[2,128],{79:123}),t(Fe,[2,35]),t(Le,[2,59]),t(Fe,[2,36],{71:124,66:125,67:me}),t(pe,[2,61],{100:127,98:128,67:_e}),t(X,[2,38]),{72:130,74:107,87:oe,126:xe},t(C,[2,64],{104:131,101:132,102:E}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(S,[2,68]),{13:a,16:o,18:115,38:re,105:135,106:113,114:26,115:s,130:l},{75:[2,124]},{75:[2,125]},t(S,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(I,[2,74]),{13:a,16:o,18:115,38:re,97:140,99:103,103:106,105:109,106:113,108:110,109:fe,114:26,115:s,130:l},t(x,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:o,18:36,29:142,30:35,114:26,115:s,130:l},t(u,[2,23]),t(Fe,[2,117]),t(ae,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:o,44:[1,146],56:D,85:k,87:Q,95:G,96:J,115:s,128:ne,129:ee,130:l}),t(Fe,[2,37],{66:159,67:me}),t(X,[2,122]),{68:160,72:104,73:105,74:107,87:oe,96:J,126:xe},t(pe,[2,62],{98:161,67:_e}),t(C,[2,134]),{13:a,16:o,18:115,38:re,99:162,103:106,105:109,106:113,108:110,109:fe,114:26,115:s,130:l},t(X,[2,39]),t(C,[2,65],{101:163,102:E}),t(S,[2,136]),{13:a,16:o,18:115,38:re,103:164,105:109,106:113,108:110,109:fe,114:26,115:s,130:l},{13:a,16:o,18:51,35:166,44:se,76:165,92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},t(S,[2,69]),t(S,[2,67]),t(S,[2,71]),t(S,[2,72]),t(S,[2,73]),{40:[1,168]},t(te,[2,33]),{48:[1,170],49:169},t(Le,[2,129]),t(Le,[2,126]),t(Le,[2,127]),{89:171,92:[1,172]},t(Le,[2,43],{83:173,80:174,67:ge}),t(Ae,[2,45]),{13:a,16:o,18:150,23:154,55:74,56:D,84:176,85:k,86:152,87:Q,94:155,95:G,114:26,115:s,128:ne,129:ee,130:l},t(Ae,[2,47]),t(Ae,[2,48]),t(Ae,[2,49]),{75:[1,177]},t(Ae,[2,51]),t(Ae,[2,56]),{13:[1,178]},t(Ae,[2,132]),t(Ae,[2,133]),t(X,[2,123]),t(X,[2,34]),t(C,[2,135]),t(C,[2,60]),t(S,[2,137]),t(S,[2,63]),t(X,[2,40]),t(Ve,[2,76]),t(Ge,[2,138],{112:179}),t(I,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(Le,[2,44],{80:181,67:ge}),t(Ae,[2,130]),{13:a,16:o,18:150,23:154,55:74,56:D,73:149,81:182,84:148,85:k,86:152,87:Q,94:155,95:G,96:J,114:26,115:s,128:ne,129:ee,130:l},t(Ae,[2,46]),{13:a,16:o,18:51,35:166,44:se,76:183,92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},t(Ae,[2,57]),{13:a,16:o,18:51,35:185,46:[1,184],92:m,113:52,114:26,115:s,116:55,119:y,120:v,121:59,122:61,123:62,130:l,131:b,132:_,133:w,134:T,135:R,136:F},{91:186,92:[1,187],93:[1,188]},t(Ae,[2,131]),t(Ae,[2,42]),t(Ae,[2,50]),t(Ve,[2,77]),t(Ge,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(Le,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(bt,Rt){if(Rt.recoverable)this.trace(bt);else{var Qt=new Error(bt);throw Qt.hash=Rt,Qt}},parse:function(bt){var Rt=this,Qt=[0],gr=[null],Zt=[],Dt=this.table,Hn="",St=0,Ce=0,Qe=2,Xe=1,jt=Zt.slice.call(arguments,1),kt=Object.create(this.lexer),Wt={yy:{}};for(var Br in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Br)&&(Wt.yy[Br]=this.yy[Br]);kt.setInput(bt,Wt.yy),Wt.yy.lexer=kt,Wt.yy.parser=this,typeof kt.yylloc>"u"&&(kt.yylloc={});var Yr=kt.yylloc;Zt.push(Yr);var Ua=kt.options&&kt.options.ranges;typeof Wt.yy.parseError=="function"?this.parseError=Wt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var xi=function(){var Y;return Y=kt.lex()||Xe,typeof Y!="number"&&(Y=Rt.symbols_[Y]||Y),Y},an,Gi,Wn,sa,Nn={},Ha,P,O,L;;){if(Gi=Qt[Qt.length-1],this.defaultActions[Gi]?Wn=this.defaultActions[Gi]:((an===null||typeof an>"u")&&(an=xi()),Wn=Dt[Gi]&&Dt[Gi][an]),typeof Wn>"u"||!Wn.length||!Wn[0]){var q="";L=[];for(Ha in Dt[Gi])this.terminals_[Ha]&&Ha>Qe&&L.push("'"+this.terminals_[Ha]+"'");kt.showPosition?q="Parse error on line "+(St+1)+`:
`+kt.showPosition()+`
Expecting `+L.join(", ")+", got '"+(this.terminals_[an]||an)+"'":q="Parse error on line "+(St+1)+": Unexpected "+(an==Xe?"end of input":"'"+(this.terminals_[an]||an)+"'"),this.parseError(q,{text:kt.match,token:this.terminals_[an]||an,line:kt.yylineno,loc:Yr,expected:L})}if(Wn[0]instanceof Array&&Wn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gi+", token: "+an);switch(Wn[0]){case 1:Qt.push(an),gr.push(kt.yytext),Zt.push(kt.yylloc),Qt.push(Wn[1]),an=null,Ce=kt.yyleng,Hn=kt.yytext,St=kt.yylineno,Yr=kt.yylloc;break;case 2:if(P=this.productions_[Wn[1]][1],Nn.$=gr[gr.length-P],Nn._$={first_line:Zt[Zt.length-(P||1)].first_line,last_line:Zt[Zt.length-1].last_line,first_column:Zt[Zt.length-(P||1)].first_column,last_column:Zt[Zt.length-1].last_column},Ua&&(Nn._$.range=[Zt[Zt.length-(P||1)].range[0],Zt[Zt.length-1].range[1]]),sa=this.performAction.apply(Nn,[Hn,Ce,St,Wt.yy,Wn[1],gr,Zt].concat(jt)),typeof sa<"u")return sa;P&&(Qt=Qt.slice(0,-1*P*2),gr=gr.slice(0,-1*P),Zt=Zt.slice(0,-1*P)),Qt.push(this.productions_[Wn[1]][0]),gr.push(Nn.$),Zt.push(Nn._$),O=Dt[Qt[Qt.length-2]][Qt[Qt.length-1]],Qt.push(O);break;case 3:return!0}}return!0}};const Ee="http://www.w3.org/1999/02/22-rdf-syntax-ns#",W=Ee+"type",V=Ee+"first",K=Ee+"rest",z=Ee+"nil",be="http://www.w3.org/2001/XMLSchema#",ke=be+"integer",Pe=be+"decimal",dt=be+"double",pt=be+"boolean",tt="http://www.w3.org/ns/shacl#",At="http://www.w3.org/2002/07/owl#",ve="http://www.w3.org/2000/01/rdf-schema#",et={[ke]:!0,[Pe]:!0,[be+"float"]:!0,[dt]:!0,[be+"string"]:!0,[pt]:!0,[be+"dateTime"]:!0,[be+"nonPositiveInteger"]:!0,[be+"negativeInteger"]:!0,[be+"long"]:!0,[be+"int"]:!0,[be+"short"]:!0,[be+"byte"]:!0,[be+"nonNegativeInteger"]:!0,[be+"unsignedLong"]:!0,[be+"unsignedShort"]:!0,[be+"unsignedByte"]:!0,[be+"positiveInteger"]:!0,[Ee+"langString"]:!0};function Ze(qt,bt=!1){let Rt=0,Qt=qt.length;if(bt&&Qt===0)return lt.factory.namedNode(z);const gr=head=Lt();return Qt===0&&U(head,lt.factory.namedNode(K),lt.factory.namedNode(z)),qt.forEach(Zt=>{if(Zt===void 0)throw new Error("b");U(head,lt.factory.namedNode(V),Zt),U(head,lt.factory.namedNode(K),head=++Rt<Qt?Lt():lt.factory.namedNode(z))}),gr}function st(qt){return lt.n3Parser._resolveIRI(qt[0]==="<"?qt.substring(1,qt.length-1):qt)}function ut(qt){const bt=qt.indexOf(":"),Rt=qt.substr(0,bt),Qt=lt.prefixes[Rt];if(!Qt)throw new Error("Unknown prefix: "+Rt);return st(Qt+qt.substr(bt+1))}function xt(qt,bt){return bt&&bt.termType!=="NamedNode"&&(bt=lt.factory.namedNode(bt)),lt.factory.literal(qt,bt)}function Nt(qt,bt){return lt.factory.literal(qt,bt)}function Lt(qt){return lt.factory.blankNode("g_"+er++)}var er=0;lt._resetBlanks=function(){er=0};function Ie(qt,bt){return lt.n3Parser._lexer._unescape(qt.substring(bt,qt.length-bt))}function U(qt,bt,Rt){if(!qt.termType||!bt.termType||bt.value.includes(",")||!Rt.termType)throw new Error(`boo ${qt.value} ${bt.value} ${Rt.value}`);lt.onQuad(lt.factory.quad(qt,bt,Rt))}function he(qt,bt){U(lt.currentPropertyNode,lt.factory.namedNode(tt+qt),bt)}function je(qt,bt,Rt){const Qt=Lt();return U(Qt,lt.factory.namedNode(tt+bt),Rt),[qt,Qt]}function Ke(qt){if(!lt.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return qt}var Et=function(){var qt={EOF:1,parseError:function(Rt,Qt){if(this.yy.parser)this.yy.parser.parseError(Rt,Qt);else throw new Error(Rt)},setInput:function(bt,Rt){return this.yy=Rt||this.yy||{},this._input=bt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var bt=this._input[0];this.yytext+=bt,this.yyleng++,this.offset++,this.match+=bt,this.matched+=bt;var Rt=bt.match(/(?:\r\n?|\n).*/g);return Rt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),bt},unput:function(bt){var Rt=bt.length,Qt=bt.split(/(?:\r\n?|\n)/g);this._input=bt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Rt),this.offset-=Rt;var gr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Qt.length-1&&(this.yylineno-=Qt.length-1);var Zt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Qt?(Qt.length===gr.length?this.yylloc.first_column:0)+gr[gr.length-Qt.length].length-Qt[0].length:this.yylloc.first_column-Rt},this.options.ranges&&(this.yylloc.range=[Zt[0],Zt[0]+this.yyleng-Rt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(bt){this.unput(this.match.slice(bt))},pastInput:function(){var bt=this.matched.substr(0,this.matched.length-this.match.length);return(bt.length>20?"...":"")+bt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var bt=this.match;return bt.length<20&&(bt+=this._input.substr(0,20-bt.length)),(bt.substr(0,20)+(bt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var bt=this.pastInput(),Rt=new Array(bt.length+1).join("-");return bt+this.upcomingInput()+`
`+Rt+"^"},test_match:function(bt,Rt){var Qt,gr,Zt;if(this.options.backtrack_lexer&&(Zt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Zt.yylloc.range=this.yylloc.range.slice(0))),gr=bt[0].match(/(?:\r\n?|\n).*/g),gr&&(this.yylineno+=gr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:gr?gr[gr.length-1].length-gr[gr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+bt[0].length},this.yytext+=bt[0],this.match+=bt[0],this.matches=bt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(bt[0].length),this.matched+=bt[0],Qt=this.performAction.call(this,this.yy,this,Rt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Qt)return Qt;if(this._backtrack){for(var Dt in Zt)this[Dt]=Zt[Dt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var bt,Rt,Qt,gr;this._more||(this.yytext="",this.match="");for(var Zt=this._currentRules(),Dt=0;Dt<Zt.length;Dt++)if(Qt=this._input.match(this.rules[Zt[Dt]]),Qt&&(!Rt||Qt[0].length>Rt[0].length)){if(Rt=Qt,gr=Dt,this.options.backtrack_lexer){if(bt=this.test_match(Qt,Zt[Dt]),bt!==!1)return bt;if(this._backtrack){Rt=!1;continue}else return!1}else if(!this.options.flex)break}return Rt?(bt=this.test_match(Rt,Zt[gr]),bt!==!1?bt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Rt=this.next();return Rt||this.lex()},begin:function(Rt){this.conditionStack.push(Rt)},popState:function(){var Rt=this.conditionStack.length-1;return Rt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Rt){return Rt=this.conditionStack.length-1-Math.abs(Rt||0),Rt>=0?this.conditionStack[Rt]:"INITIAL"},pushState:function(Rt){this.begin(Rt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Rt,Qt,gr,Zt){switch(gr){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Qt.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return qt}();qe.lexer=Et;function lt(){this.yy={}}return lt.prototype=qe,qe.Parser=lt,new lt}();return DO=e,DO}var Ik;function i_e(){if(Ik)return ZA;Ik=1;const e=n_e().Parser,t=xl;class i{constructor(){}parse(n,{extendedSyntax:a,baseIRI:o}={}){this._parser=new e,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=a===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:o||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=l=>{s.push(l)},this._parser.parse(n),s.prefixes=this._parser.Parser.prefixes,s}}return ZA.Parser=i,ZA.parse=function(n,a){return new i().parse(n,a)},ZA}var qv={},Ck;function a_e(){if(Ck)return qv;Ck=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.PrefixWrappingIterator=void 0;const e=Rr();let t=class extends e.WrappingIterator{constructor(r){super(r==null?void 0:r.then(n=>(this.prefixes=n.prefixes,n)))}read(){if(this.prefixes){for(const r of Object.entries(this.prefixes))this.emit("prefix",...r);delete this.prefixes}return super.read()}};return qv.PrefixWrappingIterator=t,qv}var Dk;function o_e(){if(Dk)return kv;Dk=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.ActorRdfParseShaclc=void 0;const e=q0(),t=U0(),i=Xr(),r=i_e(),n=a_e();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,l,u){const c=new n.PrefixWrappingIterator((0,t.stringify)(s.data).then(f=>{var h;return(0,r.parse)(f,{extendedSyntax:l==="text/shaclc-ext",baseIRI:(h=s.metadata)==null?void 0:h.baseIRI})})),d=new i.Readable({objectMode:!0});return c.on("prefix",(...f)=>d.emit("prefix",...f)),{data:d.wrap(c),metadata:{triples:!0}}}};return kv.ActorRdfParseShaclc=a,kv}var Nk;function vZ(){return Nk||(Nk=1,function(e){var t=Nd&&Nd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Nd&&Nd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(o_e(),e)}(Nd)),Nd}var Fd={},Vv={},No={},Fo={},_g={},Fk;function bZ(){if(Fk)return _g;Fk=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.QuoteType=void 0;var e=d0(),t;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var i;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"})(i||(i={}));function r(u){return u===t.Space||u===t.NewLine||u===t.Tab||u===t.FormFeed||u===t.CarriageReturn}function n(u){return u===t.Slash||u===t.Gt||r(u)}function a(u){return u>=t.LowerA&&u<=t.LowerZ||u>=t.UpperA&&u<=t.UpperZ}var o;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(o||(_g.QuoteType=o={}));var s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function u(c,d){var f=c.xmlMode,h=f===void 0?!1:f,p=c.decodeEntities,g=p===void 0?!0:p,m=this;this.cbs=d,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=h,this.decodeEntities=g,this.entityDecoder=new e.EntityDecoder(h?e.xmlDecodeTree:e.htmlDecodeTree,function(y,v){return m.emitCodePoint(y,v)})}return u.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},u.prototype.write=function(c){this.offset+=this.buffer.length,this.buffer=c,this.parse()},u.prototype.end=function(){this.running&&this.finish()},u.prototype.pause=function(){this.running=!1},u.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},u.prototype.stateText=function(c){c===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&c===t.Amp&&this.startEntity()},u.prototype.stateSpecialStartSequence=function(c){var d=this.sequenceIndex===this.currentSequence.length,f=d?n(c):(c|32)===this.currentSequence[this.sequenceIndex];if(!f)this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(c)},u.prototype.stateInSpecialTag=function(c){if(this.sequenceIndex===this.currentSequence.length){if(c===t.Gt||r(c)){var d=this.index-this.currentSequence.length;if(this.sectionStart<d){var f=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=f}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(c);return}this.sequenceIndex=0}(c|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&c===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(c===t.Lt)},u.prototype.stateCDATASequence=function(c){c===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(c))},u.prototype.fastForwardTo=function(c){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===c)return!0;return this.index=this.buffer.length+this.offset-1,!1},u.prototype.stateInCommentLike=function(c){c===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):c!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},u.prototype.isTagStartChar=function(c){return this.xmlMode?!n(c):a(c)},u.prototype.startSpecial=function(c,d){this.isSpecial=!0,this.currentSequence=c,this.sequenceIndex=d,this.state=i.SpecialStartSequence},u.prototype.stateBeforeTagName=function(c){if(c===t.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(c===t.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(c)){var d=c|32;this.sectionStart=this.index,this.xmlMode?this.state=i.InTagName:d===s.ScriptEnd[2]?this.state=i.BeforeSpecialS:d===s.TitleEnd[2]?this.state=i.BeforeSpecialT:this.state=i.InTagName}else c===t.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(c))},u.prototype.stateInTagName=function(c){n(c)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(c))},u.prototype.stateBeforeClosingTagName=function(c){r(c)||(c===t.Gt?this.state=i.Text:(this.state=this.isTagStartChar(c)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},u.prototype.stateInClosingTagName=function(c){(c===t.Gt||r(c))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(c))},u.prototype.stateAfterClosingTagName=function(c){(c===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=i.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeAttributeName=function(c){c===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.sectionStart=this.index+1):c===t.Slash?this.state=i.InSelfClosingTag:r(c)||(this.state=i.InAttributeName,this.sectionStart=this.index)},u.prototype.stateInSelfClosingTag=function(c){c===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(c)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(c))},u.prototype.stateInAttributeName=function(c){(c===t.Eq||n(c))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=i.AfterAttributeName,this.stateAfterAttributeName(c))},u.prototype.stateAfterAttributeName=function(c){c===t.Eq?this.state=i.BeforeAttributeValue:c===t.Slash||c===t.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(c)):r(c)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=i.InAttributeName,this.sectionStart=this.index)},u.prototype.stateBeforeAttributeValue=function(c){c===t.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):c===t.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):r(c)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(c))},u.prototype.handleInAttributeValue=function(c,d){c===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===t.DoubleQuote?o.Double:o.Single,this.index+1),this.state=i.BeforeAttributeName):this.decodeEntities&&c===t.Amp&&this.startEntity()},u.prototype.stateInAttributeValueDoubleQuotes=function(c){this.handleInAttributeValue(c,t.DoubleQuote)},u.prototype.stateInAttributeValueSingleQuotes=function(c){this.handleInAttributeValue(c,t.SingleQuote)},u.prototype.stateInAttributeValueNoQuotes=function(c){r(c)||c===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(c)):this.decodeEntities&&c===t.Amp&&this.startEntity()},u.prototype.stateBeforeDeclaration=function(c){c===t.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=c===t.Dash?i.BeforeComment:i.InDeclaration},u.prototype.stateInDeclaration=function(c){(c===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},u.prototype.stateInProcessingInstruction=function(c){(c===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeComment=function(c){c===t.Dash?(this.state=i.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},u.prototype.stateInSpecialComment=function(c){(c===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},u.prototype.stateBeforeSpecialS=function(c){var d=c|32;d===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):d===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(c))},u.prototype.stateBeforeSpecialT=function(c){var d=c|32;d===s.TitleEnd[3]?this.startSpecial(s.TitleEnd,4):d===s.TextareaEnd[3]?this.startSpecial(s.TextareaEnd,4):(this.state=i.InTagName,this.stateInTagName(c))},u.prototype.startEntity=function(){this.baseState=this.state,this.state=i.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===i.Text||this.baseState===i.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},u.prototype.stateInEntity=function(){var c=this.entityDecoder.write(this.buffer,this.index-this.offset);c>=0?(this.state=this.baseState,c===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},u.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===i.InAttributeValueDq||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},u.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},u.prototype.parse=function(){for(;this.shouldContinue();){var c=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case i.Text:{this.stateText(c);break}case i.SpecialStartSequence:{this.stateSpecialStartSequence(c);break}case i.InSpecialTag:{this.stateInSpecialTag(c);break}case i.CDATASequence:{this.stateCDATASequence(c);break}case i.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(c);break}case i.InAttributeName:{this.stateInAttributeName(c);break}case i.InCommentLike:{this.stateInCommentLike(c);break}case i.InSpecialComment:{this.stateInSpecialComment(c);break}case i.BeforeAttributeName:{this.stateBeforeAttributeName(c);break}case i.InTagName:{this.stateInTagName(c);break}case i.InClosingTagName:{this.stateInClosingTagName(c);break}case i.BeforeTagName:{this.stateBeforeTagName(c);break}case i.AfterAttributeName:{this.stateAfterAttributeName(c);break}case i.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(c);break}case i.BeforeAttributeValue:{this.stateBeforeAttributeValue(c);break}case i.BeforeClosingTagName:{this.stateBeforeClosingTagName(c);break}case i.AfterClosingTagName:{this.stateAfterClosingTagName(c);break}case i.BeforeSpecialS:{this.stateBeforeSpecialS(c);break}case i.BeforeSpecialT:{this.stateBeforeSpecialT(c);break}case i.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(c);break}case i.InSelfClosingTag:{this.stateInSelfClosingTag(c);break}case i.InDeclaration:{this.stateInDeclaration(c);break}case i.BeforeDeclaration:{this.stateBeforeDeclaration(c);break}case i.BeforeComment:{this.stateBeforeComment(c);break}case i.InProcessingInstruction:{this.stateInProcessingInstruction(c);break}case i.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},u.prototype.finish=function(){this.state===i.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},u.prototype.handleTrailingData=function(){var c=this.buffer.length+this.offset;this.sectionStart>=c||(this.state===i.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,c,0):this.cbs.oncomment(this.sectionStart,c,0):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,c))},u.prototype.emitCodePoint=function(c,d){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(c)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(c,this.sectionStart))},u}();return _g.default=l,_g}var Lk;function Mk(){if(Lk)return Fo;Lk=1;var e=Fo&&Fo.__createBinding||(Object.create?function(m,y,v,b){b===void 0&&(b=v);var _=Object.getOwnPropertyDescriptor(y,v);(!_||("get"in _?!y.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(m,b,_)}:function(m,y,v,b){b===void 0&&(b=v),m[b]=y[v]}),t=Fo&&Fo.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),i=Fo&&Fo.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&e(y,m,v);return t(y,m),y};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.Parser=void 0;var r=i(bZ()),n=d0(),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),u=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",a],["input",a],["output",a],["button",a],["datalist",a],["textarea",a],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,g=function(){function m(y,v){v===void 0&&(v={});var b,_,w,T,R,F;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(b=v.lowerCaseTags)!==null&&b!==void 0?b:this.htmlMode,this.lowerCaseAttributeNames=(_=v.lowerCaseAttributeNames)!==null&&_!==void 0?_:this.htmlMode,this.recognizeSelfClosing=(w=v.recognizeSelfClosing)!==null&&w!==void 0?w:!this.htmlMode,this.tokenizer=new((T=v.Tokenizer)!==null&&T!==void 0?T:r.default)(this.options,this),this.foreignContext=[!this.htmlMode],(F=(R=this.cbs).onparserinit)===null||F===void 0||F.call(R,this)}return m.prototype.ontext=function(y,v){var b,_,w=this.getSlice(y,v);this.endIndex=v-1,(_=(b=this.cbs).ontext)===null||_===void 0||_.call(b,w),this.startIndex=v},m.prototype.ontextentity=function(y,v){var b,_;this.endIndex=v-1,(_=(b=this.cbs).ontext)===null||_===void 0||_.call(b,(0,n.fromCodePoint)(y)),this.startIndex=v},m.prototype.isVoidElement=function(y){return this.htmlMode&&d.has(y)},m.prototype.onopentagname=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},m.prototype.emitOpenTag=function(y){var v,b,_,w;this.openTagStart=this.startIndex,this.tagname=y;var T=this.htmlMode&&c.get(y);if(T)for(;this.stack.length>0&&T.has(this.stack[0]);){var R=this.stack.shift();(b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,R,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(f.has(y)?this.foreignContext.unshift(!0):h.has(y)&&this.foreignContext.unshift(!1))),(w=(_=this.cbs).onopentagname)===null||w===void 0||w.call(_,y),this.cbs.onopentag&&(this.attribs={})},m.prototype.endOpenTag=function(y){var v,b;this.startIndex=this.openTagStart,this.attribs&&((b=(v=this.cbs).onopentag)===null||b===void 0||b.call(v,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},m.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},m.prototype.onclosetag=function(y,v){var b,_,w,T,R,F,D,A;this.endIndex=v;var x=this.getSlice(y,v);if(this.lowerCaseTagNames&&(x=x.toLowerCase()),this.htmlMode&&(f.has(x)||h.has(x))&&this.foreignContext.shift(),this.isVoidElement(x))this.htmlMode&&x==="br"&&((T=(w=this.cbs).onopentagname)===null||T===void 0||T.call(w,"br"),(F=(R=this.cbs).onopentag)===null||F===void 0||F.call(R,"br",{},!0),(A=(D=this.cbs).onclosetag)===null||A===void 0||A.call(D,"br",!1));else{var N=this.stack.indexOf(x);if(N!==-1)for(var j=0;j<=N;j++){var H=this.stack.shift();(_=(b=this.cbs).onclosetag)===null||_===void 0||_.call(b,H,j!==N)}else this.htmlMode&&x==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},m.prototype.onselfclosingtag=function(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},m.prototype.closeCurrentTag=function(y){var v,b,_=this.tagname;this.endOpenTag(y),this.stack[0]===_&&((b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,_,!y),this.stack.shift())},m.prototype.onattribname=function(y,v){this.startIndex=y;var b=this.getSlice(y,v);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},m.prototype.onattribdata=function(y,v){this.attribvalue+=this.getSlice(y,v)},m.prototype.onattribentity=function(y){this.attribvalue+=(0,n.fromCodePoint)(y)},m.prototype.onattribend=function(y,v){var b,_;this.endIndex=v,(_=(b=this.cbs).onattribute)===null||_===void 0||_.call(b,this.attribname,this.attribvalue,y===r.QuoteType.Double?'"':y===r.QuoteType.Single?"'":y===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},m.prototype.getInstructionName=function(y){var v=y.search(p),b=v<0?y:y.substr(0,v);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},m.prototype.ondeclaration=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);if(this.cbs.onprocessinginstruction){var _=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(_),"!".concat(b))}this.startIndex=v+1},m.prototype.onprocessinginstruction=function(y,v){this.endIndex=v;var b=this.getSlice(y,v);if(this.cbs.onprocessinginstruction){var _=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(_),"?".concat(b))}this.startIndex=v+1},m.prototype.oncomment=function(y,v,b){var _,w,T,R;this.endIndex=v,(w=(_=this.cbs).oncomment)===null||w===void 0||w.call(_,this.getSlice(y,v-b)),(R=(T=this.cbs).oncommentend)===null||R===void 0||R.call(T),this.startIndex=v+1},m.prototype.oncdata=function(y,v,b){var _,w,T,R,F,D,A,x,N,j;this.endIndex=v;var H=this.getSlice(y,v-b);!this.htmlMode||this.options.recognizeCDATA?((w=(_=this.cbs).oncdatastart)===null||w===void 0||w.call(_),(R=(T=this.cbs).ontext)===null||R===void 0||R.call(T,H),(D=(F=this.cbs).oncdataend)===null||D===void 0||D.call(F)):((x=(A=this.cbs).oncomment)===null||x===void 0||x.call(A,"[CDATA[".concat(H,"]]")),(j=(N=this.cbs).oncommentend)===null||j===void 0||j.call(N)),this.startIndex=v+1},m.prototype.onend=function(){var y,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=0;b<this.stack.length;b++)this.cbs.onclosetag(this.stack[b],!0)}(v=(y=this.cbs).onend)===null||v===void 0||v.call(y)},m.prototype.reset=function(){var y,v,b,_;(v=(y=this.cbs).onreset)===null||v===void 0||v.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(_=(b=this.cbs).onparserinit)===null||_===void 0||_.call(b,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},m.prototype.parseComplete=function(y){this.reset(),this.end(y)},m.prototype.getSlice=function(y,v){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(y-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,v-this.bufferOffset);return b},m.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},m.prototype.write=function(y){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},m.prototype.end=function(y){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},m.prototype.pause=function(){this.tokenizer.pause()},m.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},m.prototype.parseChunk=function(y){this.write(y)},m.prototype.done=function(y){this.end(y)},m}();return Fo.Parser=g,Fo}var jk;function s_e(){return jk||(jk=1,function(e){var t=No&&No.__createBinding||(Object.create?function(v,b,_,w){w===void 0&&(w=_);var T=Object.getOwnPropertyDescriptor(b,_);(!T||("get"in T?!b.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return b[_]}}),Object.defineProperty(v,w,T)}:function(v,b,_,w){w===void 0&&(w=_),v[w]=b[_]}),i=No&&No.__setModuleDefault||(Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b}),r=No&&No.__importStar||function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var _ in v)_!=="default"&&Object.prototype.hasOwnProperty.call(v,_)&&t(b,v,_);return i(b,v),b},n=No&&No.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=Mk(),o=Mk();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=Ts(),l=Ts();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function u(v,b){var _=new s.DomHandler(void 0,b);return new a.Parser(_,b).end(v),_.root}e.parseDocument=u;function c(v,b){return u(v,b).children}e.parseDOM=c;function d(v,b,_){var w=new s.DomHandler(function(T){return v(T,w.root)},b,_);return new a.Parser(w,b)}e.createDocumentStream=d;function f(v,b,_){var w=new s.DomHandler(v,b,_);return new a.Parser(w,b)}e.createDomStream=f;var h=bZ();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return n(h).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return h.QuoteType}}),e.ElementType=r(V0());var p=Gg(),g=Gg();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var m={xmlMode:!0};function y(v,b){return b===void 0&&(b=m),(0,p.getFeed)(c(v,b))}e.parseFeed=y,e.DomUtils=r(Gg())}(No)),No}var kk;function u_e(){if(kk)return Vv;kk=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.ActorRdfParseHtml=void 0;const e=q0(),t=s_e(),i=Xr();class r extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,o,s){var p;const l=new i.Readable({objectMode:!0});l._read=()=>{};let u=0,c=1;function d(g){l.emit("error",g)}function f(){--c===0&&l.push(null)}const h={baseIRI:((p=a.metadata)==null?void 0:p.baseIRI)??"",context:s,emit:g=>{u--,l.push(g)},end:f,error:d,headers:a.headers};try{const g=await Promise.all(this.busRdfParseHtml.publish(h));c+=g.length;const m=[];for(const b of g){const{htmlParseListener:_}=await b.actor.run(h);m.push(_)}const y=new t.Parser({onclosetag(){try{for(const b of m)b.onTagClose()}catch(b){d(b)}},onend(){try{for(const b of m)b.onEnd()}catch(b){d(b)}f()},onopentag(b,_){try{for(const w of m)w.onTagOpen(b,_)}catch(w){d(w)}},ontext(b){try{for(const _ of m)_.onText(b)}catch(_){d(_)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),v=l._read=b=>{for(u=Math.max(b,u);u>0;){const _=a.data.read();if(_===null){a.data.once("readable",()=>v(0));return}y.write(_.toString())}};a.data.on("error",d).on("end",()=>y.end())}catch(g){setTimeout(()=>{l.emit("error",g)})}return{data:l}}}return Vv.ActorRdfParseHtml=r,Vv}var Bk;function _Z(){return Bk||(Bk=1,function(e){var t=Fd&&Fd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Fd&&Fd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(u_e(),e)}(Fd)),Fd}var Ld={},Uv={},Md={},Hv={},qk;function l_e(){if(qk)return Hv;qk=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.ActorRdfParseHtml=void 0;const e=_t();class t extends e.Actor{constructor(r){super(r)}}return Hv.ActorRdfParseHtml=t,Hv}var Vk;function c_e(){return Vk||(Vk=1,function(e){var t=Md&&Md.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Md&&Md.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(l_e(),e)}(Md)),Md}var jd={},NO={},Uk;function d_e(){return Uk||(Uk=1,Object.defineProperty(NO,"__esModule",{value:!0})),NO}var $v={},Hk;function wZ(){if(Hk)return $v;Hk=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.ItemPropertyHandlerContent=void 0;let e=class{canHandle(i,r){return"content"in r}getObject(i,r,n){return r.createLiteral(i.content,n)}};return $v.ItemPropertyHandlerContent=e,$v}var Qv={},zv={},$k;function p3(){if($k)return zv;$k=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.Util=void 0;const e=yr(),t=Ko();class i{constructor(n,a){this.dataFactory=n||new e.DataFactory,this.baseIRI=a||""}static isValidIri(n){return i.IRI_REGEX.test(n)}createVocabIris(n,a,o){return n.split(/\s+/u).filter(s=>!!s).map(s=>{if(!i.isValidIri(s)){if(!o)return;s=`${a.vocab||`${this.baseIRI}#`}${s}`}return this.dataFactory.namedNode(s)}).filter(s=>!!s)}getVocabularyExpansionType(n,a,o){const s=n.split(/\s+/u);if(s.includes("subPropertyOf")||s.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${i.RDF}type`)];if(a.vocab&&a.vocab in o&&o[a.vocab].properties){let l=[];for(const[u,c]of Object.entries(o[a.vocab].properties))s.includes(u)&&(l=[...Object.values(c).map(d=>this.dataFactory.namedNode(d))]);return l}return[]}createSubject(n){if(!i.isValidIri(n))try{n=(0,t.resolve)(n,this.baseIRI)}catch{return}return this.dataFactory.namedNode(n)}createLiteral(n,a){return this.dataFactory.literal(n,a.language)}deriveVocab(n,a){let o;for(const s in a)if(n.startsWith(s)){o=s,o.endsWith("/")||(o+="#");break}if(!o){const s=n.indexOf("#");s>0?o=n.slice(0,s+1):o=(0,t.resolve)(".",n)}return o}}return zv.Util=i,i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XSD="http://www.w3.org/2001/XMLSchema#",i.RDFA="http://www.w3.org/ns/rdfa#",i.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,zv}var Qk;function SZ(){if(Qk)return Qv;Qk=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.ItemPropertyHandlerNumber=void 0;const e=p3();let t=class{constructor(r,n){this.tagName=r,this.attributeName=n}canHandle(r,n){return this.tagName===r&&this.attributeName in n}getObject(r,n,a){const o=r[this.attributeName];let s;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?s=`${e.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(s=`${e.Util.XSD}double`),n.dataFactory.literal(o,s&&n.dataFactory.namedNode(s))}};return Qv.ItemPropertyHandlerNumber=t,Qv}var Gv={},zk;function TZ(){if(zk)return Gv;zk=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.ItemPropertyHandlerTime=void 0;const e=p3();let t=class AZ{canHandle(r,n){return r==="time"&&"datetime"in n}getObject(r,n,a){const o=r.datetime;let s;for(const l of AZ.TIME_REGEXES)if(l.regex.test(o)){s=n.dataFactory.namedNode(e.Util.XSD+l.type);break}return n.dataFactory.literal(o,s)}};return Gv.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],Gv}var Wv={},Gk;function EZ(){if(Gk)return Wv;Gk=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.ItemPropertyHandlerUrl=void 0;const e=Ko();let t=class{constructor(r,n){this.tagName=r,this.attributeName=n}canHandle(r,n){return this.tagName===r&&this.attributeName in n}getObject(r,n,a){return n.dataFactory.namedNode((0,e.resolve)(r[this.attributeName],n.baseIRI))}};return Wv.ItemPropertyHandlerUrl=t,Wv}var FO={},Wk;function f_e(){return Wk||(Wk=1,Object.defineProperty(FO,"__esModule",{value:!0})),FO}var LO={},Kk;function h_e(){return Kk||(Kk=1,Object.defineProperty(LO,"__esModule",{value:!0})),LO}var MO={},Jk;function p_e(){return Jk||(Jk=1,Object.defineProperty(MO,"__esModule",{value:!0})),MO}var Kv={};const g_e={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var Xk;function m_e(){if(Xk)return Kv;Xk=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.MicrodataRdfParser=void 0;const e=fZ(),t=Xr(),i=wZ(),r=SZ(),n=TZ(),a=EZ(),o=p3(),s=g_e;let l=class pI extends t.Transform{constructor(c){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},c=c||{},this.options=c,this.util=new o.Util(c.dataFactory,c.baseIRI),this.defaultGraph=c.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=c.htmlParseListener,this.vocabRegistry=c.vocabRegistry||s,this.parser=this.initializeParser(!!c.xmlMode)}import(c){const d=new t.PassThrough({readableObjectMode:!0});c.on("error",h=>f.emit("error",h)),c.on("data",h=>d.push(h)),c.on("end",()=>d.push(null));const f=d.pipe(new pI(this.options));return f}_transform(c,d,f){this.parser.write(c.toString()),f()}_flush(c){this.parser.end(),c()}getItemScope(c){let d=this.itemScopeStack.length-(c?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(c,d){if(!this.isEmittingReferences){if("id"in d){const h=d.id;this.pendingItemRefsRangeCollecting[h]={events:[],counter:0,ids:[]}}for(const h of Object.values(this.pendingItemRefsRangeCollecting))h.counter++,h.events.push({type:"open",name:c,attributes:d})}this.textBufferStack.push(void 0);let f;if("itemscope"in d){let h;if(this.emittingReferencesItemScopeIdGenerator)h=this.emittingReferencesItemScopeIdGenerator();else{h="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const g of Object.values(this.pendingItemRefsRangeCollecting))g.ids.push(h)}f={subject:h},this.isEmittingReferences&&(f.blockEmission=!0);const p=this.getItemScope();p&&p.vocab&&(f.vocab=p.vocab),this.itemScopeStack.push(f)}else f=this.getItemScope(),this.itemScopeStack.push(void 0);if(f){if("itemtype"in d)for(const h of this.util.createVocabIris(d.itemtype,f,!1))f.vocab||(f.vocab=this.util.deriveVocab(h.value,this.vocabRegistry)),f.blockEmission||this.emitTriple(f.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),h);if("lang"in d&&(f.language=d.lang),"xml:lang"in d&&(f.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const h of d.itemref.split(/\s+/u))h in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[h]=[]),this.pendingItemRefsDomain[h].push(f),this.tryToEmitReferences(h,f)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,f,c,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,f,c,d)}onText(c){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:c});for(const d of this.textBufferStack)d&&d.push(c)}onTagClose(){if(!this.isEmittingReferences)for(const[d,f]of Object.entries(this.pendingItemRefsRangeCollecting))f.counter--,f.events.push({type:"close"}),f.counter===0&&(this.pendingItemRefsRangeFinalized[d]=f,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const c=this.getItemScope(!0);if(c){const d=this.getDepth();if(c.predicates&&d in c.predicates)for(const[f,h]of Object.entries(c.predicates[d])){const p=this.util.createLiteral(this.textBufferStack[d].join(""),c);this.emitPredicateTriples(c,h,p,f==="reverse"),delete c.predicates[d][f]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(c){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,f)=>{try{this.onTagOpen(d,f),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,f)}catch(h){this.emit("error",h)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(f){this.emit("error",f)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:c})}handleItemProperties(c,d,f,h,p){const g=this.getItemScope(!0);if(g){const m=this.getDepth(),y=this.util.createVocabIris(c,g,!0);g.predicates||(g.predicates={}),g.predicates[m]||(g.predicates[m]={});const v=d?"reverse":"forward";g.predicates[m][v]=y;for(const b of this.util.getVocabularyExpansionType(c,g,this.vocabRegistry))y.push(b);if(f&&"itemscope"in p)this.emitPredicateTriples(g,y,f.subject,d),delete g.predicates[m][v];else for(const b of pI.ITEM_PROPERTY_HANDLERS)if(b.canHandle(h,p)){const _=b.getObject(p,this.util,g);this.emitPredicateTriples(g,y,_,d),delete g.predicates[m][v]}g.predicates[m][v]&&(this.textBufferStack[m]=[])}}emitPredicateTriples(c,d,f,h){if(!c.blockEmission)for(const p of d)h?f.termType!=="Literal"&&this.emitTriple(f,p,c.subject):this.emitTriple(c.subject,p,f)}emitTriple(c,d,f){this.push(this.util.dataFactory.quad(c,d,f,this.defaultGraph))}tryToEmitReferences(c,d){const f=this.pendingItemRefsRangeFinalized[c];if(f){let h;if(d){h=[d];const p=this.pendingItemRefsDomain[c].indexOf(d);this.pendingItemRefsDomain[c].splice(p,1)}else h=this.pendingItemRefsDomain[c],delete this.pendingItemRefsDomain[c];if(h){const p=this.itemScopeStack,g=this.textBufferStack;this.isEmittingReferences=!0;for(const m of h){this.itemScopeStack=[m],this.textBufferStack=[void 0];const y=[...f.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const v of f.events)switch(v.type){case"open":this.onTagOpen(v.name,v.attributes);break;case"text":this.onText(v.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=p,this.textBufferStack=g,this.isEmittingReferences=!1}}}};return Kv.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new i.ItemPropertyHandlerContent,new a.ItemPropertyHandlerUrl("a","href"),new a.ItemPropertyHandlerUrl("area","href"),new a.ItemPropertyHandlerUrl("audio","src"),new a.ItemPropertyHandlerUrl("embed","src"),new a.ItemPropertyHandlerUrl("iframe","src"),new a.ItemPropertyHandlerUrl("img","src"),new a.ItemPropertyHandlerUrl("link","href"),new a.ItemPropertyHandlerUrl("object","data"),new a.ItemPropertyHandlerUrl("source","src"),new a.ItemPropertyHandlerUrl("track","src"),new a.ItemPropertyHandlerUrl("video","src"),new r.ItemPropertyHandlerNumber("data","value"),new r.ItemPropertyHandlerNumber("meter","value"),new n.ItemPropertyHandlerTime],Kv}var Yk;function y_e(){return Yk||(Yk=1,function(e){var t=jd&&jd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=jd&&jd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(d_e(),e),i(wZ(),e),i(SZ(),e),i(TZ(),e),i(EZ(),e),i(f_e(),e),i(h_e(),e),i(p_e(),e),i(m_e(),e),i(p3(),e)}(jd)),jd}var Zk;function v_e(){if(Zk)return Uv;Zk=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.ActorRdfParseHtmlMicrodata=void 0;const e=c_e(),t=y_e();let i=class extends e.ActorRdfParseHtml{constructor(n){super(n)}async test(n){return!0}async run(n){const a=n.headers?n.headers.get("content-type"):null,o=a==null?void 0:a.includes("xml"),s=new t.MicrodataRdfParser({baseIRI:n.baseIRI,xmlMode:o});s.on("error",n.error),s.on("data",n.emit);const l=s.onEnd;return s.onEnd=()=>{l.call(s),n.end()},{htmlParseListener:s}}};return Uv.ActorRdfParseHtmlMicrodata=i,Uv}var eB;function xZ(){return eB||(eB=1,function(e){var t=Ld&&Ld.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ld&&Ld.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(v_e(),e)}(Ld)),Ld}var kd={},Jv={},Bd={},Xv={},tB;function b_e(){if(tB)return Xv;tB=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.ActorRdfParseHtml=void 0;const e=_t();class t extends e.Actor{constructor(r){super(r)}}return Xv.ActorRdfParseHtml=t,Xv}var rB;function __e(){return rB||(rB=1,function(e){var t=Bd&&Bd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Bd&&Bd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(b_e(),e)}(Bd)),Bd}var nB;function w_e(){if(nB)return Jv;nB=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.ActorRdfParseHtmlRdfa=void 0;const e=__e(),t=gZ();let i=class extends e.ActorRdfParseHtml{constructor(n){super(n)}async test(n){return!0}async run(n){const a=n.headers?n.headers.get("content-type"):null,o=(n.headers&&n.headers.get("content-language"))??void 0,s=a&&a.includes("xml")?"xhtml":"html",l=new t.RdfaParser({baseIRI:n.baseIRI,profile:s,language:o});l.on("error",n.error),l.on("data",n.emit);const u=l.onEnd;return l.onEnd=()=>{u.call(l),n.end()},{htmlParseListener:l}}};return Jv.ActorRdfParseHtmlRdfa=i,Jv}var iB;function RZ(){return iB||(iB=1,function(e){var t=kd&&kd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=kd&&kd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(w_e(),e)}(kd)),kd}var qd={},Yv={},Vd={},Zv={},aB;function S_e(){if(aB)return Zv;aB=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.ActorRdfResolveHypermediaLinks=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Zv.ActorRdfResolveHypermediaLinks=t,Zv}var oB;function A_e(){return oB||(oB=1,function(e){var t=Vd&&Vd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Vd&&Vd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(S_e(),e)}(Vd)),Vd}var sB;function T_e(){if(sB)return Yv;sB=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.ActorRdfResolveHypermediaLinksNext=void 0;const e=A_e();let t=class extends e.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){if(!r.metadata.next||r.metadata.next.length===0)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(r){return{links:r.metadata.next.map(n=>({url:n}))}}};return Yv.ActorRdfResolveHypermediaLinksNext=t,Yv}var uB;function OZ(){return uB||(uB=1,function(e){var t=qd&&qd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=qd&&qd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(T_e(),e)}(qd)),qd}var Ud={},eb={},Hd={},tb={},lB;function E_e(){if(lB)return tb;lB=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.ActorRdfResolveHypermediaLinksQueue=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return tb.ActorRdfResolveHypermediaLinksQueue=t,tb}var jO={},cB;function x_e(){return cB||(cB=1,Object.defineProperty(jO,"__esModule",{value:!0})),jO}var rb={},dB;function R_e(){if(dB)return rb;dB=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.LinkQueueWrapper=void 0;let e=class{constructor(i){this.linkQueue=i}push(i,r){return this.linkQueue.push(i,r)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return rb.LinkQueueWrapper=e,rb}var fB;function O_e(){return fB||(fB=1,function(e){var t=Hd&&Hd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Hd&&Hd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(E_e(),e),i(x_e(),e),i(R_e(),e)}(Hd)),Hd}var nb={},hB;function PZ(){if(hB)return nb;hB=1,Object.defineProperty(nb,"__esModule",{value:!0}),nb.LinkQueueFifo=void 0;let e=class{constructor(){this.links=[]}push(i){return this.links.push(i),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return nb.LinkQueueFifo=e,nb}var pB;function P_e(){if(pB)return eb;pB=1,Object.defineProperty(eb,"__esModule",{value:!0}),eb.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const e=O_e(),t=PZ();let i=class extends e.ActorRdfResolveHypermediaLinksQueue{constructor(n){super(n)}async test(n){return!0}async run(n){return{linkQueue:new t.LinkQueueFifo}}};return eb.ActorRdfResolveHypermediaLinksQueueFifo=i,eb}var gB;function IZ(){return gB||(gB=1,function(e){var t=Ud&&Ud.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ud&&Ud.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(P_e(),e),i(PZ(),e)}(Ud)),Ud}var $d={},ib={},Qd={},ab={},mB;function I_e(){if(mB)return ab;mB=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.ActorRdfSerialize=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTyped{constructor(r){super(r)}};return ab.ActorRdfSerialize=t,ab}var ob={},yB;function C_e(){if(yB)return ob;yB=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.ActorRdfSerializeFixedMediaTypes=void 0;const e=B0();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return!0}};return ob.ActorRdfSerializeFixedMediaTypes=t,ob}var vB;function dN(){return vB||(vB=1,function(e){var t=Qd&&Qd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Qd&&Qd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(I_e(),e),i(C_e(),e)}(Qd)),Qd}var bB;function D_e(){if(bB)return ib;bB=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.ActorRdfSerializeN3=void 0;const e=dN(),t=xl;let i=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(n){super(n)}async runHandle(n,a){const o=new t.StreamWriter({format:a});let s;return"pipe"in n.quadStream?(n.quadStream.on("error",l=>o.emit("error",l)),s=n.quadStream.pipe(o)):s=o.import(n.quadStream),{data:s,triples:a==="text/turtle"||a==="application/n-triples"||a==="text/n3"}}};return ib.ActorRdfSerializeN3=i,ib}var _B;function CZ(){return _B||(_B=1,function(e){var t=$d&&$d.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=$d&&$d.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(D_e(),e)}($d)),$d}var zd={},sb={},Gd={},ub={},lb={},wB;function N_e(){if(wB)return lb;wB=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.SeparatorType=void 0;let e=class{constructor(i){this.label=i}};return lb.SeparatorType=e,e.COMMA=new e(","),e.OBJECT_START=new e("{"),e.OBJECT_END=new e("}"),e.OBJECT_END_COMMA=new e("},"),e.ARRAY_START=new e("["),e.ARRAY_END=new e("]"),e.ARRAY_END_COMMA=new e("],"),e.GRAPH_FIELD_NONCOMPACT=new e('"@graph": ['),e.GRAPH_FIELD_COMPACT=new e('"@graph":['),e.CONTEXT_FIELD=new e('"@context":'),lb}var cb={},SB;function DZ(){if(SB)return cb;SB=1,Object.defineProperty(cb,"__esModule",{value:!0}),cb.Util=void 0;const e=Ai();class t{static termToValue(r,n,a={compactIds:!1,useNativeTypes:!1}){switch(r.termType){case"NamedNode":const o=n.compactIri(r.value,a.vocab);return a.compactIds?o:{"@id":o};case"DefaultGraph":return a.compactIds?r.value:{"@id":r.value};case"BlankNode":const s=`_:${r.value}`;return a.compactIds?s:{"@id":s};case"Literal":if(r.datatype.value===t.RDF_JSON){let c;try{c=JSON.parse(r.value)}catch(d){throw new e.ErrorCoded("Invalid JSON literal: "+d.message,e.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":c,"@type":"@json"}}if(a.rdfDirection==="i18n-datatype"&&r.datatype.value.startsWith(t.I18N)){const[c,d]=r.datatype.value.substr(t.I18N.length,r.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":r.value},c?{"@language":c}:{}),d?{"@direction":d}:{})}const l=r.datatype.value===t.XSD_STRING,u={"@value":!l&&a.useNativeTypes?t.stringToNativeType(r.value,r.datatype.value):r.value};return r.language?Object.assign(Object.assign({},u),{"@language":r.language}):!l&&typeof u["@value"]=="string"?Object.assign(Object.assign({},u),{"@type":r.datatype.value}):u}}static stringToNativeType(r,n){if(n.startsWith(t.XSD))switch(n.substr(t.XSD.length)){case"boolean":if(r==="true")return!0;if(r==="false")return!1;throw new Error(`Invalid xsd:boolean value '${r}'`);case"integer":case"number":case"int":case"byte":case"long":const o=parseInt(r,10);if(isNaN(o))throw new Error(`Invalid xsd:integer value '${r}'`);return o;case"float":case"double":const s=parseFloat(r);if(isNaN(s))throw new Error(`Invalid xsd:float value '${r}'`);return s}return r}}return cb.Util=t,t.XSD="http://www.w3.org/2001/XMLSchema#",t.XSD_STRING=t.XSD+"string",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.RDF_TYPE=t.RDF+"type",t.RDF_JSON=t.RDF+"JSON",t.I18N="https://www.w3.org/ns/i18n#",cb}var AB;function F_e(){if(AB)return ub;AB=1,Object.defineProperty(ub,"__esModule",{value:!0}),ub.JsonLdSerializer=void 0;const e=Ai(),t=N_e(),i=DZ(),r=Xr();let n=class NZ extends r.Transform{constructor(o={}){super({objectMode:!0}),this.indentation=0,this.options=o,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new e.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new e.JsonLdContextNormalized({}))}import(o){const s=new r.PassThrough({objectMode:!0});o.on("error",u=>l.emit("error",u)),o.on("data",u=>s.push(u)),o.on("end",()=>s.push(null));const l=s.pipe(new NZ(this.options));return l}_transform(o,s,l){this.context.then(u=>{this.transformQuad(o,u),l()}).catch(l)}async list(o){const s=await this.context;return{"@list":o.map(l=>i.Util.termToValue(l,s,this.options))}}_flush(o){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),o(null,null)}transformQuad(o,s){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(o.subject);if(!l&&(!this.lastGraph||!o.graph.equals(this.lastGraph))){let u=o.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(o.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),u=!1):u?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),o.graph.termType!=="DefaultGraph"&&(u||this.pushId(o.graph,!0,s),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=o.graph}(!this.lastSubject||!o.subject.equals(this.lastSubject))&&(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END_COMMA),this.lastGraph=o.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(o.subject,!0,s)),this.lastSubject=o.subject),(!this.lastPredicate||!o.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(o.predicate,s)),this.pushObject(o.object,s)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(t.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(t.SeparatorType.ARRAY_START),this.indentation++)}pushId(o,s,l){if(o.termType==="Quad")this.pushNestedQuad(o,!0,l);else{const u=o.termType==="BlankNode"?"_:"+o.value:l.compactIri(o.value,!1);s?this.pushSeparator(t.SeparatorType.OBJECT_START):(this.push(t.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${u}",`:`"@id":"${u}",`)}}pushPredicate(o,s){let l=o.value;!this.options.useRdfType&&l===i.Util.RDF_TYPE&&(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const u=s.compactIri(l,!0);this.pushIndented(this.options.space?`"${u}": [`:`"${u}":[`),this.indentation++,this.lastPredicate=o}pushObject(o,s){if(this.hadObjectForPredicate?this.pushSeparator(t.SeparatorType.COMMA):this.hadObjectForPredicate=!0,o.termType==="Quad"){const u=this.lastSubject,c=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(o,!1,s),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=c,this.lastSubject=u;return}let l;try{o["@list"]?l=o:l=i.Util.termToValue(o,s,this.objectOptions||this.options)}catch(u){return this.emit("error",u)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(o,s,l){this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),o.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${o.graph.value}`)),this.pushId(o.subject,!1,l),this.pushPredicate(o.predicate,l),this.pushObject(o.object,l),this.endPredicate(!1),this.endSubject(s)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END))}endPredicate(o){this.indentation--,this.pushSeparator(o?t.SeparatorType.ARRAY_END_COMMA:t.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(o){this.indentation--,this.pushSeparator(o?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(o){this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(o){this.pushIndented(o.label)}pushIndented(o,s=!0){const l=this.getIndentPrefix(),u=o.split(`
`).map(c=>l+c).join(`
`);this.push(u),this.options.space&&s&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return ub.JsonLdSerializer=n,ub}var TB;function L_e(){return TB||(TB=1,function(e){var t=Gd&&Gd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Gd&&Gd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(F_e(),e),i(DZ(),e)}(Gd)),Gd}var EB;function M_e(){if(EB)return sb;EB=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.ActorRdfSerializeJsonLd=void 0;const e=dN(),t=L_e();let i=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(n){super(n)}async runHandle(n,a,o){const s=new t.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in n.quadStream?(n.quadStream.on("error",u=>s.emit("error",u)),l=n.quadStream.pipe(s)):l=s.import(n.quadStream),{data:l}}};return sb.ActorRdfSerializeJsonLd=i,sb}var xB;function FZ(){return xB||(xB=1,function(e){var t=zd&&zd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=zd&&zd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(M_e(),e)}(zd)),zd}var Wd={},db={},eT={},RB;function j_e(){if(RB)return eT;RB=1,Object.defineProperty(eT,"__esModule",{value:!0});function e(i,r){return new Promise((n,a)=>{i.on("end",()=>n(r)),i.on("error",a)})}function t(i){const r=[];return e(i.on("data",n=>r.push(n)),r)}return eT.default=t,eT}var Ys={},ku={},fb={},hb={},OB;function k_e(){if(OB)return hb;OB=1,Object.defineProperty(hb,"__esModule",{value:!0}),hb.fragment=void 0;function e(r){let n=r;(n.endsWith("/")||n.endsWith("#"))&&(n=n.slice(0,n.length-1));const a=[];n.lastIndexOf("/")>0&&a.push(n.lastIndexOf("/")),n.lastIndexOf("#")>0&&a.push(n.lastIndexOf("#"));const o=Math.max(...a);return n.slice(o+1)}function t(r){var n;const a=(n=r.split(/[^a-z0-9]+/ig).filter(o=>o!=="").map(o=>o[0].toUpperCase()+o.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||n===void 0?void 0:n[0];return typeof a>"u"?void 0:a[0].toLowerCase()+a.slice(1)}function i(r){let n=e(r);return n=n?t(n):void 0,n||"v"}return hb.fragment=i,hb}var Kd={},Jd={},Zs={},tT={exports:{}},PB;function B_e(){return PB||(PB=1,function(e,t){var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof si<"u"&&si,r=function(){function a(){this.fetch=!1,this.DOMException=i.DOMException}return a.prototype=i,new a}();(function(a){(function(o){var s=typeof a<"u"&&a||typeof self<"u"&&self||typeof si<"u"&&si||{},l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(M){return M&&DataView.prototype.isPrototypeOf(M)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(M){return M&&c.indexOf(Object.prototype.toString.call(M))>-1};function f(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function h(M){return typeof M!="string"&&(M=String(M)),M}function p(M){var $={next:function(){var te=M.shift();return{done:te===void 0,value:te}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function g(M){this.map={},M instanceof g?M.forEach(function($,te){this.append(te,$)},this):Array.isArray(M)?M.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function($){this.append($,M[$])},this)}g.prototype.append=function(M,$){M=f(M),$=h($);var te=this.map[M];this.map[M]=te?te+", "+$:$},g.prototype.delete=function(M){delete this.map[f(M)]},g.prototype.get=function(M){return M=f(M),this.has(M)?this.map[M]:null},g.prototype.has=function(M){return this.map.hasOwnProperty(f(M))},g.prototype.set=function(M,$){this.map[f(M)]=h($)},g.prototype.forEach=function(M,$){for(var te in this.map)this.map.hasOwnProperty(te)&&M.call($,this.map[te],te,this)},g.prototype.keys=function(){var M=[];return this.forEach(function($,te){M.push(te)}),p(M)},g.prototype.values=function(){var M=[];return this.forEach(function($){M.push($)}),p(M)},g.prototype.entries=function(){var M=[];return this.forEach(function($,te){M.push([te,$])}),p(M)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function y(M){return new Promise(function($,te){M.onload=function(){$(M.result)},M.onerror=function(){te(M.error)}})}function v(M){var $=new FileReader,te=y($);return $.readAsArrayBuffer(M),te}function b(M){var $=new FileReader,te=y($),re=/charset=([A-Za-z0-9_-]+)/.exec(M.type),oe=re?re[1]:"utf-8";return $.readAsText(M,oe),te}function _(M){for(var $=new Uint8Array(M),te=new Array($.length),re=0;re<$.length;re++)te[re]=String.fromCharCode($[re]);return te.join("")}function w(M){if(M.slice)return M.slice(0);var $=new Uint8Array(M.byteLength);return $.set(new Uint8Array(M)),$.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:l.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:l.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():l.arrayBuffer&&l.blob&&u(M)?(this._bodyArrayBuffer=w(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||d(M))?this._bodyArrayBuffer=w(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=m(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function F(M){var $=M.toUpperCase();return R.indexOf($)>-1?$:M}function D(M,$){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var te=$.body;if(M instanceof D){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,$.headers||(this.headers=new g(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!te&&M._bodyInit!=null&&(te=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new g($.headers)),this.method=F($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||function(){if("AbortController"in s){var J=new AbortController;return J.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&te)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(te),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var re=/([?&])_=[^&]*/;if(re.test(this.url))this.url=this.url.replace(re,"$1_="+new Date().getTime());else{var oe=/\?/;this.url+=(oe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function A(M){var $=new FormData;return M.trim().split("&").forEach(function(te){if(te){var re=te.split("="),oe=re.shift().replace(/\+/g," "),J=re.join("=").replace(/\+/g," ");$.append(decodeURIComponent(oe),decodeURIComponent(J))}}),$}function x(M){var $=new g,te=M.replace(/\r?\n[\t ]+/g," ");return te.split("\r").map(function(re){return re.indexOf(`
`)===0?re.substr(1,re.length):re}).forEach(function(re){var oe=re.split(":"),J=oe.shift().trim();if(J){var fe=oe.join(":").trim();try{$.append(J,fe)}catch(xe){console.warn("Response "+xe.message)}}}),$}T.call(D.prototype);function N(M,$){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new g($.headers),this.url=$.url||"",this._initBody(M)}T.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},N.error=function(){var M=new N(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var j=[301,302,303,307,308];N.redirect=function(M,$){if(j.indexOf($)===-1)throw new RangeError("Invalid status code");return new N(null,{status:$,headers:{location:M}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function($,te){this.message=$,this.name=te;var re=Error($);this.stack=re.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(M,$){return new Promise(function(te,re){var oe=new D(M,$);if(oe.signal&&oe.signal.aborted)return re(new o.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function fe(){J.abort()}J.onload=function(){var ae={statusText:J.statusText,headers:x(J.getAllResponseHeaders()||"")};oe.url.indexOf("file://")===0&&(J.status<200||J.status>599)?ae.status=200:ae.status=J.status,ae.url="responseURL"in J?J.responseURL:ae.headers.get("X-Request-URL");var Fe="response"in J?J.response:J.responseText;setTimeout(function(){te(new N(Fe,ae))},0)},J.onerror=function(){setTimeout(function(){re(new TypeError("Network request failed"))},0)},J.ontimeout=function(){setTimeout(function(){re(new TypeError("Network request timed out"))},0)},J.onabort=function(){setTimeout(function(){re(new o.DOMException("Aborted","AbortError"))},0)};function xe(ae){try{return ae===""&&s.location.href?s.location.href:ae}catch{return ae}}if(J.open(oe.method,xe(oe.url),!0),oe.credentials==="include"?J.withCredentials=!0:oe.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&(l.blob?J.responseType="blob":l.arrayBuffer&&(J.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof g||s.Headers&&$.headers instanceof s.Headers)){var de=[];Object.getOwnPropertyNames($.headers).forEach(function(ae){de.push(f(ae)),J.setRequestHeader(ae,h($.headers[ae]))}),oe.headers.forEach(function(ae,Fe){de.indexOf(Fe)===-1&&J.setRequestHeader(Fe,ae)})}else oe.headers.forEach(function(ae,Fe){J.setRequestHeader(Fe,ae)});oe.signal&&(oe.signal.addEventListener("abort",fe),J.onreadystatechange=function(){J.readyState===4&&oe.signal.removeEventListener("abort",fe)}),J.send(typeof oe._bodyInit>"u"?null:oe._bodyInit)})}return H.polyfill=!0,s.fetch||(s.fetch=H,s.Headers=g,s.Request=D,s.Response=N),o.Headers=g,o.Request=D,o.Response=N,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var n=i.fetch?i:r;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t}(tT,tT.exports)),tT.exports}var IB;function fN(){if(IB)return Zs;IB=1;var e=Zs&&Zs.__awaiter||function(n,a,o,s){function l(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function d(p){try{h(s.next(p))}catch(g){c(g)}}function f(p){try{h(s.throw(p))}catch(g){c(g)}}function h(p){p.done?u(p.value):l(p.value).then(d,f)}h((s=s.apply(n,a||[])).next())})};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.fetchContext=Zs.fetchJson=void 0;const t=B_e();function i(n,a){var o;return e(this,void 0,void 0,function*(){return(yield((o=a==null?void 0:a.fetch)!==null&&o!==void 0?o:t.fetch)(n)).json()})}Zs.fetchJson=i;function r(n,a){return e(this,void 0,void 0,function*(){return(yield i(n,a))["@context"]})}return Zs.fetchContext=r,Zs}var CB;function q_e(){if(CB)return Jd;CB=1;var e=Jd&&Jd.__awaiter||function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function c(h){try{f(o.next(h))}catch(p){u(p)}}function d(h){try{f(o.throw(h))}catch(p){u(p)}}function f(h){h.done?l(h.value):s(h.value).then(c,d)}f((o=o.apply(r,n||[])).next())})};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.lookupUri=void 0;const t=fN();function i(r,n){return e(this,void 0,void 0,function*(){const a=(yield(0,t.fetchContext)(`https://prefix.cc/${r}.file.jsonld`,n))[r];if(typeof a!="string")throw new Error(`Expected uri to be a string, received: ${a} of type ${typeof a}`);return a})}return Jd.lookupUri=i,Jd}var Xd={},DB;function V_e(){if(DB)return Xd;DB=1;var e=Xd&&Xd.__awaiter||function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function c(h){try{f(o.next(h))}catch(p){u(p)}}function d(h){try{f(o.throw(h))}catch(p){u(p)}}function f(h){h.done?l(h.value):s(h.value).then(c,d)}f((o=o.apply(r,n||[])).next())})};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.lookupPrefix=void 0;const t=fN();function i(r,n){return e(this,void 0,void 0,function*(){const a=new URL("https://prefix.cc/reverse");a.searchParams.append("uri",r),a.searchParams.append("format","jsonld");const o=Object.keys(yield(0,t.fetchContext)(a,n));if(o.length===0)throw new Error("No prefixes returned");return o[0]})}return Xd.lookupPrefix=i,Xd}var Yd={},NB;function U_e(){if(NB)return Yd;NB=1;var e=Yd&&Yd.__awaiter||function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function c(h){try{f(o.next(h))}catch(p){u(p)}}function d(h){try{f(o.throw(h))}catch(p){u(p)}}function f(h){h.done?l(h.value):s(h.value).then(c,d)}f((o=o.apply(r,n||[])).next())})};Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.lookupAllPrefixes=void 0;const t=fN();function i(r){return e(this,void 0,void 0,function*(){return(0,t.fetchContext)("https://prefix.cc/context",r)})}return Yd.lookupAllPrefixes=i,Yd}var FB;function LB(){return FB||(FB=1,function(e){var t=Kd&&Kd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Kd&&Kd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(q_e(),e),i(V_e(),e),i(U_e(),e)}(Kd)),Kd}var MB;function H_e(){return MB||(MB=1,function(e){var t=fb&&fb.__awaiter||function(s,l,u,c){function d(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function p(y){try{m(c.next(y))}catch(v){h(v)}}function g(y){try{m(c.throw(y))}catch(v){h(v)}}function m(y){y.done?f(y.value):d(y.value).then(p,g)}m((c=c.apply(s,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=e.prefixToUri=e.uriToPrefix=void 0;const i=k_e(),r=LB();function n(s,l){return t(this,void 0,void 0,function*(){let u;try{u=yield(0,r.lookupPrefix)(s,l)}catch{l!=null&&l.mintOnUnknown&&(u=(0,i.fragment)(s).slice(0,4))}if(typeof u<"u"&&typeof(l==null?void 0:l.existingPrefixes)=="object"&&u in l.existingPrefixes){let c=0;for(;`${u}${c}`in l.existingPrefixes;)c+=1;u=`${u}${c}`}return u})}e.uriToPrefix=n;function a(s,l){return t(this,void 0,void 0,function*(){try{return yield(0,r.lookupUri)(s,l)}catch{return}})}e.prefixToUri=a;var o=LB();Object.defineProperty(e,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})}(fb)),fb}var pb={},jB;function $_e(){if(jB)return pb;jB=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.getShaclName=void 0;function e(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}return pb.getShaclName=e,pb}var rT={},kB;function Q_e(){return kB||(kB=1,Object.defineProperty(rT,"__esModule",{value:!0}),rT.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),rT}var nT={},BB;function z_e(){return BB||(BB=1,Object.defineProperty(nT,"__esModule",{value:!0}),nT.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),nT}var iT={},qB;function G_e(){return qB||(qB=1,Object.defineProperty(iT,"__esModule",{value:!0}),iT.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),iT}var VB;function W_e(){if(VB)return ku;VB=1;var e=ku&&ku.__awaiter||function(h,p,g,m){function y(v){return v instanceof g?v:new g(function(b){b(v)})}return new(g||(g=Promise))(function(v,b){function _(R){try{T(m.next(R))}catch(F){b(F)}}function w(R){try{T(m.throw(R))}catch(F){b(F)}}function T(R){R.done?v(R.value):y(R.value).then(_,w)}T((m=m.apply(h,p||[])).next())})},t=ku&&ku.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ku,"__esModule",{value:!0});const i=xl,r=H_e(),n=nA(),a=$_e(),o=t(Q_e()),s=t(z_e()),l=t(G_e());function u(h){var p;return(p=/^[^]*[#/]/.exec(h))===null||p===void 0?void 0:p[0]}const c={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},d={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class f{constructor(p,g,m={},y=void 0,v=!0,b=!1,_,w=!1){this.store=p,this.base=y,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=b,this.fetch=_,this.extendedSyntax=w,this.prefixes={},this.prefixRev={};for(const T of Object.keys(m)){const R=m[T],F=typeof R=="string"?R:R.value;!(F in c)&&!(T in d)&&(this.prefixRev[F]=T,this.prefixes[T]=F)}this.writer=g}write(){return e(this,void 0,void 0,function*(){const p=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(p.length===1&&p[0].subject.termType==="NamedNode"){const m=p[0].subject;this.store.removeQuads(p),m.equals(new i.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,n.termToString)(m)}`),yield this.writeImports(m)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const m=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const b=u(v.value);b&&!(b in this.prefixRev)&&!(b in c)&&m.add(b)}const y=Object.assign(Object.assign({},this.prefixes),d);yield Promise.all([...m].map(v=>(0,r.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:y}).then(b=>{this.prefixes[b]=v,y[b]=v,this.prefixRev[v]=b})))}const g=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(m=>m.termType==="NamedNode").map(m=>u(m.value)).filter(m=>typeof m=="string"));for(const m in this.prefixRev)g.has(m)||(delete this.prefixes[this.prefixRev[m]],delete this.prefixRev[m]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),d),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),c),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const m=this.store.getSubjects(null,null,null);m.length>0&&this.writer.newLine(1);for(const y of m)this.writer.add(yield this.termToString(y,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(y),this.writer.deindent();m.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new i.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(p){return e(this,void 0,void 0,function*(){const g=this.store.getObjectsOnce(p,new i.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(g.length>0)for(const m of g)this.writer.add(`IMPORTS <${m.value}>`,!0)})}writePrefixes(){return e(this,void 0,void 0,function*(){const p=Object.keys(this.prefixes).filter(g=>!(g in s.default)).sort();if(p.length>0)for(const g of p)this.writer.add(`PREFIX ${g}: <${this.prefixes[g]}>`,!0)})}termToString(p,g=!1,m=!1){return e(this,void 0,void 0,function*(){try{if(g)throw new Error("Shacl name disabled");return(0,a.getShaclName)(p)}catch{}if(p.termType==="NamedNode"){const y=u(p.value);return y&&y in this.prefixRev&&y in this.prefixRev?`${this.prefixRev[y]}:${p.value.slice(y.length)}`:(0,n.termToString)(p)}if(p.termType==="Literal")return p.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||p.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?p.value:(0,n.termToString)(p);throw p.termType==="BlankNode"&&m&&(0,n.termToString)(p),new Error(`Invalid term type for extra statement ${p.value} (${p.termType})`)})}writeShapes(){return e(this,void 0,void 0,function*(){for(const p of this.store.getSubjectsOnce(new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new i.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(p,new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new i.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(p)),this.writer.add(" ");const g=this.store.getObjectsOnce(p,new i.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(g.length>0){this.writer.add("-> ");for(const y of g)y.termType==="NamedNode"?this.writer.add(yield this.termToString(y)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(y,new i.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const m=this.store.getPredicates(p,null,null).filter(y=>[new i.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new i.NamedNode("http://www.w3.org/ns/shacl#property"),new i.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(v=>new i.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!y.equals(v)));m.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(p,m)),m.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(p,!1)}})}getSingleProperty(p,g){let m=[p];try{let y=(0,a.getShaclName)(p.predicate),v="pred";if(y==="not"){const b=this.store.getQuadsOnce(p.object,null,null,null);if(m=m.concat(b),b.length!==1)throw new Error("Can only handle having one predicate of 'not'");[p]=b,y=(0,a.getShaclName)(p.predicate),v="not"}if(!(y in g))throw new Error(`${y} is not allowed`);return{name:y,type:v,object:p.object}}catch{this.store.addQuads(m)}}singleLayerPropertiesList(p,g){const m=[];for(const y of this.store.getQuadsOnce(p,null,null,null)){const v=this.getSingleProperty(y,g);v&&m.push(v)}return m}expectOneProperty(p,g){const m=this.store.getQuadsOnce(p,null,null,null);if(m.length===1){const y=this.getSingleProperty(m[0],g);if(y)return y}this.store.addQuads(m)}orProperties(p,g){const m=[];for(const y of this.store.getQuadsOnce(p,new i.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const b of this.getList(y.object)){const _=this.expectOneProperty(b,g);if(!_)throw this.store.addQuad(y),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(_)}m.push(v)}return m}getList(p){let g=p;const m=[];for(;!g.equals(new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)m.push(this.singleObject(g,new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),g=this.singleObject(g,new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return m}writeIriLiteralOrArray(p){return e(this,void 0,void 0,function*(){if(p.termType==="BlankNode"){this.writer.add("[");let g=!0;for(const m of this.getList(p))g?g=!1:this.writer.add(" "),this.writer.add(yield this.termToString(m));this.writer.add("]")}else this.writer.add(yield this.termToString(p))})}singleObject(p,g,m){var y;return(y=this.singleQuad(p,g,m))===null||y===void 0?void 0:y.object}singleQuad(p,g,m=!1){const y=this.store.getQuadsOnce(p,g,null,null);if(m&&y.length!==1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${g==null?void 0:g.value} must have exactly one object. Instead has ${y.length}`);if(y.length>1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${g==null?void 0:g.value} can have at most one object. Instead has ${y.length}`);return y.length===1?y[0]:void 0}writeAssigment({name:p,type:g,object:m}){return e(this,void 0,void 0,function*(){g==="not"&&this.writer.add("!"),this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(m)})}writeAtom({name:p,type:g,object:m}){return e(this,void 0,void 0,function*(){switch(g==="not"&&this.writer.add("!"),p){case"node":{if(m.termType==="NamedNode")this.writer.add(`@${yield this.termToString(m)}`);else if(m.termType==="BlankNode")yield this.writeShapeBody(m);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,a.getShaclName)(m));return}case"class":{this.writer.add(yield this.termToString(m));return}case"datatype":{this.writer.add(yield this.termToString(m));return}default:this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(m)}})}writeAssigments(p,g=" ",m=!0,y){return e(this,void 0,void 0,function*(){for(const v of p)m?m=!1:this.writer.add(g),y?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(p,g=!0,m,y=!1,v=!1){return e(this,void 0,void 0,function*(){const b=this.orProperties(p,m),_=this.singleLayerPropertiesList(p,m);v&&(b.length>0||_.length>0)&&this.writer.newLine(1);for(const w of b)g?g=!1:this.writer.add(" "),yield this.writeAssigments(w,"|",!0,y);yield this.writeAssigments(_," ",g,y),v&&(b.length>0||_.length>0)&&this.writer.add(" .")})}writeShapeBody(p,g=!0){return e(this,void 0,void 0,function*(){this.writer.add("{").indent();const m=this.store.getObjectsOnce(p,new i.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(p,!0,l.default,!1,!0);for(const y of m)this.writer.newLine(1),yield this.writeProperty(y);this.writer.deindent().newLine(1),g?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(p){return e(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const g=this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#minCount")),m=this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#maxCount")),y=this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#class")),b=this.singleObject(p,new i.NamedNode("http://www.w3.org/ns/shacl#datatype")),_=this.store.getObjectsOnce(p,new i.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(y&&(this.writer.add(" "),this.writer.add((0,a.getShaclName)(y))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),b&&(this.writer.add(" "),this.writer.add(yield this.termToString(b))),g!==void 0||m!==void 0){if(this.writer.add(" ["),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(g.value)}else this.writer.add("0");if(this.writer.add(".."),m){if(m.termType!=="Literal"||m.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(p,new i.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(m.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(p,!1,o.default,!0);const w=[];for(const T of _)if(T.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(T)}`);else if(T.termType==="BlankNode")w.push(T);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const T of w)this.writer.add(" "),yield this.writeShapeBody(T);this.extendedSyntax&&this.store.getQuads(p,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(p),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),w.length===0&&this.writer.add(" .")})}writeTurtlePredicates(p){return e(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(p,this.store.getPredicates(p,null,null))})}writeGivenTurtlePredicates(p,g){return e(this,void 0,void 0,function*(){let m=!1;if(g.some(y=>y.equals(i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const y=this.store.getObjectsOnce(p,i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);y.length>0&&(m=!0,this.writer.add("a "),yield this.writeTurtleObjects(y))}for(const y of g)y.equals(i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(m?(this.writer.add(" ;"),this.writer.newLine(1)):m=!0,this.writer.add(yield this.termToString(y,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(p,y,null)))})}writeTurtleObjects(p){return e(this,void 0,void 0,function*(){const g=[],m=[];for(const v of p)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?g.push(v):m.push(v);this.writer.add((yield Promise.all(m.map(v=>this.termToString(v,!0,!0)))).join(", "));let y=m.length>0;if(g.length>0)for(const v of g)y?this.writer.add(", "):y=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(p){return e(this,void 0,void 0,function*(){let g=p;const m=[],y=[];for(;!g.equals(i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const b=this.store.getQuadsOnce(g,i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),_=this.store.getQuadsOnce(g,i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(y.push(...b,..._),b.length!==1||_.length!==1||this.store.getQuads(g,null,null,null).length!==0)return this.store.addQuads(y),!1;m.push(b[0].object),g=_[0].object}let v=!1;this.writer.add("(");for(const b of m)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([b]);return this.writer.add(")"),!0})}writePath(p,g=!1){return e(this,void 0,void 0,function*(){if(p.termType==="NamedNode")this.writer.add(yield this.termToString(p));else if(p.termType==="BlankNode"){const m=this.store.getQuadsOnce(p,null,null,null);if(m.length===1){const{predicate:y,object:v}=m[0];switch(y.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(v,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const b=this.getList(v);if(b.length===0)throw new Error("Invalid Alternative Path - no options");if(b.length===1)yield this.writePath(b[0]);else{g&&this.writer.add("(");let _=!0;for(const w of b)_?_=!1:this.writer.add("|"),yield this.writePath(w,!0);g&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(v,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(v,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(v,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${p.value}`)}}else{this.store.addQuads(m);const y=this.getList(p);if(y.length===0)throw new Error("Invalid Path");{g&&this.writer.add("(");let v=!0;for(const b of y)v?v=!1:this.writer.add("/"),yield this.writePath(b,!0);g&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return ku.default=f,ku}var aT={},UB;function K_e(){if(UB)return aT;UB=1,Object.defineProperty(aT,"__esModule",{value:!0});class e{constructor(i){this.indents=0,this.write=i.write,this.end=i.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(i,r=!1){return this.write(r?`
${"	".repeat(this.indents)}${i}`:i,"utf-8"),this}newLine(i=2){return this.write(`
`.repeat(i)+"	".repeat(this.indents),"utf-8"),this}}return aT.default=e,aT}var oT={},HB;function J_e(){if(HB)return oT;HB=1,Object.defineProperty(oT,"__esModule",{value:!0});const e=xl;class t extends e.Store{getQuadsOnce(r,n,a,o){const s=this.getQuads(r,n,a,o);return this.removeQuads(s),s}getSubjectsOnce(r,n,a){return this.getQuadsOnce(null,r,n,a).map(o=>o.subject)}getObjectsOnce(r,n,a){return this.getQuadsOnce(r,n,null,a).map(o=>o.object)}}return oT.default=t,oT}var $B;function X_e(){if($B)return Ys;$B=1;var e=Ys&&Ys.__awaiter||function(s,l,u,c){function d(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function p(y){try{m(c.next(y))}catch(v){h(v)}}function g(y){try{m(c.throw(y))}catch(v){h(v)}}function m(y){y.done?f(y.value):d(y.value).then(p,g)}m((c=c.apply(s,l||[])).next())})},t=Ys&&Ys.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.write=void 0;const i=xl,r=t(W_e()),n=t(K_e()),a=t(J_e());function o(s,l){return e(this,void 0,void 0,function*(){return new Promise((u,c)=>e(this,void 0,void 0,function*(){try{let d="";const f=new a.default(s),h=f.getGraphs(null,null,null);if(h.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(h.length===1&&!h[0].equals(i.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${h[0].value}`);const p=new n.default({write:m=>{d+=m},end:()=>{let m=f.getQuads(null,null,null,null);m.length===0&&(m=void 0),u({text:d,extraQuads:m})}});yield new r.default(f,p,l==null?void 0:l.prefixes,void 0,(l==null?void 0:l.errorOnUnused)!==!1,l==null?void 0:l.mintPrefixes,l==null?void 0:l.fetch,l==null?void 0:l.extendedSyntax).write()}catch(d){c(d)}}))})}return Ys.write=o,Ys}var QB;function Y_e(){if(QB)return db;QB=1,Object.defineProperty(db,"__esModule",{value:!0}),db.ActorRdfSerializeShaclc=void 0;const e=dN(),t=j_e(),i=Xr(),r=X_e();let n=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(o){super(o)}async runHandle(o,s){const l=new i.Readable;l._read=()=>{};try{const u={};o.quadStream.on("prefix",(d,f)=>{u[d]=f});const{text:c}=await(0,r.write)(await(0,t.default)(o.quadStream),{errorOnUnused:!0,extendedSyntax:s==="text/shaclc-ext",prefixes:u});l.push(c),l.push(null)}catch(u){l._read=()=>{l.emit("error",u)}}return{data:l,triples:!0}}};return db.ActorRdfSerializeShaclc=n,db}var zB;function LZ(){return zB||(zB=1,function(e){var t=Wd&&Wd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Wd&&Wd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Y_e(),e)}(Wd)),Wd}var Zd={},gb={},ef={},mb={},GB;function MZ(){if(GB)return mb;GB=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.ActorRdfUpdateQuads=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return mb.ActorRdfUpdateQuads=t,mb}var eu={},WB;function Z_e(){if(WB)return eu;WB=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.ActorRdfUpdateQuadsDestination=eu.deskolemize=eu.deskolemizeStream=void 0;const e=tN(),t=Ir(),i=MZ();function r(o,s){return o==null?void 0:o.map(l=>(0,e.deskolemizeQuad)(l,s))}eu.deskolemizeStream=r;function n(o){var u;const s=o.context.get(t.KeysRdfUpdateQuads.destination),l=(u=o.context.get(t.KeysQuerySourceIdentify.sourceIds))==null?void 0:u.get(s);return l?{...o,quadStreamInsert:r(o.quadStreamInsert,l),quadStreamDelete:r(o.quadStreamDelete,l)}:o}eu.deskolemize=n;let a=class extends i.ActorRdfUpdateQuads{async test(s){return!0}async run(s){const l=await this.getDestination(s.context);return await this.getOutput(l,n(s))}async getOutput(s,l){return{execute:async()=>{await(l.quadStreamDelete?s.delete(l.quadStreamDelete):Promise.resolve()),await(l.deleteGraphs?s.deleteGraphs(l.deleteGraphs.graphs,l.deleteGraphs.requireExistence,l.deleteGraphs.dropGraphs):Promise.resolve()),await(l.createGraphs?s.createGraphs(l.createGraphs.graphs,l.createGraphs.requireNonExistence):Promise.resolve()),await(l.quadStreamInsert?s.insert(l.quadStreamInsert):Promise.resolve())}}}};return eu.ActorRdfUpdateQuadsDestination=a,eu}var kO={},KB;function e1e(){return KB||(KB=1,Object.defineProperty(kO,"__esModule",{value:!0})),kO}var fa={},JB;function t1e(){if(JB)return fa;JB=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.getContextDestinationUrl=fa.getContextDestination=fa.getDataDestinationContext=fa.getDataDestinationValue=fa.getDataDestinationType=fa.isDataDestinationRawType=void 0;const e=Ir();function t(s){return typeof s=="string"||"remove"in s}fa.isDataDestinationRawType=t;function i(s){return typeof s=="string"?"":"remove"in s?"rdfjsStore":s.type}fa.getDataDestinationType=i;function r(s){return t(s)?s:s.value}fa.getDataDestinationValue=r;function n(s,l){return typeof s=="string"||"remove"in s||!s.context?l:l.merge(s.context)}fa.getDataDestinationContext=n;function a(s){return s.get(e.KeysRdfUpdateQuads.destination)}fa.getContextDestination=a;function o(s){if(s){let l=r(s);if(typeof l=="string"){const u=l.indexOf("#");return u>=0&&(l=l.slice(0,u)),l}}}return fa.getContextDestinationUrl=o,fa}var XB;function hN(){return XB||(XB=1,function(e){var t=ef&&ef.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ef&&ef.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(MZ(),e),i(Z_e(),e),i(e1e(),e),i(t1e(),e)}(ef)),ef}var yb={},YB;function r1e(){if(YB)return yb;YB=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.RdfJsQuadDestination=void 0;const e=yZ(),t=yr(),i=nn(),r=new t.DataFactory;let n=class{constructor(o){this.store=o}delete(o){return(0,e.promisifyEventEmitter)(this.store.remove(o))}insert(o){return(0,e.promisifyEventEmitter)(this.store.import(o))}async deleteGraphs(o,s,l){switch(o){case"ALL":await(0,e.promisifyEventEmitter)(this.store.deleteGraph(r.defaultGraph()));case"NAMED":const u=this.store.match(),c={};u.on("data",d=>{d.graph.termType!=="DefaultGraph"&&(c[(0,i.termToString)(d.graph)]=!0)}),await(0,e.promisifyEventEmitter)(u),await Promise.all(Object.keys(c).map(d=>(0,e.promisifyEventEmitter)(this.store.deleteGraph((0,i.stringToTerm)(d)))));break;default:for(const d of Array.isArray(o)?o:[o])await(0,e.promisifyEventEmitter)(this.store.deleteGraph(d))}}async createGraphs(o,s){if(s)for(const l of o){const u=this.store.match(void 0,void 0,void 0,l);await new Promise((c,d)=>{u.once("data",()=>{d(new Error(`Unable to create graph ${l.value} as it already exists`))}),u.on("end",c),u.on("error",d)})}}};return yb.RdfJsQuadDestination=n,yb}var ZB;function n1e(){if(ZB)return gb;ZB=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.ActorRdfUpdateQuadsRdfJsStore=void 0;const e=hN(),t=r1e();let i=class extends e.ActorRdfUpdateQuadsDestination{constructor(n){super(n)}async test(n){const a=(0,e.getContextDestination)(n.context);if(!a||typeof a=="string"||!("remove"in a)&&"value"in a&&!a.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(n){const a=(0,e.getContextDestination)(n);return new t.RdfJsQuadDestination("remove"in a?a:a.value)}};return gb.ActorRdfUpdateQuadsRdfJsStore=i,gb}var eq;function jZ(){return eq||(eq=1,function(e){var t=Zd&&Zd.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Zd&&Zd.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(n1e(),e)}(Zd)),Zd}var tf={},vb={},rf={},bb={},BO={},nf={},tq;function i1e(){if(tq)return nf;tq=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.readableFromWeb=nf.ReadableFromWeb=void 0;const e=Xr();let t=class extends e.Readable{constructor(n,a){super(a),this.reader=n.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(n=>this.push(n.done?null:n.value)).catch(n=>this.destroy(n))}destroy(n){return this.readerClosed||this.reader.cancel(n).then().catch(()=>{}),super.destroy(n)}};nf.ReadableFromWeb=t;function i(r,n){return new t(r,n)}return nf.readableFromWeb=i,nf}var rq;function a1e(){return rq||(rq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var t=i1e();Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(BO)),BO}function sT(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qO={exports:{}},nq;function o1e(){return nq||(nq=1,function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function o(u,c){if(!n[u]){if(!r[u]){var d=typeof sT=="function"&&sT;if(!c&&d)return d(u,!0);if(s)return s(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[u]={exports:{}};r[u][0].call(h.exports,function(p){var g=r[u][1][p];return o(g||p)},h,h.exports,i,r,n,a)}return n[u].exports}for(var s=typeof sT=="function"&&sT,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0});var a=i("./spec/reference-implementation/lib/readable-stream"),o=a.ReadableStream,s=i("./spec/reference-implementation/lib/writable-stream"),l=s.WritableStream,u=i("./spec/reference-implementation/lib/byte-length-queuing-strategy"),c=i("./spec/reference-implementation/lib/count-queuing-strategy"),d=i("./spec/reference-implementation/lib/transform-stream"),f=d.TransformStream;n.ByteLengthQueuingStrategy=u,n.CountQueuingStrategy=c,n.ReadableStream=o,n.WritableStream=l,n.TransformStream=f;var h={ReadableStream:o,WritableStream:l,ByteLengthQueuingStrategy:u,CountQueuingStrategy:c,TransformStream:f};n.default=h},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(i,r,n){(function(a){function o(H,M){if(H===M)return 0;for(var $=H.length,te=M.length,re=0,oe=Math.min($,te);re<oe;++re)if(H[re]!==M[re]){$=H[re],te=M[re];break}return $<te?-1:te<$?1:0}function s(H){return a.Buffer&&typeof a.Buffer.isBuffer=="function"?a.Buffer.isBuffer(H):!(H==null||!H._isBuffer)}function l(H){return Object.prototype.toString.call(H)}function u(H){return!s(H)&&typeof a.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(H):!!H&&(H instanceof DataView||!!(H.buffer&&H.buffer instanceof ArrayBuffer)))}function c(H){if(R.isFunction(H)){if(A)return H.name;var M=H.toString().match(N);return M&&M[1]}}function d(H,M){return typeof H=="string"?H.length<M?H:H.slice(0,M):H}function f(H){if(A||!R.isFunction(H))return R.inspect(H);var M=c(H);return"[Function"+(M?": "+M:"")+"]"}function h(H){return d(f(H.actual),128)+" "+H.operator+" "+d(f(H.expected),128)}function p(H,M,$,te,re){throw new x.AssertionError({message:$,actual:H,expected:M,operator:te,stackStartFunction:re})}function g(H,M){H||p(H,!0,M,"==",x.ok)}function m(H,M,$,te){if(H===M)return!0;if(s(H)&&s(M))return o(H,M)===0;if(R.isDate(H)&&R.isDate(M))return H.getTime()===M.getTime();if(R.isRegExp(H)&&R.isRegExp(M))return H.source===M.source&&H.global===M.global&&H.multiline===M.multiline&&H.lastIndex===M.lastIndex&&H.ignoreCase===M.ignoreCase;if(H!==null&&typeof H=="object"||M!==null&&typeof M=="object"){if(u(H)&&u(M)&&l(H)===l(M)&&!(H instanceof Float32Array||H instanceof Float64Array))return o(new Uint8Array(H.buffer),new Uint8Array(M.buffer))===0;if(s(H)!==s(M))return!1;var re=(te=te||{actual:[],expected:[]}).actual.indexOf(H);return re!==-1&&re===te.expected.indexOf(M)||(te.actual.push(H),te.expected.push(M),v(H,M,$,te))}return $?H===M:H==M}function y(H){return Object.prototype.toString.call(H)=="[object Arguments]"}function v(H,M,$,te){if(H==null||M===null||M===void 0)return!1;if(R.isPrimitive(H)||R.isPrimitive(M))return H===M;if($&&Object.getPrototypeOf(H)!==Object.getPrototypeOf(M))return!1;var re=y(H),oe=y(M);if(re&&!oe||!re&&oe)return!1;if(re)return H=D.call(H),M=D.call(M),m(H,M,$);var J,fe,xe=j(H),de=j(M);if(xe.length!==de.length)return!1;for(xe.sort(),de.sort(),fe=xe.length-1;fe>=0;fe--)if(xe[fe]!==de[fe])return!1;for(fe=xe.length-1;fe>=0;fe--)if(J=xe[fe],!m(H[J],M[J],$,te))return!1;return!0}function b(H,M,$){m(H,M,!0)&&p(H,M,$,"notDeepStrictEqual",b)}function _(H,M){if(!H||!M)return!1;if(Object.prototype.toString.call(M)=="[object RegExp]")return M.test(H);try{if(H instanceof M)return!0}catch{}return!Error.isPrototypeOf(M)&&M.call({},H)===!0}function w(H){var M;try{H()}catch($){M=$}return M}function T(H,M,$,te){var re;if(typeof M!="function")throw new TypeError('"block" argument must be a function');typeof $=="string"&&(te=$,$=null),re=w(M),te=($&&$.name?" ("+$.name+").":".")+(te?" "+te:"."),H&&!re&&p(re,$,"Missing expected exception"+te);var oe=typeof te=="string",J=!H&&R.isError(re),fe=!H&&re&&!$;if((J&&oe&&_(re,$)||fe)&&p(re,$,"Got unwanted exception"+te),H&&re&&$&&!_(re,$)||!H&&re)throw re}var R=i("util/"),F=Object.prototype.hasOwnProperty,D=Array.prototype.slice,A=(function(){}).name==="foo",x=r.exports=g,N=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(M){this.name="AssertionError",this.actual=M.actual,this.expected=M.expected,this.operator=M.operator,M.message?(this.message=M.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var $=M.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,$);else{var te=new Error;if(te.stack){var re=te.stack,oe=c($),J=re.indexOf(`
`+oe);if(J>=0){var fe=re.indexOf(`
`,J+1);re=re.substring(fe+1)}this.stack=re}}},R.inherits(x.AssertionError,Error),x.fail=p,x.ok=g,x.equal=function(M,$,te){M!=$&&p(M,$,te,"==",x.equal)},x.notEqual=function(M,$,te){M==$&&p(M,$,te,"!=",x.notEqual)},x.deepEqual=function(M,$,te){m(M,$,!1)||p(M,$,te,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(M,$,te){m(M,$,!0)||p(M,$,te,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(M,$,te){m(M,$,!1)&&p(M,$,te,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=b,x.strictEqual=function(M,$,te){M!==$&&p(M,$,te,"===",x.strictEqual)},x.notStrictEqual=function(M,$,te){M===$&&p(M,$,te,"!==",x.notStrictEqual)},x.throws=function(H,M,$){T(!0,H,M,$)},x.doesNotThrow=function(H,M,$){T(!1,H,M,$)},x.ifError=function(H){if(H)throw H};var j=Object.keys||function(H){var M=[];for(var $ in H)F.call(H,$)&&M.push($);return M}}).call(this,typeof si<"u"?si:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(i,r,n){},{}],4:[function(i,r,n){function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(_){if(h===setTimeout)return setTimeout(_,0);if((h===a||!h)&&setTimeout)return h=setTimeout,setTimeout(_,0);try{return h(_,0)}catch{try{return h.call(null,_,0)}catch{return h.call(this,_,0)}}}function l(_){if(p===clearTimeout)return clearTimeout(_);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(_);try{return p(_)}catch{try{return p.call(null,_)}catch{return p.call(this,_)}}}function u(){v&&m&&(v=!1,m.length?y=m.concat(y):b=-1,y.length&&c())}function c(){if(!v){var _=s(u);v=!0;for(var w=y.length;w;){for(m=y,y=[];++b<w;)m&&m[b].run();b=-1,w=y.length}m=null,v=!1,l(_)}}function d(_,w){this.fun=_,this.array=w}function f(){}var h,p,g=r.exports={};(function(){try{h=typeof setTimeout=="function"?setTimeout:a}catch{h=a}try{p=typeof clearTimeout=="function"?clearTimeout:o}catch{p=o}})();var m,y=[],v=!1,b=-1;g.nextTick=function(_){var w=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)w[T-1]=arguments[T];y.push(new d(_,w)),y.length!==1||v||s(c)},d.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=f,g.addListener=f,g.once=f,g.off=f,g.removeListener=f,g.removeAllListeners=f,g.emit=f,g.prependListener=f,g.prependOnceListener=f,g.listeners=function(_){return[]},g.binding=function(_){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(_){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],5:[function(i,r,n){typeof Object.create=="function"?r.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(o,s){o.super_=s;var l=function(){};l.prototype=s.prototype,o.prototype=new l,o.prototype.constructor=o}},{}],6:[function(i,r,n){r.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(i,r,n){(function(a,o){function s(de,ae){var Fe={seen:[],stylize:u};return arguments.length>=3&&(Fe.depth=arguments[2]),arguments.length>=4&&(Fe.colors=arguments[3]),v(ae)?Fe.showHidden=ae:ae&&n._extend(Fe,ae),F(Fe.showHidden)&&(Fe.showHidden=!1),F(Fe.depth)&&(Fe.depth=2),F(Fe.colors)&&(Fe.colors=!1),F(Fe.customInspect)&&(Fe.customInspect=!0),Fe.colors&&(Fe.stylize=l),d(Fe,de,Fe.depth)}function l(de,ae){var Fe=s.styles[ae];return Fe?"\x1B["+s.colors[Fe][0]+"m"+de+"\x1B["+s.colors[Fe][1]+"m":de}function u(de,ae){return de}function c(de){var ae={};return de.forEach(function(Fe,Le){ae[Fe]=!0}),ae}function d(de,ae,Fe){if(de.customInspect&&ae&&j(ae.inspect)&&ae.inspect!==n.inspect&&(!ae.constructor||ae.constructor.prototype!==ae)){var Le=ae.inspect(Fe,de);return T(Le)||(Le=d(de,Le,Fe)),Le}var me=f(de,ae);if(me)return me;var pe=Object.keys(ae),_e=c(pe);if(de.showHidden&&(pe=Object.getOwnPropertyNames(ae)),N(ae)&&(pe.indexOf("message")>=0||pe.indexOf("description")>=0))return h(ae);if(pe.length===0){if(j(ae)){var X=ae.name?": "+ae.name:"";return de.stylize("[Function"+X+"]","special")}if(D(ae))return de.stylize(RegExp.prototype.toString.call(ae),"regexp");if(x(ae))return de.stylize(Date.prototype.toString.call(ae),"date");if(N(ae))return h(ae)}var C="",E=!1,S=["{","}"];if(y(ae)&&(E=!0,S=["[","]"]),j(ae)&&(C=" [Function"+(ae.name?": "+ae.name:"")+"]"),D(ae)&&(C=" "+RegExp.prototype.toString.call(ae)),x(ae)&&(C=" "+Date.prototype.toUTCString.call(ae)),N(ae)&&(C=" "+h(ae)),pe.length===0&&(!E||ae.length==0))return S[0]+C+S[1];if(Fe<0)return D(ae)?de.stylize(RegExp.prototype.toString.call(ae),"regexp"):de.stylize("[Object]","special");de.seen.push(ae);var I;return I=E?p(de,ae,Fe,_e,pe):pe.map(function(k){return g(de,ae,Fe,_e,k,E)}),de.seen.pop(),m(I,C,S)}function f(de,ae){if(F(ae))return de.stylize("undefined","undefined");if(T(ae)){var Fe="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(Fe,"string")}return w(ae)?de.stylize(""+ae,"number"):v(ae)?de.stylize(""+ae,"boolean"):b(ae)?de.stylize("null","null"):void 0}function h(de){return"["+Error.prototype.toString.call(de)+"]"}function p(de,ae,Fe,Le,me){for(var pe=[],_e=0,X=ae.length;_e<X;++_e)re(ae,String(_e))?pe.push(g(de,ae,Fe,Le,String(_e),!0)):pe.push("");return me.forEach(function(C){C.match(/^\d+$/)||pe.push(g(de,ae,Fe,Le,C,!0))}),pe}function g(de,ae,Fe,Le,me,pe){var _e,X,C;if((C=Object.getOwnPropertyDescriptor(ae,me)||{value:ae[me]}).get?X=C.set?de.stylize("[Getter/Setter]","special"):de.stylize("[Getter]","special"):C.set&&(X=de.stylize("[Setter]","special")),re(Le,me)||(_e="["+me+"]"),X||(de.seen.indexOf(C.value)<0?(X=b(Fe)?d(de,C.value,null):d(de,C.value,Fe-1)).indexOf(`
`)>-1&&(X=pe?X.split(`
`).map(function(E){return"  "+E}).join(`
`).substr(2):`
`+X.split(`
`).map(function(E){return"   "+E}).join(`
`)):X=de.stylize("[Circular]","special")),F(_e)){if(pe&&me.match(/^\d+$/))return X;(_e=JSON.stringify(""+me)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(_e=_e.substr(1,_e.length-2),_e=de.stylize(_e,"name")):(_e=_e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),_e=de.stylize(_e,"string"))}return _e+": "+X}function m(de,ae,Fe){var Le=0;return de.reduce(function(me,pe){return Le++,pe.indexOf(`
`)>=0&&Le++,me+pe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Fe[0]+(ae===""?"":ae+`
 `)+" "+de.join(`,
  `)+" "+Fe[1]:Fe[0]+ae+" "+de.join(", ")+" "+Fe[1]}function y(de){return Array.isArray(de)}function v(de){return typeof de=="boolean"}function b(de){return de===null}function _(de){return de==null}function w(de){return typeof de=="number"}function T(de){return typeof de=="string"}function R(de){return typeof de=="symbol"}function F(de){return de===void 0}function D(de){return A(de)&&M(de)==="[object RegExp]"}function A(de){return typeof de=="object"&&de!==null}function x(de){return A(de)&&M(de)==="[object Date]"}function N(de){return A(de)&&(M(de)==="[object Error]"||de instanceof Error)}function j(de){return typeof de=="function"}function H(de){return de===null||typeof de=="boolean"||typeof de=="number"||typeof de=="string"||typeof de=="symbol"||de===void 0}function M(de){return Object.prototype.toString.call(de)}function $(de){return de<10?"0"+de.toString(10):de.toString(10)}function te(){var de=new Date,ae=[$(de.getHours()),$(de.getMinutes()),$(de.getSeconds())].join(":");return[de.getDate(),xe[de.getMonth()],ae].join(" ")}function re(de,ae){return Object.prototype.hasOwnProperty.call(de,ae)}var oe=/%[sdj%]/g;n.format=function(de){if(!T(de)){for(var ae=[],Fe=0;Fe<arguments.length;Fe++)ae.push(s(arguments[Fe]));return ae.join(" ")}for(var Fe=1,Le=arguments,me=Le.length,pe=String(de).replace(oe,function(C){if(C==="%%")return"%";if(Fe>=me)return C;switch(C){case"%s":return String(Le[Fe++]);case"%d":return Number(Le[Fe++]);case"%j":try{return JSON.stringify(Le[Fe++])}catch{return"[Circular]"}default:return C}}),_e=Le[Fe];Fe<me;_e=Le[++Fe])b(_e)||!A(_e)?pe+=" "+_e:pe+=" "+s(_e);return pe},n.deprecate=function(de,ae){if(F(o.process))return function(){return n.deprecate(de,ae).apply(this,arguments)};if(a.noDeprecation===!0)return de;var Fe=!1;return function(){if(!Fe){if(a.throwDeprecation)throw new Error(ae);a.traceDeprecation?console.trace(ae):console.error(ae),Fe=!0}return de.apply(this,arguments)}};var J,fe={};n.debuglog=function(de){if(F(J)&&(J=a.env.NODE_DEBUG||""),de=de.toUpperCase(),!fe[de])if(new RegExp("\\b"+de+"\\b","i").test(J)){var ae=a.pid;fe[de]=function(){var Fe=n.format.apply(n,arguments);console.error("%s %d: %s",de,ae,Fe)}}else fe[de]=function(){};return fe[de]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=y,n.isBoolean=v,n.isNull=b,n.isNullOrUndefined=_,n.isNumber=w,n.isString=T,n.isSymbol=R,n.isUndefined=F,n.isRegExp=D,n.isObject=A,n.isDate=x,n.isError=N,n.isFunction=j,n.isPrimitive=H,n.isBuffer=i("./support/isBuffer");var xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",te(),n.format.apply(n,arguments))},n.inherits=i("inherits"),n._extend=function(de,ae){if(!ae||!A(ae))return de;for(var Fe=Object.keys(ae),Le=Fe.length;Le--;)de[Fe[Le]]=ae[Fe[Le]];return de}}).call(this,i("_process"),typeof si<"u"?si:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(i,r,n){function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function u(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&u(c.prototype,d),f&&u(c,f),c}}(),s=i("./helpers.js"),l=s.createDataProperty;r.exports=function(){function u(c){var d=c.highWaterMark;a(this,u),l(this,"highWaterMark",d)}return o(u,[{key:"size",value:function(d){return d.byteLength}}]),u}()},{"./helpers.js":10}],9:[function(i,r,n){function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function u(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,d,f){return d&&u(c.prototype,d),f&&u(c,f),c}}(),s=i("./helpers.js"),l=s.createDataProperty;r.exports=function(){function u(c){var d=c.highWaterMark;a(this,u),l(this,"highWaterMark",d)}return o(u,[{key:"size",value:function(){return 1}}]),u}()},{"./helpers.js":10}],10:[function(i,r,n){function a(u,c,d){if(typeof u!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(u,c,d)}function o(u,c,d){try{return Promise.resolve(a(u,c,d))}catch(f){return Promise.reject(f)}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};i("better-assert");var l=Symbol('is "detached" for our purposes');n.typeIsObject=function(u){return(u===void 0?"undefined":s(u))==="object"&&u!==null||typeof u=="function"},n.createDataProperty=function(u,c,d){Object.defineProperty(u,c,{value:d,writable:!0,enumerable:!0,configurable:!0})},n.createArrayFromList=function(u){return u.slice()},n.ArrayBufferCopy=function(u,c,d,f,h){new Uint8Array(u).set(new Uint8Array(d,f,h),c)},n.CreateIterResultObject=function(u,c){var d={};return Object.defineProperty(d,"value",{value:u,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(d,"done",{value:c,enumerable:!0,writable:!0,configurable:!0}),d},n.IsFiniteNonNegativeNumber=function(u){return n.IsNonNegativeNumber(u)!==!1&&u!==1/0},n.IsNonNegativeNumber=function(u){return typeof u=="number"&&!Number.isNaN(u)&&!(u<0)},n.Call=a,n.CreateAlgorithmFromUnderlyingMethod=function(u,c,d,f){var h=u[c];if(h!==void 0){if(typeof h!="function")throw new TypeError(h+" is not a method");switch(d){case 0:return function(){return o(h,u,f)};case 1:return function(p){var g=[p].concat(f);return o(h,u,g)}}}return function(){return Promise.resolve()}},n.InvokeOrNoop=function(u,c,d){var f=u[c];if(f!==void 0)return a(f,u,d)},n.PromiseCall=o,n.TransferArrayBuffer=function(u){var c=u.slice();return Object.defineProperty(u,"byteLength",{get:function(){return 0}}),u[l]=!0,c},n.IsDetachedBuffer=function(u){return l in u},n.ValidateAndNormalizeHighWaterMark=function(u){if(u=Number(u),Number.isNaN(u)||u<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return u},n.MakeSizeAlgorithmFromSizeFunction=function(u){if(u===void 0)return function(){return 1};if(typeof u!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(c){return u(c)}}},{"better-assert":16}],11:[function(i,r,n){i("better-assert");var a=i("./helpers.js"),o=a.IsFiniteNonNegativeNumber;n.DequeueValue=function(s){var l=s._queue.shift();return s._queueTotalSize-=l.size,s._queueTotalSize<0&&(s._queueTotalSize=0),l.value},n.EnqueueValueWithSize=function(s,l,u){if(u=Number(u),!o(u))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:l,size:u}),s._queueTotalSize+=u},n.PeekQueueValue=function(s){return s._queue[0].value},n.ResetQueue=function(s){s._queue=[],s._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(i,r,n){function a(Z,ie){if(!(Z instanceof ie))throw new TypeError("Cannot call a class as a function")}function o(Z){return new q(Z)}function s(Z){return new L(Z)}function l(Z,ie,le){var Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,Re=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},De=Object.create(O.prototype);return c(De),me(De,Object.create(Y.prototype),Z,ie,le,Se,Re),De}function u(Z,ie,le){var Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Re=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,De=Object.create(O.prototype);return c(De),Pe(De,Object.create(we.prototype),Z,ie,le,Se,Re),De}function c(Z){Z._state="readable",Z._reader=void 0,Z._storedError=void 0,Z._disturbed=!1}function d(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_readableStreamController")}function f(Z){return Z._disturbed}function h(Z){return Z._reader!==void 0}function p(Z,ie){function le(){return $(Re).then(function(Je){var it=Je.value;if(Je.done===!0&&De===!1&&(Ue===!1&&J(ye._readableStreamController),ze===!1&&J(Ne._readableStreamController),De=!0),De!==!0){var Vt=it,yt=it;Ue===!1&&fe(ye._readableStreamController,Vt),ze===!1&&fe(Ne._readableStreamController,yt)}})}function Se(){}var Re=s(Z),De=!1,Ue=!1,ze=!1,Ye=void 0,rt=void 0,ye=void 0,Ne=void 0,Be=void 0,$e=new Promise(function(Je){Be=Je});return ye=l(Se,le,function(it){if(Ue=!0,Ye=it,ze===!0){var Vt=Hn([Ye,rt]),yt=y(Z,Vt);Be(yt)}return $e}),Ne=l(Se,le,function(it){if(ze=!0,rt=it,Ue===!0){var Vt=Hn([Ye,rt]),yt=y(Z,Vt);Be(yt)}return $e}),Re._closedPromise.catch(function(Je){De!==!0&&(de(ye._readableStreamController,Je),de(Ne._readableStreamController,Je),De=!0)}),[ye,Ne]}function g(Z){return new Promise(function(ie,le){var Se={_resolve:ie,_reject:le};Z._reader._readIntoRequests.push(Se)})}function m(Z){return new Promise(function(ie,le){var Se={_resolve:ie,_reject:le};Z._reader._readRequests.push(Se)})}function y(Z,ie){return Z._disturbed=!0,Z._state==="closed"?Promise.resolve(void 0):Z._state==="errored"?Promise.reject(Z._storedError):(v(Z),Z._readableStreamController[Ha](ie).then(function(){}))}function v(Z){Z._state="closed";var ie=Z._reader;if(ie!==void 0){if(x(ie)===!0){var le=!0,Se=!1,Re=void 0;try{for(var De,Ue=ie._readRequests[Symbol.iterator]();!(le=(De=Ue.next()).done);le=!0)(0,De.value._resolve)(qt(void 0,!0))}catch(ze){Se=!0,Re=ze}finally{try{!le&&Ue.return&&Ue.return()}finally{if(Se)throw Re}}ie._readRequests=[]}Nt(ie)}}function b(Z,ie){Z._state="errored",Z._storedError=ie;var le=Z._reader;if(le!==void 0){if(x(le)===!0){var Se=!0,Re=!1,De=void 0;try{for(var Ue,ze=le._readRequests[Symbol.iterator]();!(Se=(Ue=ze.next()).done);Se=!0)Ue.value._reject(ie)}catch($e){Re=!0,De=$e}finally{try{!Se&&ze.return&&ze.return()}finally{if(Re)throw De}}le._readRequests=[]}else{var Ye=!0,rt=!1,ye=void 0;try{for(var Ne,Be=le._readIntoRequests[Symbol.iterator]();!(Ye=(Ne=Be.next()).done);Ye=!0)Ne.value._reject(ie)}catch($e){rt=!0,ye=$e}finally{try{!Ye&&Be.return&&Be.return()}finally{if(rt)throw ye}}le._readIntoRequests=[]}ut(le,ie),le._closedPromise.catch(function(){})}}function _(Z,ie,le){Z._reader._readIntoRequests.shift()._resolve(qt(ie,le))}function w(Z,ie,le){Z._reader._readRequests.shift()._resolve(qt(ie,le))}function T(Z){return Z._reader._readIntoRequests.length}function R(Z){return Z._reader._readRequests.length}function F(Z){var ie=Z._reader;return ie!==void 0&&A(ie)!==!1}function D(Z){var ie=Z._reader;return ie!==void 0&&x(ie)!==!1}function A(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_readIntoRequests")}function x(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_readRequests")}function N(Z,ie){Z._ownerReadableStream=ie,ie._reader=Z,ie._state==="readable"?et(Z):ie._state==="closed"?st(Z):(Ze(Z,ie._storedError),Z._closedPromise.catch(function(){}))}function j(Z,ie){return y(Z._ownerReadableStream,ie)}function H(Z){Z._ownerReadableStream._state==="readable"?ut(Z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):xt(Z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Z._closedPromise.catch(function(){}),Z._ownerReadableStream._reader=void 0,Z._ownerReadableStream=void 0}function M(Z,ie){var le=Z._ownerReadableStream;return le._disturbed=!0,le._state==="errored"?Promise.reject(le._storedError):ge(le._readableStreamController,ie)}function $(Z){var ie=Z._ownerReadableStream;return ie._disturbed=!0,ie._state==="closed"?Promise.resolve(qt(void 0,!0)):ie._state==="errored"?Promise.reject(ie._storedError):ie._readableStreamController[P]()}function te(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_controlledReadableStream")}function re(Z){oe(Z)!==!1&&(Z._pulling!==!0?(Z._pulling=!0,Z._pullAlgorithm().then(function(){if(Z._pulling=!1,Z._pullAgain===!0)return Z._pullAgain=!1,re(Z)},function(ie){de(Z,ie)}).catch(Qe)):Z._pullAgain=!0)}function oe(Z){var ie=Z._controlledReadableStream;return Le(Z)!==!1&&Z._started!==!1&&(h(ie)===!0&&R(ie)>0||ae(Z)>0)}function J(Z){var ie=Z._controlledReadableStream;Z._closeRequested=!0,Z._queue.length===0&&v(ie)}function fe(Z,ie){var le=Z._controlledReadableStream;if(h(le)===!0&&R(le)>0)w(le,ie,!1);else{var Se=void 0;try{Se=Z._strategySizeAlgorithm(ie)}catch(Re){throw de(Z,Re),Re}try{kt(Z,ie,Se)}catch(Re){throw de(Z,Re),Re}}re(Z)}function xe(Z,ie){var le=Z._controlledReadableStream;Wt(Z),b(le,ie)}function de(Z,ie){Z._controlledReadableStream._state==="readable"&&xe(Z,ie)}function ae(Z){var ie=Z._controlledReadableStream._state;return ie==="errored"?null:ie==="closed"?0:Z._strategyHWM-Z._queueTotalSize}function Fe(Z){return oe(Z)!==!0}function Le(Z){var ie=Z._controlledReadableStream._state;return Z._closeRequested===!1&&ie==="readable"}function me(Z,ie,le,Se,Re,De,Ue){ie._controlledReadableStream=Z,ie._queue=void 0,ie._queueTotalSize=void 0,Wt(ie),ie._started=!1,ie._closeRequested=!1,ie._pullAgain=!1,ie._pulling=!1,ie._strategySizeAlgorithm=Ue,ie._strategyHWM=De,ie._pullAlgorithm=Se,ie._cancelAlgorithm=Re,Z._readableStreamController=ie;var ze=le();Promise.resolve(ze).then(function(){ie._started=!0,re(ie)},function(Ye){de(ie,Ye)}).catch(Qe)}function pe(Z,ie,le,Se){var Re=Object.create(Y.prototype),De=lt(ie,"pull",0,[Re]),Ue=lt(ie,"cancel",1,[]);me(Z,Re,function(){return Rt(ie,"start",[Re])},De,Ue,le,Se)}function _e(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_controlledReadableByteStream")}function X(Z){return!!St(Z)&&!!Object.prototype.hasOwnProperty.call(Z,"_associatedReadableByteStreamController")}function C(Z){Ee(Z)!==!1&&(Z._pulling!==!0?(Z._pulling=!0,Z._pullAlgorithm().then(function(){Z._pulling=!1,Z._pullAgain===!0&&(Z._pullAgain=!1,C(Z))},function(ie){Z._controlledReadableByteStream._state==="readable"&&K(Z,ie)}).catch(Qe)):Z._pullAgain=!0)}function E(Z){ee(Z),Z._pendingPullIntos=[]}function S(Z,ie){var le=!1;Z._state==="closed"&&(le=!0);var Se=I(ie);ie.readerType==="default"?w(Z,Se,le):_(Z,Se,le)}function I(Z){var ie=Z.bytesFilled,le=Z.elementSize;return new Z.ctor(Z.buffer,Z.byteOffset,ie/le)}function k(Z,ie,le,Se){Z._queue.push({buffer:ie,byteOffset:le,byteLength:Se}),Z._queueTotalSize+=Se}function Q(Z,ie){var le=ie.elementSize,Se=ie.bytesFilled-ie.bytesFilled%le,Re=Math.min(Z._queueTotalSize,ie.byteLength-ie.bytesFilled),De=ie.bytesFilled+Re,Ue=De-De%le,ze=Re,Ye=!1;Ue>Se&&(ze=Ue-ie.bytesFilled,Ye=!0);for(var rt=Z._queue;ze>0;){var ye=rt[0],Ne=Math.min(ze,ye.byteLength),Be=ie.byteOffset+ie.bytesFilled;Et(ie.buffer,Be,ye.buffer,ye.byteOffset,Ne),ye.byteLength===Ne?rt.shift():(ye.byteOffset+=Ne,ye.byteLength-=Ne),Z._queueTotalSize-=Ne,G(Z,Ne,ie),ze-=Ne}return Ye}function G(Z,ie,le){ee(Z),le.bytesFilled+=ie}function ne(Z){Z._queueTotalSize===0&&Z._closeRequested===!0?v(Z._controlledReadableByteStream):C(Z)}function ee(Z){Z._byobRequest!==void 0&&(Z._byobRequest._associatedReadableByteStreamController=void 0,Z._byobRequest._view=void 0,Z._byobRequest=void 0)}function se(Z){for(;Z._pendingPullIntos.length>0;){if(Z._queueTotalSize===0)return;var ie=Z._pendingPullIntos[0];Q(Z,ie)===!0&&(qe(Z),S(Z._controlledReadableByteStream,ie))}}function ge(Z,ie){var le=Z._controlledReadableByteStream,Se=1;ie.constructor!==DataView&&(Se=ie.constructor.BYTES_PER_ELEMENT);var Re=ie.constructor,De={buffer:gr(ie.buffer),byteOffset:ie.byteOffset,byteLength:ie.byteLength,bytesFilled:0,elementSize:Se,ctor:Re,readerType:"byob"};if(Z._pendingPullIntos.length>0)return Z._pendingPullIntos.push(De),g(le);if(le._state==="closed"){var Ue=new ie.constructor(De.buffer,De.byteOffset,0);return Promise.resolve(qt(Ue,!0))}if(Z._queueTotalSize>0){if(Q(Z,De)===!0){var ze=I(De);return ne(Z),Promise.resolve(qt(ze,!1))}if(Z._closeRequested===!0){var Ye=new TypeError("Insufficient bytes to fill elements in the given buffer");return K(Z,Ye),Promise.reject(Ye)}}Z._pendingPullIntos.push(De);var rt=g(le);return C(Z),rt}function Ae(Z,ie){ie.buffer=gr(ie.buffer);var le=Z._controlledReadableByteStream;if(F(le)===!0)for(;T(le)>0;)S(le,qe(Z))}function Ve(Z,ie,le){if(le.bytesFilled+ie>le.byteLength)throw new RangeError("bytesWritten out of range");if(G(Z,ie,le),!(le.bytesFilled<le.elementSize)){qe(Z);var Se=le.bytesFilled%le.elementSize;if(Se>0){var Re=le.byteOffset+le.bytesFilled,De=le.buffer.slice(Re-Se,Re);k(Z,De,0,De.byteLength)}le.buffer=gr(le.buffer),le.bytesFilled-=Se,S(Z._controlledReadableByteStream,le),se(Z)}}function Ge(Z,ie){var le=Z._pendingPullIntos[0];if(Z._controlledReadableByteStream._state==="closed"){if(ie!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Ae(Z,le)}else Ve(Z,ie,le)}function qe(Z){var ie=Z._pendingPullIntos.shift();return ee(Z),ie}function Ee(Z){var ie=Z._controlledReadableByteStream;return ie._state==="readable"&&Z._closeRequested!==!0&&Z._started!==!1&&(D(ie)===!0&&R(ie)>0||F(ie)===!0&&T(ie)>0||z(Z)>0)}function W(Z){var ie=Z._controlledReadableByteStream;if(Z._queueTotalSize>0)Z._closeRequested=!0;else{if(Z._pendingPullIntos.length>0&&Z._pendingPullIntos[0].bytesFilled>0){var le=new TypeError("Insufficient bytes to fill elements in the given buffer");throw K(Z,le),le}v(ie)}}function V(Z,ie){var le=Z._controlledReadableByteStream,Se=ie.buffer,Re=ie.byteOffset,De=ie.byteLength,Ue=gr(Se);D(le)===!0?R(le)===0?k(Z,Ue,Re,De):w(le,new Uint8Array(Ue,Re,De),!1):F(le)===!0?(k(Z,Ue,Re,De),se(Z)):k(Z,Ue,Re,De)}function K(Z,ie){var le=Z._controlledReadableByteStream;E(Z),Wt(Z),b(le,ie)}function z(Z){var ie=Z._controlledReadableByteStream._state;return ie==="errored"?null:ie==="closed"?0:Z._strategyHWM-Z._queueTotalSize}function be(Z,ie){if(ie=Number(ie),bt(ie)===!1)throw new RangeError("bytesWritten must be a finite");Ge(Z,ie)}function ke(Z,ie){var le=Z._pendingPullIntos[0];if(le.byteOffset+le.bytesFilled!==ie.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(le.byteLength!==ie.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");le.buffer=ie.buffer,Ge(Z,ie.byteLength)}function Pe(Z,ie,le,Se,Re,De,Ue){ie._controlledReadableByteStream=Z,ie._pullAgain=!1,ie._pulling=!1,E(ie),ie._queue=ie._queueTotalSize=void 0,Wt(ie),ie._closeRequested=!1,ie._started=!1,ie._strategyHWM=Zt(De),ie._pullAlgorithm=Se,ie._cancelAlgorithm=Re,ie._autoAllocateChunkSize=Ue,ie._pendingPullIntos=[],Z._readableStreamController=ie;var ze=le();Promise.resolve(ze).then(function(){ie._started=!0,C(ie)},function(Ye){Z._state==="readable"&&K(ie,Ye)}).catch(Qe)}function dt(Z,ie,le){var Se=Object.create(we.prototype),Re=lt(ie,"pull",0,[Se]),De=lt(ie,"cancel",1,[]),Ue=ie.autoAllocateChunkSize;if(Ue!==void 0&&(Number.isInteger(Ue)===!1||Ue<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Pe(Z,Se,function(){return Rt(ie,"start",[Se])},Re,De,le,Ue)}function pt(Z,ie,le){Z._associatedReadableByteStreamController=ie,Z._view=le}function tt(Z){return new TypeError("ReadableStream.prototype."+Z+" can only be used on a ReadableStream")}function At(Z){return new TypeError("Cannot "+Z+" a stream using a released reader")}function ve(Z){return new TypeError("ReadableStreamDefaultReader.prototype."+Z+" can only be used on a ReadableStreamDefaultReader")}function et(Z){Z._closedPromise=new Promise(function(ie,le){Z._closedPromise_resolve=ie,Z._closedPromise_reject=le})}function Ze(Z,ie){Z._closedPromise=Promise.reject(ie),Z._closedPromise_resolve=void 0,Z._closedPromise_reject=void 0}function st(Z){Z._closedPromise=Promise.resolve(void 0),Z._closedPromise_resolve=void 0,Z._closedPromise_reject=void 0}function ut(Z,ie){Z._closedPromise_reject(ie),Z._closedPromise_resolve=void 0,Z._closedPromise_reject=void 0}function xt(Z,ie){Z._closedPromise=Promise.reject(ie)}function Nt(Z){Z._closedPromise_resolve(void 0),Z._closedPromise_resolve=void 0,Z._closedPromise_reject=void 0}function Lt(Z){return new TypeError("ReadableStreamBYOBReader.prototype."+Z+" can only be used on a ReadableStreamBYOBReader")}function er(Z){return new TypeError("ReadableStreamDefaultController.prototype."+Z+" can only be used on a ReadableStreamDefaultController")}function Ie(Z){return new TypeError("ReadableStreamBYOBRequest.prototype."+Z+" can only be used on a ReadableStreamBYOBRequest")}function U(Z){return new TypeError("ReadableByteStreamController.prototype."+Z+" can only be used on a ReadableByteStreamController")}function he(Z){try{Promise.prototype.then.call(Z,void 0,function(){})}catch{}}var je=function(){function Z(ie,le){for(var Se=0;Se<le.length;Se++){var Re=le[Se];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(ie,Re.key,Re)}}return function(ie,le,Se){return le&&Z(ie.prototype,le),Se&&Z(ie,Se),ie}}();i("better-assert");var Ke=i("./helpers.js"),Et=Ke.ArrayBufferCopy,lt=Ke.CreateAlgorithmFromUnderlyingMethod,qt=Ke.CreateIterResultObject,bt=Ke.IsFiniteNonNegativeNumber,Rt=Ke.InvokeOrNoop,Qt=Ke.IsDetachedBuffer,gr=Ke.TransferArrayBuffer,Zt=Ke.ValidateAndNormalizeHighWaterMark;Ke.IsNonNegativeNumber;var Dt=Ke.MakeSizeAlgorithmFromSizeFunction,Hn=Ke.createArrayFromList,St=Ke.typeIsObject,Ce=i("./utils.js"),Qe=Ce.rethrowAssertionErrorRejection,Xe=i("./queue-with-sizes.js"),jt=Xe.DequeueValue,kt=Xe.EnqueueValueWithSize,Wt=Xe.ResetQueue,Br=i("./writable-stream.js"),Yr=Br.AcquireWritableStreamDefaultWriter,Ua=Br.IsWritableStream,xi=Br.IsWritableStreamLocked,an=Br.WritableStreamAbort,Gi=Br.WritableStreamDefaultWriterCloseWithErrorPropagation,Wn=Br.WritableStreamDefaultWriterRelease,sa=Br.WritableStreamDefaultWriterWrite,Nn=Br.WritableStreamCloseQueuedOrInFlight,Ha=Symbol("[[CancelSteps]]"),P=Symbol("[[PullSteps]]"),O=function(){function Z(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=le.size,Re=le.highWaterMark;a(this,Z),c(this);var De=ie.type;if(String(De)==="bytes"){if(Re===void 0&&(Re=0),Re=Zt(Re),Se!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");dt(this,ie,Re)}else{if(De!==void 0)throw new RangeError("Invalid type is specified");Re===void 0&&(Re=1),pe(this,ie,Re=Zt(Re),Dt(Se))}}return je(Z,[{key:"cancel",value:function(le){return d(this)===!1?Promise.reject(tt("cancel")):h(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):y(this,le)}},{key:"getReader",value:function(){var le=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(d(this)===!1)throw tt("getReader");if(le===void 0)return s(this);if((le=String(le))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(le,Se){var Re=le.writable,De=le.readable;if(Re===void 0||De===void 0)throw new TypeError("readable and writable arguments must be defined");return he(this.pipeTo(Re,Se)),De}},{key:"pipeTo",value:function(le){var Se=this,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=Re.preventClose,Ue=Re.preventAbort,ze=Re.preventCancel;if(d(this)===!1)return Promise.reject(tt("pipeTo"));if(Ua(le)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(De=!!De,Ue=!!Ue,ze=!!ze,h(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(xi(le)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var Ye=s(this),rt=Yr(le),ye=!1,Ne=Promise.resolve();return new Promise(function(Be,$e){function Je(){return ye===!0?Promise.resolve():rt._readyPromise.then(function(){return $(Ye).then(function(ar){var Ar=ar.value;ar.done!==!0&&(Ne=sa(rt,Ar).catch(function(){}))})}).then(Je)}function it(){var ar=Ne;return Ne.then(function(){return ar!==Ne?it():void 0})}function Vt(ar,Ar,Dr){ar._state==="errored"?Dr(ar._storedError):Ar.catch(Dr).catch(Qe)}function yt(ar,Ar,Dr){function Fn(){ar().then(function(){return Ut(Ar,Dr)},function(Kn){return Ut(!0,Kn)}).catch(Qe)}ye!==!0&&(ye=!0,le._state==="writable"&&Nn(le)===!1?it().then(Fn):Fn())}function cr(ar,Ar){ye!==!0&&(ye=!0,le._state==="writable"&&Nn(le)===!1?it().then(function(){return Ut(ar,Ar)}).catch(Qe):Ut(ar,Ar))}function Ut(ar,Ar){Wn(rt),H(Ye),ar?$e(Ar):Be(void 0)}if(Vt(Se,Ye._closedPromise,function(ar){Ue===!1?yt(function(){return an(le,ar)},!0,ar):cr(!0,ar)}),Vt(le,rt._closedPromise,function(ar){ze===!1?yt(function(){return y(Se,ar)},!0,ar):cr(!0,ar)}),function(Ar,Dr,Fn){Ar._state==="closed"?Fn():Dr.then(Fn).catch(Qe)}(Se,Ye._closedPromise,function(){De===!1?yt(function(){return Gi(rt)}):cr()}),Nn(le)===!0||le._state==="closed"){var tr=new TypeError("the destination writable stream closed before all data could be piped to it");ze===!1?yt(function(){return y(Se,tr)},!0,tr):cr(!0,tr)}Je().catch(function(ar){Ne=Promise.resolve(),Qe(ar)})})}},{key:"tee",value:function(){if(d(this)===!1)throw tt("tee");var le=p(this);return Hn(le)}},{key:"locked",get:function(){if(d(this)===!1)throw tt("locked");return h(this)}}]),Z}();r.exports={CreateReadableByteStream:u,CreateReadableStream:l,ReadableStream:O,IsReadableStreamDisturbed:f,ReadableStreamDefaultControllerClose:J,ReadableStreamDefaultControllerEnqueue:fe,ReadableStreamDefaultControllerError:xe,ReadableStreamDefaultControllerGetDesiredSize:ae,ReadableStreamDefaultControllerHasBackpressure:Fe,ReadableStreamDefaultControllerCanCloseOrEnqueue:Le};var L=function(){function Z(ie){if(a(this,Z),d(ie)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(h(ie)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");N(this,ie),this._readRequests=[]}return je(Z,[{key:"cancel",value:function(le){return x(this)===!1?Promise.reject(ve("cancel")):this._ownerReadableStream===void 0?Promise.reject(At("cancel")):j(this,le)}},{key:"read",value:function(){return x(this)===!1?Promise.reject(ve("read")):this._ownerReadableStream===void 0?Promise.reject(At("read from")):$(this)}},{key:"releaseLock",value:function(){if(x(this)===!1)throw ve("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");H(this)}}},{key:"closed",get:function(){return x(this)===!1?Promise.reject(ve("closed")):this._closedPromise}}]),Z}(),q=function(){function Z(ie){if(a(this,Z),!d(ie))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(_e(ie._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(h(ie))throw new TypeError("This stream has already been locked for exclusive reading by another reader");N(this,ie),this._readIntoRequests=[]}return je(Z,[{key:"cancel",value:function(le){return A(this)?this._ownerReadableStream===void 0?Promise.reject(At("cancel")):j(this,le):Promise.reject(Lt("cancel"))}},{key:"read",value:function(le){return A(this)?this._ownerReadableStream===void 0?Promise.reject(At("read from")):ArrayBuffer.isView(le)?Qt(le.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):le.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):M(this,le):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(Lt("read"))}},{key:"releaseLock",value:function(){if(!A(this))throw Lt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");H(this)}}},{key:"closed",get:function(){return A(this)?this._closedPromise:Promise.reject(Lt("closed"))}}]),Z}(),Y=function(){function Z(){throw a(this,Z),new TypeError}return je(Z,[{key:"close",value:function(){if(te(this)===!1)throw er("close");if(Le(this)===!1)throw new TypeError("The stream is not in a state that permits close");J(this)}},{key:"enqueue",value:function(le){if(te(this)===!1)throw er("enqueue");if(Le(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return fe(this,le)}},{key:"error",value:function(le){if(te(this)===!1)throw er("error");var Se=this._controlledReadableStream;if(Se._state!=="readable")throw new TypeError("The stream is "+Se._state+" and so cannot be errored");xe(this,le)}},{key:Ha,value:function(le){return Wt(this),this._cancelAlgorithm(le)}},{key:P,value:function(){var le=this._controlledReadableStream;if(this._queue.length>0){var Se=jt(this);return this._closeRequested===!0&&this._queue.length===0?v(le):re(this),Promise.resolve(qt(Se,!1))}var Re=m(le);return re(this),Re}},{key:"desiredSize",get:function(){if(te(this)===!1)throw er("desiredSize");return ae(this)}}]),Z}(),ce=function(){function Z(){throw a(this,Z),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return je(Z,[{key:"respond",value:function(le){if(X(this)===!1)throw Ie("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Qt(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");be(this._associatedReadableByteStreamController,le)}},{key:"respondWithNewView",value:function(le){if(X(this)===!1)throw Ie("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(le))throw new TypeError("You can only respond with array buffer views");if(Qt(le.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");ke(this._associatedReadableByteStreamController,le)}},{key:"view",get:function(){if(X(this)===!1)throw Ie("view");return this._view}}]),Z}(),we=function(){function Z(){throw a(this,Z),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return je(Z,[{key:"close",value:function(){if(_e(this)===!1)throw U("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var le=this._controlledReadableByteStream._state;if(le!=="readable")throw new TypeError("The stream (in "+le+" state) is not in the readable state and cannot be closed");W(this)}},{key:"enqueue",value:function(le){if(_e(this)===!1)throw U("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var Se=this._controlledReadableByteStream._state;if(Se!=="readable")throw new TypeError("The stream (in "+Se+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(le))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(Qt(le.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");V(this,le)}},{key:"error",value:function(le){if(_e(this)===!1)throw U("error");var Se=this._controlledReadableByteStream;if(Se._state!=="readable")throw new TypeError("The stream is "+Se._state+" and so cannot be errored");K(this,le)}},{key:Ha,value:function(le){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),Wt(this),this._cancelAlgorithm(le)}},{key:P,value:function(){var le=this._controlledReadableByteStream;if(this._queueTotalSize>0){var Se=this._queue.shift();this._queueTotalSize-=Se.byteLength,ne(this);var Re=void 0;try{Re=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength)}catch(rt){return Promise.reject(rt)}return Promise.resolve(qt(Re,!1))}var De=this._autoAllocateChunkSize;if(De!==void 0){var Ue=void 0;try{Ue=new ArrayBuffer(De)}catch(rt){return Promise.reject(rt)}var ze={buffer:Ue,byteOffset:0,byteLength:De,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ze)}var Ye=m(le);return C(this),Ye}},{key:"byobRequest",get:function(){if(_e(this)===!1)throw U("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var le=this._pendingPullIntos[0],Se=new Uint8Array(le.buffer,le.byteOffset+le.bytesFilled,le.byteLength-le.bytesFilled),Re=Object.create(ce.prototype);pt(Re,this,Se),this._byobRequest=Re}return this._byobRequest}},{key:"desiredSize",get:function(){if(_e(this)===!1)throw U("desiredSize");return z(this)}}]),Z}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(i,r,n){function a(X,C){if(!(X instanceof C))throw new TypeError("Cannot call a class as a function")}function o(X,C,E){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Q=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},G=Object.create(pe.prototype),ne=void 0;s(G,new Promise(function(se){ne=se}),S,I,k,Q),h(G,Object.create(_e.prototype),C,E);var ee=X();return ne(ee),G}function s(X,C,E,S,I,k){function Q(){return C}X._writable=Le(Q,function(ne){return v(X,ne)},function(){return _(X)},function(){return b(X)},E,S),X._readable=re(Q,function(){return w(X)},function(ne){return c(X,ne),Promise.resolve()},I,k),X._backpressure=void 0,X._backpressureChangePromise=void 0,X._backpressureChangePromise_resolve=void 0,d(X,!0),X._transformStreamController=void 0}function l(X){return!!H(X)&&!!Object.prototype.hasOwnProperty.call(X,"_transformStreamController")}function u(X,C){D("TransformStreamError()"),X._readable._state==="readable"&&fe(X._readable._readableStreamController,C),c(X,C)}function c(X,C){me(X._writable._writableStreamController,C),X._backpressure===!0&&d(X,!1)}function d(X,C){D("TransformStreamSetBackpressure() [backpressure = "+C+"]"),X._backpressureChangePromise!==void 0&&X._backpressureChangePromise_resolve(),X._backpressureChangePromise=new Promise(function(E){X._backpressureChangePromise_resolve=E}),X._backpressure=C}function f(X){return!!H(X)&&!!Object.prototype.hasOwnProperty.call(X,"_controlledTransformStream")}function h(X,C,E,S){C._controlledTransformStream=X,X._transformStreamController=C,C._transformAlgorithm=E,C._flushAlgorithm=S}function p(X,C){var E=Object.create(_e.prototype),S=function(G){try{return g(E,G),Promise.resolve()}catch(ne){return Promise.reject(ne)}},I=C.transform;if(I!==void 0){if(typeof I!="function")throw new TypeError("transform is not a method");S=function(G){return j(I,C,[G,E]).catch(function(ne){throw u(X,ne),ne})}}var k=N(C,"flush",0,[E]);h(X,E,S,k)}function g(X,C){D("TransformStreamDefaultControllerEnqueue()");var E=X._controlledTransformStream,S=E._readable._readableStreamController;if(ae(S)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{J(S,C)}catch(I){throw c(E,I),E._readable._storedError}de(S)!==E._backpressure&&d(E,!0)}function m(X,C){u(X._controlledTransformStream,C)}function y(X){D("TransformStreamDefaultControllerTerminate()");var C=X._controlledTransformStream,E=C._readable._readableStreamController;ae(E)===!0&&oe(E),c(C,new TypeError("TransformStream terminated"))}function v(X,C){D("TransformStreamDefaultSinkWriteAlgorithm()");var E=X._transformStreamController;return X._backpressure===!0?X._backpressureChangePromise.then(function(){var S=X._writable;if(S._state==="erroring")throw S._storedError;return E._transformAlgorithm(C)}):E._transformAlgorithm(C)}function b(X){return u(X,new TypeError("Writable side aborted")),Promise.resolve()}function _(X){D("TransformStreamDefaultSinkCloseAlgorithm()");var C=X._readable;return X._transformStreamController._flushAlgorithm().then(function(){if(C._state==="errored")throw C._storedError;var E=C._readableStreamController;ae(E)===!0&&oe(E)}).catch(function(E){throw u(X,E),C._storedError})}function w(X){return D("TransformStreamDefaultSourcePullAlgorithm()"),d(X,!1),X._backpressureChangePromise}function T(X){return new TypeError("TransformStreamDefaultController.prototype."+X+" can only be used on a TransformStreamDefaultController")}function R(X){return new TypeError("TransformStream.prototype."+X+" can only be used on a TransformStream")}var F=function(){function X(C,E){for(var S=0;S<E.length;S++){var I=E[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,E,S){return E&&X(C.prototype,E),S&&X(C,S),C}}();i("better-assert");var D=i("debug")("streams:transform-stream:verbose"),A=i("./helpers.js"),x=A.InvokeOrNoop,N=A.CreateAlgorithmFromUnderlyingMethod,j=A.PromiseCall,H=A.typeIsObject,M=A.ValidateAndNormalizeHighWaterMark;A.IsNonNegativeNumber;var $=A.MakeSizeAlgorithmFromSizeFunction,te=i("./readable-stream.js"),re=te.CreateReadableStream,oe=te.ReadableStreamDefaultControllerClose,J=te.ReadableStreamDefaultControllerEnqueue,fe=te.ReadableStreamDefaultControllerError,xe=te.ReadableStreamDefaultControllerGetDesiredSize,de=te.ReadableStreamDefaultControllerHasBackpressure,ae=te.ReadableStreamDefaultControllerCanCloseOrEnqueue,Fe=i("./writable-stream.js"),Le=Fe.CreateWritableStream,me=Fe.WritableStreamDefaultControllerErrorIfNeeded,pe=function(){function X(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(a(this,X),C.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(C.writableType!==void 0)throw new RangeError("Invalid writable type specified");var I=E.size,k=$(I),Q=E.highWaterMark;Q===void 0&&(Q=1),Q=M(Q);var G=S.size,ne=$(G),ee=S.highWaterMark;ee===void 0&&(ee=0),ee=M(ee);var se=void 0;s(this,new Promise(function(Ae){se=Ae}),Q,k,ee,ne),p(this,C);var ge=x(C,"start",[this._transformStreamController]);se(ge)}return F(X,[{key:"readable",get:function(){if(l(this)===!1)throw R("readable");return this._readable}},{key:"writable",get:function(){if(l(this)===!1)throw R("writable");return this._writable}}]),X}(),_e=function(){function X(){throw a(this,X),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return F(X,[{key:"enqueue",value:function(E){if(f(this)===!1)throw T("enqueue");g(this,E)}},{key:"error",value:function(E){if(f(this)===!1)throw T("error");m(this,E)}},{key:"terminate",value:function(){if(f(this)===!1)throw T("terminate");y(this)}},{key:"desiredSize",get:function(){if(f(this)===!1)throw T("desiredSize");var E=this._controlledTransformStream._readable._readableStreamController;return xe(E)}}]),X}();r.exports={CreateTransformStream:o,TransformStream:pe}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(i,r,n){var a=i("better-assert");n.rethrowAssertionErrorRejection=function(o){o&&o.constructor===a.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(i,r,n){function a(U,he){if(!(U instanceof he))throw new TypeError("Cannot call a class as a function")}function o(U){return new er(U)}function s(U,he,je,Ke){var Et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,lt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},qt=Object.create(Lt.prototype);return l(qt),J(qt,Object.create(Ie.prototype),U,he,je,Ke,Et,lt),qt}function l(U){U._state="writable",U._storedError=void 0,U._writer=void 0,U._writableStreamController=void 0,U._writeRequests=[],U._inFlightWriteRequest=void 0,U._closeRequest=void 0,U._inFlightCloseRequest=void 0,U._pendingAbortRequest=void 0,U._backpressure=!1}function u(U){return!!pt(U)&&!!Object.prototype.hasOwnProperty.call(U,"_writableStreamController")}function c(U){return U._writer!==void 0}function d(U,he){var je=U._state;if(je==="closed")return Promise.resolve(void 0);if(je==="errored")return Promise.reject(U._storedError);var Ke=new TypeError("Requested to abort");if(U._pendingAbortRequest!==void 0)return Promise.reject(Ke);var Et=!1;je==="erroring"&&(Et=!0,he=void 0);var lt=new Promise(function(qt,bt){U._pendingAbortRequest={_resolve:qt,_reject:bt,_reason:he,_wasAlreadyErroring:Et}});return Et===!1&&p(U,Ke),lt}function f(U){return new Promise(function(he,je){var Ke={_resolve:he,_reject:je};U._writeRequests.push(Ke)})}function h(U,he){K("WritableStreamDealWithRejection(stream, %o)",he),U._state!=="writable"?g(U):p(U,he)}function p(U,he){K("WritableStreamStartErroring(stream, %o)",he);var je=U._writableStreamController;U._state="erroring",U._storedError=he;var Ke=U._writer;Ke!==void 0&&M(Ke,he),w(U)===!1&&je._started===!0&&g(U)}function g(U){K("WritableStreamFinishErroring()"),U._state="errored",U._writableStreamController[Nt]();var he=U._storedError,je=!0,Ke=!1,Et=void 0;try{for(var lt,qt=U._writeRequests[Symbol.iterator]();!(je=(lt=qt.next()).done);je=!0)lt.value._reject(he)}catch(Rt){Ke=!0,Et=Rt}finally{try{!je&&qt.return&&qt.return()}finally{if(Ke)throw Et}}if(U._writeRequests=[],U._pendingAbortRequest!==void 0){var bt=U._pendingAbortRequest;if(U._pendingAbortRequest=void 0,bt._wasAlreadyErroring===!0)return bt._reject(he),void F(U);U._writableStreamController[xt](bt._reason).then(function(){bt._resolve(),F(U)},function(Rt){bt._reject(Rt),F(U)})}else F(U)}function m(U){U._inFlightWriteRequest._resolve(void 0),U._inFlightWriteRequest=void 0}function y(U,he){U._inFlightWriteRequest._reject(he),U._inFlightWriteRequest=void 0,h(U,he)}function v(U){U._inFlightCloseRequest._resolve(void 0),U._inFlightCloseRequest=void 0,U._state==="erroring"&&(U._storedError=void 0,U._pendingAbortRequest!==void 0&&(U._pendingAbortRequest._resolve(),U._pendingAbortRequest=void 0)),U._state="closed";var he=U._writer;he!==void 0&&se(he)}function b(U,he){U._inFlightCloseRequest._reject(he),U._inFlightCloseRequest=void 0,U._pendingAbortRequest!==void 0&&(U._pendingAbortRequest._reject(he),U._pendingAbortRequest=void 0),h(U,he)}function _(U){return U._closeRequest!==void 0||U._inFlightCloseRequest!==void 0}function w(U){return U._inFlightWriteRequest===void 0&&U._inFlightCloseRequest===void 0?(K("WritableStreamHasOperationMarkedInFlight() is false"),!1):(K("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function T(U){U._inFlightCloseRequest=U._closeRequest,U._closeRequest=void 0}function R(U){U._inFlightWriteRequest=U._writeRequests.shift()}function F(U){K("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),U._closeRequest!==void 0&&(U._closeRequest._reject(U._storedError),U._closeRequest=void 0);var he=U._writer;he!==void 0&&(ne(he,U._storedError),he._closedPromise.catch(function(){}))}function D(U,he){var je=U._writer;je!==void 0&&he!==U._backpressure&&(he===!0?qe(je):W(je)),U._backpressure=he}function A(U){return!!pt(U)&&!!Object.prototype.hasOwnProperty.call(U,"_ownerWritableStream")}function x(U,he){return d(U._ownerWritableStream,he)}function N(U){var he=U._ownerWritableStream,je=he._state;if(je==="closed"||je==="errored")return Promise.reject(new TypeError("The stream (in "+je+" state) is not in the writable state and cannot be closed"));var Ke=new Promise(function(Et,lt){var qt={_resolve:Et,_reject:lt};he._closeRequest=qt});return he._backpressure===!0&&je==="writable"&&W(U),xe(he._writableStreamController),Ke}function j(U){var he=U._ownerWritableStream,je=he._state;return _(he)===!0||je==="closed"?Promise.resolve():je==="errored"?Promise.reject(he._storedError):N(U)}function H(U,he){U._closedPromiseState==="pending"?ne(U,he):ee(U,he),U._closedPromise.catch(function(){})}function M(U,he){K("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",he),U._readyPromiseState==="pending"?Ge(U,he):Ee(U,he),U._readyPromise.catch(function(){})}function $(U){var he=U._ownerWritableStream,je=he._state;return je==="errored"||je==="erroring"?null:je==="closed"?0:ae(he._writableStreamController)}function te(U){var he=U._ownerWritableStream,je=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");M(U,je),H(U,je),he._writer=void 0,U._ownerWritableStream=void 0}function re(U,he){var je=U._ownerWritableStream,Ke=je._writableStreamController,Et=de(Ke,he);if(je!==U._ownerWritableStream)return Promise.reject(I("write to"));var lt=je._state;if(lt==="errored")return Promise.reject(je._storedError);if(_(je)===!0||lt==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(lt==="erroring")return Promise.reject(je._storedError);var qt=f(je);return Fe(Ke,he,Et),qt}function oe(U){return!!pt(U)&&!!Object.prototype.hasOwnProperty.call(U,"_controlledWritableStream")}function J(U,he,je,Ke,Et,lt,qt,bt){he._controlledWritableStream=U,U._writableStreamController=he,he._queue=void 0,he._queueTotalSize=void 0,ut(he),he._started=!1,he._strategySizeAlgorithm=bt,he._strategyHWM=qt,he._writeAlgorithm=Ke,he._closeAlgorithm=Et,he._abortAlgorithm=lt;var Rt=X(he);D(U,Rt);var Qt=je();Promise.resolve(Qt).then(function(){he._started=!0,Le(he)},function(gr){he._started=!0,h(U,gr)}).catch(At)}function fe(U,he,je,Ke){var Et=Object.create(Ie.prototype),lt=be(he,"write",1,[Et]),qt=be(he,"close",0,[]),bt=be(he,"abort",1,[]);J(U,Et,function(){return ke(he,"start",[Et])},lt,qt,bt,je,Ke)}function xe(U){Ze(U,"close",0),Le(U)}function de(U,he){try{return U._strategySizeAlgorithm(he)}catch(je){return me(U,je),1}}function ae(U){return U._strategyHWM-U._queueTotalSize}function Fe(U,he,je){var Ke={chunk:he};try{Ze(U,Ke,je)}catch(lt){return void me(U,lt)}var Et=U._controlledWritableStream;_(Et)===!1&&Et._state==="writable"&&D(Et,X(U)),Le(U)}function Le(U){K("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var he=U._controlledWritableStream;if(U._started!==!1&&he._inFlightWriteRequest===void 0){var je=he._state;if(je!=="closed"&&je!=="errored")if(je!=="erroring"){if(U._queue.length!==0){var Ke=st(U);Ke==="close"?pe(U):_e(U,Ke.chunk)}}else g(he)}}function me(U,he){U._controlledWritableStream._state==="writable"&&C(U,he)}function pe(U){var he=U._controlledWritableStream;T(he),et(U),U._closeAlgorithm().then(function(){v(he)},function(je){b(he,je)}).catch(At)}function _e(U,he){var je=U._controlledWritableStream;R(je),U._writeAlgorithm(he).then(function(){m(je);var Ke=je._state;if(et(U),_(je)===!1&&Ke==="writable"){var Et=X(U);D(je,Et)}Le(U)},function(Ke){y(je,Ke)}).catch(At)}function X(U){return ae(U)<=0}function C(U,he){p(U._controlledWritableStream,he)}function E(U){return new TypeError("WritableStream.prototype."+U+" can only be used on a WritableStream")}function S(U){return new TypeError("WritableStreamDefaultWriter.prototype."+U+" can only be used on a WritableStreamDefaultWriter")}function I(U){return new TypeError("Cannot "+U+" a stream using a released writer")}function k(U){U._closedPromise=new Promise(function(he,je){U._closedPromise_resolve=he,U._closedPromise_reject=je,U._closedPromiseState="pending"})}function Q(U,he){U._closedPromise=Promise.reject(he),U._closedPromise_resolve=void 0,U._closedPromise_reject=void 0,U._closedPromiseState="rejected"}function G(U){U._closedPromise=Promise.resolve(void 0),U._closedPromise_resolve=void 0,U._closedPromise_reject=void 0,U._closedPromiseState="resolved"}function ne(U,he){U._closedPromise_reject(he),U._closedPromise_resolve=void 0,U._closedPromise_reject=void 0,U._closedPromiseState="rejected"}function ee(U,he){U._closedPromise=Promise.reject(he),U._closedPromiseState="rejected"}function se(U){U._closedPromise_resolve(void 0),U._closedPromise_resolve=void 0,U._closedPromise_reject=void 0,U._closedPromiseState="resolved"}function ge(U){K("defaultWriterReadyPromiseInitialize()"),U._readyPromise=new Promise(function(he,je){U._readyPromise_resolve=he,U._readyPromise_reject=je}),U._readyPromiseState="pending"}function Ae(U,he){K("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",he),U._readyPromise=Promise.reject(he),U._readyPromise_resolve=void 0,U._readyPromise_reject=void 0,U._readyPromiseState="rejected"}function Ve(U){K("defaultWriterReadyPromiseInitializeAsResolved()"),U._readyPromise=Promise.resolve(void 0),U._readyPromise_resolve=void 0,U._readyPromise_reject=void 0,U._readyPromiseState="fulfilled"}function Ge(U,he){K("defaultWriterReadyPromiseReject(writer, %o)",he),U._readyPromise_reject(he),U._readyPromise_resolve=void 0,U._readyPromise_reject=void 0,U._readyPromiseState="rejected"}function qe(U){K("defaultWriterReadyPromiseReset()"),U._readyPromise=new Promise(function(he,je){U._readyPromise_resolve=he,U._readyPromise_reject=je}),U._readyPromiseState="pending"}function Ee(U,he){K("defaultWriterReadyPromiseResetToRejected(writer, %o)",he),U._readyPromise=Promise.reject(he),U._readyPromiseState="rejected"}function W(U){K("defaultWriterReadyPromiseResolve()"),U._readyPromise_resolve(void 0),U._readyPromise_resolve=void 0,U._readyPromise_reject=void 0,U._readyPromiseState="fulfilled"}var V=function(){function U(he,je){for(var Ke=0;Ke<je.length;Ke++){var Et=je[Ke];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(he,Et.key,Et)}}return function(he,je,Ke){return je&&U(he.prototype,je),Ke&&U(he,Ke),he}}();i("better-assert");var K=i("debug")("streams:writable-stream:verbose"),z=i("./helpers.js"),be=z.CreateAlgorithmFromUnderlyingMethod,ke=z.InvokeOrNoop,Pe=z.ValidateAndNormalizeHighWaterMark;z.IsNonNegativeNumber;var dt=z.MakeSizeAlgorithmFromSizeFunction,pt=z.typeIsObject,tt=i("./utils.js"),At=tt.rethrowAssertionErrorRejection,ve=i("./queue-with-sizes.js"),et=ve.DequeueValue,Ze=ve.EnqueueValueWithSize,st=ve.PeekQueueValue,ut=ve.ResetQueue,xt=Symbol("[[AbortSteps]]"),Nt=Symbol("[[ErrorSteps]]"),Lt=function(){function U(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=je.size,Et=je.highWaterMark,lt=Et===void 0?1:Et;if(a(this,U),l(this),he.type!==void 0)throw new RangeError("Invalid type is specified");var qt=dt(Ke);fe(this,he,lt=Pe(lt),qt)}return V(U,[{key:"abort",value:function(je){return u(this)===!1?Promise.reject(E("abort")):c(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):d(this,je)}},{key:"getWriter",value:function(){if(u(this)===!1)throw E("getWriter");return o(this)}},{key:"locked",get:function(){if(u(this)===!1)throw E("locked");return c(this)}}]),U}();r.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:s,IsWritableStream:u,IsWritableStreamLocked:c,WritableStream:Lt,WritableStreamAbort:d,WritableStreamDefaultControllerErrorIfNeeded:me,WritableStreamDefaultWriterCloseWithErrorPropagation:j,WritableStreamDefaultWriterRelease:te,WritableStreamDefaultWriterWrite:re,WritableStreamCloseQueuedOrInFlight:_};var er=function(){function U(he){if(a(this,U),u(he)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(c(he)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=he,he._writer=this;var je=he._state;if(je==="writable")_(he)===!1&&he._backpressure===!0?ge(this):Ve(this),k(this);else if(je==="erroring")Ae(this,he._storedError),this._readyPromise.catch(function(){}),k(this);else if(je==="closed")Ve(this),G(this);else{var Ke=he._storedError;Ae(this,Ke),this._readyPromise.catch(function(){}),Q(this,Ke),this._closedPromise.catch(function(){})}}return V(U,[{key:"abort",value:function(je){return A(this)===!1?Promise.reject(S("abort")):this._ownerWritableStream===void 0?Promise.reject(I("abort")):x(this,je)}},{key:"close",value:function(){if(A(this)===!1)return Promise.reject(S("close"));var je=this._ownerWritableStream;return je===void 0?Promise.reject(I("close")):_(je)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):N(this)}},{key:"releaseLock",value:function(){if(A(this)===!1)throw S("releaseLock");this._ownerWritableStream!==void 0&&te(this)}},{key:"write",value:function(je){return A(this)===!1?Promise.reject(S("write")):this._ownerWritableStream===void 0?Promise.reject(I("write to")):re(this,je)}},{key:"closed",get:function(){return A(this)===!1?Promise.reject(S("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(A(this)===!1)throw S("desiredSize");if(this._ownerWritableStream===void 0)throw I("desiredSize");return $(this)}},{key:"ready",get:function(){return A(this)===!1?Promise.reject(S("ready")):this._readyPromise}}]),U}(),Ie=function(){function U(){throw a(this,U),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return V(U,[{key:"error",value:function(je){if(oe(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&C(this,je)}},{key:xt,value:function(je){return this._abortAlgorithm(je)}},{key:Nt,value:function(){ut(this)}}]),U}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(i,r,n){(function(a){function o(c){if(!c){var d=l(),f=d[1],h=f.getFileName(),p=f.getLineNumber(),g=(g=u.readFileSync(h,"utf8")).split(`
`)[p-1].match(/assert\((.*)\)/)[1];throw new s({message:g,stackStartFunction:d[0].getFunction()})}}var s=i("assert").AssertionError,l=i("callsite"),u=i("fs");r.exports=a.env.NO_ASSERT?function(){}:o}).call(this,i("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(i,r,n){r.exports=function(){var a=Error.prepareStackTrace;Error.prepareStackTrace=function(l,u){return u};var o=new Error;Error.captureStackTrace(o,arguments.callee);var s=o.stack;return Error.prepareStackTrace=a,s}},{}],18:[function(i,r,n){(function(a){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(f){var h=this.useColors;if(f[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+f[0]+(h?"%c ":" ")+"+"+n.humanize(this.diff),h){var p="color: "+this.color;f.splice(1,0,p,"color: inherit");var g=0,m=0;f[0].replace(/%[a-zA-Z%]/g,function(y){y!=="%%"&&(g++,y==="%c"&&(m=g))}),f.splice(m,0,p)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(f){try{f==null?n.storage.removeItem("debug"):n.storage.debug=f}catch{}}function c(){var f;try{f=n.storage.debug}catch{}return!f&&typeof a<"u"&&"env"in a&&(f=a.env.DEBUG),f}function d(){try{return window.localStorage}catch{}}n=r.exports=i("./debug"),n.log=l,n.formatArgs=s,n.save=u,n.load=c,n.useColors=o,n.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:d(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(f){try{return JSON.stringify(f)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}},n.enable(c())}).call(this,i("_process"))},{"./debug":19,_process:4}],19:[function(i,r,n){function a(f){var h,p=0;for(h in f)p=(p<<5)-p+f.charCodeAt(h),p|=0;return n.colors[Math.abs(p)%n.colors.length]}function o(f){function h(){if(h.enabled){var g=h,m=+new Date,y=m-(p||m);g.diff=y,g.prev=p,g.curr=m,p=m;for(var v=new Array(arguments.length),b=0;b<v.length;b++)v[b]=arguments[b];v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(w,T){if(w==="%%")return w;_++;var R=n.formatters[T];if(typeof R=="function"){var F=v[_];w=R.call(g,F),v.splice(_,1),_--}return w}),n.formatArgs.call(g,v),(h.log||n.log||console.log.bind(console)).apply(g,v)}}var p;return h.namespace=f,h.enabled=n.enabled(f),h.useColors=n.useColors(),h.color=a(f),h.destroy=s,typeof n.init=="function"&&n.init(h),n.instances.push(h),h}function s(){var f=n.instances.indexOf(this);return f!==-1&&(n.instances.splice(f,1),!0)}function l(f){n.save(f),n.names=[],n.skips=[];var h,p=(typeof f=="string"?f:"").split(/[\s,]+/),g=p.length;for(h=0;h<g;h++)p[h]&&((f=p[h].replace(/\*/g,".*?"))[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")));for(h=0;h<n.instances.length;h++){var m=n.instances[h];m.enabled=n.enabled(m.namespace)}}function u(){n.enable("")}function c(f){if(f[f.length-1]==="*")return!0;var h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(f))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(f))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}n=r.exports=o.debug=o.default=o,n.coerce=d,n.disable=u,n.enable=l,n.enabled=c,n.humanize=i("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}},{ms:20}],20:[function(i,r,n){function a(p){if(!((p=String(p)).length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(g){var m=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return m*h;case"days":case"day":case"d":return m*f;case"hours":case"hour":case"hrs":case"hr":case"h":return m*d;case"minutes":case"minute":case"mins":case"min":case"m":return m*c;case"seconds":case"second":case"secs":case"sec":case"s":return m*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function o(p){return p>=f?Math.round(p/f)+"d":p>=d?Math.round(p/d)+"h":p>=c?Math.round(p/c)+"m":p>=u?Math.round(p/u)+"s":p+"ms"}function s(p){return l(p,f,"day")||l(p,d,"hour")||l(p,c,"minute")||l(p,u,"second")||p+" ms"}function l(p,g,m){if(!(p<g))return p<1.5*g?Math.floor(p/g)+" "+m:Math.ceil(p/g)+" "+m+"s"}var u=1e3,c=60*u,d=60*c,f=24*d,h=365.25*f;r.exports=function(p,g){g=g||{};var m=typeof p;if(m==="string"&&p.length>0)return a(p);if(m==="number"&&isNaN(p)===!1)return g.long?s(p):o(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},{}]},{},[1])(1)})}(qO)),qO.exports}var VO,iq;function kZ(){if(iq)return VO;iq=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",VO=e,VO}var UO={exports:{}},aq;function s1e(){return aq||(aq=1,function(e){e.exports=t,e.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(i){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var r=!1,n={};function a(l){n.data=c,n.end=c,n.end=d,n.close=d,n.error=d;for(var u in n)i.on(u,n[u]);i.pause();function c(f){r||(l.enqueue(f),i.pause())}function d(f){if(!r){r=!0;for(var h in n)i.removeListener(h,n[h]);f?l.error(f):l.close()}}}function o(){r||i.resume()}function s(){r=!0;for(var l in n)i.removeListener(l,n[l]);i.push(null),i.pause(),i.destroy?i.destroy():i.close&&i.close()}return new ReadableStream({start:a,pull:o,cancel:s})}}(UO)),UO.exports}var oq;function BZ(){if(oq)return bb;oq=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.ActorHttp=void 0;const e=_t(),t=a1e();globalThis.ReadableStream||(globalThis.ReadableStream=o1e().ReadableStream);const i=kZ(),r=s1e();let n=class extends e.Actor{constructor(o){super(o)}static toNodeReadable(o){return i(o)||o===null?o:(0,t.readableFromWeb)(o)}static toWebReadableStream(o){return r(o)}static headersToHash(o){const s={};return o.forEach((l,u)=>{s[u]=l}),s}};return bb.ActorHttp=n,bb}var _b={},sq;function u1e(){if(sq)return _b;sq=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.validateAndCloseHttpResponse=void 0;const e=U0(),t=BZ();async function i(r,n){var a;if(n.status>=400){let o="empty response";if(n.body){const s=t.ActorHttp.toNodeReadable(n.body);o=await(0,e.stringify)(s)}throw new Error(`Could not update ${r} (HTTP status ${n.status}):
${o}`)}await((a=n.body)==null?void 0:a.cancel())}return _b.validateAndCloseHttpResponse=i,_b}var uq;function Eu(){return uq||(uq=1,function(e){var t=rf&&rf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=rf&&rf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(BZ(),e),i(u1e(),e)}(rf)),rf}var HO={},lq;function qZ(){return lq||(lq=1,function(e){(function(t){var i=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof si<"u"&&si||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function n(A){return A&&DataView.prototype.isPrototypeOf(A)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(A){return A&&a.indexOf(Object.prototype.toString.call(A))>-1};function s(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function l(A){return typeof A!="string"&&(A=String(A)),A}function u(A){var x={next:function(){var N=A.shift();return{done:N===void 0,value:N}}};return r.iterable&&(x[Symbol.iterator]=function(){return x}),x}function c(A){this.map={},A instanceof c?A.forEach(function(x,N){this.append(N,x)},this):Array.isArray(A)?A.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(x){this.append(x,A[x])},this)}c.prototype.append=function(A,x){A=s(A),x=l(x);var N=this.map[A];this.map[A]=N?N+", "+x:x},c.prototype.delete=function(A){delete this.map[s(A)]},c.prototype.get=function(A){return A=s(A),this.has(A)?this.map[A]:null},c.prototype.has=function(A){return this.map.hasOwnProperty(s(A))},c.prototype.set=function(A,x){this.map[s(A)]=l(x)},c.prototype.forEach=function(A,x){for(var N in this.map)this.map.hasOwnProperty(N)&&A.call(x,this.map[N],N,this)},c.prototype.keys=function(){var A=[];return this.forEach(function(x,N){A.push(N)}),u(A)},c.prototype.values=function(){var A=[];return this.forEach(function(x){A.push(x)}),u(A)},c.prototype.entries=function(){var A=[];return this.forEach(function(x,N){A.push([N,x])}),u(A)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function f(A){return new Promise(function(x,N){A.onload=function(){x(A.result)},A.onerror=function(){N(A.error)}})}function h(A){var x=new FileReader,N=f(x);return x.readAsArrayBuffer(A),N}function p(A){var x=new FileReader,N=f(x),j=/charset=([A-Za-z0-9_-]+)/.exec(A.type),H=j?j[1]:"utf-8";return x.readAsText(A,H),N}function g(A){for(var x=new Uint8Array(A),N=new Array(x.length),j=0;j<x.length;j++)N[j]=String.fromCharCode(x[j]);return N.join("")}function m(A){if(A.slice)return A.slice(0);var x=new Uint8Array(A.byteLength);return x.set(new Uint8Array(A)),x.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:r.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:r.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():r.arrayBuffer&&r.blob&&n(A)?(this._bodyArrayBuffer=m(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||o(A))?this._bodyArrayBuffer=m(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=d(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(A){var x=A.toUpperCase();return v.indexOf(x)>-1?x:A}function _(A,x){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var N=x.body;if(A instanceof _){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,x.headers||(this.headers=new c(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!N&&A._bodyInit!=null&&(N=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new c(x.headers)),this.method=b(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||function(){if("AbortController"in i){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(A){var x=new FormData;return A.trim().split("&").forEach(function(N){if(N){var j=N.split("="),H=j.shift().replace(/\+/g," "),M=j.join("=").replace(/\+/g," ");x.append(decodeURIComponent(H),decodeURIComponent(M))}}),x}function T(A){var x=new c,N=A.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var H=j.split(":"),M=H.shift().trim();if(M){var $=H.join(":").trim();try{x.append(M,$)}catch(te){console.warn("Response "+te.message)}}}),x}y.call(_.prototype);function R(A,x){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new c(x.headers),this.url=x.url||"",this._initBody(A)}y.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},R.error=function(){var A=new R(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var F=[301,302,303,307,308];R.redirect=function(A,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new R(null,{status:x,headers:{location:A}})},t.DOMException=i.DOMException;try{new t.DOMException}catch{t.DOMException=function(x,N){this.message=x,this.name=N;var j=Error(x);this.stack=j.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(A,x){return new Promise(function(N,j){var H=new _(A,x);if(H.signal&&H.signal.aborted)return j(new t.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function $(){M.abort()}M.onload=function(){var oe={statusText:M.statusText,headers:T(M.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(M.status<200||M.status>599)?oe.status=200:oe.status=M.status,oe.url="responseURL"in M?M.responseURL:oe.headers.get("X-Request-URL");var J="response"in M?M.response:M.responseText;setTimeout(function(){N(new R(J,oe))},0)},M.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){j(new t.DOMException("Aborted","AbortError"))},0)};function te(oe){try{return oe===""&&i.location.href?i.location.href:oe}catch{return oe}}if(M.open(H.method,te(H.url),!0),H.credentials==="include"?M.withCredentials=!0:H.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(r.blob?M.responseType="blob":r.arrayBuffer&&(M.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof c||i.Headers&&x.headers instanceof i.Headers)){var re=[];Object.getOwnPropertyNames(x.headers).forEach(function(oe){re.push(s(oe)),M.setRequestHeader(oe,l(x.headers[oe]))}),H.headers.forEach(function(oe,J){re.indexOf(J)===-1&&M.setRequestHeader(J,oe)})}else H.headers.forEach(function(oe,J){M.setRequestHeader(J,oe)});H.signal&&(H.signal.addEventListener("abort",$),M.onreadystatechange=function(){M.readyState===4&&H.signal.removeEventListener("abort",$)}),M.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return D.polyfill=!0,i.fetch||(i.fetch=D,i.Headers=c,i.Request=_,i.Response=R),t.Headers=c,t.Request=_,t.Response=R,t.fetch=D,t})({})}(typeof self<"u"?self:HO)),HO}var wb={},cq;function l1e(){if(cq)return wb;cq=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.FetchInitPreprocessor=void 0;const e=Eu();class t{async handle(r){if(r.headers){const n=new Headers(r.headers);n.has("user-agent")&&n.delete("user-agent"),r.headers=n}if(r!=null&&r.headers&&"append"in r.headers&&(r.headers=e.ActorHttp.headersToHash(r.headers)),r.body&&typeof r.body!="string"&&"getReader"in r.body){const n=r.body.getReader(),a=[];for(;;){const{done:o,value:s}=await n.read();if(o)break;a.push(s)}r.body=a.join("")}return{keepalive:!r.body,...r}}async createAbortController(){return new AbortController}}return wb.FetchInitPreprocessor=t,wb}var dq;function c1e(){if(dq)return vb;dq=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.ActorHttpFetch=void 0;const e=Eu(),t=Ir();qZ();const i=l1e();let r=class gI extends e.ActorHttp{constructor(a){super(a),this.userAgent=gI.createUserAgent(),this.fetchInitPreprocessor=new i.FetchInitPreprocessor(a.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${process.version}; ${process.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(a){return{time:Number.POSITIVE_INFINITY}}static async getResponse(a,o,s,l,u,c){var h;let d,f=l+1;for(;f-- >0;)try{const p=await a(o,s);if(c&&p.status>=500&&p.status<600)throw new Error(`Server replied with response code ${p.status}: ${p.statusText}`);return p}catch(p){if(d=p,(h=s.signal)!=null&&h.aborted)throw p;f>0&&await new Promise((g,m)=>{var y;setTimeout(g,u),(y=s.signal)==null||y.addEventListener("abort",()=>{m(new Error("Fetch aborted by timeout."))})})}throw l>0?new Error(`Number of fetch retries (${l}) exceeded. Last error: ${String(d)}`):d}async run(a){var f,h,p,g,m,y,v,b;const o=((f=a.init)==null?void 0:f.headers)??{};a.init=a.init??{},a.init.headers=new Headers(o),a.init.headers.has("user-agent")||a.init.headers.append("user-agent",this.userAgent);const s=a.context.get(t.KeysHttp.auth);s&&a.init.headers.append("Authorization",`Basic ${Buffer.from(s).toString("base64")}`),this.logInfo(a.context,`Requesting ${typeof a.input=="string"?a.input:a.input.url}`,()=>({headers:e.ActorHttp.headersToHash(new Headers(a.init.headers)),method:a.init.method??"GET"})),(h=a.init)!=null&&h.headers&&"append"in a.init.headers&&a.context.has(t.KeysHttp.fetch)&&(a.init.headers=e.ActorHttp.headersToHash(a.init.headers));let l={...a.init};a.context.get(t.KeysHttp.includeCredentials)&&(l.credentials="include");const u=(p=a.context)==null?void 0:p.get(t.KeysHttp.httpTimeout);let c,d;if(u!==void 0){const _=await this.fetchInitPreprocessor.createAbortController();l.signal=_.signal,d=()=>_.abort(),c=setTimeout(()=>d(),u)}try{l=await this.fetchInitPreprocessor.handle(l);const _=((g=a.context)==null?void 0:g.get(t.KeysHttp.httpRetryCount))??0,w=((m=a.context)==null?void 0:m.get(t.KeysHttp.httpRetryDelay))??0,T=((y=a.context)==null?void 0:y.get(t.KeysHttp.httpRetryOnServerError))??!1,R=(v=a.context)==null?void 0:v.get(t.KeysHttp.fetch),F=await gI.getResponse(R??fetch,a.input,l,_,w,T);return c!==void 0&&((((b=a.context)==null?void 0:b.get(t.KeysHttp.httpBodyTimeout))||!1)&&F.body?(d=()=>{var A;return(A=F.body)==null?void 0:A.cancel(new Error(`HTTP timeout when reading the body of ${F.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},F.body.on("close",()=>{clearTimeout(c)})):clearTimeout(c)),F.body&&!F.body.cancel&&(F.body.cancel=async D=>{F.body.destroy(D),c!==void 0&&clearTimeout(c)}),F}catch(_){throw c!==void 0&&clearTimeout(c),_}}};return vb.ActorHttpFetch=r,vb}var fq;function VZ(){return fq||(fq=1,function(e){var t=tf&&tf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=tf&&tf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(c1e(),e)}(tf)),tf}var af={},Sb={},hq;function d1e(){if(hq)return Sb;hq=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.ActorQueryOperationSource=void 0;const e=hr(),t=Ir(),i=zi(),r=vr();let n=class extends e.ActorQueryOperation{constructor(o){super(o)}async test(o){if(!e.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} requires an operation with source annotation.`);return{httpRequests:1}}async run(o){const s=o.context.get(t.KeysInitQuery.physicalQueryPlanLogger);s&&(s.logOperation(o.operation.type,void 0,o.operation,o.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),o.context=o.context.set(t.KeysInitQuery.physicalQueryPlanNode,o.operation));const l=e.ActorQueryOperation.getOperationSource(o.operation),u=l.context?o.context.merge(l.context):o.context;let c=!1;if(r.Util.recurseOperation(o.operation,{construct(){return c=!0,!1}}),c){const h=l.source.queryQuads(o.operation,u),p=(0,i.getMetadataQuads)(h);return{type:"quads",quadStream:h,metadata:p}}switch(o.operation.type){case r.Algebra.types.ASK:return{type:"boolean",execute:()=>l.source.queryBoolean(o.operation,u)};case r.Algebra.types.COMPOSITE_UPDATE:case r.Algebra.types.DELETE_INSERT:case r.Algebra.types.LOAD:case r.Algebra.types.CLEAR:case r.Algebra.types.CREATE:case r.Algebra.types.DROP:case r.Algebra.types.ADD:case r.Algebra.types.MOVE:case r.Algebra.types.COPY:return{type:"void",execute:()=>l.source.queryVoid(o.operation,u)}}const d=l.source.queryBindings(o.operation,u),f=(0,i.getMetadataBindings)(d);return{type:"bindings",bindingsStream:d,metadata:f}}};return Sb.ActorQueryOperationSource=n,Sb}var pq;function UZ(){return pq||(pq=1,function(e){var t=af&&af.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=af&&af.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(d1e(),e)}(af)),af}var of={},Ab={},gq;function f1e(){if(gq)return Ab;gq=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.MediatorJoinCoefficientsFixed=void 0;const e=Ir(),t=_t();let i=class extends t.Mediator{constructor(n){super(n)}async mediateWith(n,a){var g;const o=[],s=a.map(({reply:m})=>m).map(m=>m.catch(y=>{o.push(y)})),l=await Promise.all(s);let u=l.map(m=>{if(m)return m.iterations*this.cpuWeight+m.persistedItems*this.memoryWeight+m.blockingItems*this.timeWeight+m.requestTime*this.ioWeight});const c=Math.max(...u.filter(m=>m!==void 0)),d=n.context.get(e.KeysQueryOperation.limitIndicator);d&&(u=u.map((m,y)=>m!==void 0&&l[y].blockingItems>0&&l[y].iterations>d?m+c:m));let f=-1,h=Number.POSITIVE_INFINITY;for(const[m,y]of u.entries())y!==void 0&&(f===-1||y<h)&&(f=m,h=y);if(f<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(m=>m.message).join(`
`)}`);const p=a[f].actor;return p.includeInLogs&&((g=t.Actor.getContextLogger(n.context))==null||g.debug(`Determined physical join operator '${p.logicalType}-${p.physicalName}'`,{entries:n.entries.length,variables:await Promise.all(n.entries.map(async m=>(await m.output.metadata()).variables.map(y=>y.value))),costs:Object.fromEntries(u.map((m,y)=>[`${a[y].actor.logicalType}-${a[y].actor.physicalName}`,m]).filter(m=>m[1]!==void 0)),coefficients:Object.fromEntries(l.map((m,y)=>[`${a[y].actor.logicalType}-${a[y].actor.physicalName}`,m]).filter(m=>m[1]!==void 0))})),p}};return Ab.MediatorJoinCoefficientsFixed=i,Ab}var mq;function HZ(){return mq||(mq=1,function(e){var t=of&&of.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=of&&of.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(f1e(),e)}(of)),of}var sf={},Tb={},yq;function $Z(){if(yq)return Tb;yq=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.ActorHttpInvalidate=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Tb.ActorHttpInvalidate=t,Tb}var Eb={},vq;function h1e(){if(vq)return Eb;vq=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.ActorHttpInvalidateListenable=void 0;const e=$Z();let t=class extends e.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return!0}async run(r){for(const n of this.invalidateListeners)n(r);return{}}};return Eb.ActorHttpInvalidateListenable=t,Eb}var bq;function nl(){return bq||(bq=1,function(e){var t=sf&&sf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=sf&&sf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i($Z(),e),i(h1e(),e)}(sf)),sf}var uf={},xb={},_q;function p1e(){if(_q)return xb;_q=1,Object.defineProperty(xb,"__esModule",{value:!0}),xb.MediatorAll=void 0;const e=_t();let t=class extends e.Mediator{constructor(r){super(r)}async mediate(r){const n=[];let a;try{a=this.publish(r)}catch{a=[]}for(const s of a)try{await s.reply,n.push(s.actor)}catch{}return(await Promise.all(n.map(s=>s.runObservable(r))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return xb.MediatorAll=t,xb}var wq;function QZ(){return wq||(wq=1,function(e){var t=uf&&uf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=uf&&uf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(p1e(),e)}(uf)),uf}var lf={},Rb={},cf={},Ob={},Pb={},Sq;function g1e(){if(Sq)return Pb;Sq=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.instrumentIterator=void 0;function e(i){const r={count:0,timeSelf:0,timeLife:0};return t(i,r,!0),new Promise(n=>{i.on("end",()=>{n(r)})})}Pb.instrumentIterator=e;function t(i,r,n){if(!("_profileInstrumented"in i)){if(i._profileInstrumented=!0,"_read"in i){const a=i._read;i._read=(o,s)=>{const l=performance.now();a.call(i,o,()=>{r.timeSelf+=performance.now()-l,s()})}}if("read"in i){const a=i.read;i.read=()=>{const o=performance.now(),s=a.call(i);return n&&s&&r.count++,r.timeSelf+=performance.now()-o,s}}if(n){const a=performance.now();i.on("end",()=>{r.timeLife=performance.now()-a})}"_source"in i&&t(i._source,r,!1)}}return Pb}var Aq;function m1e(){if(Aq)return Ob;Aq=1,Object.defineProperty(Ob,"__esModule",{value:!0}),Ob.ActorRdfJoin=void 0;const e=Ir(),t=_t(),i=zi(),r=yr(),n=nn(),a=g1e(),o=new r.DataFactory;let s=class Hu extends t.Actor{constructor(u,c){super(u),this.includeInLogs=!0,this.logicalType=c.logicalType,this.physicalName=c.physicalName,this.limitEntries=c.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=c.limitEntriesMin??!1,this.canHandleUndefs=c.canHandleUndefs??!1,this.isLeaf=c.isLeaf??!0,this.requiresVariableOverlap=c.requiresVariableOverlap??!1}static hash(u,c){return c.map(d=>{const f=u.get(d);return f?f.value:""}).join("")}static hashNonClashing(u,c){return c.map(d=>{const f=u.get(d);return f?(0,n.termToString)(f):""}).join("")}static overlappingVariables(u){const c=u.map(f=>f.variables);let d=c[0];for(const f of c.slice(1))d=d.filter(h=>f.some(p=>p.value===h.value));return d}static joinVariables(u){return[...new Set(u.flatMap(c=>c.variables.map(d=>d.value)))].map(c=>o.variable(c))}static joinBindings(...u){if(u.length===0)return null;if(u.length===1)return u[0];let c=u[0];for(const d of u.slice(1)){const f=c.merge(d);if(!f)return null;c=f}return c}static getCardinality(u){return u.cardinality}static async getMetadatas(u){return await Promise.all(u.map(c=>c.output.metadata()))}static async getEntriesWithMetadatas(u){const c=await Hu.getMetadatas(u);return u.map((d,f)=>({...d,metadata:c[f]}))}static getRequestInitialTimes(u){return u.map(c=>c.pageSize?0:c.requestTime??0)}static getRequestItemTimes(u){return u.map(c=>c.pageSize?(c.requestTime??0)/c.pageSize:0)}constructState(u){const c=new i.MetadataValidationState,d=()=>c.invalidate();for(const f of u)f.state.addInvalidateListener(d);return c}async constructResultMetadata(u,c,d,f={},h=!1){let p;return f.cardinality?p=f.cardinality:(p=c.reduce((g,m)=>{const y=Hu.getCardinality(m);return{type:y.type==="estimate"?"estimate":g.type,value:g.value*(h?Math.max(1,y.value):y.value)}},{type:"exact",value:1}),p.value*=(await this.mediatorJoinSelectivity.mediate({entries:u,context:d})).selectivity),{state:this.constructState(c),...f,cardinality:{type:p.type,value:p.value},canContainUndefs:f.canContainUndefs??c.some(g=>g.canContainUndefs),variables:Hu.joinVariables(c)}}static async sortJoinEntries(u,c,d){if(c.some(m=>m.metadata.canContainUndefs))return c;const h={};for(const m of c)for(const y of m.metadata.variables){let v=h[y.value];v||(v=0),h[y.value]=++v}const p=[];for(const[m,y]of Object.entries(h))y>=2&&p.push(m);if(p.length===0)throw new Error("Bind join can only join entries with at least one common variable");const g=[];for(const m of c){let y=!1;for(const v of m.metadata.variables)if(p.includes(v.value)){y=!0;break}y||g.push(m)}return(await u.mediate({entries:c,context:d})).entries.sort((m,y)=>{const v=g.includes(m),b=g.includes(y);return v===b?0:v?1:-1})}async test(u){if(u.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${u.type}' was given.`);if(u.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?u.entries.length<this.limitEntries:u.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${u.entries.length}.`);for(const d of u.entries)if(d.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${d.output.type}'`);const c=await Hu.getMetadatas(u.entries);if(!this.canHandleUndefs){for(const d of c)if(d.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}if(this.requiresVariableOverlap&&Hu.overlappingVariables(c).length===0)throw new Error(`Actor ${this.name} can only join entries with at least one common variable`);return await this.getJoinCoefficients(u,c)}async run(u){let c;u.context.has(e.KeysInitQuery.physicalQueryPlanLogger)&&(c=u.context.get(e.KeysInitQuery.physicalQueryPlanNode),u.context=u.context.set(e.KeysInitQuery.physicalQueryPlanNode,u));const d=u.context.get(e.KeysInitQuery.physicalQueryPlanLogger);let f;this.includeInLogs&&d&&(f={},d.stashChildren(c,m=>m.logicalOperator.startsWith("join")),d.logOperation(`join-${this.logicalType}`,this.physicalName,u,c,this.name,f));const{result:h,physicalPlanMetadata:p}=await this.getOutput(u),g=await Hu.getMetadatas(u.entries);if(f){(0,a.instrumentIterator)(h.bindingsStream).then(y=>{d.appendMetadata(u,{cardinalityReal:y.count,timeSelf:y.timeSelf,timeLife:y.timeLife})}),Object.assign(f,p);const m=g.map(Hu.getCardinality);if(f.cardinalities=m,f.joinCoefficients=await this.getJoinCoefficients(u,g),this.isLeaf)for(let y=0;y<u.entries.length;y++){const v=u.entries[y];d.unstashChild(v.operation,u),d.appendMetadata(v.operation,{cardinality:m[y]})}}return h.metadata=(0,i.cachifyMetadata)(h.metadata),h}};return Ob.ActorRdfJoin=s,Ob}var Ib={},Tq;function y1e(){if(Tq)return Ib;Tq=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.ChunkedIterator=void 0;const e=Rr();let t=class extends e.TransformIterator{constructor(r,n,a){super(r,a),this.chunk=[],this.blockSize=n}consumeChunkAsIterator(){const r=new e.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],r}_transform(r,n,a){this.chunk.push(r),this.chunk.length>=this.blockSize&&a(this.consumeChunkAsIterator()),n()}_flush(r){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(r)}};return Ib.ChunkedIterator=t,Ib}var Eq;function Ia(){return Eq||(Eq=1,function(e){var t=cf&&cf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=cf&&cf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(m1e(),e),i(y1e(),e)}(cf)),cf}var xq;function v1e(){if(xq)return Rb;xq=1,Object.defineProperty(Rb,"__esModule",{value:!0}),Rb.ActorRdfJoinSingle=void 0;const e=Ia();let t=class extends e.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){if(r.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Rb.ActorRdfJoinSingle=t,Rb}var Rq;function zZ(){return Rq||(Rq=1,function(e){var t=lf&&lf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=lf&&lf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(v1e(),e)}(lf)),lf}var df={},Cb={},Oq;function b1e(){if(Oq)return Cb;Oq=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.ActorRdfJoinMultiEmpty=void 0;const e=Ia(),t=zi(),i=Rr();let r=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(a){if((await e.ActorRdfJoin.getMetadatas(a.entries)).every(o=>e.ActorRdfJoin.getCardinality(o).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(a)}async getOutput(a){for(const o of a.entries)o.output.bindingsStream.close();return{result:{bindingsStream:new i.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:e.ActorRdfJoin.joinVariables(await e.ActorRdfJoin.getMetadatas(a.entries))}),type:"bindings"}}}async getJoinCoefficients(a,o){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Cb.ActorRdfJoinMultiEmpty=r,Cb}var Pq;function GZ(){return Pq||(Pq=1,function(e){var t=df&&df.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=df&&df.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(b1e(),e)}(df)),df}var ff={},Db={},$O,Iq;function _1e(){if(Iq)return $O;Iq=1;let e=Rr(),t=e.MultiTransformIterator,i=e.SimpleTransformIterator;class r extends t{constructor(a,o,s,l){super(a,l),this.funRight=o,this.funJoin=s}_createTransformer(a){return new i(this.funRight(a),{transform:(o,s,l)=>{let u=this.funJoin(a,o);u!==null&&l(u),s()}})}}return $O=r,$O}var QO,Cq;function w1e(){if(Cq)return QO;Cq=1;let e=Rr().AsyncIterator;class t extends e{constructor(r,n,a,o){super(),this.addedDataListener=!1,this.left=r,this.right=n,this.funHash=a,this.funJoin=o,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",l=>this.destroy(l)),this.right.on("error",l=>this.destroy(l)),this.readable=!1,this.left.on("end",s.bind(this));function s(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",l=>{l==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let n=this.matches[this.matchIdx++],a=this.funJoin(n,this.match);if(a!==null)return a}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let r=this.funHash(this.match);this.matches=this.leftMap.get(r)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",r.bind(this));function r(n){let a=this.funHash(n),o=this.leftMap.get(a);o||(o=[],this.leftMap.set(a,o)),o.push(n)}}}return QO=t,QO}var zO,Dq;function S1e(){if(Dq)return zO;Dq=1;const{MultiTransformIterator:e,SimpleTransformIterator:t,scheduleTask:i}=Rr();class r extends e{constructor(a,o,s,l){super(a,l),this.right=o,this.funJoin=s,this.on("end",()=>this.right.close())}_end(){super._end(),i(()=>this.right.destroy())}_createTransformer(a){return new t(this.right.clone(),{transform:(o,s,l)=>{let u=this.funJoin(a,o);u!==null&&l(u),s()}})}}return zO=r,zO}var GO,Nq;function A1e(){if(Nq)return GO;Nq=1;let e=Rr().AsyncIterator;class t extends e{constructor(r,n,a,o){super(),this.left=r,this.right=n,this.funHash=a,this.funJoin=o,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",s=>this.destroy(s)),this.right.on("error",s=>this.destroy(s)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,a):this.funJoin(a,this.match);if(o!==null)return o}this.hasResults()||this._end();let r=null;for(let a=0;a<2&&(r=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,r===null);++a);if(this.done||r===null)return this.readable=!1,null;let n=this.funHash(r);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let a=this.usedLeft?this.leftMap:this.rightMap;a.has(n)||a.set(n,[]);let o=a.get(n);o||(o=[],a.set(n,o)),o.push(r)}this.match=r,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(n)||[],this.matchIdx=0}}}return GO=t,GO}var WO,Fq;function T1e(){if(Fq)return WO;Fq=1;let e=Rr().AsyncIterator;class t extends e{constructor(r){super(),Array.isArray(r)||(r=Array.prototype.slice.call(arguments)),this.streams=r;for(let n of r)n.on("readable",()=>this.emit("readable")),n.on("end",()=>this._removeStream(n));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(r){let n=this.streams.indexOf(r);n<0||(this.streams.splice(n,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let r of this.streams)r.close()}read(){for(let r=0;r<this.streams.length;++r){this.idx=(this.idx+1)%this.streams.length;let n=this.streams[this.idx].read();if(n!==null)return n}return null}}return WO=t,WO}var KO,Lq;function g3(){if(Lq)return KO;Lq=1;const e=_1e(),t=w1e(),i=S1e(),r=A1e(),n=T1e();return KO={DynamicNestedLoopJoin:e,HashJoin:t,NestedLoopJoin:i,SymmetricHashJoin:r,MergeStream:n},KO}var Mq;function E1e(){if(Mq)return Db;Mq=1,Object.defineProperty(Db,"__esModule",{value:!0}),Db.ActorRdfJoinHash=void 0;const e=Ia(),t=g3();let i=class extends e.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(n){let a=await e.ActorRdfJoin.getMetadatas(n.entries);a[1].cardinality.value<a[0].cardinality.value&&(a=[a[1],a[0]],n={...n,entries:[n.entries[1],n.entries[0]]});const o=e.ActorRdfJoin.overlappingVariables(a);return{result:{type:"bindings",bindingsStream:new t.HashJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,l=>e.ActorRdfJoin.hash(l,o),e.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(n.entries,a,n.context)}}}async getJoinCoefficients(n,a){a[1].cardinality.value<a[0].cardinality.value&&(a=[a[1],a[0]]);const o=e.ActorRdfJoin.getRequestInitialTimes(a),s=e.ActorRdfJoin.getRequestItemTimes(a);return{iterations:a[0].cardinality.value+a[1].cardinality.value,persistedItems:a[0].cardinality.value,blockingItems:a[0].cardinality.value,requestTime:o[0]+a[0].cardinality.value*s[0]+o[1]+a[1].cardinality.value*s[1]}}};return Db.ActorRdfJoinHash=i,Db}var jq;function WZ(){return jq||(jq=1,function(e){var t=ff&&ff.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ff&&ff.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(E1e(),e)}(ff)),ff}var hf={},Nb={},kq;function x1e(){if(kq)return Nb;kq=1,Object.defineProperty(Nb,"__esModule",{value:!0}),Nb.ActorRdfJoinSymmetricHash=void 0;const e=Ia(),t=g3();let i=class KZ extends e.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(n){const a=await e.ActorRdfJoin.getMetadatas(n.entries),o=e.ActorRdfJoin.overlappingVariables(a);return{result:{type:"bindings",bindingsStream:new t.SymmetricHashJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,l=>KZ.hash(l,o),e.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(n.entries,a,n.context)}}}async getJoinCoefficients(n,a){const o=e.ActorRdfJoin.getRequestInitialTimes(a),s=e.ActorRdfJoin.getRequestItemTimes(a);return{iterations:a[0].cardinality.value+a[1].cardinality.value,persistedItems:a[0].cardinality.value+a[1].cardinality.value,blockingItems:0,requestTime:o[0]+a[0].cardinality.value*s[0]+o[1]+a[1].cardinality.value*s[1]}}};return Nb.ActorRdfJoinSymmetricHash=i,Nb}var Bq;function JZ(){return Bq||(Bq=1,function(e){var t=hf&&hf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=hf&&hf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(x1e(),e)}(hf)),hf}var pf={},Fb={},qq;function R1e(){if(qq)return Fb;qq=1,Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.ActorRdfJoinNestedLoop=void 0;const e=Ia(),t=g3();let i=class extends e.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new t.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,e.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await e.ActorRdfJoin.getMetadatas(n.entries),n.context)}}}async getJoinCoefficients(n,a){const o=e.ActorRdfJoin.getRequestInitialTimes(a),s=e.ActorRdfJoin.getRequestItemTimes(a);return{iterations:a[0].cardinality.value*a[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+a[0].cardinality.value*s[0]+o[1]+a[1].cardinality.value*s[1]}}};return Fb.ActorRdfJoinNestedLoop=i,Fb}var Vq;function XZ(){return Vq||(Vq=1,function(e){var t=pf&&pf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=pf&&pf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(R1e(),e)}(pf)),pf}var gf={},Lb={},Uq;function O1e(){if(Uq)return Lb;Uq=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.ActorRdfJoinMinusHash=void 0;const e=hr(),t=Ia();let i=class extends t.ActorRdfJoin{constructor(n){super(n,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(n){const a=n.entries[1].output,o=n.entries[0].output,s=await t.ActorRdfJoin.getMetadatas(n.entries),l=t.ActorRdfJoin.overlappingVariables(s);if(l.length>0){const u={},c=new e.ClosableTransformIterator(async()=>(await new Promise(d=>{a.bindingsStream.on("data",f=>{u[t.ActorRdfJoin.hashNonClashing(f,l)]=!0}),a.bindingsStream.on("end",d),a.bindingsStream.on("error",f=>{c.emit("error",f)})}),o.bindingsStream.filter(d=>!u[t.ActorRdfJoin.hashNonClashing(d,l)])),{autoStart:!1,onClose(){a.bindingsStream.destroy(),o.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:c,metadata:o.metadata}}}return a.bindingsStream.destroy(),{result:o}}async getJoinCoefficients(n,a){const o=t.ActorRdfJoin.getRequestInitialTimes(a),s=t.ActorRdfJoin.getRequestItemTimes(a);return{iterations:a[0].cardinality.value+a[1].cardinality.value,persistedItems:a[0].cardinality.value,blockingItems:a[0].cardinality.value,requestTime:o[0]+a[0].cardinality.value*s[0]+o[1]+a[1].cardinality.value*s[1]}}};return Lb.ActorRdfJoinMinusHash=i,Lb}var Hq;function YZ(){return Hq||(Hq=1,function(e){var t=gf&&gf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=gf&&gf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(O1e(),e)}(gf)),gf}var mf={},Mb={},jb={},$q;function P1e(){if($q)return jb;$q=1,Object.defineProperty(jb,"__esModule",{value:!0}),jb.BindingsIndex=void 0;const e=nn();let t=class mI{constructor(r){this.data={},this.keys=r}static hashTerm(r){return r&&r.termType!=="Variable"?(0,e.termToString)(r):""}add(r){if(this.isBindingsValid(r)){let n=this.data;for(const a of this.keys){const o=mI.hashTerm(r.get(a));let s=n[o];s||(s=n[o]={}),n=s}}}contains(r){return this.isBindingsValid(r)?this.containsRecursive(r,this.keys,[this.data]):!1}isBindingsValid(r){let n=!1;for(const a of this.keys)if(r.get(a)){n=!0;break}return n}containsRecursive(r,n,a){if(n.length===0)return!0;let o;[o,...n]=n;for(const s of a){const l=mI.hashTerm(r.get(o));if(l){const u=[s[l],s[""]].filter(Boolean);if(u.length===0)continue;if(this.containsRecursive(r,n,u))return!0}else{let u=Object.keys(s).map(c=>s[c]);if(u.length===0&&(u=[{}]),this.containsRecursive(r,n,u))return!0}}return!1}};return jb.BindingsIndex=t,jb}var Qq;function I1e(){if(Qq)return Mb;Qq=1,Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.ActorRdfJoinMinusHashUndef=void 0;const e=hr(),t=Ia(),i=P1e();let r=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){const o=a.entries[1].output,s=a.entries[0].output,l=await t.ActorRdfJoin.getMetadatas(a.entries),u=t.ActorRdfJoin.overlappingVariables(l);if(u.length>0){const c=new i.BindingsIndex(u),d=new e.ClosableTransformIterator(async()=>(await new Promise(f=>{o.bindingsStream.on("data",h=>c.add(h)),o.bindingsStream.on("end",f),o.bindingsStream.on("error",h=>{d.emit("error",h)})}),s.bindingsStream.filter(f=>!c.contains(f))),{autoStart:!1,onClose(){o.bindingsStream.destroy(),s.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:d,async metadata(){const f=await s.metadata(),h=await s.metadata();return{...h,canContainUndefs:f.canContainUndefs||h.canContainUndefs}}}}}return o.bindingsStream.destroy(),{result:s}}async getJoinCoefficients(a,o){const s=t.ActorRdfJoin.getRequestInitialTimes(o),l=t.ActorRdfJoin.getRequestItemTimes(o);return{iterations:(o[0].cardinality.value+o[1].cardinality.value)*1.01,persistedItems:o[0].cardinality.value,blockingItems:o[0].cardinality.value,requestTime:s[0]+o[0].cardinality.value*l[0]+s[1]+o[1].cardinality.value*l[1]}}};return Mb.ActorRdfJoinMinusHashUndef=r,Mb}var zq;function ZZ(){return zq||(zq=1,function(e){var t=mf&&mf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=mf&&mf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(I1e(),e)}(mf)),mf}var yf={},kb={},Bb={},Gq;function C1e(){if(Gq)return Bb;Gq=1,Object.defineProperty(Bb,"__esModule",{value:!0}),Bb.BindingsIndexDef=void 0;let e=class{constructor(i,r){this.keys=i,this.hashFn=r,this.index={}}put(i,r){return this.index[this.hashFn(i,this.keys)]=r}get(i){const r=this.getFirst(i);return r?[r]:[]}getFirst(i){return this.index[this.hashFn(i,this.keys)]}values(){return Object.values(this.index)}};return Bb.BindingsIndexDef=e,Bb}var qb={},Wq;function D1e(){if(Wq)return qb;Wq=1,Object.defineProperty(qb,"__esModule",{value:!0}),qb.BindingsIndexUndef=void 0;let e=class{constructor(i,r){this.data={},this.keys=i,this.hashFn=r}put(i,r){if(this.isBindingsValid(i)){let n=this.data;for(let a=0;a<this.keys.length;a++){const o=this.keys[a],s=this.hashFn(i.get(o));let l=n[s];l||(l=n[s]=a===this.keys.length-1?r:{}),n=l}}return r}isBindingsValid(i){let r=!1;for(const n of this.keys)if(i.has(n)){r=!0;break}return r}get(i){return this.isBindingsValid(i)?this.getRecursive(i,this.keys,[this.data]):[]}getRecursive(i,r,n){if(r.length===0)return n;let a;[a,...r]=r;const o=[];for(const s of n){const l=this.hashFn(i==null?void 0:i.get(a));if(l){const u=[s[l],s[""]].filter(Boolean);if(u.length===0)continue;o.push(this.getRecursive(i,r,u))}else{const u=Object.values(s);if(u.length===0)continue;o.push(this.getRecursive(i,r,u))}}return o.flat()}getFirst(i){if(this.isBindingsValid(i))return this.getRecursiveFirst(i,this.keys,[this.data])}getRecursiveFirst(i,r,n){if(r.length===0)return n[0];let a;[a,...r]=r;for(const o of n){const s=this.hashFn(i.get(a));if(s){const l=[o[s],o[""]].filter(Boolean);if(l.length===0)continue;const u=this.getRecursiveFirst(i,r,l);if(u)return u}else{const l=Object.values(o);if(l.length===0)continue;const u=this.getRecursiveFirst(i,r,l);if(u)return u}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return qb.BindingsIndexUndef=e,qb}var Kq;function N1e(){if(Kq)return kb;Kq=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.ActorRdfJoinOptionalHash=void 0;const e=hr(),t=Ia(),i=Rr(),r=nn(),n=C1e(),a=D1e();let o=class yI extends t.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:`hash-${l.canHandleUndefs?"undef":"def"}-${l.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:l.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(l,u){return l?new a.BindingsIndexUndef(u,c=>c&&c.termType!=="Variable"?(0,r.termToString)(c):""):new n.BindingsIndexDef(u,t.ActorRdfJoin.hashNonClashing)}async getOutput(l){const u=l.entries[1].output,c=l.entries[0].output,d=await t.ActorRdfJoin.getMetadatas(l.entries),f=t.ActorRdfJoin.overlappingVariables(d);let h;return this.blocking?h=new e.ClosableTransformIterator(async()=>{const p=yI.constructIndex(this.canHandleUndefs,f);return await new Promise(g=>{u.bindingsStream.on("data",m=>{(p.getFirst(m)??p.put(m,[])).push(m)}),u.bindingsStream.on("end",g),u.bindingsStream.on("error",m=>{h.emit("error",m)})}),new i.MultiTransformIterator(c.bindingsStream,{multiTransform:g=>new i.ArrayIterator(p.get(g).flat().map(m=>t.ActorRdfJoin.joinBindings(g,m)).filter(m=>m!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){u.bindingsStream.destroy(),c.bindingsStream.destroy()}}):h=new e.ClosableTransformIterator(async()=>{const p=yI.constructIndex(this.canHandleUndefs,f);let g=!0;return u.bindingsStream.on("data",m=>{(p.getFirst(m)??p.put(m,new i.BufferedIterator({autoStart:!1})))._push(m)}),u.bindingsStream.on("end",()=>{for(const m of p.values())m.close();g=!1}),u.bindingsStream.on("error",m=>{h.emit("error",m)}),new i.MultiTransformIterator(c.bindingsStream,{multiTransform:m=>{let y=p.get(m);return y.length===0&&(g?y=[p.put(m,new i.BufferedIterator({autoStart:!1}))]:y=[]),new i.UnionIterator(y.map(b=>b.clone()),{autoStart:!1}).map(b=>t.ActorRdfJoin.joinBindings(m,b))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){u.bindingsStream.destroy(),c.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:h,metadata:async()=>await this.constructResultMetadata(l.entries,await t.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0},!0)}}}async getJoinCoefficients(l,u){const c=t.ActorRdfJoin.getRequestInitialTimes(u),d=t.ActorRdfJoin.getRequestItemTimes(u);let f=u[0].cardinality.value+u[1].cardinality.value;return this.canHandleUndefs||(f*=.8),this.blocking&&(f*=.9),{iterations:f,persistedItems:u[0].cardinality.value,blockingItems:this.blocking?u[0].cardinality.value:0,requestTime:c[0]+u[0].cardinality.value*d[0]+c[1]+u[1].cardinality.value*d[1]}}};return kb.ActorRdfJoinOptionalHash=o,kb}var Jq;function il(){return Jq||(Jq=1,function(e){var t=yf&&yf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=yf&&yf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(N1e(),e)}(yf)),yf}var vf={},Vb={},Xq;function F1e(){if(Xq)return Vb;Xq=1,Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.ActorRdfJoinOptionalNestedLoop=void 0;const e=Ia(),t=g3();let i=class extends e.ActorRdfJoin{constructor(n){super(n,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new t.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,e.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await e.ActorRdfJoin.getMetadatas(n.entries),n.context,{canContainUndefs:!0},!0)}}}async getJoinCoefficients(n,a){const o=e.ActorRdfJoin.getRequestInitialTimes(a),s=e.ActorRdfJoin.getRequestItemTimes(a);return{iterations:a[0].cardinality.value*a[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+a[0].cardinality.value*s[0]+o[1]+a[1].cardinality.value*s[1]}}};return Vb.ActorRdfJoinOptionalNestedLoop=i,Vb}var Yq;function eee(){return Yq||(Yq=1,function(e){var t=vf&&vf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=vf&&vf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(F1e(),e)}(vf)),vf}var bf={},Ub={},_f={},Hb={},Zq;function L1e(){if(Zq)return Hb;Zq=1,Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.ActorDereferenceRdf=void 0;const e=lN();let t=class extends e.ActorDereferenceParse{constructor(r){super(r)}};return Hb.ActorDereferenceRdf=t,Hb}var e7;function M1e(){return e7||(e7=1,function(e){var t=_f&&_f.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=_f&&_f.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(L1e(),e)}(_f)),_f}var t7;function j1e(){if(t7)return Ub;t7=1,Object.defineProperty(Ub,"__esModule",{value:!0}),Ub.ActorDereferenceRdfParse=void 0;const e=M1e();let t=class extends e.ActorDereferenceRdf{constructor(r){super(r)}async getMetadata(r){return{baseIRI:r.url}}};return Ub.ActorDereferenceRdfParse=t,Ub}var r7;function tee(){return r7||(r7=1,function(e){var t=bf&&bf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=bf&&bf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(j1e(),e)}(bf)),bf}var wf={},$b={},Sf={},Qb={},n7;function k1e(){if(n7)return Qb;n7=1,Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.ActorRdfParseHtml=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return Qb.ActorRdfParseHtml=t,Qb}var i7;function B1e(){return i7||(i7=1,function(e){var t=Sf&&Sf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Sf&&Sf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(k1e(),e)}(Sf)),Sf}var zb={},a7;function q1e(){if(a7)return zb;a7=1,Object.defineProperty(zb,"__esModule",{value:!0}),zb.HtmlScriptListener=void 0;const e=Ir(),t=Xr(),i=Ko();let r=class TS{constructor(a,o,s,l,u,c,d,f){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=a,this.cbQuad=o,this.cbError=s,this.cbEnd=l,this.supportedTypes=u,this.context=c.set(e.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=f,this.onlyFirstScript=c.get(e.KeysRdfParseHtmlScript.extractAllScripts)===!1;const h=this.baseIRI.indexOf("#");this.targetScriptId=h>0?this.baseIRI.slice(h+1,this.baseIRI.length):null}static newErrorCoded(a,o){const s=new Error(a);return s.code=o,s}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(TS.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const a=new t.Readable({objectMode:!0});a._read=()=>{};const o=this.textChunks,s={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:a,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(s).then(({handle:l})=>{l.data.on("error",u=>this.cbError(TS.newErrorCoded(u.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const u of o)a.push(u);a.push(null)}).catch(l=>{this.targetScriptId?this.cbError(TS.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(a,o){a==="base"&&o.href&&(this.baseIRI=(0,i.resolve)(o.href,this.baseIRI)),a==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(TS.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(a){this.handleMediaType&&this.textChunks.push(a)}requiresCustomJsonLdHandling(a){return!this.onlyFirstScript&&!this.targetScriptId&&a==="application/ld+json"}};return zb.HtmlScriptListener=r,zb}var o7;function V1e(){if(o7)return $b;o7=1,Object.defineProperty($b,"__esModule",{value:!0}),$b.ActorRdfParseHtmlScript=void 0;const e=B1e(),t=q1e();let i=class extends e.ActorRdfParseHtml{constructor(n){super(n)}async test(n){return!0}async run(n){const a=(await this.mediatorRdfParseMediatypes.mediate({context:n.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new t.HtmlScriptListener(this.mediatorRdfParseHandle,n.emit,n.error,n.end,a,n.context,n.baseIRI,n.headers)}}};return $b.ActorRdfParseHtmlScript=i,$b}var s7;function ree(){return s7||(s7=1,function(e){var t=wf&&wf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=wf&&wf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(V1e(),e)}(wf)),wf}var Af={},Gb={},u7;function U1e(){if(u7)return Gb;u7=1,Object.defineProperty(Gb,"__esModule",{value:!0}),Gb.ActorQueryResultSerializeRdf=void 0;const e=Cs();let t=class extends e.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,n,a){if(r.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:a,mediaTypes:!0});if(!(n in o))throw new Error(`Actor ${this.name} can not handle media type ${n}. All available types: ${Object.keys(o)}`);return!0}async runHandle(r,n,a){return(await this.mediatorRdfSerialize.mediate({context:a,handle:{context:a,quadStream:r.quadStream},handleMediaType:n})).handle}async testMediaType(r){return!0}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return!0}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}};return Gb.ActorQueryResultSerializeRdf=t,Gb}var l7;function nee(){return l7||(l7=1,function(e){var t=Af&&Af.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Af&&Af.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(U1e(),e)}(Af)),Af}var Tf={},Wb={},c7;function H1e(){if(c7)return Wb;c7=1,Object.defineProperty(Wb,"__esModule",{value:!0}),Wb.ActorHttpWayback=void 0;const e=Eu(),t=Ir(),i=U0();qZ();const r="http://wayback.archive-it.org/";function n(s){const l=new Request(s.input,s.init);return{input:new Request(new URL(`/${l.url}`,r),l)}}function a(s){const l=s.get(t.KeysHttpProxy.httpProxyHandler);return l?u=>l.getProxy(n(u)):u=>Promise.resolve(n(u))}let o=class extends e.ActorHttp{constructor(l){super(l)}async test(l){return!0}async run(l){let u=await this.mediatorHttp.mediate(l);if(u.status===404&&l.context.get(t.KeysHttpWayback.recoverBrokenLinks)){let c=await this.mediatorHttp.mediate({...l,context:l.context.set(t.KeysHttpWayback.recoverBrokenLinks,!1).set(t.KeysHttpProxy.httpProxyHandler,{getProxy:a(l.context)})});c.status===200&&([u,c]=[c,u]);const{body:d}=c;d&&("cancel"in d&&typeof d.cancel=="function"?await d.cancel():"destroy"in d&&typeof d.destroy=="function"?d.destroy():await(0,i.stringify)(e.ActorHttp.toNodeReadable(d)))}return u}};return Wb.ActorHttpWayback=o,Wb}var d7;function iee(){return d7||(d7=1,function(e){var t=Tf&&Tf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Tf&&Tf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(H1e(),e)}(Tf)),Tf}var Ef={},Kb={},xf={},Jb={},Xb={},Yb={},Zb={},e_={},f7;function $1e(){if(f7)return e_;f7=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(i,r,n,a,o,s){let l;if(r.emittedStack[s+1]&&r.idStack[s+1])l=r.idStack[s+1][0];else{const d=await n.getContainerKey(a[s],a,s)!==null?await n.resourceToTerm(await r.getContext(a),a[s]):n.dataFactory.blankNode();if(!d){r.emittedStack[s]=!1;return}l=d,r.idStack[s+1]=[l]}let u=r.idStack[s];u||(u=r.idStack[s]=[]),u.some(c=>c.equals(l))||u.push(l),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[s]=!1)}};return e_.ContainerHandlerIdentifier=e,e_}var t_={},r_={},h7;function m3(){if(h7)return r_;h7=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.EntryHandlerPredicate=void 0;const e=Ai(),t=zp();let i=class aee{static async handlePredicateObject(n,a,o,s,l,u,c,d,f){const h=await a.getPropertiesDepth(o,s),p=await a.getDepthOffsetGraph(s,o),g=s-p,m=n.idStack[h];if(m&&!f)for(const y of m)if(p>=0){const b=n.idStack[g-1];if(b)for(const _ of b)a.emitQuadChecked(s,y,l,u,_,c,d);else c?(a.validateReverseSubject(u),n.getUnidentifiedGraphBufferSafe(g-1).push({subject:u,predicate:l,object:y,isEmbedded:d})):n.getUnidentifiedGraphBufferSafe(g-1).push({subject:y,predicate:l,object:u,isEmbedded:d})}else{const b=await a.getGraphContainerValue(o,h);a.emitQuadChecked(s,y,l,u,b,c,d)}else if(c&&a.validateReverseSubject(u),f){if(n.rdfstar){n.idStack[s]&&n.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${n.idStack[s][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let b=0;b<s;b++)await a.unaliasKeyword(o[b],o,b)==="@id"&&n.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const y=n.getAnnotationsBufferSafe(h),v={predicate:l,object:u,reverse:c,nestedAnnotations:[],depth:h};y.push(v);for(let b=y.length-2;b>=0;b--){const _=y[b];_.depth>h&&(v.nestedAnnotations.push(_),y.splice(b,1))}}}else n.getUnidentifiedValueBufferSafe(h).push({predicate:l,object:u,reverse:c,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(n,a,o,s,l){const u=o[s];if(u){const c=await n.getContext(o);if(!n.jsonLiteralStack[s]&&await a.predicateToTerm(c,o[s]))return t.Util.getContextValueType(c,u)==="@json"&&(n.jsonLiteralStack[s+1]=!0),!0}return!1}async test(n,a,o,s,l){return s[l]}async handle(n,a,o,s,l,u,c){const d=s[u],f=await n.getContext(s),h=await a.predicateToTerm(f,o);if(h){const p=await a.valueToTerm(f,o,l,u,s);if(p.length)for(let g of p){let m=await a.unaliasKeywordParent(s,u);const y=t.Util.isPropertyReverse(f,d,m);let v=0;for(;m==="@reverse"||typeof m=="number";)typeof m=="number"?v++:u--,m=await a.unaliasKeywordParent(s,u-v);const b=t.Util.isPropertyInEmbeddedNode(m);a.validateReverseInEmbeddedNode(o,y,b);const _=t.Util.isPropertyInAnnotationObject(m);if(l){const w="@list"in t.Util.getContextValueContainer(f,o);if(w||l["@list"]){if((w&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&g!==a.rdfNil){const T=a.dataFactory.blankNode();n.emitQuad(u,a.dataFactory.quad(T,a.rdfRest,a.rdfNil,a.getDefaultGraph())),n.emitQuad(u,a.dataFactory.quad(T,a.rdfFirst,g,a.getDefaultGraph())),g=T}if(y&&!n.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${o}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await aee.handlePredicateObject(n,a,s,u,h,g,y,b,_)}}}};return r_.EntryHandlerPredicate=i,r_}var p7;function Q1e(){if(p7)return t_;p7=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.ContainerHandlerIndex=void 0;const e=Ai(),t=m3(),i=zp();let r=class{canCombineWithGraph(){return!0}async handle(a,o,s,l,u,c){if(!Array.isArray(u)){const d="@graph"in a,f=await o.getContext(l),h=l[c-1],p=i.Util.getContextValueIndex(f,h);if(p){if(e.Util.isPotentialKeyword(p))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${p}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof p!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${p}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(i.Util.getContextValueType(f,h)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const y=s.resourceToTerm(f,u);y&&(o.idStack[c+1]=[y])}const m=s.createVocabOrBaseTerm(f,p);if(m){const y=await s.valueToTerm(f,p,await s.getContainerKey(l[c],l,c),c,l);if(d){const v=await s.getGraphContainerValue(l,c+1);for(const b of y)o.emitQuad(c,s.dataFactory.quad(v,m,b,s.getDefaultGraph()))}else for(const v of y)await t.EntryHandlerPredicate.handlePredicateObject(o,s,l,c+1,m,v,!1,!1,!1)}}const g=d?2:1;await o.newOnValueJob(l.slice(0,l.length-g),u,c-g,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[c]=!1}};return t_.ContainerHandlerIndex=r,t_}var n_={},g7;function z1e(){if(g7)return n_;g7=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.ContainerHandlerLanguage=void 0;const e=Ai();let t=class{canCombineWithGraph(){return!1}async handle(r,n,a,o,s,l){const u=await a.getContainerKey(o[l],o,l);if(Array.isArray(s))s=s.map(c=>({"@value":c,"@language":u}));else{if(typeof s!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await n.newOnValueJob(o.slice(0,o.length-1),s,l-1,!0),n.emittedStack[l]=!1}};return n_.ContainerHandlerLanguage=t,n_}var i_={},m7;function G1e(){if(m7)return i_;m7=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.ContainerHandlerType=void 0;const e=m3(),t=zp();let i=class{canCombineWithGraph(){return!1}async handle(n,a,o,s,l,u){if(!Array.isArray(l)){if(typeof l=="string"){const f=await a.getContext(s),p=t.Util.getContextValueType(f,s[u-1])==="@vocab"?await o.createVocabOrBaseTerm(f,l):await o.resourceToTerm(f,l);if(p){const g={"@id":p.termType==="NamedNode"?p.value:l};await a.newOnValueJob(s.slice(0,s.length-1),g,u-1,!0),a.idStack[u+1]=[p]}}else{const f=!!a.idStack[u+1];f||delete a.idStack[u],await a.newOnValueJob(s.slice(0,s.length-1),l,u-1,!0),f||(a.idStack[u+1]=a.idStack[u])}const c=await o.getContainerKey(s[u],s,u),d=c!==null?o.createVocabOrBaseTerm(await a.getContext(s),c):null;d&&await e.EntryHandlerPredicate.handlePredicateObject(a,o,s,u+1,o.rdfType,d,!1,!1,!1),await a.handlePendingContainerFlushBuffers()}a.emittedStack[u]=!1}};return i_.ContainerHandlerType=i,i_}var y7;function oee(){if(y7)return Zb;y7=1,Object.defineProperty(Zb,"__esModule",{value:!0}),Zb.EntryHandlerContainer=void 0;const e=$1e(),t=Q1e(),i=z1e(),r=G1e(),n=zp();let a=class $u{static isSimpleGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length===2||Object.keys(s).length===1)}static isComplexGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length>2||!("@set"in s)&&Object.keys(s).length>1)}static getContainerGraphIndex(s,l,u){let c=$u.isSimpleGraphContainer(s),d="";for(let f=l;f<u.length;f++)(!c||typeof u[f]=="number")&&(d+=":"+u[f]),!c&&typeof u[f]!="number"&&(c=!0);return d}static async getContainerHandler(s,l,u){const c={containers:{"@set":!0},depth:u,fallback:!0};let d=!1;const f=await s.getContext(l,2);for(let h=u-1;h>=0;h--)if(typeof l[h]!="number"){const p=n.Util.getContextValue(f,"@container",l[h],!1);if(p&&$u.isSimpleGraphContainer(p))return{containers:p,depth:h+1,fallback:!1};const g=n.Util.getContextValue(f,"@container",l[h-1],!1);if(g){const m="@graph"in g;for(const y in $u.CONTAINER_HANDLERS)if(g[y])return m?$u.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:g,depth:h,fallback:!1}:c:d?c:{containers:g,depth:h,fallback:!1};return c}else{if(d)return c;d=!0}}return c}static async isBufferableContainerHandler(s,l,u){const c=await $u.getContainerHandler(s,l,u);return!c.fallback&&!("@graph"in c.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,l,u,c,d){return!!await this.test(s,l,null,u,c)}async test(s,l,u,c,d){const f=n.Util.getContextValueContainer(await s.getContext(c,2),c[d-1]);for(const h in $u.CONTAINER_HANDLERS)if(f[h])return{containers:f,handler:$u.CONTAINER_HANDLERS[h]};return null}async handle(s,l,u,c,d,f,h){return h.handler.handle(h.containers,s,l,c,d,f)}};return a.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new i.ContainerHandlerLanguage,"@type":new r.ContainerHandlerType},Zb.EntryHandlerContainer=a,Zb}var v7;function zp(){if(v7)return Yb;v7=1,Object.defineProperty(Yb,"__esModule",{value:!0}),Yb.Util=void 0;const e=Ai(),t=yr(),i=oee(),r=Ude();let n=class on{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(on.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(on.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(on.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(on.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(on.RDF+"JSON")}static getContextValue(o,s,l,u){const c=o.getContextRaw()[l];if(!c)return u;const d=c[s];return d===void 0?u:d}static getContextValueContainer(o,s){return on.getContextValue(o,"@container",s,{"@set":!0})}static getContextValueType(o,s){const l=on.getContextValue(o,"@type",s,null);return l==="@none"?null:l}static getContextValueLanguage(o,s){return on.getContextValue(o,"@language",s,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,s){return on.getContextValue(o,"@direction",s,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,s){return!!on.getContextValue(o,"@reverse",s,null)}static getContextValueIndex(o,s){return on.getContextValue(o,"@index",s,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,s,l){return l==="@reverse"!==on.isContextValueReverse(o,s)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&e.Util.isValidIri(o)}static isPrefixArray(o,s){if(o.length>s.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==s[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const s={};for(const l of o)if(l&&typeof l=="object"){const u=l["@id"],c=l["@index"];if(u&&c){const d=s[u];if(d&&d!==c)throw new e.ErrorCoded(`Conflicting @index value for ${u}`,e.ERROR_CODES.CONFLICTING_INDEXES);s[u]=c}}}}async valueToTerm(o,s,l,u,c){if(on.getContextValueType(o,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const d=typeof l;switch(d){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in on.getContextValueContainer(o,s)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,s),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(c,0)).getContextRaw())),l=await this.unaliasKeywords(l,c,u,o),"@value"in l){let f,h,p,g,m;for(s in l){const y=l[s];switch(s){case"@value":f=y;break;case"@language":h=y;break;case"@direction":p=y;break;case"@type":g=y;break;case"@index":m=y;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${s}' in @value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(g,c,u,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(f),this.rdfJson)];if(f===null)return[];if(typeof f=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&m&&typeof m!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(m)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(h){if(typeof f!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(h,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(h=h.toLowerCase())}if(p){if(typeof f!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`);if(!e.ContextParser.validateDirection(p,this.parsingContext.strictValues))return[]}if(h&&p&&this.parsingContext.rdfDirection){if(g)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,f,h,p))}else if(h){if(g)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(f,h)]}else if(p&&this.parsingContext.rdfDirection){if(g)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,f,h,p))}else if(g){if(typeof g!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(g)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(o,g);if(!y)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(g)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${y.termType}): ${g}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(f,y)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),s,f,u,c)}else if("@set"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const f=l["@list"];return Array.isArray(f)?f.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(c),s,f,u-1,c.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in on.getContextValueContainer(await this.parsingContext.getContext(c),s)){const f=this.parsingContext.graphContainerTermStack[u+1];return f?Object.values(f):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(c,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const f=l["@id"];let h;if(typeof f=="object")if(this.parsingContext.rdfstar)h=this.parsingContext.idStack[u+1][0];else throw new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE);else h=this.resourceToTerm(o,f);return this.nullableTermToArray(h)}}else return this.parsingContext.emittedStack[u+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,(!!l).toString(),this.dataFactory.namedNode(on.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(o,s),s,l,this.dataFactory.namedNode(l%1===0&&l<1e21?on.XSD_INTEGER:on.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(o,s){const l=o.getContextRaw()[s];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,s){const l=o.expandTerm(s,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(on.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${l}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=o.expandTerm(s,!1,this.parsingContext.getExpandOptions());if(!on.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const l=this.parsingContext.getExpandOptions();let u=o.expandTerm(s,!0,l);if(u===s&&(u=o.expandTerm(s,!1,l)),!on.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(o,s){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!s||s.value!==on.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,s,l,u,c){const d=on.getContextValueType(s,l);if(d)if(d==="@id"){if(!c)return this.resourceToTerm(s,this.intToString(u,c))}else if(d==="@vocab"){if(!c)return this.createVocabOrBaseTerm(s,this.intToString(u,c))}else c=this.dataFactory.namedNode(d);if(!c){const f=on.getContextValueLanguage(s,l),h=on.getContextValueDirection(s,l);return h&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(u,c),f,h):this.dataFactory.literal(this.intToString(u,c),f)}return this.dataFactory.literal(this.intToString(u,c),c)}createLanguageDirectionLiteral(o,s,l,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(s,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${u}`));{const c=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(c,this.dataFactory.namedNode(on.RDF+"value"),this.dataFactory.literal(s),d)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(c,this.dataFactory.namedNode(on.RDF+"language"),this.dataFactory.literal(l),d)),this.parsingContext.emitQuad(o,this.dataFactory.quad(c,this.dataFactory.namedNode(on.RDF+"direction"),this.dataFactory.literal(u),d)),c}}valueToJsonString(o){return r(o)}async unaliasKeyword(o,s,l,u,c){if(Number.isInteger(o))return o;if(!u){const d=this.parsingContext.unaliasedKeywordCacheStack[l];if(d)return d}if(!e.Util.isPotentialKeyword(o)){c=c||await this.parsingContext.getContext(s);let d=c.getContextRaw()[o];d&&typeof d=="object"&&(d=d["@id"]),e.Util.isValidKeyword(d)&&(o=d)}return u?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,s){return await this.unaliasKeyword(s>0&&o[s-1],o,s-1)}async unaliasKeywords(o,s,l,u){const c={};for(const d in o)c[await this.unaliasKeyword(d,s,l+1,!0,u)]=o[d];return c}async isLiteral(o,s){for(let l=s;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,s){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(s[l],s,l)==="@graph"){const u=(await i.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,l)).containers;return i.EntryHandlerContainer.isComplexGraphContainer(u)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,s){let l=this.getDefaultGraph();const{containers:u,depth:c}=await i.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,s);if("@graph"in u){const d=i.EntryHandlerContainer.getContainerGraphIndex(u,c,o),f=this.parsingContext.graphContainerTermStack[c];if(l=f?f[d]:null,!l){let h=null;if("@id"in u){const p=await this.getContainerKey(o[c],o,c);p!==null&&(h=await this.resourceToTerm(await this.parsingContext.getContext(o),p))}h||(h=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[c]||(this.parsingContext.graphContainerTermStack[c]={}),l=this.parsingContext.graphContainerTermStack[c][d]=h}}return l}async getPropertiesDepth(o,s){let l=s;for(let u=s-1;u>0;u--)if(typeof o[u]!="number"){const c=await this.unaliasKeyword(o[u],o,u);if(c==="@reverse")return u;if(c==="@nest")l=u;else return l}return l}async getContainerKey(o,s,l){const u=await this.unaliasKeyword(o,s,l);return u==="@none"?null:u}validateReverseInEmbeddedNode(o,s,l){if(l&&s&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,s,l,u,c,d,f){let h;if(d?(this.validateReverseSubject(u),h=this.dataFactory.quad(u,l,s,c)):h=this.dataFactory.quad(s,l,u,c),f){if(h.graph.termType!=="DefaultGraph"&&(h=this.dataFactory.quad(h.subject,h.predicate,h.object)),this.parsingContext.idStack[o-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[h]}else this.parsingContext.emitQuad(o,h);const p=this.parsingContext.annotationsBuffer[o];if(p){for(const g of p)this.emitAnnotation(o,h,g);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,s,l){let u;l.reverse?(this.validateReverseSubject(l.object),u=this.dataFactory.quad(l.object,l.predicate,s)):u=this.dataFactory.quad(s,l.predicate,l.object),this.parsingContext.emitQuad(o,u);for(const c of l.nestedAnnotations)this.emitAnnotation(o,u,c)}};return n.XSD="http://www.w3.org/2001/XMLSchema#",n.XSD_BOOLEAN=n.XSD+"boolean",n.XSD_INTEGER=n.XSD+"integer",n.XSD_DOUBLE=n.XSD+"double",n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yb.Util=n,Yb}var b7;function W1e(){if(b7)return Xb;b7=1,Object.defineProperty(Xb,"__esModule",{value:!0}),Xb.EntryHandlerArrayValue=void 0;const e=zp(),t=Ai();let i=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,a,o,s,l){return this.test(n,a,null,o,s)}async test(n,a,o,s,l){return typeof s[l]=="number"}async handle(n,a,o,s,l,u){let c=await a.unaliasKeywordParent(s,u);if(c==="@list"){let d=null,f=0;for(let h=u-2;h>0;h--){const p=s[h];if(typeof p=="string"||typeof p=="number"){f=h,d=p;break}}if(d!==null){const h=await a.valueToTerm(await n.getContext(s),d,l,u,s);for(const p of h)await this.handleListElement(n,a,p,l,u,s.slice(0,f),f);h.length===0&&await this.handleListElement(n,a,null,l,u,s.slice(0,f),f)}}else if(c==="@set")await n.newOnValueJob(s.slice(0,-2),l,u-2,!1);else if(c!==void 0&&c!=="@type"){for(let f=u-1;f>0;f--)if(typeof s[f]!="number"){c=await a.unaliasKeyword(s[f],s,f);break}const d=await n.getContext(s.slice(0,-1));if("@list"in e.Util.getContextValueContainer(d,c)){n.emittedStack[u+1]=!0;const f=await a.valueToTerm(await n.getContext(s),c,l,u,s);for(const h of f)await this.handleListElement(n,a,h,l,u,s.slice(0,-1),u-1);f.length===0&&await this.handleListElement(n,a,null,l,u,s.slice(0,-1),u-1)}else n.shiftStack(u,1),await n.newOnValueJob(s.slice(0,-1),l,u-1,!1),n.contextTree.removeContext(s.slice(0,-1))}}async handleListElement(n,a,o,s,l,u,c){let d=n.listPointerStack[l];if(s!==null&&(await a.unaliasKeywords(s,u,l))["@value"]!==null){if(!d||!d.value){const f=a.dataFactory.blankNode();d={value:f,listRootDepth:c,listId:f}}else{const f=a.dataFactory.blankNode();n.emitQuad(l,a.dataFactory.quad(d.value,a.rdfRest,f,a.getDefaultGraph())),d.value=f}o&&n.emitQuad(l,a.dataFactory.quad(d.value,a.rdfFirst,o,a.getDefaultGraph()))}else d||(d={listRootDepth:c,listId:a.rdfNil});n.listPointerStack[l]=d,n.rdfstar&&n.annotationsBuffer[l]&&n.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return Xb.EntryHandlerArrayValue=i,Xb}var a_={},_7;function K1e(){if(_7)return a_;_7=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,r,n,a,o){return!1}async test(i,r,n,a,o){return!0}async handle(i,r,n,a,o,s){i.emittedStack[s]=!1}};return a_.EntryHandlerInvalidFallback=e,a_}var o_={},s_={},w7;function Rl(){if(w7)return s_;w7=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.EntryHandlerKeyword=void 0;let e=class{constructor(i){this.keyword=i}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,r,n,a,o){return!1}async test(i,r,n,a,o){return n===this.keyword}};return s_.EntryHandlerKeyword=e,s_}var S7;function J1e(){if(S7)return o_;S7=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.EntryHandlerKeywordContext=void 0;const e=Ai(),t=Rl();let i=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(n,a,o,s,l,u){n.streamingProfile&&(n.processingStack[u]||n.processingType[u]||n.idStack[u]!==void 0)&&n.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const c=n.getContext(s),d=n.parseContext(l,(await c).getContextRaw());n.contextTree.setContext(s.slice(0,-1),d),n.emitContext(l),await n.validateContext(await d)}};return o_.EntryHandlerKeywordContext=i,o_}var u_={},A7;function X1e(){if(A7)return u_;A7=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.EntryHandlerKeywordGraph=void 0;const e=Rl();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(r,n,a,o,s,l){r.graphStack[l+1]=!0}};return u_.EntryHandlerKeywordGraph=t,u_}var l_={},T7;function Y1e(){if(T7)return l_;T7=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.EntryHandlerKeywordId=void 0;const e=Ai(),t=Rl();let i=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(n,a,o,s,l,u){if(typeof l!="string"){if(n.rdfstar&&typeof l=="object"){const d=Object.keys(l);d.length===1&&d[0]==="@id"&&n.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else n.emitError(new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const c=await a.getPropertiesDepth(s,u);if(n.idStack[c]!==void 0&&(n.idStack[c][0].listHead?n.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s[u-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):n.emitError(new e.ErrorCoded(`Found duplicate @ids '${n.idStack[c][0].value}' and '${l}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),n.rdfstar&&n.annotationsBuffer[u])for(const d of n.annotationsBuffer[u])d.depth===u&&n.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,e.ERROR_CODES.INVALID_ANNOTATION));n.idStack[c]=a.nullableTermToArray(await a.resourceToTerm(await n.getContext(s),l))}};return l_.EntryHandlerKeywordId=i,l_}var c_={},E7;function Z1e(){if(E7)return c_;E7=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.EntryHandlerKeywordIncluded=void 0;const e=Ai(),t=Rl();let i=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(n,a,o,s,l,u){typeof l!="object"&&n.emitError(new e.ErrorCoded(`Found illegal @included '${l}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const c=await a.unaliasKeywords(l,s,u,await n.getContext(s));"@value"in c&&n.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in c&&n.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),n.emittedStack[u]=!1}};return c_.EntryHandlerKeywordIncluded=i,c_}var d_={},x7;function ewe(){if(x7)return d_;x7=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.EntryHandlerKeywordNest=void 0;const e=Ai(),t=Rl();let i=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(n,a,o,s,l,u){typeof l!="object"&&n.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${o}': '${l}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await a.unaliasKeywords(l,s,u,await n.getContext(s))&&n.emitError(new e.ErrorCoded(`Found an invalid @value node for '${o}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),n.emittedStack[u]=!1}};return d_.EntryHandlerKeywordNest=i,d_}var f_={},R7;function twe(){if(R7)return f_;R7=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.EntryHandlerKeywordType=void 0;const e=Ai(),t=zp(),i=m3(),r=Rl();let n=class extends r.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,s,l,u,c,d){const f=u[d],h=await o.getContext(u),p=s.rdfType,g=await s.unaliasKeywordParent(u,d),m=t.Util.isPropertyReverse(h,f,g),y=t.Util.isPropertyInEmbeddedNode(g);s.validateReverseInEmbeddedNode(l,m,y);const v=t.Util.isPropertyInAnnotationObject(g),b=Array.isArray(c)?c:[c];for(const T of b){typeof T!="string"&&o.emitError(new e.ErrorCoded(`Found illegal @type '${T}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const R=s.createVocabOrBaseTerm(h,T);R&&await i.EntryHandlerPredicate.handlePredicateObject(o,s,u,d,p,R,m,y,v)}let _=Promise.resolve(h),w=!1;for(const T of b.sort()){const R=t.Util.getContextValue(h,"@context",T,null);R&&(w=!0,_=_.then(F=>o.parseContext(R,F.getContextRaw())))}o.streamingProfile&&(w||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[d]||o.idStack[d])&&o.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),w&&(_=_.then(T=>T.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},T.getContextRaw()),{"@propagate":!1,"@__propagateFallback":h.getContextRaw()})):T),o.contextTree.setContext(u.slice(0,u.length-1),_)),o.processingType[d]=!0}};return f_.EntryHandlerKeywordType=n,f_}var h_={},O7;function rwe(){if(O7)return h_;O7=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.EntryHandlerKeywordUnknownFallback=void 0;const e=Ai();let t=class see{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,o,s){const l=await n.unaliasKeyword(a[o],a,o);return e.Util.isPotentialKeyword(l)?!(!s&&l==="@list"):!1}async test(r,n,a,o,s){return e.Util.isPotentialKeyword(a)}async handle(r,n,a,o,s,l){const u=see.VALID_KEYWORDS_TYPES[a];u!==void 0?u&&typeof s!==u.type&&r.emitError(new e.ErrorCoded(`Invalid value type for '${a}' with value '${s}'`,u.errorCode)):r.strictValues&&r.emitError(new Error(`Unknown keyword '${a}' with value '${s}'`)),r.emittedStack[l]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},h_.EntryHandlerKeywordUnknownFallback=t,h_}var p_={},P7;function nwe(){if(P7)return p_;P7=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.EntryHandlerKeywordValue=void 0;const e=Rl();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(r,n,a,o,s){const l=a[o];return l&&!r.literalStack[o]&&await this.test(r,n,l,a,o)&&(r.literalStack[o]=!0),super.validate(r,n,a,o,s)}async test(r,n,a,o,s){return await n.unaliasKeyword(o[s],o.slice(0,o.length-1),s-1,!0)==="@value"}async handle(r,n,a,o,s,l){r.literalStack[l]=!0,delete r.unidentifiedValuesBuffer[l],delete r.unidentifiedGraphsBuffer[l],r.emittedStack[l]=!1}};return p_.EntryHandlerKeywordValue=t,p_}var g_={},m_={},I7;function iwe(){if(I7)return m_;I7=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.ContextTree=void 0;let e=class uee{constructor(){this.subTrees={}}getContext(i){if(i.length>0){const[r,...n]=i,a=this.subTrees[r];if(a){const o=a.getContext(n);if(o)return o.then(({context:s,depth:l})=>({context:s,depth:l+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(i,r){if(i.length===0)this.context=r;else{const[n,...a]=i;let o=this.subTrees[n];o||(o=this.subTrees[n]=new uee),o.setContext(a,r)}}removeContext(i){this.setContext(i,null)}};return m_.ContextTree=e,m_}var C7;function awe(){if(C7)return g_;C7=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.ParsingContext=void 0;const e=Ai(),t=rA(),i=iwe(),r=cee();let n=class lee{constructor(o){this.contextParser=new e.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||r.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new i.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(s=>this.validateContext(s))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,s,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:s,processingMode:this.activeProcessingMode})}validateContext(o){const s=o.getContextRaw()["@version"];if(s){if(this.activeProcessingMode&&s>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${s}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&s<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${s} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=s}}async getContext(o,s=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);s&&(o=o.slice(0,-s));const u=await this.getContextPropagationAware(o);let d=u.context.getContextRaw();for(let f=u.depth;f<l.length-s;f++){const h=l[f],p=d[h];if(p&&typeof p=="object"&&"@context"in p){const g=(await this.parseContext(p,d,!0)).getContextRaw(),m=!(h in g)||g[h]["@context"]["@propagate"];(m!==!1||f===l.length-1-s)&&(d=Object.assign({},g),delete d["@propagate"],d[h]=Object.assign({},d[h]),"@id"in p&&(d[h]["@id"]=p["@id"]),delete d[h]["@context"],m!==!1&&this.contextTree.setContext(l.slice(0,f+s),Promise.resolve(new e.JsonLdContextNormalized(d))))}}return new e.JsonLdContextNormalized(d)}async getContextPropagationAware(o){const s=o.length;let l=null,u;do{u=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new e.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const c=o[o.length-1];if(c in l.context.getContextRaw()){const d=l.context.getContextRaw()[c];d&&typeof d=="object"&&"@context"in d&&(u=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&!u);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==s&&(l.context=new e.JsonLdContextNormalized({})),l}async newOnValueJob(o,s,l,u){await this.parser.newOnValueJob(o,s,l,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,s){o===1&&(this.topLevelProperties=!0),this.parser.push(s)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let s=this.unidentifiedValuesBuffer[o];return s||(s=[],this.unidentifiedValuesBuffer[o]=s),s}getUnidentifiedGraphBufferSafe(o){let s=this.unidentifiedGraphsBuffer[o];return s||(s=[],this.unidentifiedGraphsBuffer[o]=s),s}getAnnotationsBufferSafe(o){let s=this.annotationsBuffer[o];return s||(s=[],this.annotationsBuffer[o]=s),s}getExpandOptions(){return lee.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,s){const l=this.idStack[o+s];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+s]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=o+s&&(u.depth-=s,u.keys.splice(o,s));this.unidentifiedValuesBuffer[o+s]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+s],delete this.unidentifiedValuesBuffer[o+s]),this.annotationsBuffer[o+s-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+s-1]],delete this.annotationsBuffer[o+s-1])}};return n.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},g_.ParsingContext=n,g_}var y_={},D7;function owe(){if(D7)return y_;D7=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.EntryHandlerKeywordAnnotation=void 0;const e=Rl(),t=Ai();let i=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(n,a,o,s,l,u){(typeof l=="string"||typeof l=="object"&&l["@value"])&&n.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return y_.EntryHandlerKeywordAnnotation=i,y_}var N7;function cee(){if(N7)return Jb;N7=1,Object.defineProperty(Jb,"__esModule",{value:!0}),Jb.JsonLdParser=void 0;const e=sK(),t=Ai(),i=Xr(),r=W1e(),n=oee(),a=K1e(),o=m3(),s=J1e(),l=X1e(),u=Y1e(),c=Z1e(),d=ewe(),f=twe(),h=rwe(),p=nwe(),g=awe(),m=zp(),y=GC(),v=owe();let b=class Dg extends i.Transform{constructor(w){super({readableObjectMode:!0}),w=w||{},this.options=w,this.parsingContext=new g.ParsingContext(Object.assign({parser:this},w)),this.util=new m.Util({dataFactory:w.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(w,T,R,F){let D,A=["application/activity+json"];if(F&&F.wellKnownMediaTypes&&(A=F.wellKnownMediaTypes),T!=="application/ld+json"&&!A.includes(T)){if(T!=="application/json"&&!T.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${T}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(R&&R.has("Link")&&R.forEach((N,j)=>{if(j==="link"){const H=(0,y.parse)(N);for(const M of H.get("rel","http://www.w3.org/ns/json-ld#context")){if(D)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+w,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);D=M.uri}}}),!D&&!(F!=null&&F.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${T} on ${w}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let x;if(R&&R.has("Content-Type")){const N=R.get("Content-Type"),j=/; *profile=([^"]*)/.exec(N);j&&j[1]==="http://www.w3.org/ns/json-ld#streaming"&&(x=!0)}return new Dg(Object.assign({baseIRI:w,context:D,streamingProfile:x},F||{}))}import(w){if("pipe"in w){w.on("error",R=>T.emit("error",R));const T=w.pipe(new Dg(this.options));return T}else{const T=new i.PassThrough({readableObjectMode:!0});w.on("error",F=>R.emit("error",F)),w.on("data",F=>T.push(F)),w.on("end",()=>T.push(null));const R=T.pipe(new Dg(this.options));return R}}_transform(w,T,R){this.jsonParser.write(w),this.lastOnValueJob.then(()=>R(),F=>R(F))}async newOnValueJob(w,T,R,F){let D=!0;if(F&&R<this.lastDepth){const H=this.parsingContext.listPointerStack[this.lastDepth];H&&(H.value&&this.push(this.util.dataFactory.quad(H.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),H.listId.listHead=!0,this.parsingContext.idStack[H.listRootDepth+1]=[H.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await n.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),D=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const A=await this.util.unaliasKeyword(w[R],w,R),x=await this.util.unaliasKeywordParent(w,R);this.parsingContext.emittedStack[R]=!0;let N=!0;t.Util.isValidKeyword(A)&&x==="@reverse"&&A!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${T}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let j=!1;this.parsingContext.validationStack.length>1&&(j=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let H=Math.max(1,this.parsingContext.validationStack.length-1);H<w.length-1;H++){const M=this.parsingContext.validationStack[H]||(this.parsingContext.validationStack[H]=await this.validateKey(w.slice(0,H+1),H,j));if(M.valid)!j&&M.property&&(j=!0);else{this.parsingContext.emittedStack[R]=!1,N=!1;break}}if(await this.util.isLiteral(w,R)&&(N=!1),N)for(const H of Dg.ENTRY_HANDLERS){const M=await H.test(this.parsingContext,this.util,A,w,R);if(M){await H.handle(this.parsingContext,this.util,A,w,T,R,M),H.isStackProcessor()&&(this.parsingContext.processingStack[R]=!0);break}}R===0&&Array.isArray(T)&&await this.util.validateValueIndexes(T),D&&R<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=R,this.lastKeys=w,this.parsingContext.unaliasedKeywordCacheStack.splice(R-1)}flushStacks(w){this.parsingContext.processingStack.splice(w,1),this.parsingContext.processingType.splice(w,1),this.parsingContext.emittedStack.splice(w,1),this.parsingContext.idStack.splice(w,1),this.parsingContext.graphStack.splice(w+1,1),this.parsingContext.graphContainerTermStack.splice(w,1),this.parsingContext.jsonLiteralStack.splice(w,1),this.parsingContext.validationStack.splice(w-1,2),this.parsingContext.literalStack.splice(w,this.parsingContext.literalStack.length-w),this.parsingContext.annotationsBuffer.splice(w,1)}async flushBuffer(w,T){let R=this.parsingContext.idStack[w];!!R||(R=this.parsingContext.idStack[w]=[this.util.dataFactory.blankNode()]);const D=this.parsingContext.unidentifiedValuesBuffer[w];if(D){for(const N of R){const j=await this.util.getDepthOffsetGraph(w,T),H=this.parsingContext.graphStack[w]||j>=0?this.parsingContext.idStack[w-j-1]:[await this.util.getGraphContainerValue(T,w)];if(H)for(const M of H){this.parsingContext.emittedStack[w]=!0;for(const $ of D)this.util.emitQuadChecked(w,N,$.predicate,$.object,M,$.reverse,$.isEmbedded)}else{const M=this.parsingContext.getUnidentifiedGraphBufferSafe(w-await this.util.getDepthOffsetGraph(w,T)-1);for(const $ of D)$.reverse?M.push({object:N,predicate:$.predicate,subject:$.object,isEmbedded:$.isEmbedded}):M.push({object:$.object,predicate:$.predicate,subject:N,isEmbedded:$.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(w,1),this.parsingContext.literalStack.splice(w,1),this.parsingContext.jsonLiteralStack.splice(w,1)}const A=this.parsingContext.unidentifiedGraphsBuffer[w];if(A){for(const N of R){const j=w===1&&N.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():N;this.parsingContext.emittedStack[w]=!0;for(const H of A)this.parsingContext.emitQuad(w,this.util.dataFactory.quad(H.subject,H.predicate,H.object,j))}this.parsingContext.unidentifiedGraphsBuffer.splice(w,1)}const x=this.parsingContext.annotationsBuffer[w];if(x){x.length>0&&w===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const N=this.parsingContext.getAnnotationsBufferSafe(w-1);for(const j of x)N.push(j);delete this.parsingContext.annotationsBuffer[w]}}async validateKey(w,T,R){for(const F of Dg.ENTRY_HANDLERS)if(await F.validate(this.parsingContext,this.util,w,T,R))return{valid:!0,property:R||F.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=w=>{const T=this.jsonParser.stack.length,R=new Array(T+1).fill(0).map((F,D)=>D===T?this.jsonParser.key:this.jsonParser.stack[D].key);if(!this.isParsingContextInner(T)){const F=()=>this.newOnValueJob(R,w,T,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(R.slice(0,-1)))if(R[T]==="@context"){let D=this.contextJobs[T];D||(D=this.contextJobs[T]=[]),D.push(F)}else this.contextAwaitingJobs.push({job:F,keys:R,depth:T});else this.lastOnValueJob=this.lastOnValueJob.then(F);!this.parsingContext.streamingProfile&&T===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=w=>{this.emit("error",w)}}isParsingContextInner(w){for(let T=w;T>0;T--)if(this.jsonParser.stack[T-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const T of this.contextJobs)if(T)for(const R of T)await R();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const w=[];for(const T of this.contextAwaitingJobs)await this.util.unaliasKeyword(T.keys[T.depth],T.keys,T.depth,!0)==="@type"||typeof T.keys[T.depth]=="number"&&await this.util.unaliasKeyword(T.keys[T.depth-1],T.keys,T.depth-1,!0)==="@type"?this.typeJobs.push({job:T.job,keys:T.keys.slice(0,T.keys.length-1)}):w.push(T);for(const T of w){if(this.typeJobs.length>0){const R=[],F=[];for(let x=0;x<this.typeJobs.length;x++){const N=this.typeJobs[x];m.Util.isPrefixArray(N.keys,T.keys)&&(R.push(N),F.push(x))}const D=R.sort((x,N)=>x.keys.length-N.keys.length);for(const x of D)await x.job();const A=F.sort().reverse();for(const x of A)this.typeJobs.splice(x,1)}await T.job()}}};return b.DEFAULT_PROCESSING_MODE="1.1",b.ENTRY_HANDLERS=[new r.EntryHandlerArrayValue,new s.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new c.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new f.EntryHandlerKeywordType,new p.EntryHandlerKeywordValue,new v.EntryHandlerKeywordAnnotation,new n.EntryHandlerContainer,new h.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new a.EntryHandlerInvalidFallback],Jb.JsonLdParser=b,Jb}var F7;function swe(){return F7||(F7=1,function(e){var t=xf&&xf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=xf&&xf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(cee(),e)}(xf)),xf}var v_={},L7;function fee(){if(L7)return v_;L7=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.DocumentLoaderMediated=void 0;const e=Eu(),t=U0(),i=Ai();let r=class dee extends i.FetchDocumentLoader{constructor(a,o){super(dee.createFetcher(a,o)),this.mediatorHttp=a,this.context=o}static createFetcher(a,o){return async(s,l)=>{const u=await a.mediate({input:s,init:l,context:o});return u.json=async()=>JSON.parse(await(0,t.stringify)(e.ActorHttp.toNodeReadable(u.body))),u}}};return v_.DocumentLoaderMediated=r,v_}var M7;function uwe(){if(M7)return Kb;M7=1,Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.ActorRdfParseJsonLd=void 0;const e=q0(),t=Ir(),i=swe(),r=fee();let n=class extends e.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,s,l){if(l.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&s!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!s||!(s in this.mediaTypePriorities||s.endsWith("+json")))throw new Error(`Unrecognized media type: ${s}`);return await this.testHandleChecked(o)}async runHandle(o,s,l){var d;return{data:i.JsonLdParser.fromHttpResponse(((d=o.metadata)==null?void 0:d.baseIRI)??"",s,o.headers,{documentLoader:l.get(t.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,l),strictValues:l.get(t.KeysRdfParseJsonLd.strictValues),...l.get(t.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return Kb.ActorRdfParseJsonLd=n,Kb}var j7;function hee(){return j7||(j7=1,function(e){var t=Ef&&Ef.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ef&&Ef.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(uwe(),e),i(fee(),e)}(Ef)),Ef}var Rf={},b_={},Of={},__={},k7;function lwe(){if(k7)return __;k7=1,Object.defineProperty(__,"__esModule",{value:!0}),__.ActorRdfUpdateHypermedia=void 0;const e=_t();let t=class extends e.Actor{constructor(r,n){super(r),this.destinationType=n}async test(r){if(r.forceDestinationType&&this.destinationType!==r.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${r.forceDestinationType}.`);return this.testMetadata(r)}};return __.ActorRdfUpdateHypermedia=t,__}var B7;function pN(){return B7||(B7=1,function(e){var t=Of&&Of.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Of&&Of.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(lwe(),e)}(Of)),Of}var w_={},uT={exports:{}},q7;function gN(){return q7||(q7=1,function(e,t){var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof si<"u"&&si,r=function(){function a(){this.fetch=!1,this.DOMException=i.DOMException}return a.prototype=i,new a}();(function(a){(function(o){var s=typeof a<"u"&&a||typeof self<"u"&&self||typeof si<"u"&&si||{},l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(M){return M&&DataView.prototype.isPrototypeOf(M)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(M){return M&&c.indexOf(Object.prototype.toString.call(M))>-1};function f(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function h(M){return typeof M!="string"&&(M=String(M)),M}function p(M){var $={next:function(){var te=M.shift();return{done:te===void 0,value:te}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function g(M){this.map={},M instanceof g?M.forEach(function($,te){this.append(te,$)},this):Array.isArray(M)?M.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function($){this.append($,M[$])},this)}g.prototype.append=function(M,$){M=f(M),$=h($);var te=this.map[M];this.map[M]=te?te+", "+$:$},g.prototype.delete=function(M){delete this.map[f(M)]},g.prototype.get=function(M){return M=f(M),this.has(M)?this.map[M]:null},g.prototype.has=function(M){return this.map.hasOwnProperty(f(M))},g.prototype.set=function(M,$){this.map[f(M)]=h($)},g.prototype.forEach=function(M,$){for(var te in this.map)this.map.hasOwnProperty(te)&&M.call($,this.map[te],te,this)},g.prototype.keys=function(){var M=[];return this.forEach(function($,te){M.push(te)}),p(M)},g.prototype.values=function(){var M=[];return this.forEach(function($){M.push($)}),p(M)},g.prototype.entries=function(){var M=[];return this.forEach(function($,te){M.push([te,$])}),p(M)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function y(M){return new Promise(function($,te){M.onload=function(){$(M.result)},M.onerror=function(){te(M.error)}})}function v(M){var $=new FileReader,te=y($);return $.readAsArrayBuffer(M),te}function b(M){var $=new FileReader,te=y($),re=/charset=([A-Za-z0-9_-]+)/.exec(M.type),oe=re?re[1]:"utf-8";return $.readAsText(M,oe),te}function _(M){for(var $=new Uint8Array(M),te=new Array($.length),re=0;re<$.length;re++)te[re]=String.fromCharCode($[re]);return te.join("")}function w(M){if(M.slice)return M.slice(0);var $=new Uint8Array(M.byteLength);return $.set(new Uint8Array(M)),$.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:l.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:l.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():l.arrayBuffer&&l.blob&&u(M)?(this._bodyArrayBuffer=w(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||d(M))?this._bodyArrayBuffer=w(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=m(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function F(M){var $=M.toUpperCase();return R.indexOf($)>-1?$:M}function D(M,$){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var te=$.body;if(M instanceof D){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,$.headers||(this.headers=new g(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!te&&M._bodyInit!=null&&(te=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new g($.headers)),this.method=F($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||function(){if("AbortController"in s){var J=new AbortController;return J.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&te)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(te),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var re=/([?&])_=[^&]*/;if(re.test(this.url))this.url=this.url.replace(re,"$1_="+new Date().getTime());else{var oe=/\?/;this.url+=(oe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function A(M){var $=new FormData;return M.trim().split("&").forEach(function(te){if(te){var re=te.split("="),oe=re.shift().replace(/\+/g," "),J=re.join("=").replace(/\+/g," ");$.append(decodeURIComponent(oe),decodeURIComponent(J))}}),$}function x(M){var $=new g,te=M.replace(/\r?\n[\t ]+/g," ");return te.split("\r").map(function(re){return re.indexOf(`
`)===0?re.substr(1,re.length):re}).forEach(function(re){var oe=re.split(":"),J=oe.shift().trim();if(J){var fe=oe.join(":").trim();try{$.append(J,fe)}catch(xe){console.warn("Response "+xe.message)}}}),$}T.call(D.prototype);function N(M,$){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new g($.headers),this.url=$.url||"",this._initBody(M)}T.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},N.error=function(){var M=new N(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var j=[301,302,303,307,308];N.redirect=function(M,$){if(j.indexOf($)===-1)throw new RangeError("Invalid status code");return new N(null,{status:$,headers:{location:M}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function($,te){this.message=$,this.name=te;var re=Error($);this.stack=re.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(M,$){return new Promise(function(te,re){var oe=new D(M,$);if(oe.signal&&oe.signal.aborted)return re(new o.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function fe(){J.abort()}J.onload=function(){var ae={statusText:J.statusText,headers:x(J.getAllResponseHeaders()||"")};oe.url.indexOf("file://")===0&&(J.status<200||J.status>599)?ae.status=200:ae.status=J.status,ae.url="responseURL"in J?J.responseURL:ae.headers.get("X-Request-URL");var Fe="response"in J?J.response:J.responseText;setTimeout(function(){te(new N(Fe,ae))},0)},J.onerror=function(){setTimeout(function(){re(new TypeError("Network request failed"))},0)},J.ontimeout=function(){setTimeout(function(){re(new TypeError("Network request timed out"))},0)},J.onabort=function(){setTimeout(function(){re(new o.DOMException("Aborted","AbortError"))},0)};function xe(ae){try{return ae===""&&s.location.href?s.location.href:ae}catch{return ae}}if(J.open(oe.method,xe(oe.url),!0),oe.credentials==="include"?J.withCredentials=!0:oe.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&(l.blob?J.responseType="blob":l.arrayBuffer&&(J.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof g||s.Headers&&$.headers instanceof s.Headers)){var de=[];Object.getOwnPropertyNames($.headers).forEach(function(ae){de.push(f(ae)),J.setRequestHeader(ae,h($.headers[ae]))}),oe.headers.forEach(function(ae,Fe){de.indexOf(Fe)===-1&&J.setRequestHeader(Fe,ae)})}else oe.headers.forEach(function(ae,Fe){J.setRequestHeader(Fe,ae)});oe.signal&&(oe.signal.addEventListener("abort",fe),J.onreadystatechange=function(){J.readyState===4&&oe.signal.removeEventListener("abort",fe)}),J.send(typeof oe._bodyInit>"u"?null:oe._bodyInit)})}return H.polyfill=!0,s.fetch||(s.fetch=H,s.Headers=g,s.Request=D,s.Response=N),o.Headers=g,o.Request=D,o.Response=N,o.fetch=H,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var n=i.fetch?i:r;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t}(uT,uT.exports)),uT.exports}var V7;function pee(){if(V7)return w_;V7=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.QuadDestinationPatchSparqlUpdate=void 0;const e=Eu(),t=gN(),i=nA(),r=Xr();let n=class{constructor(o,s,l){this.url=o,this.context=s,this.mediatorHttp=l}insert(o){return this.wrapSparqlUpdateRequest("INSERT",o)}async delete(o){return this.wrapSparqlUpdateRequest("DELETE",o)}async wrapSparqlUpdateRequest(o,s){const l=s.map(f=>{let h=`${(0,i.termToString)(f.subject)} ${(0,i.termToString)(f.predicate)} ${(0,i.termToString)(f.object)} .`;return f.graph.termType==="DefaultGraph"?h=`  ${h}
`:h=`  GRAPH ${(0,i.termToString)(f.graph)} { ${h} }
`,h}).prepend([`${o} DATA {
`]).append(["}"]),u=new r.Readable;u.wrap(l);const c=new t.Headers({"content-type":"application/sparql-update"}),d=await this.mediatorHttp.mediate({context:this.context,init:{headers:c,method:"PATCH",body:e.ActorHttp.toWebReadableStream(u)},input:this.url});await(0,e.validateAndCloseHttpResponse)(this.url,d)}async deleteGraphs(o,s,l){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(o,s){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return w_.QuadDestinationPatchSparqlUpdate=n,w_}var U7;function cwe(){if(U7)return b_;U7=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const e=pN(),t=pee();let i=class extends e.ActorRdfUpdateHypermedia{constructor(n){super(n,"patchSparqlUpdate")}async testMetadata(n){if(!n.forceDestinationType&&!n.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!n.forceDestinationType&&!n.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(n){return this.logInfo(n.context,`Identified as patchSparqlUpdate destination: ${n.url}`),{destination:new t.QuadDestinationPatchSparqlUpdate(n.url,n.context,this.mediatorHttp)}}};return b_.ActorRdfUpdateHypermediaPatchSparqlUpdate=i,b_}var H7;function gee(){return H7||(H7=1,function(e){var t=Rf&&Rf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Rf&&Rf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(cwe(),e),i(pee(),e)}(Rf)),Rf}var Pf={},S_={},A_={},$7;function mee(){if($7)return A_;$7=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.QuadDestinationPutLdp=void 0;const e=Eu(),t=gN();let i=class{constructor(n,a,o,s,l,u){this.url=n,this.context=a,this.mediaTypes=o,this.mediatorHttp=s,this.mediatorRdfSerializeMediatypes=l,this.mediatorRdfSerialize=u}insert(n){return this.wrapRdfUpdateRequest("INSERT",n)}async delete(n){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(n,a){const{mediaTypes:o}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),s=this.mediaTypes.filter(f=>f in o),l=s.length>0?s[0]:Object.keys(o).sort((f,h)=>o[h]-o[f])[0],{handle:{data:u}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:a,context:this.context},handleMediaType:l}),c=new t.Headers({"content-type":l}),d=await this.mediatorHttp.mediate({context:this.context,init:{headers:c,method:"PUT",body:e.ActorHttp.toWebReadableStream(u)},input:this.url});await(0,e.validateAndCloseHttpResponse)(this.url,d)}async deleteGraphs(n,a,o){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(n,a){throw new Error("Put-based LDP destinations don't support named graphs")}};return A_.QuadDestinationPutLdp=i,A_}var Q7;function dwe(){if(Q7)return S_;Q7=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.ActorRdfUpdateHypermediaPutLdp=void 0;const e=pN(),t=mee();let i=class extends e.ActorRdfUpdateHypermedia{constructor(n){super(n,"putLdp")}async testMetadata(n){if(!n.forceDestinationType){if(!n.metadata.allowHttpMethods||!n.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(n.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(n){return this.logInfo(n.context,`Identified as putLdp destination: ${n.url}`),{destination:new t.QuadDestinationPutLdp(n.url,n.context,n.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return S_.ActorRdfUpdateHypermediaPutLdp=i,S_}var z7;function yee(){return z7||(z7=1,function(e){var t=Pf&&Pf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Pf&&Pf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(dwe(),e),i(mee(),e)}(Pf)),Pf}var If={},T_={},E_={},Cf={},x_={},JO={},G7;function fwe(){return G7||(G7=1,function(){(function(e){(function(t){var i=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof si<"u"&&si||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function n(A){return A&&DataView.prototype.isPrototypeOf(A)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(A){return A&&a.indexOf(Object.prototype.toString.call(A))>-1};function s(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function l(A){return typeof A!="string"&&(A=String(A)),A}function u(A){var x={next:function(){var N=A.shift();return{done:N===void 0,value:N}}};return r.iterable&&(x[Symbol.iterator]=function(){return x}),x}function c(A){this.map={},A instanceof c?A.forEach(function(x,N){this.append(N,x)},this):Array.isArray(A)?A.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(x){this.append(x,A[x])},this)}c.prototype.append=function(A,x){A=s(A),x=l(x);var N=this.map[A];this.map[A]=N?N+", "+x:x},c.prototype.delete=function(A){delete this.map[s(A)]},c.prototype.get=function(A){return A=s(A),this.has(A)?this.map[A]:null},c.prototype.has=function(A){return this.map.hasOwnProperty(s(A))},c.prototype.set=function(A,x){this.map[s(A)]=l(x)},c.prototype.forEach=function(A,x){for(var N in this.map)this.map.hasOwnProperty(N)&&A.call(x,this.map[N],N,this)},c.prototype.keys=function(){var A=[];return this.forEach(function(x,N){A.push(N)}),u(A)},c.prototype.values=function(){var A=[];return this.forEach(function(x){A.push(x)}),u(A)},c.prototype.entries=function(){var A=[];return this.forEach(function(x,N){A.push([N,x])}),u(A)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function f(A){return new Promise(function(x,N){A.onload=function(){x(A.result)},A.onerror=function(){N(A.error)}})}function h(A){var x=new FileReader,N=f(x);return x.readAsArrayBuffer(A),N}function p(A){var x=new FileReader,N=f(x),j=/charset=([A-Za-z0-9_-]+)/.exec(A.type),H=j?j[1]:"utf-8";return x.readAsText(A,H),N}function g(A){for(var x=new Uint8Array(A),N=new Array(x.length),j=0;j<x.length;j++)N[j]=String.fromCharCode(x[j]);return N.join("")}function m(A){if(A.slice)return A.slice(0);var x=new Uint8Array(A.byteLength);return x.set(new Uint8Array(A)),x.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:r.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:r.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():r.arrayBuffer&&r.blob&&n(A)?(this._bodyArrayBuffer=m(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||o(A))?this._bodyArrayBuffer=m(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=d(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=d(this);if(A)return A;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(A){var x=A.toUpperCase();return v.indexOf(x)>-1?x:A}function _(A,x){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var N=x.body;if(A instanceof _){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,x.headers||(this.headers=new c(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!N&&A._bodyInit!=null&&(N=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new c(x.headers)),this.method=b(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||function(){if("AbortController"in i){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(A){var x=new FormData;return A.trim().split("&").forEach(function(N){if(N){var j=N.split("="),H=j.shift().replace(/\+/g," "),M=j.join("=").replace(/\+/g," ");x.append(decodeURIComponent(H),decodeURIComponent(M))}}),x}function T(A){var x=new c,N=A.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var H=j.split(":"),M=H.shift().trim();if(M){var $=H.join(":").trim();try{x.append(M,$)}catch(te){console.warn("Response "+te.message)}}}),x}y.call(_.prototype);function R(A,x){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new c(x.headers),this.url=x.url||"",this._initBody(A)}y.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},R.error=function(){var A=new R(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var F=[301,302,303,307,308];R.redirect=function(A,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new R(null,{status:x,headers:{location:A}})},t.DOMException=i.DOMException;try{new t.DOMException}catch{t.DOMException=function(x,N){this.message=x,this.name=N;var j=Error(x);this.stack=j.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function D(A,x){return new Promise(function(N,j){var H=new _(A,x);if(H.signal&&H.signal.aborted)return j(new t.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function $(){M.abort()}M.onload=function(){var oe={statusText:M.statusText,headers:T(M.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(M.status<200||M.status>599)?oe.status=200:oe.status=M.status,oe.url="responseURL"in M?M.responseURL:oe.headers.get("X-Request-URL");var J="response"in M?M.response:M.responseText;setTimeout(function(){N(new R(J,oe))},0)},M.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){j(new t.DOMException("Aborted","AbortError"))},0)};function te(oe){try{return oe===""&&i.location.href?i.location.href:oe}catch{return oe}}if(M.open(H.method,te(H.url),!0),H.credentials==="include"?M.withCredentials=!0:H.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(r.blob?M.responseType="blob":r.arrayBuffer&&(M.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof c||i.Headers&&x.headers instanceof i.Headers)){var re=[];Object.getOwnPropertyNames(x.headers).forEach(function(oe){re.push(s(oe)),M.setRequestHeader(oe,l(x.headers[oe]))}),H.headers.forEach(function(oe,J){re.indexOf(J)===-1&&M.setRequestHeader(J,oe)})}else H.headers.forEach(function(oe,J){M.setRequestHeader(J,oe)});H.signal&&(H.signal.addEventListener("abort",$),M.onreadystatechange=function(){M.readyState===4&&H.signal.removeEventListener("abort",$)}),M.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return D.polyfill=!0,i.fetch||(i.fetch=D,i.Headers=c,i.Request=_,i.Response=R),t.Headers=c,t.Request=_,t.Response=R,t.fetch=D,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:JO)}()),JO}var Df={},R_={},W7;function hwe(){if(W7)return R_;W7=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.SparqlXmlParser=void 0;const e=yr(),t=oZ(),i=Xr();let r=class{constructor(a){a=a||{},this.dataFactory=a.dataFactory||new e.DataFactory,this.prefixVariableQuestionMark=!!a.prefixVariableQuestionMark}parseXmlResultsStream(a){const o=b=>v.emit("error",b);a.on("error",o);const s=new t.SaxesParser,l=[];let u=!1,c=!1;const d=[];let f={},h="",p="",g,m="",y=[];s.on("error",o),s.on("opentag",b=>{b.name==="variable"&&this.stackEquals(l,["sparql","head"])?d.push(this.dataFactory.variable(b.attributes.name)):b.name==="results"&&this.stackEquals(l,["sparql"])?c=!0:b.name==="result"&&this.stackEquals(l,["sparql","results"])?f={}:b.name==="binding"&&this.stackEquals(l,["sparql","results","result"])?(h=b.attributes.name||"",p="",g="",m="",y=[]):b.name==="triple"&&this.stackBeginsWith(l,["sparql","results","result"])?y.push({components:{}}):l[l.length-1]==="triple"&&this.stackBeginsWith(l,["sparql","results","result","binding"])?(p="",g="",m="",["subject","predicate","object"].includes(b.name)?y[y.length-1].currentComponent=b.name:o(new Error(`Illegal quoted triple component '${b.name}' found on line ${s.line+1}`))):this.stackBeginsWith(l,["sparql","results","result","binding"])&&(p=b.name,"xml:lang"in b.attributes?g=b.attributes["xml:lang"]:"datatype"in b.attributes?g=this.dataFactory.namedNode(b.attributes.datatype):g=void 0),l.push(b.name)}),s.on("closetag",b=>{if(this.stackEquals(l,["sparql","head"])&&(v.emit("variables",d),u=!0),this.stackEquals(l,["sparql","results","result"])&&v.push(f),this.stackBeginsWith(l,["sparql","results","result","binding"])){let _;if(!h&&p)o(new Error(`Terms should have a name on line ${s.line+1}`));else if(p==="uri")_=this.dataFactory.namedNode(m);else if(p==="bnode")_=this.dataFactory.blankNode(m);else if(p==="literal")_=this.dataFactory.literal(m,g);else if(l[l.length-1]==="triple"){const w=y.pop();w&&w.components.subject&&w.components.predicate&&w.components.object?_=this.dataFactory.quad(w.components.subject,w.components.predicate,w.components.object):o(new Error(`Incomplete quoted triple on line ${s.line+1}`))}else p&&o(new Error(`Invalid term type '${p}' on line ${s.line+1}`));if(_)if(y.length>0){const w=y[y.length-1];w.components[w.currentComponent]&&o(new Error(`The ${w.currentComponent} in a quoted triple on line ${s.line+1} was already defined before`)),w.components[w.currentComponent]=_}else{const w=this.prefixVariableQuestionMark?"?"+h:h;f[w]=_}p=void 0}l.pop()}),s.on("text",b=>{this.stackBeginsWith(l,["sparql","results","result","binding"])&&l[l.length-1]===p&&(m=b)});const v=a.on("end",b=>{c?u||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new i.Transform({objectMode:!0,transform(b,_,w){s.write(b),w()}}));return v}parseXmlBooleanStream(a){return new Promise((o,s)=>{const l=new t.SaxesParser,u=[];l.on("error",s),l.on("opentag",c=>{u.push(c.name)}),l.on("closetag",c=>{u.pop()}),l.on("text",c=>{this.stackEquals(u,["sparql","boolean"])&&o(c==="true")}),a.on("error",s).on("data",c=>l.write(c)).on("end",()=>s(new Error("No valid ASK response was found.")))})}stackEquals(a,o){return a.length===o.length&&a.every((s,l)=>o[l]===s)}stackBeginsWith(a,o){return a.length>=o.length&&o.every((s,l)=>a[l]===s)}};return R_.SparqlXmlParser=r,R_}var K7;function pwe(){return K7||(K7=1,function(e){var t=Df&&Df.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Df&&Df.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(hwe(),e)}(Df)),Df}var XO={exports:{}},J7;function gwe(){return J7||(J7=1,function(e){(function(){var t;typeof window=="object"&&window?t=window:t=si,e.exports?e.exports=t.Promise?t.Promise:a:t.Promise||(t.Promise=a);var i=t.setImmediate||function(f){setTimeout(f,1)};function r(f,h){return function(){f.apply(h,arguments)}}var n=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function a(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(f,r(s,this),r(l,this))}function o(f){var h=this;if(this._state===null){this._deferreds.push(f);return}i(function(){var p=h._state?f.onFulfilled:f.onRejected;if(p===null){(h._state?f.resolve:f.reject)(h._value);return}var g;try{g=p(h._value)}catch(m){f.reject(m);return}f.resolve(g)})}function s(f){try{if(f===this)throw new TypeError("A promise cannot be resolved with itself.");if(f&&(typeof f=="object"||typeof f=="function")){var h=f.then;if(typeof h=="function"){d(r(h,f),r(s,this),r(l,this));return}}this._state=!0,this._value=f,u.call(this)}catch(p){l.call(this,p)}}function l(f){this._state=!1,this._value=f,u.call(this)}function u(){for(var f=0,h=this._deferreds.length;f<h;f++)o.call(this,this._deferreds[f]);this._deferreds=null}function c(f,h,p,g){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof h=="function"?h:null,this.resolve=p,this.reject=g}function d(f,h,p){var g=!1;try{f(function(m){g||(g=!0,h(m))},function(m){g||(g=!0,p(m))})}catch(m){if(g)return;g=!0,p(m)}}a.prototype.catch=function(f){return this.then(null,f)},a.prototype.then=function(f,h){var p=this;return new a(function(g,m){o.call(p,new c(f,h,g,m))})},a.all=function(){var f=Array.prototype.slice.call(arguments.length===1&&n(arguments[0])?arguments[0]:arguments);return new a(function(h,p){if(f.length===0)return h([]);var g=f.length;function m(v,b){try{if(b&&(typeof b=="object"||typeof b=="function")){var _=b.then;if(typeof _=="function"){_.call(b,function(w){m(v,w)},p);return}}f[v]=b,--g===0&&h(f)}catch(w){p(w)}}for(var y=0;y<f.length;y++)m(y,f[y])})},a.resolve=function(f){return f&&typeof f=="object"&&f.constructor===a?f:new a(function(h){h(f)})},a.reject=function(f){return new a(function(h,p){p(f)})},a.race=function(f){return new a(function(h,p){for(var g=0,m=f.length;g<m;g++)f[g].then(h,p)})}})()}(XO)),XO.exports}var YO,X7;function mwe(){if(X7)return YO;X7=1;var e=gwe();return YO=function(t,i,r){typeof i=="function"&&(r=i,i=null);var n="",a=new e(function(o,s){t.on("data",function(l){n+=typeof i=="string"?l.toString(i):l.toString()}),t.on("end",function(){o(n)}),t.on("error",s)});return r&&a.then(function(o){r(null,o)},r),a},YO}var O_={},Y7;function ywe(){if(Y7)return O_;Y7=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.ReadableWebToNodeStream=void 0;const e=Xr();class t extends e.Readable{constructor(r){super(),this.bytesRead=0,this.released=!1,this.reader=r.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const r=await this.pendingRead;delete this.pendingRead,r.done||this.released?this.push(null):(this.bytesRead+=r.value.length,this.push(r.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}return O_.ReadableWebToNodeStream=t,O_}var Z7;function vwe(){if(Z7)return x_;Z7=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.SparqlEndpointFetcher=void 0,fwe();const e=j0(),t=kY(),i=pwe(),r=mwe(),n=ywe(),a=xl,o=kZ();let s=class up{constructor(u){u=u||{},this.method=u.method||"POST",this.additionalUrlParams=u.additionalUrlParams||new URLSearchParams,this.defaultHeaders=u.defaultHeaders||new Headers,this.fetchCb=u.fetch,this.sparqlJsonParser=new t.SparqlJsonParser(u),this.sparqlXmlParser=new i.SparqlXmlParser(u),this.sparqlParsers={[up.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:c=>this.sparqlJsonParser.parseJsonBooleanStream(c),parseResultsStream:c=>this.sparqlJsonParser.parseJsonResultsStream(c)},[up.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:c=>this.sparqlXmlParser.parseXmlBooleanStream(c),parseResultsStream:c=>this.sparqlXmlParser.parseXmlResultsStream(c)}},this.timeout=u.timeout}getQueryType(u){const c=new e.Parser({sparqlStar:!0}).parse(u);return c.type==="query"?c.queryType==="DESCRIBE"?"CONSTRUCT":c.queryType:"UNKNOWN"}getUpdateTypes(u){const c=new e.Parser({sparqlStar:!0}).parse(u);if(c.type==="update"){const d={};for(const f of c.updates)"type"in f?d[f.type]=!0:d[f.updateType]=!0;return d}else return"UNKNOWN"}async fetchBindings(u,c){const[d,f]=await this.fetchRawStream(u,c,up.CONTENTTYPE_SPARQL),h=this.sparqlParsers[d];if(!h)throw new Error("Unknown SPARQL results content type: "+d);return h.parseResultsStream(f)}async fetchAsk(u,c){const[d,f]=await this.fetchRawStream(u,c,up.CONTENTTYPE_SPARQL),h=this.sparqlParsers[d];if(!h)throw new Error("Unknown SPARQL results content type: "+d);return h.parseBooleanStream(f)}async fetchTriples(u,c){return(await this.fetchRawStream(u,c,up.CONTENTTYPE_TURTLE))[1].pipe(new a.StreamParser({format:up.CONTENTTYPE_TURTLE}))}async fetchUpdate(u,c){const d=globalThis.AbortController||await Promise.resolve().then(()=>Jg()),f=new d,h={};this.defaultHeaders.forEach((g,m)=>{h[m]=g});const p={method:"POST",headers:Object.assign(Object.assign({},h),{"content-type":"application/sparql-update"}),body:c,signal:f.signal};await this.handleFetchCall(u,p,{ignoreBody:!0}),f.abort()}async fetchRawStream(u,c,d){let f=this.method==="POST"?u:u+"?query="+encodeURIComponent(c);const h=new Headers(this.defaultHeaders);let p;return h.append("Accept",d),this.method==="POST"?(h.append("Content-Type","application/x-www-form-urlencoded"),p=new URLSearchParams,p.set("query",c),this.additionalUrlParams.forEach((g,m)=>{p.set(m,g)}),h.append("Content-Length",p.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(f+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(f,{headers:h,method:this.method,body:p})}async handleFetchCall(u,c,d={}){let f;if(this.timeout){const m=new AbortController;c.signal=m.signal,f=setTimeout(()=>m.abort(),this.timeout)}const h=await(this.fetchCb||fetch)(u,c);clearTimeout(f);let p;d.ignoreBody||(p=o(h.body)?h.body:new n.ReadableWebToNodeStream(h.body));let g=h.headers.get("Content-Type")||"";if(g.indexOf(";")>0&&(g=g.substr(0,g.indexOf(";"))),!h.ok){const m=/^[^?]*/u.exec(u)[0];let y="empty response";throw p&&(y=await r(p)),new Error(`Invalid SPARQL endpoint response from ${m} (HTTP status ${h.status}):
${y}`)}return[g,p]}};return s.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",s.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",s.CONTENTTYPE_SPARQL=`${s.CONTENTTYPE_SPARQL_JSON};q=1.0,${s.CONTENTTYPE_SPARQL_XML};q=0.7`,s.CONTENTTYPE_TURTLE="text/turtle",x_.SparqlEndpointFetcher=s,x_}var eV;function vee(){return eV||(eV=1,function(e){var t=Cf&&Cf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Cf&&Cf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(vwe(),e)}(Cf)),Cf}var tV;function bee(){if(tV)return E_;tV=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.QuadDestinationSparql=void 0;const e=U0(),t=vee(),i=nA();let r=class{constructor(a,o,s){this.url=a,this.context=o,this.mediatorHttp=s,this.endpointFetcher=new t.SparqlEndpointFetcher({fetch:(l,u)=>this.mediatorHttp.mediate({input:l,init:u,context:this.context}),prefixVariableQuestionMark:!0})}insert(a){return this.wrapSparqlUpdateRequest("INSERT",a)}async delete(a){return this.wrapSparqlUpdateRequest("DELETE",a)}async wrapSparqlUpdateRequest(a,o){const s=o.map(u=>{let c=`${(0,i.termToString)(u.subject)} ${(0,i.termToString)(u.predicate)} ${(0,i.termToString)(u.object)} .`;return u.graph.termType==="DefaultGraph"?c=`  ${c}
`:c=`  GRAPH ${(0,i.termToString)(u.graph)} { ${c} }
`,c}).prepend([`${a} DATA {
`]).append(["}"]),l=await(0,e.stringify)(s);await this.endpointFetcher.fetchUpdate(this.url,l)}async deleteGraphs(a,o,s){const l=Array.isArray(a)?a:[a],u=[];for(const c of l){let d;typeof c=="string"?d=c:c.termType==="DefaultGraph"?d="DEFAULT":d=`GRAPH <${c.value}>`,u.push(`${s?"DROP":"CLEAR"} ${o?"":"SILENT "}${d}`)}await this.endpointFetcher.fetchUpdate(this.url,u.join("; "))}async createGraphs(a,o){const s=[];for(const l of a)s.push(`CREATE${o?"":" SILENT"} GRAPH <${l.value}>`);await this.endpointFetcher.fetchUpdate(this.url,s.join("; "))}};return E_.QuadDestinationSparql=r,E_}var rV;function bwe(){if(rV)return T_;rV=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.ActorRdfUpdateHypermediaSparql=void 0;const e=pN(),t=bee();let i=class extends e.ActorRdfUpdateHypermedia{constructor(n){super(n,"sparql")}async testMetadata(n){if(!n.forceDestinationType&&!n.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&n.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&n.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(n){return this.logInfo(n.context,`Identified as sparql destination: ${n.url}`),{destination:new t.QuadDestinationSparql(n.metadata.sparqlService||n.url,n.context,this.mediatorHttp)}}};return T_.ActorRdfUpdateHypermediaSparql=i,T_}var nV;function _ee(){return nV||(nV=1,function(e){var t=If&&If.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=If&&If.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(bwe(),e),i(bee(),e)}(If)),If}var Nf={},P_={},iV;function _we(){if(iV)return P_;iV=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.ActorQueryOperationAsk=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"ask")}async testOperation(r,n){return!0}async runOperation(r,n){const a=await this.mediatorQueryOperation.mediate({operation:r.input,context:n}),{bindingsStream:o}=e.ActorQueryOperation.getSafeBindings(a);return{type:"boolean",execute:async()=>(await o.take(1).toArray()).length===1}}};return P_.ActorQueryOperationAsk=t,P_}var aV;function wee(){return aV||(aV=1,function(e){var t=Nf&&Nf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Nf&&Nf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(_we(),e)}(Nf)),Nf}var Ff={},I_={},oV;function wwe(){if(oV)return I_;oV=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.ActorQueryOperationBgpJoin=void 0;const e=hr(),t=vr();let i=class See extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"bgp")}async testOperation(n,a){return!0}async runOperation(n,a){return this.mediatorQueryOperation.mediate({operation:See.FACTORY.createJoin(n.patterns),context:a})}};return I_.ActorQueryOperationBgpJoin=i,i.FACTORY=new t.Factory,I_}var sV;function Aee(){return sV||(sV=1,function(e){var t=Ff&&Ff.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ff&&Ff.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(wwe(),e)}(Ff)),Ff}var Lf={},C_={},D_={},uV;function Tee(){if(uV)return D_;uV=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.BindingsToQuadsIterator=void 0;const e=Rr(),t=yr(),i=Qi(),r=new t.DataFactory;let n=class ES extends e.MultiTransformIterator{constructor(o,s){super(s,{autoStart:!1}),this.template=o,this.blankNodeCounter=0}static bindTerm(o,s){return s.termType==="Variable"?o.get(s):s}static bindQuad(o,s){try{return(0,i.mapTermsNested)(s,l=>{const u=ES.bindTerm(o,l);if(!u)throw new Error("Unbound term");return u})}catch{}}static localizeBlankNode(o,s){return s.termType==="BlankNode"?r.blankNode(`${s.value}${o}`):s}static localizeQuad(o,s){return(0,i.mapTermsNested)(s,l=>ES.localizeBlankNode(o,l))}bindTemplate(o,s,l){return s.map(ES.localizeQuad.bind(null,l)).map(c=>ES.bindQuad.bind(null,o)(c)).filter(Boolean)}_createTransformer(o){return new e.ArrayIterator(this.bindTemplate(o,this.template,this.blankNodeCounter++),{autoStart:!1})}};return D_.BindingsToQuadsIterator=n,D_}var lV;function Swe(){if(lV)return C_;lV=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.ActorQueryOperationConstruct=void 0;const e=hr(),t=Qi(),i=vr(),r=Tee();let n=class Eee extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"construct")}static getVariables(o){return(0,t.uniqTerms)([].concat.apply([],o.map(s=>(0,t.getVariables)((0,t.getTermsNested)(s)))))}async testOperation(o,s){return!0}async runOperation(o,s){const l=Eee.getVariables(o.template),u={type:i.Algebra.types.PROJECT,input:o.input,variables:l},c=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:s})),d=new r.BindingsToQuadsIterator(o.template,c.bindingsStream);return{metadata:()=>c.metadata().then(h=>({...h,order:void 0,cardinality:{type:h.cardinality.type,value:h.cardinality.value*o.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:d,type:"quads"}}};return C_.ActorQueryOperationConstruct=n,C_}var cV;function mN(){return cV||(cV=1,function(e){var t=Lf&&Lf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Lf&&Lf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Swe(),e),i(Tee(),e)}(Lf)),Lf}var Mf={},N_={},dV;function Awe(){if(dV)return N_;dV=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.ActorQueryOperationDistinctHash=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"distinct")}async testOperation(r,n){return!0}async runOperation(r,n){const a=await this.mediatorQueryOperation.mediate({operation:r.input,context:n});if(a.type==="quads"&&this.mediatorHashQuads!==void 0){const l=e.ActorQueryOperation.getSafeQuads(a);return{type:"quads",quadStream:l.quadStream.filter(await this.newHashFilterQuads(n)),metadata:l.metadata}}const o=e.ActorQueryOperation.getSafeBindings(a);return{type:"bindings",bindingsStream:o.bindingsStream.filter(await this.newHashFilter(n)),metadata:o.metadata}}async newHashFilter(r){const{hashFunction:n}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:r}),a={};return o=>{const s=n(o);return!(s in a)&&(a[s]=!0)}}async newHashFilterQuads(r){if(this.mediatorHashQuads===void 0)return o=>!0;const{hashFunction:n}=await this.mediatorHashQuads.mediate({allowHashCollisions:!0,context:r}),a={};return o=>{const s=n(o);return!(s in a)&&(a[s]=!0)}}};return N_.ActorQueryOperationDistinctHash=t,N_}var fV;function xee(){return fV||(fV=1,function(e){var t=Mf&&Mf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Mf&&Mf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Awe(),e)}(Mf)),Mf}var jf={},F_={},hV;function Twe(){if(hV)return F_;hV=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.ActorQueryOperationFromQuad=void 0;const e=hr(),t=vr();let i=class bn extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"from")}static copyOperation(n,a){const o={};for(const s of Object.keys(n))Array.isArray(n[s])&&s!=="template"?s==="variables"?o[s]=n[s]:o[s]=n[s].map(a):bn.ALGEBRA_TYPES.includes(n[s].type)?o[s]=a(n[s]):o[s]=n[s];return o}static applyOperationDefaultGraph(n,a){if(n.type==="bgp"&&n.patterns.length>0||n.type==="path"||n.type==="pattern"){if(n.type==="bgp")return bn.joinOperations(n.patterns.map(s=>{if(s.graph.termType!=="DefaultGraph")return bn.FACTORY.createBgp([s]);const l=a.map(u=>bn.FACTORY.createBgp([Object.assign(bn.FACTORY.createPattern(s.subject,s.predicate,s.object,u),{metadata:s.metadata})]));return bn.unionOperations(l)}));if(n.graph.termType!=="DefaultGraph")return n;const o=a.map(s=>n.type==="path"?bn.FACTORY.createPath(n.subject,n.predicate,n.object,s):Object.assign(bn.FACTORY.createPattern(n.subject,n.predicate,n.object,s),{metadata:n.metadata}));return bn.unionOperations(o)}return bn.copyOperation(n,o=>this.applyOperationDefaultGraph(o,a))}static applyOperationNamedGraph(n,a,o){if(n.type==="bgp"&&n.patterns.length>0||n.type==="path"||n.type==="pattern"){const s=n.type==="bgp"?n.patterns[0].graph:n.graph;if(s.termType==="DefaultGraph")return{type:t.Algebra.types.BGP,patterns:[]};if(s.termType==="Variable"){if(a.length===1){const u=a[0],c={};c[`?${s.value}`]=u;const d=bn.FACTORY.createValues([s],[c]);let f;return n.type==="bgp"?f=bn.FACTORY.createBgp(n.patterns.map(h=>bn.FACTORY.createPattern(h.subject,h.predicate,h.object,u))):n.type==="path"?f=bn.FACTORY.createPath(n.subject,n.predicate,n.object,u):f=bn.FACTORY.createPattern(n.subject,n.predicate,n.object,u),bn.FACTORY.createJoin([d,f])}return bn.unionOperations(a.map(u=>bn.applyOperationNamedGraph(n,[u],o)))}return[...a,...o].some(u=>u.equals(s))?n:{type:t.Algebra.types.BGP,patterns:[]}}return bn.copyOperation(n,s=>this.applyOperationNamedGraph(s,a,o))}static joinOperations(n){if(n.length===1)return n[0];if(n.length>1)return bn.FACTORY.createJoin(n);throw new Error("A join can only be applied on at least one operation")}static unionOperations(n){if(n.length===1)return n[0];if(n.length>1)return bn.FACTORY.createUnion(n);throw new Error("A union can only be applied on at least one operation")}static createOperation(n){let a=n.input;return n.default.length>0&&(a=bn.applyOperationDefaultGraph(a,n.default)),(n.named.length>0||n.default.length>0)&&(a=bn.applyOperationNamedGraph(a,n.named,n.default)),a}async testOperation(n,a){return!0}async runOperation(n,a){const o=bn.createOperation(n);return this.mediatorQueryOperation.mediate({operation:o,context:a})}};return F_.ActorQueryOperationFromQuad=i,i.FACTORY=new t.Factory,i.ALGEBRA_TYPES=Object.keys(t.Algebra.types).map(r=>t.Algebra.types[r]),F_}var pV;function Ree(){return pV||(pV=1,function(e){var t=jf&&jf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=jf&&jf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Twe(),e)}(jf)),jf}var kf={},L_={},gV;function Ewe(){if(gV)return L_;gV=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.ActorQueryOperationProject=void 0;const e=hr(),t=YD(),i=yr(),r=new i.DataFactory;let n=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,s){return!0}async runOperation(o,s){const l=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.input,context:s})),u=await l.metadata(),c=o.variables,d=u.variables.filter(g=>!c.some(m=>g.value===m.value));c.filter(g=>!u.variables.some(m=>g.value===m.value)).length>0&&(u.canContainUndefs=!0);let h=d.length===0?l.bindingsStream:l.bindingsStream.map(g=>{for(const m of d)g=g.delete(m);return g}),p=0;return h=h.map(g=>{p++;const m=new Map;return g.map(y=>{if(y instanceof t.BlankNodeBindingsScoped){let v=m.get(y.value);return v||(v=r.blankNode(`${y.value}${p}`),m.set(y.value,v)),v}return y})}),{type:"bindings",bindingsStream:h,metadata:async()=>({...u,variables:c})}}};return L_.ActorQueryOperationProject=n,L_}var mV;function Oee(){return mV||(mV=1,function(e){var t=kf&&kf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=kf&&kf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ewe(),e)}(kf)),kf}var Bf={},M_={},j_={},yV;function Ol(){var f,h,g,m,y,v,b,_,w,T,R,F,D,A,x,N,j,H,M,$,te,re,oe,J,fe,xe,de,ae,vI,Le,me,pe,_e,Pee,C,E,S,Qu,zu,bI,NT,FT,_n,_I,xS,Gu,wI;if(yV)return j_;yV=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.LRUCache=void 0;const e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,i=typeof process=="object"&&process?process:{},r=(qe,Ee,W,V)=>{typeof i.emitWarning=="function"?i.emitWarning(qe,Ee,W,V):console.error(`[${W}] ${Ee}: ${qe}`)};let n=globalThis.AbortController,a=globalThis.AbortSignal;if(typeof n>"u"){a=class{constructor(){Rn(this,"onabort");Rn(this,"_onabort",[]);Rn(this,"reason");Rn(this,"aborted",!1)}addEventListener(V,K){this._onabort.push(K)}},n=class{constructor(){Rn(this,"signal",new a);Ee()}abort(V){var K,z;if(!this.signal.aborted){this.signal.reason=V,this.signal.aborted=!0;for(const be of this.signal._onabort)be(V);(z=(K=this.signal).onabort)==null||z.call(K,V)}}};let qe=((f=i.env)==null?void 0:f.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const Ee=()=>{qe&&(qe=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",Ee))}}const o=qe=>!t.has(qe),s=qe=>qe&&qe===Math.floor(qe)&&qe>0&&isFinite(qe),l=qe=>s(qe)?qe<=Math.pow(2,8)?Uint8Array:qe<=Math.pow(2,16)?Uint16Array:qe<=Math.pow(2,32)?Uint32Array:qe<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(Ee){super(Ee),this.fill(0)}}const p=class p{constructor(Ee,W){Rn(this,"heap");Rn(this,"length");if(!He(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new W(Ee),this.length=0}static create(Ee){const W=l(Ee);if(!W)return[];fr(p,h,!0);const V=new p(Ee,W);return fr(p,h,!1),V}push(Ee){this.heap[this.length++]=Ee}pop(){return this.heap[--this.length]}};h=new WeakMap,Ur(p,h,!1);let c=p;const Ge=class Ge{constructor(Ee){Ur(this,ae);Ur(this,y);Ur(this,v);Ur(this,b);Ur(this,_);Ur(this,w);Ur(this,T);Rn(this,"ttl");Rn(this,"ttlResolution");Rn(this,"ttlAutopurge");Rn(this,"updateAgeOnGet");Rn(this,"updateAgeOnHas");Rn(this,"allowStale");Rn(this,"noDisposeOnSet");Rn(this,"noUpdateTTL");Rn(this,"maxEntrySize");Rn(this,"sizeCalculation");Rn(this,"noDeleteOnFetchRejection");Rn(this,"noDeleteOnStaleGet");Rn(this,"allowStaleOnFetchAbort");Rn(this,"allowStaleOnFetchRejection");Rn(this,"ignoreFetchAbort");Ur(this,R);Ur(this,F);Ur(this,D);Ur(this,A);Ur(this,x);Ur(this,N);Ur(this,j);Ur(this,H);Ur(this,M);Ur(this,$);Ur(this,te);Ur(this,re);Ur(this,oe);Ur(this,J);Ur(this,fe);Ur(this,xe);Ur(this,de);Ur(this,Le,()=>{});Ur(this,me,()=>{});Ur(this,pe,()=>{});Ur(this,_e,()=>!1);Ur(this,C,Ee=>{});Ur(this,E,(Ee,W,V)=>{});Ur(this,S,(Ee,W,V,K)=>{if(V||K)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Rn(this,g,"LRUCache");const{max:W=0,ttl:V,ttlResolution:K=1,ttlAutopurge:z,updateAgeOnGet:be,updateAgeOnHas:ke,allowStale:Pe,dispose:dt,disposeAfter:pt,noDisposeOnSet:tt,noUpdateTTL:At,maxSize:ve=0,maxEntrySize:et=0,sizeCalculation:Ze,fetchMethod:st,memoMethod:ut,noDeleteOnFetchRejection:xt,noDeleteOnStaleGet:Nt,allowStaleOnFetchRejection:Lt,allowStaleOnFetchAbort:er,ignoreFetchAbort:Ie}=Ee;if(W!==0&&!s(W))throw new TypeError("max option must be a nonnegative integer");const U=W?l(W):Array;if(!U)throw new Error("invalid max value: "+W);if(fr(this,y,W),fr(this,v,ve),this.maxEntrySize=et||He(this,v),this.sizeCalculation=Ze,this.sizeCalculation){if(!He(this,v)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ut!==void 0&&typeof ut!="function")throw new TypeError("memoMethod must be a function if defined");if(fr(this,T,ut),st!==void 0&&typeof st!="function")throw new TypeError("fetchMethod must be a function if specified");if(fr(this,w,st),fr(this,xe,!!st),fr(this,D,new Map),fr(this,A,new Array(W).fill(void 0)),fr(this,x,new Array(W).fill(void 0)),fr(this,N,new U(W)),fr(this,j,new U(W)),fr(this,H,0),fr(this,M,0),fr(this,$,c.create(W)),fr(this,R,0),fr(this,F,0),typeof dt=="function"&&fr(this,b,dt),typeof pt=="function"?(fr(this,_,pt),fr(this,te,[])):(fr(this,_,void 0),fr(this,te,void 0)),fr(this,fe,!!He(this,b)),fr(this,de,!!He(this,_)),this.noDisposeOnSet=!!tt,this.noUpdateTTL=!!At,this.noDeleteOnFetchRejection=!!xt,this.allowStaleOnFetchRejection=!!Lt,this.allowStaleOnFetchAbort=!!er,this.ignoreFetchAbort=!!Ie,this.maxEntrySize!==0){if(He(this,v)!==0&&!s(He(this,v)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Jt(this,ae,Pee).call(this)}if(this.allowStale=!!Pe,this.noDeleteOnStaleGet=!!Nt,this.updateAgeOnGet=!!be,this.updateAgeOnHas=!!ke,this.ttlResolution=s(K)||K===0?K:1,this.ttlAutopurge=!!z,this.ttl=V||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Jt(this,ae,vI).call(this)}if(He(this,y)===0&&this.ttl===0&&He(this,v)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!He(this,y)&&!He(this,v)){const he="LRU_CACHE_UNBOUNDED";o(he)&&(t.add(he),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",he,Ge))}}static unsafeExposeInternals(Ee){return{starts:He(Ee,oe),ttls:He(Ee,J),sizes:He(Ee,re),keyMap:He(Ee,D),keyList:He(Ee,A),valList:He(Ee,x),next:He(Ee,N),prev:He(Ee,j),get head(){return He(Ee,H)},get tail(){return He(Ee,M)},free:He(Ee,$),isBackgroundFetch:W=>{var V;return Jt(V=Ee,ae,_n).call(V,W)},backgroundFetch:(W,V,K,z)=>{var be;return Jt(be=Ee,ae,FT).call(be,W,V,K,z)},moveToTail:W=>{var V;return Jt(V=Ee,ae,xS).call(V,W)},indexes:W=>{var V;return Jt(V=Ee,ae,Qu).call(V,W)},rindexes:W=>{var V;return Jt(V=Ee,ae,zu).call(V,W)},isStale:W=>{var V;return He(V=Ee,_e).call(V,W)}}}get max(){return He(this,y)}get maxSize(){return He(this,v)}get calculatedSize(){return He(this,F)}get size(){return He(this,R)}get fetchMethod(){return He(this,w)}get memoMethod(){return He(this,T)}get dispose(){return He(this,b)}get disposeAfter(){return He(this,_)}getRemainingTTL(Ee){return He(this,D).has(Ee)?1/0:0}*entries(){for(const Ee of Jt(this,ae,Qu).call(this))He(this,x)[Ee]!==void 0&&He(this,A)[Ee]!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield[He(this,A)[Ee],He(this,x)[Ee]])}*rentries(){for(const Ee of Jt(this,ae,zu).call(this))He(this,x)[Ee]!==void 0&&He(this,A)[Ee]!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield[He(this,A)[Ee],He(this,x)[Ee]])}*keys(){for(const Ee of Jt(this,ae,Qu).call(this)){const W=He(this,A)[Ee];W!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield W)}}*rkeys(){for(const Ee of Jt(this,ae,zu).call(this)){const W=He(this,A)[Ee];W!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield W)}}*values(){for(const Ee of Jt(this,ae,Qu).call(this))He(this,x)[Ee]!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield He(this,x)[Ee])}*rvalues(){for(const Ee of Jt(this,ae,zu).call(this))He(this,x)[Ee]!==void 0&&!Jt(this,ae,_n).call(this,He(this,x)[Ee])&&(yield He(this,x)[Ee])}[(m=Symbol.iterator,g=Symbol.toStringTag,m)](){return this.entries()}find(Ee,W={}){for(const V of Jt(this,ae,Qu).call(this)){const K=He(this,x)[V],z=Jt(this,ae,_n).call(this,K)?K.__staleWhileFetching:K;if(z!==void 0&&Ee(z,He(this,A)[V],this))return this.get(He(this,A)[V],W)}}forEach(Ee,W=this){for(const V of Jt(this,ae,Qu).call(this)){const K=He(this,x)[V],z=Jt(this,ae,_n).call(this,K)?K.__staleWhileFetching:K;z!==void 0&&Ee.call(W,z,He(this,A)[V],this)}}rforEach(Ee,W=this){for(const V of Jt(this,ae,zu).call(this)){const K=He(this,x)[V],z=Jt(this,ae,_n).call(this,K)?K.__staleWhileFetching:K;z!==void 0&&Ee.call(W,z,He(this,A)[V],this)}}purgeStale(){let Ee=!1;for(const W of Jt(this,ae,zu).call(this,{allowStale:!0}))He(this,_e).call(this,W)&&(Jt(this,ae,Gu).call(this,He(this,A)[W],"expire"),Ee=!0);return Ee}info(Ee){const W=He(this,D).get(Ee);if(W===void 0)return;const V=He(this,x)[W],K=Jt(this,ae,_n).call(this,V)?V.__staleWhileFetching:V;if(K===void 0)return;const z={value:K};if(He(this,J)&&He(this,oe)){const be=He(this,J)[W],ke=He(this,oe)[W];if(be&&ke){const Pe=be-(e.now()-ke);z.ttl=Pe,z.start=Date.now()}}return He(this,re)&&(z.size=He(this,re)[W]),z}dump(){const Ee=[];for(const W of Jt(this,ae,Qu).call(this,{allowStale:!0})){const V=He(this,A)[W],K=He(this,x)[W],z=Jt(this,ae,_n).call(this,K)?K.__staleWhileFetching:K;if(z===void 0||V===void 0)continue;const be={value:z};if(He(this,J)&&He(this,oe)){be.ttl=He(this,J)[W];const ke=e.now()-He(this,oe)[W];be.start=Math.floor(Date.now()-ke)}He(this,re)&&(be.size=He(this,re)[W]),Ee.unshift([V,be])}return Ee}load(Ee){this.clear();for(const[W,V]of Ee){if(V.start){const K=Date.now()-V.start;V.start=e.now()-K}this.set(W,V.value,V)}}set(Ee,W,V={}){var At,ve,et,Ze,st;if(W===void 0)return this.delete(Ee),this;const{ttl:K=this.ttl,start:z,noDisposeOnSet:be=this.noDisposeOnSet,sizeCalculation:ke=this.sizeCalculation,status:Pe}=V;let{noUpdateTTL:dt=this.noUpdateTTL}=V;const pt=He(this,S).call(this,Ee,W,V.size||0,ke);if(this.maxEntrySize&&pt>this.maxEntrySize)return Pe&&(Pe.set="miss",Pe.maxEntrySizeExceeded=!0),Jt(this,ae,Gu).call(this,Ee,"set"),this;let tt=He(this,R)===0?void 0:He(this,D).get(Ee);if(tt===void 0)tt=He(this,R)===0?He(this,M):He(this,$).length!==0?He(this,$).pop():He(this,R)===He(this,y)?Jt(this,ae,NT).call(this,!1):He(this,R),He(this,A)[tt]=Ee,He(this,x)[tt]=W,He(this,D).set(Ee,tt),He(this,N)[He(this,M)]=tt,He(this,j)[tt]=He(this,M),fr(this,M,tt),xA(this,R)._++,He(this,E).call(this,tt,pt,Pe),Pe&&(Pe.set="add"),dt=!1;else{Jt(this,ae,xS).call(this,tt);const ut=He(this,x)[tt];if(W!==ut){if(He(this,xe)&&Jt(this,ae,_n).call(this,ut)){ut.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:xt}=ut;xt!==void 0&&!be&&(He(this,fe)&&((At=He(this,b))==null||At.call(this,xt,Ee,"set")),He(this,de)&&((ve=He(this,te))==null||ve.push([xt,Ee,"set"])))}else be||(He(this,fe)&&((et=He(this,b))==null||et.call(this,ut,Ee,"set")),He(this,de)&&((Ze=He(this,te))==null||Ze.push([ut,Ee,"set"])));if(He(this,C).call(this,tt),He(this,E).call(this,tt,pt,Pe),He(this,x)[tt]=W,Pe){Pe.set="replace";const xt=ut&&Jt(this,ae,_n).call(this,ut)?ut.__staleWhileFetching:ut;xt!==void 0&&(Pe.oldValue=xt)}}else Pe&&(Pe.set="update")}if(K!==0&&!He(this,J)&&Jt(this,ae,vI).call(this),He(this,J)&&(dt||He(this,pe).call(this,tt,K,z),Pe&&He(this,me).call(this,Pe,tt)),!be&&He(this,de)&&He(this,te)){const ut=He(this,te);let xt;for(;xt=ut==null?void 0:ut.shift();)(st=He(this,_))==null||st.call(this,...xt)}return this}pop(){var Ee;try{for(;He(this,R);){const W=He(this,x)[He(this,H)];if(Jt(this,ae,NT).call(this,!0),Jt(this,ae,_n).call(this,W)){if(W.__staleWhileFetching)return W.__staleWhileFetching}else if(W!==void 0)return W}}finally{if(He(this,de)&&He(this,te)){const W=He(this,te);let V;for(;V=W==null?void 0:W.shift();)(Ee=He(this,_))==null||Ee.call(this,...V)}}}has(Ee,W={}){const{updateAgeOnHas:V=this.updateAgeOnHas,status:K}=W,z=He(this,D).get(Ee);if(z!==void 0){const be=He(this,x)[z];if(Jt(this,ae,_n).call(this,be)&&be.__staleWhileFetching===void 0)return!1;if(He(this,_e).call(this,z))K&&(K.has="stale",He(this,me).call(this,K,z));else return V&&He(this,Le).call(this,z),K&&(K.has="hit",He(this,me).call(this,K,z)),!0}else K&&(K.has="miss");return!1}peek(Ee,W={}){const{allowStale:V=this.allowStale}=W,K=He(this,D).get(Ee);if(K===void 0||!V&&He(this,_e).call(this,K))return;const z=He(this,x)[K];return Jt(this,ae,_n).call(this,z)?z.__staleWhileFetching:z}async fetch(Ee,W={}){const{allowStale:V=this.allowStale,updateAgeOnGet:K=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,ttl:be=this.ttl,noDisposeOnSet:ke=this.noDisposeOnSet,size:Pe=0,sizeCalculation:dt=this.sizeCalculation,noUpdateTTL:pt=this.noUpdateTTL,noDeleteOnFetchRejection:tt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:At=this.allowStaleOnFetchRejection,ignoreFetchAbort:ve=this.ignoreFetchAbort,allowStaleOnFetchAbort:et=this.allowStaleOnFetchAbort,context:Ze,forceRefresh:st=!1,status:ut,signal:xt}=W;if(!He(this,xe))return ut&&(ut.fetch="get"),this.get(Ee,{allowStale:V,updateAgeOnGet:K,noDeleteOnStaleGet:z,status:ut});const Nt={allowStale:V,updateAgeOnGet:K,noDeleteOnStaleGet:z,ttl:be,noDisposeOnSet:ke,size:Pe,sizeCalculation:dt,noUpdateTTL:pt,noDeleteOnFetchRejection:tt,allowStaleOnFetchRejection:At,allowStaleOnFetchAbort:et,ignoreFetchAbort:ve,status:ut,signal:xt};let Lt=He(this,D).get(Ee);if(Lt===void 0){ut&&(ut.fetch="miss");const er=Jt(this,ae,FT).call(this,Ee,Lt,Nt,Ze);return er.__returned=er}else{const er=He(this,x)[Lt];if(Jt(this,ae,_n).call(this,er)){const Ke=V&&er.__staleWhileFetching!==void 0;return ut&&(ut.fetch="inflight",Ke&&(ut.returnedStale=!0)),Ke?er.__staleWhileFetching:er.__returned=er}const Ie=He(this,_e).call(this,Lt);if(!st&&!Ie)return ut&&(ut.fetch="hit"),Jt(this,ae,xS).call(this,Lt),K&&He(this,Le).call(this,Lt),ut&&He(this,me).call(this,ut,Lt),er;const U=Jt(this,ae,FT).call(this,Ee,Lt,Nt,Ze),je=U.__staleWhileFetching!==void 0&&V;return ut&&(ut.fetch=Ie?"stale":"refresh",je&&Ie&&(ut.returnedStale=!0)),je?U.__staleWhileFetching:U.__returned=U}}async forceFetch(Ee,W={}){const V=await this.fetch(Ee,W);if(V===void 0)throw new Error("fetch() returned undefined");return V}memo(Ee,W={}){const V=He(this,T);if(!V)throw new Error("no memoMethod provided to constructor");const{context:K,forceRefresh:z,...be}=W,ke=this.get(Ee,be);if(!z&&ke!==void 0)return ke;const Pe=V(Ee,ke,{options:be,context:K});return this.set(Ee,Pe,be),Pe}get(Ee,W={}){const{allowStale:V=this.allowStale,updateAgeOnGet:K=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,status:be}=W,ke=He(this,D).get(Ee);if(ke!==void 0){const Pe=He(this,x)[ke],dt=Jt(this,ae,_n).call(this,Pe);return be&&He(this,me).call(this,be,ke),He(this,_e).call(this,ke)?(be&&(be.get="stale"),dt?(be&&V&&Pe.__staleWhileFetching!==void 0&&(be.returnedStale=!0),V?Pe.__staleWhileFetching:void 0):(z||Jt(this,ae,Gu).call(this,Ee,"expire"),be&&V&&(be.returnedStale=!0),V?Pe:void 0)):(be&&(be.get="hit"),dt?Pe.__staleWhileFetching:(Jt(this,ae,xS).call(this,ke),K&&He(this,Le).call(this,ke),Pe))}else be&&(be.get="miss")}delete(Ee){return Jt(this,ae,Gu).call(this,Ee,"delete")}clear(){return Jt(this,ae,wI).call(this,"delete")}};y=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap,w=new WeakMap,T=new WeakMap,R=new WeakMap,F=new WeakMap,D=new WeakMap,A=new WeakMap,x=new WeakMap,N=new WeakMap,j=new WeakMap,H=new WeakMap,M=new WeakMap,$=new WeakMap,te=new WeakMap,re=new WeakMap,oe=new WeakMap,J=new WeakMap,fe=new WeakMap,xe=new WeakMap,de=new WeakMap,ae=new WeakSet,vI=function(){const Ee=new u(He(this,y)),W=new u(He(this,y));fr(this,J,Ee),fr(this,oe,W),fr(this,pe,(z,be,ke=e.now())=>{if(W[z]=be!==0?ke:0,Ee[z]=be,be!==0&&this.ttlAutopurge){const Pe=setTimeout(()=>{He(this,_e).call(this,z)&&Jt(this,ae,Gu).call(this,He(this,A)[z],"expire")},be+1);Pe.unref&&Pe.unref()}}),fr(this,Le,z=>{W[z]=Ee[z]!==0?e.now():0}),fr(this,me,(z,be)=>{if(Ee[be]){const ke=Ee[be],Pe=W[be];if(!ke||!Pe)return;z.ttl=ke,z.start=Pe,z.now=V||K();const dt=z.now-Pe;z.remainingTTL=ke-dt}});let V=0;const K=()=>{const z=e.now();if(this.ttlResolution>0){V=z;const be=setTimeout(()=>V=0,this.ttlResolution);be.unref&&be.unref()}return z};this.getRemainingTTL=z=>{const be=He(this,D).get(z);if(be===void 0)return 0;const ke=Ee[be],Pe=W[be];if(!ke||!Pe)return 1/0;const dt=(V||K())-Pe;return ke-dt},fr(this,_e,z=>{const be=W[z],ke=Ee[z];return!!ke&&!!be&&(V||K())-be>ke})},Le=new WeakMap,me=new WeakMap,pe=new WeakMap,_e=new WeakMap,Pee=function(){const Ee=new u(He(this,y));fr(this,F,0),fr(this,re,Ee),fr(this,C,W=>{fr(this,F,He(this,F)-Ee[W]),Ee[W]=0}),fr(this,S,(W,V,K,z)=>{if(Jt(this,ae,_n).call(this,V))return 0;if(!s(K))if(z){if(typeof z!="function")throw new TypeError("sizeCalculation must be a function");if(K=z(V,W),!s(K))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return K}),fr(this,E,(W,V,K)=>{if(Ee[W]=V,He(this,v)){const z=He(this,v)-Ee[W];for(;He(this,F)>z;)Jt(this,ae,NT).call(this,!0)}fr(this,F,He(this,F)+Ee[W]),K&&(K.entrySize=V,K.totalCalculatedSize=He(this,F))})},C=new WeakMap,E=new WeakMap,S=new WeakMap,Qu=function*({allowStale:Ee=this.allowStale}={}){if(He(this,R))for(let W=He(this,M);!(!Jt(this,ae,bI).call(this,W)||((Ee||!He(this,_e).call(this,W))&&(yield W),W===He(this,H)));)W=He(this,j)[W]},zu=function*({allowStale:Ee=this.allowStale}={}){if(He(this,R))for(let W=He(this,H);!(!Jt(this,ae,bI).call(this,W)||((Ee||!He(this,_e).call(this,W))&&(yield W),W===He(this,M)));)W=He(this,N)[W]},bI=function(Ee){return Ee!==void 0&&He(this,D).get(He(this,A)[Ee])===Ee},NT=function(Ee){var z,be;const W=He(this,H),V=He(this,A)[W],K=He(this,x)[W];return He(this,xe)&&Jt(this,ae,_n).call(this,K)?K.__abortController.abort(new Error("evicted")):(He(this,fe)||He(this,de))&&(He(this,fe)&&((z=He(this,b))==null||z.call(this,K,V,"evict")),He(this,de)&&((be=He(this,te))==null||be.push([K,V,"evict"]))),He(this,C).call(this,W),Ee&&(He(this,A)[W]=void 0,He(this,x)[W]=void 0,He(this,$).push(W)),He(this,R)===1?(fr(this,H,fr(this,M,0)),He(this,$).length=0):fr(this,H,He(this,N)[W]),He(this,D).delete(V),xA(this,R)._--,W},FT=function(Ee,W,V,K){const z=W===void 0?void 0:He(this,x)[W];if(Jt(this,ae,_n).call(this,z))return z;const be=new n,{signal:ke}=V;ke==null||ke.addEventListener("abort",()=>be.abort(ke.reason),{signal:be.signal});const Pe={signal:be.signal,options:V,context:K},dt=(Ze,st=!1)=>{const{aborted:ut}=be.signal,xt=V.ignoreFetchAbort&&Ze!==void 0;if(V.status&&(ut&&!st?(V.status.fetchAborted=!0,V.status.fetchError=be.signal.reason,xt&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),ut&&!xt&&!st)return tt(be.signal.reason);const Nt=ve;return He(this,x)[W]===ve&&(Ze===void 0?Nt.__staleWhileFetching?He(this,x)[W]=Nt.__staleWhileFetching:Jt(this,ae,Gu).call(this,Ee,"fetch"):(V.status&&(V.status.fetchUpdated=!0),this.set(Ee,Ze,Pe.options))),Ze},pt=Ze=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=Ze),tt(Ze)),tt=Ze=>{const{aborted:st}=be.signal,ut=st&&V.allowStaleOnFetchAbort,xt=ut||V.allowStaleOnFetchRejection,Nt=xt||V.noDeleteOnFetchRejection,Lt=ve;if(He(this,x)[W]===ve&&(!Nt||Lt.__staleWhileFetching===void 0?Jt(this,ae,Gu).call(this,Ee,"fetch"):ut||(He(this,x)[W]=Lt.__staleWhileFetching)),xt)return V.status&&Lt.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),Lt.__staleWhileFetching;if(Lt.__returned===Lt)throw Ze},At=(Ze,st)=>{var xt;const ut=(xt=He(this,w))==null?void 0:xt.call(this,Ee,z,Pe);ut&&ut instanceof Promise&&ut.then(Nt=>Ze(Nt===void 0?void 0:Nt),st),be.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(Ze(void 0),V.allowStaleOnFetchAbort&&(Ze=Nt=>dt(Nt,!0)))})};V.status&&(V.status.fetchDispatched=!0);const ve=new Promise(At).then(dt,pt),et=Object.assign(ve,{__abortController:be,__staleWhileFetching:z,__returned:void 0});return W===void 0?(this.set(Ee,et,{...Pe.options,status:void 0}),W=He(this,D).get(Ee)):He(this,x)[W]=et,et},_n=function(Ee){if(!He(this,xe))return!1;const W=Ee;return!!W&&W instanceof Promise&&W.hasOwnProperty("__staleWhileFetching")&&W.__abortController instanceof n},_I=function(Ee,W){He(this,j)[W]=Ee,He(this,N)[Ee]=W},xS=function(Ee){Ee!==He(this,M)&&(Ee===He(this,H)?fr(this,H,He(this,N)[Ee]):Jt(this,ae,_I).call(this,He(this,j)[Ee],He(this,N)[Ee]),Jt(this,ae,_I).call(this,He(this,M),Ee),fr(this,M,Ee))},Gu=function(Ee,W){var K,z,be,ke;let V=!1;if(He(this,R)!==0){const Pe=He(this,D).get(Ee);if(Pe!==void 0)if(V=!0,He(this,R)===1)Jt(this,ae,wI).call(this,W);else{He(this,C).call(this,Pe);const dt=He(this,x)[Pe];if(Jt(this,ae,_n).call(this,dt)?dt.__abortController.abort(new Error("deleted")):(He(this,fe)||He(this,de))&&(He(this,fe)&&((K=He(this,b))==null||K.call(this,dt,Ee,W)),He(this,de)&&((z=He(this,te))==null||z.push([dt,Ee,W]))),He(this,D).delete(Ee),He(this,A)[Pe]=void 0,He(this,x)[Pe]=void 0,Pe===He(this,M))fr(this,M,He(this,j)[Pe]);else if(Pe===He(this,H))fr(this,H,He(this,N)[Pe]);else{const pt=He(this,j)[Pe];He(this,N)[pt]=He(this,N)[Pe];const tt=He(this,N)[Pe];He(this,j)[tt]=He(this,j)[Pe]}xA(this,R)._--,He(this,$).push(Pe)}}if(He(this,de)&&((be=He(this,te))!=null&&be.length)){const Pe=He(this,te);let dt;for(;dt=Pe==null?void 0:Pe.shift();)(ke=He(this,_))==null||ke.call(this,...dt)}return V},wI=function(Ee){var W,V,K;for(const z of Jt(this,ae,zu).call(this,{allowStale:!0})){const be=He(this,x)[z];if(Jt(this,ae,_n).call(this,be))be.__abortController.abort(new Error("deleted"));else{const ke=He(this,A)[z];He(this,fe)&&((W=He(this,b))==null||W.call(this,be,ke,Ee)),He(this,de)&&((V=He(this,te))==null||V.push([be,ke,Ee]))}}if(He(this,D).clear(),He(this,x).fill(void 0),He(this,A).fill(void 0),He(this,J)&&He(this,oe)&&(He(this,J).fill(0),He(this,oe).fill(0)),He(this,re)&&He(this,re).fill(0),fr(this,H,0),fr(this,M,0),He(this,$).length=0,fr(this,F,0),fr(this,R,0),He(this,de)&&He(this,te)){const z=He(this,te);let be;for(;be=z==null?void 0:z.shift();)(K=He(this,_))==null||K.call(this,...be)}};let d=Ge;return j_.LRUCache=d,j_}var vV;function xwe(){if(vV)return M_;vV=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.ActorQueryOperationReducedHash=void 0;const e=hr(),t=Ol();let i=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"reduced")}async testOperation(n,a){return!0}async runOperation(n,a){const o=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:n.input,context:a}));return{type:"bindings",bindingsStream:o.bindingsStream.filter(await this.newHashFilter(a)),metadata:o.metadata}}async newHashFilter(n){const{hashFunction:a}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:n}),o=new t.LRUCache({max:this.cacheSize});return s=>{const l=a(s);return o.has(l)?!1:(o.set(l,!0),!0)}}};return M_.ActorQueryOperationReducedHash=i,M_}var bV;function Iee(){return bV||(bV=1,function(e){var t=Bf&&Bf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Bf&&Bf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(xwe(),e)}(Bf)),Bf}var qf={},k_={},_V;function Rwe(){if(_V)return k_;_V=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.ActorQueryOperationSlice=void 0;const e=hr(),t=Ir();let i=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"slice")}async testOperation(n,a){return!0}async runOperation(n,a){n.length&&(a=a.set(t.KeysQueryOperation.limitIndicator,n.length));const o=await this.mediatorQueryOperation.mediate({operation:n.input,context:a});return o.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,n),metadata:this.sliceMetadata(o,n)}:o.type==="quads"?{type:"quads",quadStream:this.sliceStream(o.quadStream,n),metadata:this.sliceMetadata(o,n)}:o}sliceStream(n,a){const o=!!a.length||a.length===0,{start:s}=a,l=o?a.start+a.length-1:Number.POSITIVE_INFINITY;return n.transform({offset:s,limit:Math.max(l-s+1,0),autoStart:!1})}sliceMetadata(n,a){const o=!!a.length||a.length===0;return()=>n.metadata().then(s=>{const l={...s.cardinality};return Number.isFinite(l.value)&&(l.value=Math.max(0,l.value-a.start),o&&(l.value=Math.min(l.value,a.length))),{...s,cardinality:l}})}};return k_.ActorQueryOperationSlice=i,k_}var wV;function Cee(){return wV||(wV=1,function(e){var t=qf&&qf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=qf&&qf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Rwe(),e)}(qf)),qf}var Vf={},B_={},SV;function Owe(){if(SV)return B_;SV=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.ActorQueryOperationUnion=void 0;const e=hr(),t=zi(),i=Rr(),r=Qi();let n=class LT extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){return(0,r.uniqTerms)(o.flat())}static async unionMetadata(o,s,l,u){let c=(await u.mediate({mode:"initialize",context:l})).metadata;for(const f of o)c={...f,...(await u.mediate({mode:"append",accumulatedMetadata:c,appendingMetadata:f,context:l})).metadata};c.state=new t.MetadataValidationState;const d=()=>c.state.invalidate();for(const f of o)f.state.addInvalidateListener(d);return s&&(c.variables=LT.unionVariables(o.map(f=>f.variables))),c}async testOperation(o,s){return!0}async runOperation(o,s){const l=await Promise.all(o.input.map(c=>this.mediatorQueryOperation.mediate({operation:c,context:s})));let u;for(const c of l)if(u===void 0)u=c.type;else if(u!==c.type)throw new Error(`Unable to union ${u} and ${c.type}`);if(u==="bindings"||o.input.length===0){const c=l.map(e.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new i.UnionIterator(c.map(h=>h.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(c.map(h=>h.metadata())).then(h=>LT.unionMetadata(h,!0,s,this.mediatorRdfMetadataAccumulate))}}if(u==="quads"){const c=l.map(e.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new i.UnionIterator(c.map(h=>h.quadStream),{autoStart:!1}),metadata:()=>Promise.all(c.map(h=>h.metadata())).then(h=>LT.unionMetadata(h,!1,s,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${u}`)}};return B_.ActorQueryOperationUnion=n,B_}var AV;function yN(){return AV||(AV=1,function(e){var t=Vf&&Vf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Vf&&Vf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Owe(),e)}(Vf)),Vf}var Uf={},q_={},Hf={},V_={},U_={},TV;function Dee(){if(TV)return U_;TV=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.PathVariableObjectIterator=void 0;const e=hr(),t=Rr(),i=yr(),r=nn(),n=vr(),a=new i.DataFactory,o=new n.Factory;let s=class extends t.BufferedIterator{constructor(u,c,d,f,h,p,g=16){super({autoStart:!0}),this.subject=u,this.predicate=c,this.graph=d,this.context=f,this.mediatorQueryOperation=h,this.maxRunningOperations=g,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,p)}_end(u){for(const c of this.runningOperations)c.destroy();super._end(u)}_push(u,c=!0){let d;if(c&&(d=(0,r.termToString)(u),this.termHashes.has(d)))return;const f=a.variable("b");this.pendingOperations.push({variable:f,operation:o.createPath(u,this.predicate,f,this.graph)}),d&&(this.termHashes.set(d,u),super._push(u))}_read(u,c){const d=this;(async function(){for(;d.runningOperations.length<d.maxRunningOperations&&d.pendingOperations.length!==0;){const p=d.pendingOperations.pop(),g=e.ActorQueryOperation.getSafeBindings(await d.mediatorQueryOperation.mediate({operation:p.operation,context:d.context})),m=g.bindingsStream.transform({autoStart:!1,transform(y,v,b){const _=y.get(p.variable);b(_),v()}});m.done||(d.runningOperations.push(m),m.on("error",y=>d.destroy(y)),m.on("readable",()=>{d.readable=!0,d._fillBufferAsync()}),m.on("end",()=>{d.runningOperations.splice(d.runningOperations.indexOf(m),1),d.readable=!0,d._fillBufferAsync()})),d.setProperty("metadata",g.metadata)}let f=0,h;for(;f!==(f=u);)for(let p=0;p<d.runningOperations.length&&u>0;p++)(h=d.runningOperations[p].read())!==null&&(u--,d._push(h));d.runningOperations.length===0&&d.pendingOperations.length===0&&d.close()})().then(()=>{c()},f=>this.destroy(f))}};return U_.PathVariableObjectIterator=s,U_}var EV;function Pwe(){if(EV)return V_;EV=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.ActorAbstractPath=void 0;const e=hr(),t=Ir(),i=Rr(),r=yr(),n=nn(),a=vr(),o=Dee(),s=new r.DataFactory;let l=class iu extends e.ActorQueryOperationTypedMediated{constructor(c,d){super(c,"path"),this.predicateType=d}async testOperation(c,d){if(c.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(c,d){return d?c&&(c.subject.value===d||c.object.value===d)?this.generateVariable(c,`${d}b`):s.variable(d):this.generateVariable(c,"b")}async isPathArbitraryLengthDistinct(c,d){return c.get(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(c=c.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:c,operation:void 0}):(c=c.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:c,operation:e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:iu.FACTORY.createDistinct(d),context:c}))})}async predicateStarGraphVariable(c,d,f,h,p,g){const m=this.getPathSources(f),y=this.generateVariable(iu.FACTORY.createPath(c,f,d,h)),v=iu.FACTORY.createUnion([this.assignPatternSources(iu.FACTORY.createPattern(c,y,d,h),m),this.assignPatternSources(iu.FACTORY.createPattern(d,y,c,h),m)]),b=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:p,operation:v})),_=new Set;return{bindingsStream:new i.MultiTransformIterator(b.bindingsStream,{multiTransform:T=>{const R=T.get(h);return _.has(R.value)?new i.EmptyIterator:(_.add(R.value),new i.TransformIterator(async()=>{const F=new i.BufferedIterator;return await this.getObjectsPredicateStar(c,f,R,p,{},F,{count:0}),F.transform({transform(D,A,x){x(g.bindings([[d,D],[h,R]])),A()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:b.metadata}}async getObjectsPredicateStarEval(c,d,f,h,p,g,m){if(h.termType==="Variable")return this.predicateStarGraphVariable(c,f,d,h,p,m);const y=new o.PathVariableObjectIterator(c,d,h,p,this.mediatorQueryOperation,g);return{bindingsStream:y.transform({autoStart:!1,transform(b,_,w){w(m.bindings([[f,b]])),_()}}),async metadata(){const b=await new Promise(_=>{y.getProperty("metadata",w=>_(w()))});return b.cardinality.value++,b}}}async getObjectsPredicateStar(c,d,f,h,p,g,m){const y=(0,n.termToString)(c);if(p[y])return;g._push(c),p[y]=c,m.count++;const v=this.generateVariable(),b=iu.FACTORY.createPath(c,d,v,f),_=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:b,context:h}));return _.bindingsStream.on("data",async w=>{const T=w.get(v);await this.getObjectsPredicateStar(T,d,f,h,p,g,m)}),_.bindingsStream.on("end",()=>{--m.count===0&&g.close()}),_.metadata}async getSubjectAndObjectBindingsPredicateStar(c,d,f,h,p,g,m,y,v,b,_,w){const T=(0,n.termToString)(h)+(0,n.termToString)(g);if(v[T])return;if(_.count++,v[T]=!0,b._push(w.bindings([[c,f],[d,h]])),T in y){const F=await y[T];for(const D of F)await this.getSubjectAndObjectBindingsPredicateStar(c,d,f,D,p,g,m,y,v,b,_,w);--_.count===0&&b.close();return}const R=new Promise(async(F,D)=>{const A=[],x=this.generateVariable(),N=iu.FACTORY.createPath(h,p,x,g),j=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:N,context:m}));j.bindingsStream.on("data",async H=>{const M=H.get(x);A.push(M),await this.getSubjectAndObjectBindingsPredicateStar(c,d,f,M,p,g,m,y,v,b,_,w)}),j.bindingsStream.on("error",D),j.bindingsStream.on("end",()=>{--_.count===0&&b.close(),F(A)})});y[T]=R}getPathSources(c){switch(c.type){case a.Algebra.types.ALT:case a.Algebra.types.SEQ:return c.input.flatMap(d=>this.getPathSources(d));case a.Algebra.types.INV:case a.Algebra.types.ONE_OR_MORE_PATH:case a.Algebra.types.ZERO_OR_MORE_PATH:case a.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(c.path);case a.Algebra.types.LINK:case a.Algebra.types.NPS:{const d=e.ActorQueryOperation.getOperationSource(c);if(!d)throw new Error("Could not find a required source on a link path operation");return[d]}}}assignPatternSources(c,d){if(d.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return d.length===1?e.ActorQueryOperation.assignOperationSource(c,d[0]):iu.FACTORY.createUnion(d.map(f=>e.ActorQueryOperation.assignOperationSource(c,f)),!0)}};return V_.ActorAbstractPath=l,l.FACTORY=new a.Factory,V_}var xV;function Pl(){return xV||(xV=1,function(e){var t=Hf&&Hf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Hf&&Hf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Pwe(),e),i(Dee(),e)}(Hf)),Hf}var RV;function Iwe(){if(RV)return q_;RV=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.ActorQueryOperationPathAlt=void 0;const e=Pl(),t=yN(),i=hr(),r=Rr(),n=vr();let a=class extends e.ActorAbstractPath{constructor(s){super(s,n.Algebra.types.ALT)}async runOperation(s,l){const u=s.predicate,c=(await Promise.all(u.input.map(h=>this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(s.subject,h,s.object,s.graph)})))).map(i.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(c.map(h=>h.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(c.map(h=>h.metadata())).then(h=>t.ActorQueryOperationUnion.unionMetadata(h,!0,l,this.mediatorRdfMetadataAccumulate))}}};return q_.ActorQueryOperationPathAlt=a,q_}var OV;function Nee(){return OV||(OV=1,function(e){var t=Uf&&Uf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Uf&&Uf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Iwe(),e)}(Uf)),Uf}var $f={},H_={},PV;function Cwe(){if(PV)return H_;PV=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.ActorQueryOperationPathInv=void 0;const e=Pl(),t=vr();let i=class extends e.ActorAbstractPath{constructor(n){super(n,t.Algebra.types.INV)}async runOperation(n,a){const o=n.predicate,s=e.ActorAbstractPath.FACTORY.createPath(n.object,o.path,n.subject,n.graph);return this.mediatorQueryOperation.mediate({operation:s,context:a})}};return H_.ActorQueryOperationPathInv=i,H_}var IV;function Fee(){return IV||(IV=1,function(e){var t=$f&&$f.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=$f&&$f.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Cwe(),e)}($f)),$f}var Qf={},$_={},CV;function Dwe(){if(CV)return $_;CV=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.ActorQueryOperationPathLink=void 0;const e=Pl(),t=vr();let i=class extends e.ActorAbstractPath{constructor(n){super(n,t.Algebra.types.LINK)}async runOperation(n,a){const o=n.predicate,s=Object.assign(e.ActorAbstractPath.FACTORY.createPattern(n.subject,o.iri,n.object,n.graph),{metadata:o.metadata});return this.mediatorQueryOperation.mediate({operation:s,context:a})}};return $_.ActorQueryOperationPathLink=i,$_}var DV;function Lee(){return DV||(DV=1,function(e){var t=Qf&&Qf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Qf&&Qf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Dwe(),e)}(Qf)),Qf}var zf={},Q_={},NV;function Nwe(){if(NV)return Q_;NV=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.ActorQueryOperationPathNps=void 0;const e=Pl(),t=hr(),i=vr();let r=class extends e.ActorAbstractPath{constructor(a){super(a,i.Algebra.types.NPS)}async runOperation(a,o){const s=a.predicate,l=this.generateVariable(a),u=Object.assign(e.ActorAbstractPath.FACTORY.createPattern(a.subject,l,a.object,a.graph),{metadata:s.metadata}),c=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:o}));return{type:"bindings",bindingsStream:c.bindingsStream.map(f=>s.iris.some(h=>h.equals(f.get(l)))?null:f.delete(l)),metadata:c.metadata}}};return Q_.ActorQueryOperationPathNps=r,Q_}var FV;function Mee(){return FV||(FV=1,function(e){var t=zf&&zf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=zf&&zf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Nwe(),e)}(zf)),zf}var Gf={},z_={},LV;function Fwe(){if(LV)return z_;LV=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.ActorQueryOperationClear=void 0;const e=hr(),t=yr(),i=new t.DataFactory;let r=class extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"clear")}async testOperation(a,o){return e.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(a,o){let s;a.source==="DEFAULT"?s=i.defaultGraph():typeof a.source=="string"?s=a.source:s=[a.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:s,requireExistence:!a.silent,dropGraphs:!1},context:o});return{type:"void",execute:l}}};return z_.ActorQueryOperationClear=r,z_}var MV;function jee(){return MV||(MV=1,function(e){var t=Gf&&Gf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Gf&&Gf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Fwe(),e)}(Gf)),Gf}var Wf={},G_={},jV;function Lwe(){if(jV)return G_;jV=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.ActorQueryOperationUpdateCompositeUpdate=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,n){return e.ActorQueryOperation.throwOnReadOnly(n),!0}async runOperation(r,n){return{type:"void",execute:()=>(async()=>{for(const o of r.updates)await e.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:o,context:n})).execute()})()}}};return G_.ActorQueryOperationUpdateCompositeUpdate=t,G_}var kV;function kee(){return kV||(kV=1,function(e){var t=Wf&&Wf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Wf&&Wf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Lwe(),e)}(Wf)),Wf}var Kf={},W_={},BV;function Mwe(){if(BV)return W_;BV=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.ActorQueryOperationCreate=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,n){return e.ActorQueryOperation.throwOnReadOnly(n),!0}async runOperation(r,n){const{execute:a}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:n});return{type:"void",execute:a}}};return W_.ActorQueryOperationCreate=t,W_}var qV;function Bee(){return qV||(qV=1,function(e){var t=Kf&&Kf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Kf&&Kf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Mwe(),e)}(Kf)),Kf}var Jf={},K_={},VV;function jwe(){if(VV)return K_;VV=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.ActorQueryOperationDrop=void 0;const e=hr(),t=yr(),i=new t.DataFactory;let r=class extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"drop")}async testOperation(a,o){return e.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(a,o){let s;a.source==="DEFAULT"?s=i.defaultGraph():typeof a.source=="string"?s=a.source:s=[a.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:s,requireExistence:!a.silent,dropGraphs:!0},context:o});return{type:"void",execute:l}}};return K_.ActorQueryOperationDrop=r,K_}var UV;function qee(){return UV||(UV=1,function(e){var t=Jf&&Jf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Jf&&Jf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(jwe(),e)}(Jf)),Jf}var Xf={},J_={},HV;function kwe(){if(HV)return J_;HV=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.ActorQueryOperationLoad=void 0;const e=hr(),t=Ir(),i=yr(),r=vr(),n=new i.DataFactory;let a=class Vee extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"load"),this.factory=new r.Factory}async testOperation(s,l){return e.ActorQueryOperation.throwOnReadOnly(l),!0}async runOperation(s,l){let u=l;s.silent&&(u=u.set(t.KeysInitQuery.lenient,!0));const{querySource:c}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:s.source.value},context:u});let f=Vee.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.factory.createConstruct(e.ActorQueryOperation.assignOperationSource(this.factory.createPattern(n.variable("s"),n.variable("p"),n.variable("o")),c),[this.factory.createPattern(n.variable("s"),n.variable("p"),n.variable("o"))]),context:u})).quadStream;s.destination&&(f=f.map(p=>n.quad(p.subject,p.predicate,p.object,s.destination)));const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:f,context:l});return{type:"void",execute:h}}};return J_.ActorQueryOperationLoad=a,J_}var $V;function Uee(){return $V||($V=1,function(e){var t=Xf&&Xf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Xf&&Xf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(kwe(),e)}(Xf)),Xf}var Yf={},X_={},QV;function Bwe(){if(QV)return X_;QV=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.ActorQueryOperationJoin=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"join")}async testOperation(r,n){return!0}async runOperation(r,n){const a=(await Promise.all(r.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:n}),operation:o})))).map(({output:o,operation:s})=>({output:e.ActorQueryOperation.getSafeBindings(o),operation:s}));return this.mediatorJoin.mediate({type:"inner",entries:a,context:n})}};return X_.ActorQueryOperationJoin=t,X_}var zV;function Hee(){return zV||(zV=1,function(e){var t=Yf&&Yf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Yf&&Yf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Bwe(),e)}(Yf)),Yf}var Zf={},Y_={},GV;function qwe(){if(GV)return Y_;GV=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.ActorQueryOperationMinus=void 0;const e=hr();let t=class extends e.ActorQueryOperationTypedMediated{constructor(r){super(r,"minus")}async testOperation(r,n){return!0}async runOperation(r,n){const a=(await Promise.all(r.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:n}),operation:o})))).map(({output:o,operation:s})=>({output:e.ActorQueryOperation.getSafeBindings(o),operation:s}));return this.mediatorJoin.mediate({type:"minus",entries:a,context:n})}};return Y_.ActorQueryOperationMinus=t,Y_}var WV;function $ee(){return WV||(WV=1,function(e){var t=Zf&&Zf.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Zf&&Zf.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(qwe(),e)}(Zf)),Zf}var eh={},Z_={},KV;function Vwe(){if(KV)return Z_;KV=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.ActorQueryOperationPathSeq=void 0;const e=Pl(),t=hr(),i=vr();let r=class extends e.ActorAbstractPath{constructor(a){super(a,i.Algebra.types.SEQ)}async runOperation(a,o){const s=a.predicate;let l=a.subject;const u=[],c=await Promise.all(s.input.map((h,p)=>{const g=p===s.input.length-1?a.object:this.generateVariable(a,`b${p}`),m=e.ActorAbstractPath.FACTORY.createPath(l,h,g,a.graph),y=this.mediatorQueryOperation.mediate({context:o,operation:m});return l=g,p<s.input.length-1&&u.push(g),{output:y,operation:m}}).map(async({output:h,operation:p})=>({output:t.ActorQueryOperation.getSafeBindings(await h),operation:p}))),d=t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:c,context:o}));return{type:"bindings",bindingsStream:d.bindingsStream.transform({transform(h,p,g){for(const m of u)h=h.delete(m);g(h),p()}}),async metadata(){const h=await d.metadata(),p=h.variables.filter(g=>!u.some(m=>m.value===g.value));return{...h,variables:p}}}}};return Z_.ActorQueryOperationPathSeq=r,Z_}var JV;function Qee(){return JV||(JV=1,function(e){var t=eh&&eh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=eh&&eh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Vwe(),e)}(eh)),eh}var th={},e1={},XV;function Uwe(){if(XV)return e1;XV=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.ActorRdfJoinMultiSmallest=void 0;const e=hr(),t=Ia(),i=vr();let r=class zee extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(a,o){return(await this.mediatorJoinEntriesSort.mediate({entries:a,context:o})).entries}async getOutput(a){const o=await this.sortJoinEntries(await t.ActorRdfJoin.getEntriesWithMetadatas([...a.entries]),a.context),s=o[0],l=o[1];o.splice(0,2);const u={output:e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:a.type,entries:[s,l],context:a.context})),operation:zee.FACTORY.createJoin([s.operation,l.operation],!1)};return o.push(u),{result:await this.mediatorJoin.mediate({type:a.type,entries:o,context:a.context})}}async getJoinCoefficients(a,o){o=[...o],o=(await this.sortJoinEntries(a.entries.map((c,d)=>({...c,metadata:o[d]})),a.context)).map(c=>c.metadata);const l=t.ActorRdfJoin.getRequestInitialTimes(o),u=t.ActorRdfJoin.getRequestItemTimes(o);return{iterations:o[0].cardinality.value*o[1].cardinality.value*o.slice(2).reduce((c,d)=>c*d.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*u[0]+l[1]+o[1].cardinality.value*u[1]+o.slice(2).reduce((c,d,f)=>c+l.slice(2)[f]+d.cardinality.value*u.slice(2)[f],0)}}};return e1.ActorRdfJoinMultiSmallest=r,r.FACTORY=new i.Factory,e1}var YV;function Gee(){return YV||(YV=1,function(e){var t=th&&th.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=th&&th.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Uwe(),e)}(th)),th}var rh={},t1={},ZV;function Hwe(){if(ZV)return t1;ZV=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.ActorOptimizeQueryOperationFilterPushdown=void 0;const e=wo(),t=hr(),i=Qi(),r=vr();let n=class extends e.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return!0}async run(o){let s=o.operation;const l=this;this.splitConjunctive&&(s=r.Util.mapOperation(s,{filter(h,p){return h.expression.expressionType===r.Algebra.expressionTypes.OPERATOR&&h.expression.operator==="&&"?(l.logDebug(o.context,`Split conjunctive filter into ${h.expression.args.length} nested filters`),{recurse:!0,result:h.expression.args.reduce((g,m)=>p.createFilter(g,m),h.input)}):{recurse:!0,result:h}}}));const u=this.getSources(s),c=new Map(await Promise.all(u.map(async h=>[h,await h.source.getSelectorShape(o.context)])));let d=!0,f=0;for(;d&&f<this.maxIterations;)d=!1,s=r.Util.mapOperation(s,{filter(h,p){if(!l.shouldAttemptPushDown(h,u,c))return{recurse:!0,result:h};const g=l.getExpressionVariables(h.expression),[m,y]=l.filterPushdown(h.expression,g,h.input,p,o.context);return m&&(d=!0),{recurse:!0,result:y}}}),f++;return f>1&&l.logDebug(o.context,`Pushed down filters in ${f} iterations`),this.mergeConjunctive&&(s=r.Util.mapOperation(s,{filter(h,p){if(h.input.type===r.Algebra.types.FILTER){const{nestedExpressions:g,input:m}=l.getNestedFilterExpressions(h);return l.logDebug(o.context,`Merge ${g.length} nested filters into conjunctive filter`),{recurse:!0,result:p.createFilter(m,g.slice(1).reduce((y,v)=>p.createOperatorExpression("&&",[y,v]),g[0]))}}return{recurse:!0,result:h}}})),{operation:s,context:o.context}}shouldAttemptPushDown(o,s,l){if(this.aggressivePushdown)return!0;const u=o.expression;return!!(u.expressionType===r.Algebra.expressionTypes.OPERATOR&&u.operator==="="&&(u.args[0].expressionType==="term"&&u.args[0].term.termType!=="Variable"&&u.args[1].expressionType==="term"&&u.args[1].term.termType==="Variable"||u.args[0].expressionType==="term"&&u.args[0].term.termType==="Variable"&&u.args[1].expressionType==="term"&&u.args[1].term.termType!=="Variable")||s.some(c=>t.ActorQueryOperation.doesShapeAcceptOperation(l.get(c),o)))}getSources(o){const s=new Set,l=u=>{const c=t.ActorQueryOperation.getOperationSource(u);return c&&s.add(c),!1};return r.Util.recurseOperation(o,{[r.Algebra.types.PATTERN]:l,[r.Algebra.types.LINK]:l,[r.Algebra.types.NPS]:l,[r.Algebra.types.SERVICE]:l}),[...s]}getExpressionVariables(o){switch(o.expressionType){case r.Algebra.expressionTypes.AGGREGATE:case r.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${o.expressionType}`);case r.Algebra.expressionTypes.EXISTENCE:return r.Util.inScopeVariables(o.input);case r.Algebra.expressionTypes.NAMED:return[];case r.Algebra.expressionTypes.OPERATOR:return(0,i.uniqTerms)(o.args.flatMap(s=>this.getExpressionVariables(s)));case r.Algebra.expressionTypes.TERM:return o.term.termType==="Variable"?[o.term]:[]}}getOverlappingOperations(o,s){const l=[],u=[],c=[];for(const d of o.input){const f=r.Util.inScopeVariables(d);this.variablesSubSetOf(s,f)?l.push(d):this.variablesIntersect(s,f)?u.push(d):c.push(d)}return{fullyOverlapping:l,partiallyOverlapping:u,notOverlapping:c}}filterPushdown(o,s,l,u,c){if(this.isExpressionFalse(o))return[!0,u.createUnion([])];if(o.type===r.Algebra.types.EXPRESSION&&o.expressionType===r.Algebra.expressionTypes.EXISTENCE)return[!1,u.createFilter(l,o)];switch(l.type){case r.Algebra.types.EXTEND:return this.variablesIntersect([l.variable],s)?[!1,u.createFilter(l,o)]:[!0,u.createExtend(this.filterPushdown(o,s,l.input,u,c)[1],l.variable,l.expression)];case r.Algebra.types.FILTER:{const[d,f]=this.filterPushdown(o,s,l.input,u,c);return[d,u.createFilter(f,l.expression)]}case r.Algebra.types.JOIN:{if(l.input.length===0)return[!1,u.createFilter(l,o)];const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(l,s),p=[];let g=!1;return d.length>0&&(g=!0,p.push(u.createJoin(d.map(m=>this.filterPushdown(o,s,m,u,c)[1])))),f.length>0&&p.push(u.createFilter(u.createJoin(f,!1),o)),h.length>0&&p.push(...h),p.length>1&&(g=!0),g&&this.logDebug(c,`Push down filter across join entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),[g,p.length===1?p[0]:u.createJoin(p)]}case r.Algebra.types.NOP:return[!0,l];case r.Algebra.types.PROJECT:return this.variablesIntersect(l.variables,s)?[!0,u.createProject(this.filterPushdown(o,s,l.input,u,c)[1],l.variables)]:[!0,l];case r.Algebra.types.UNION:{const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(l,s),p=[];let g=!1;return d.length>0&&(g=!0,p.push(u.createUnion(d.map(m=>this.filterPushdown(o,s,m,u,c)[1])))),f.length>0&&p.push(u.createFilter(u.createUnion(f,!1),o)),h.length>0&&p.push(...h),p.length>1&&(g=!0),g&&this.logDebug(c,`Push down filter across union entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),[g,p.length===1?p[0]:u.createUnion(p)]}case r.Algebra.types.VALUES:return this.variablesIntersect(l.variables,s)?[!1,u.createFilter(l,o)]:[!0,l];case r.Algebra.types.LEFT_JOIN:{if(this.pushIntoLeftJoins){const d=r.Util.inScopeVariables(l.input[1]);if(!this.variablesIntersect(s,d))return this.logDebug(c,"Push down filter into left join"),[!0,u.createLeftJoin(this.filterPushdown(o,s,l.input[0],u,c)[1],l.input[1],l.expression)]}return[!1,u.createFilter(l,o)]}case r.Algebra.types.PATTERN:{if(this.pushEqualityIntoPatterns){const d=this.getEqualityExpressionPushableIntoPattern(o);if(d){let f=!1;const h=l.metadata;if(l=(0,i.mapTermsNested)(l,p=>p.equals(d.variable)?(f=!0,d.term):p),l.type=r.Algebra.types.PATTERN,l.metadata=h,f)return this.logDebug(c,`Push down filter into pattern for ?${d.variable.value}`),[!0,u.createJoin([l,u.createValues([d.variable],[{[`?${d.variable.value}`]:d.term}])])]}}return[!1,u.createFilter(l,o)]}case r.Algebra.types.PATH:{if(this.pushEqualityIntoPatterns){const d=this.getEqualityExpressionPushableIntoPattern(o);if(d&&(l.subject.equals(d.variable)||l.object.equals(d.variable))){this.logDebug(c,`Push down filter into path for ?${d.variable.value}`);const f=l.metadata;return l=u.createPath(l.subject.equals(d.variable)?d.term:l.subject,l.predicate,l.object.equals(d.variable)?d.term:l.object),l.metadata=f,[!0,u.createJoin([l,u.createValues([d.variable],[{[`?${d.variable.value}`]:d.term}])])]}}return[!1,u.createFilter(l,o)]}case r.Algebra.types.MINUS:case r.Algebra.types.ALT:case r.Algebra.types.ASK:case r.Algebra.types.BGP:case r.Algebra.types.CONSTRUCT:case r.Algebra.types.DESCRIBE:case r.Algebra.types.DISTINCT:case r.Algebra.types.EXPRESSION:case r.Algebra.types.FROM:case r.Algebra.types.GRAPH:case r.Algebra.types.GROUP:case r.Algebra.types.INV:case r.Algebra.types.LINK:case r.Algebra.types.NPS:case r.Algebra.types.ONE_OR_MORE_PATH:case r.Algebra.types.ORDER_BY:case r.Algebra.types.REDUCED:case r.Algebra.types.SEQ:case r.Algebra.types.SERVICE:case r.Algebra.types.SLICE:case r.Algebra.types.ZERO_OR_MORE_PATH:case r.Algebra.types.ZERO_OR_ONE_PATH:case r.Algebra.types.COMPOSITE_UPDATE:case r.Algebra.types.DELETE_INSERT:case r.Algebra.types.LOAD:case r.Algebra.types.CLEAR:case r.Algebra.types.CREATE:case r.Algebra.types.DROP:case r.Algebra.types.ADD:case r.Algebra.types.MOVE:case r.Algebra.types.COPY:return[!1,u.createFilter(l,o)]}}getEqualityExpressionPushableIntoPattern(o){if(o.expressionType===r.Algebra.expressionTypes.OPERATOR&&o.operator==="="){if(o.args[0].expressionType==="term"&&o.args[0].term.termType!=="Variable"&&(o.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(o.args[0].term))&&o.args[1].expressionType==="term"&&o.args[1].term.termType==="Variable")return{variable:o.args[1].term,term:o.args[0].term};if(o.args[0].expressionType==="term"&&o.args[0].term.termType==="Variable"&&o.args[1].expressionType==="term"&&o.args[1].term.termType!=="Variable"&&(o.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(o.args[1].term)))return{variable:o.args[0].term,term:o.args[1].term}}}isLiteralWithCanonicalLexicalForm(o){if(o.termType==="Literal")switch(o.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(o,s){return o.some(l=>s.some(u=>l.equals(u)))}variablesSubSetOf(o,s){return o.length<=s.length&&o.every(l=>s.some(u=>l.equals(u)))}isExpressionFalse(o){return o.term&&o.term.termType==="Literal"&&o.term.value==="false"}getNestedFilterExpressions(o){if(o.input.type===r.Algebra.types.FILTER){const s=this.getNestedFilterExpressions(o.input);return{nestedExpressions:[o.expression,...s.nestedExpressions],input:s.input}}return{nestedExpressions:[o.expression],input:o.input}}};return t1.ActorOptimizeQueryOperationFilterPushdown=n,t1}var eU;function Wee(){return eU||(eU=1,function(e){var t=rh&&rh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=rh&&rh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Hwe(),e)}(rh)),rh}var nh={},r1={},ih={},tU;function Kee(){if(tU)return ih;tU=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.ActorDereferenceHttpBase=ih.mediaTypesToAcceptString=void 0;const e=lN(),t=Eu(),i=U0(),r=gN(),n=Ko(),a=/^[^ ;]*/u;function o(l,u){const c="*/*;q=0.1",d=[],f=Object.entries(l).map(([p,g])=>({mediaType:p,priority:g})).sort((p,g)=>g.priority===p.priority?p.mediaType.localeCompare(g.mediaType):g.priority-p.priority);let h=f.length-1;for(const{mediaType:p,priority:g}of f){const m=p+(g===1?"":`;q=${g.toFixed(3).replace(/0*$/u,"")}`);if(h+m.length>u){for(;h+c.length>u;){const y=d.pop()??"";h-=y.length+1}d.push(c);break}d.push(m),h+=m.length}return d.length===0?"*/*":d.join(",")}ih.mediaTypesToAcceptString=o;let s=class extends e.ActorDereference{constructor(u){super(u)}async test({url:u}){if(!/^https?:/u.test(u))throw new Error(`Cannot retrieve ${u} because it is not an HTTP(S) URL.`);return!0}async run(u){var y,v;let c=!0;const d=new r.Headers(u.headers);d.append("Accept",o(await((y=u.mediaTypes)==null?void 0:y.call(u))??{},this.getMaxAcceptHeaderLength()));let f;const h=Date.now();try{f=await this.mediatorHttp.mediate({context:u.context,init:{headers:d,method:u.method},input:u.url})}catch(b){return this.handleDereferenceErrors(u,b)}const p=(0,n.resolve)(f.url,u.url),g=Date.now()-h;if(f.status!==200){c=!1;const b=f.body?await(0,i.stringify)(t.ActorHttp.toNodeReadable(f.body)):"empty response";if(!u.acceptErrors){const _=new Error(`Could not retrieve ${u.url} (HTTP status ${f.status}):
${b}`);return this.handleDereferenceErrors(u,_,f.headers,g)}}const m=(v=a.exec(f.headers.get("content-type")??""))==null?void 0:v[0];return{url:p,data:c?t.ActorHttp.toNodeReadable(f.body):(0,e.emptyReadable)(),exists:c,requestTime:g,headers:f.headers,mediaType:m==="text/plain"?void 0:m}}};return ih.ActorDereferenceHttpBase=s,ih}var rU;function $we(){if(rU)return r1;rU=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.ActorDereferenceHttp=void 0;const e=Kee();class t extends e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return r1.ActorDereferenceHttp=t,r1}var nU;function Jee(){return nU||(nU=1,function(e){var t=nh&&nh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=nh&&nh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i($we(),e),i(Kee(),e)}(nh)),nh}var ah={},n1={},iU;function Qwe(){if(iU)return n1;iU=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.ActorHttpProxy=void 0;const e=Eu(),t=Ir();let i=class extends e.ActorHttp{constructor(n){super(n)}async test(n){const a=n.context.get(t.KeysHttpProxy.httpProxyHandler);if(!a)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await a.getProxy(n))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(n){const a=typeof n.input=="string"?n.input:n.input.url,o=n.context.get(t.KeysHttpProxy.httpProxyHandler),s=await this.mediatorHttp.mediate({...await o.getProxy(n),context:n.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(s,"url",{configurable:!0,enumerable:!0,get:()=>s.headers.get("x-final-url")??a}),s}};return n1.ActorHttpProxy=i,n1}var i1={},aU;function zwe(){if(aU)return i1;aU=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.ProxyHandlerStatic=void 0;let e=class{constructor(i){this.prefixUrl=i}async getProxy(i){return{init:i.init,input:this.modifyInput(i.input)}}modifyInput(i){return typeof i=="string"?this.prefixUrl+i:new Request(this.prefixUrl+i.url,i)}};return i1.ProxyHandlerStatic=e,i1}var oU;function Xee(){return oU||(oU=1,function(e){var t=ah&&ah.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ah&&ah.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Qwe(),e),i(zwe(),e)}(ah)),ah}var oh={},a1={},sU;function Gwe(){if(sU)return a1;sU=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.ActorContextPreprocessQuerySourceIdentify=void 0;const e=eA(),t=Ir(),i=_t(),r=Ol();let n=class extends e.ActorContextPreprocess{constructor(o){super(o),this.cache=this.cacheSize?new r.LRUCache({max:this.cacheSize}):void 0;const s=this.cache;s&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?s.delete(l):s.clear())}async test(o){return!0}async run(o){let s=o.context;if(s.has(t.KeysInitQuery.querySourcesUnidentified)){const l=o.context.get(t.KeysInitQuery.querySourcesUnidentified),u=await Promise.all(l.map(f=>this.expandSource(f))),c=await Promise.all(u.map(async f=>this.identifySource(f,o.context))),d=o.context.get(t.KeysStatistics.dereferencedLinks);if(d)for(const f of c)d.updateStatistic({url:f.source.referenceValue,metadata:{seed:!0}},f.source);s=o.context.delete(t.KeysInitQuery.querySourcesUnidentified).set(t.KeysQueryOperation.querySources,c)}return{context:s}}async expandSource(o){return typeof o=="string"||"match"in o?{value:o}:{...o,context:(await this.mediatorContextPreprocess.mediate({context:i.ActionContext.ensureActionContext(o.context??{})})).context}}identifySource(o,s){let l;return typeof o.value=="string"&&this.cache&&(l=this.cache.get(o.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:o,context:s}).then(({querySource:u})=>u),typeof o.value=="string"&&this.cache&&this.cache.set(o.value,l)),l}};return a1.ActorContextPreprocessQuerySourceIdentify=n,a1}var uU;function Yee(){return uU||(uU=1,function(e){var t=oh&&oh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=oh&&oh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Gwe(),e)}(oh)),oh}var sh={},o1={},lU;function Wwe(){if(lU)return o1;lU=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.ActorRdfUpdateQuadsHypermedia=void 0;const e=hN(),t=Ol();let i=class extends e.ActorRdfUpdateQuadsDestination{constructor(n){super(n),this.cache=this.cacheSize?new t.LRUCache({max:this.cacheSize}):void 0;const a=this.cache;a&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?a.delete(o):a.clear())}async test(n){if(!(0,e.getContextDestinationUrl)((0,e.getContextDestination)(n.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(n){const a=(0,e.getContextDestination)(n);let o=(0,e.getContextDestinationUrl)(a);if(this.cache&&this.cache.has(o))return this.cache.get(o);const s=(async()=>{var d;let l,u;try{const f=await this.mediatorDereferenceRdf.mediate({context:n,url:o,acceptErrors:!0});u=f.exists,o=f.url;const h=await this.mediatorMetadata.mediate({context:n,url:o,quads:f.data,triples:(d=f.metadata)==null?void 0:d.triples});l=(await this.mediatorMetadataExtract.mediate({context:n,url:o,metadata:h.metadata,headers:f.headers,requestTime:f.requestTime})).metadata}catch{l={},u=!1}const{destination:c}=await this.mediatorRdfUpdateHypermedia.mediate({context:n,url:o,metadata:l,exists:u,forceDestinationType:(0,e.getDataDestinationType)(a)});return c})();return this.cache&&this.cache.set(o,s),s}};return o1.ActorRdfUpdateQuadsHypermedia=i,o1}var cU;function Zee(){return cU||(cU=1,function(e){var t=sh&&sh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=sh&&sh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Wwe(),e)}(sh)),sh}var uh={},s1={},dU;function Kwe(){if(dU)return s1;dU=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.ActionObserverHttp=void 0;const e=_t();class t extends e.ActionObserver{constructor(r){super(r),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(r,n,a){this.requests++}}return s1.ActionObserverHttp=t,s1}var u1={},fU;function Jwe(){if(fU)return u1;fU=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.ActorQueryResultSerializeSparqlJson=void 0;const e=Cs(),t=Rr(),i=Xr();let r=class RS extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToJsonBindings(a){if(a.termType==="Literal"){const o=a,s={value:o.value,type:"literal"},{language:l,datatype:u}=o;return l?s["xml:lang"]=l:u&&u.value!=="http://www.w3.org/2001/XMLSchema#string"&&(s.datatype=u.value),s}return a.termType==="BlankNode"?{value:a.value,type:"bnode"}:a.termType==="Quad"?{value:{subject:RS.bindingToJsonBindings(a.subject),predicate:RS.bindingToJsonBindings(a.predicate),object:RS.bindingToJsonBindings(a.object)},type:"triple"}:{value:a.value,type:"uri"}}async testHandleChecked(a,o){if(!["bindings","boolean"].includes(a.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(a,o,s){const l=new i.Readable,u={};if(a.type==="bindings"){const c=await a.metadata();c.variables.length>0&&(u.vars=c.variables.map(d=>d.value))}if(l.push(`{"head": ${JSON.stringify(u)},
`),a.type==="bindings"){const c=a.bindingsStream;l.push(`"results": { "bindings": [
`);let d=!0;function*f(h){yield h()}l.wrap((0,t.wrap)(c).map(h=>{const p=`${d?"":`,
`}${JSON.stringify(Object.fromEntries([...h].map(([g,m])=>[g.value,RS.bindingToJsonBindings(m)])))}`;return d=!1,p}).append((0,t.wrap)(f(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else l.wrap((0,t.wrap)(a.execute().then(c=>[`"boolean":${c}
}
`])));return{data:l}}};return u1.ActorQueryResultSerializeSparqlJson=r,u1}var hU;function pE(){return hU||(hU=1,function(e){var t=uh&&uh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=uh&&uh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Kwe(),e),i(Jwe(),e)}(uh)),uh}var lh={},l1={},pU;function Xwe(){if(pU)return l1;pU=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.ActionObserverHttp=void 0;const e=_t();let t=class extends e.ActionObserver{constructor(r){super(r),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(r,n,a){this.requests++}};return l1.ActionObserverHttp=t,l1}var c1={},gU;function Ywe(){if(gU)return c1;gU=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.ActorQueryResultSerializeStats=void 0;const e=Cs(),t=Rr(),i=Xr(),r=wu();let n=class extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,s){if(!["bindings","quads"].includes(o.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(o){const s=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${s}
`)}createStat(o,s){return`${[s,this.delay(o),this.httpObserver.requests].join(",")}
`}createFooter(o){return`${["TOTAL",this.delay(o),this.httpObserver.requests].join(",")}
`}async runHandle(o,s,l){const u=new i.Readable,c=o.type==="bindings"?o.bindingsStream:o.quadStream,d=this.now();let f=1;function*h(g){yield g()}const p=(0,t.wrap)(c).map(()=>this.createStat(d,f++)).append((0,t.wrap)(h(()=>this.createFooter(d))));return this.pushHeader(u),u.wrap(p),{data:u}}now(){if(typeof performance>"u"){const o=r.hrtime();return o[0]*1e3+o[1]/1e6}return performance.now()}delay(o){return this.now()-o}};return c1.ActorQueryResultSerializeStats=n,c1}var mU;function gE(){return mU||(mU=1,function(e){var t=lh&&lh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=lh&&lh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Xwe(),e),i(Ywe(),e)}(lh)),lh}var ch={},d1={},dh={},f1={},h1={},yU;function ete(){if(yU)return h1;yU=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.bindingsToString=void 0;const e=nn();function t(i){const r={};for(const n of i.keys())r[n.value]=(0,e.termToString)(i.get(n));return JSON.stringify(r,null,"  ")}return h1.bindingsToString=t,h1}var vU;function tte(){if(vU)return f1;vU=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.Bindings=void 0;const e=_t(),t=XD,i=ete();let r=class Wi{constructor(a,o,s){this.type="bindings",this.dataFactory=a,this.entries=o,this.contextHolder=s}has(a){return this.entries.has(typeof a=="string"?a:a.value)}get(a){return this.entries.get(typeof a=="string"?a:a.value)}set(a,o){return new Wi(this.dataFactory,this.entries.set(typeof a=="string"?a:a.value,o),this.contextHolder)}delete(a){return new Wi(this.dataFactory,this.entries.delete(typeof a=="string"?a:a.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),a=>this.dataFactory.variable(a))}values(){return this.iteratorToIterable(this.entries.values())}forEach(a){for(const[o,s]of this.entries.entries())a(s,this.dataFactory.variable(o))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([a,o])=>[this.dataFactory.variable(a),o])[Symbol.iterator]()}equals(a){var o;if(!a)return!1;if(this===a)return!0;if(this.size!==a.size)return!1;for(const s of this.keys())if(!((o=this.get(s))!=null&&o.equals(a.get(s))))return!1;return!0}filter(a){return new Wi(this.dataFactory,(0,t.Map)(this.entries.filter((o,s)=>a(o,this.dataFactory.variable(s)))),this.contextHolder)}map(a){return new Wi(this.dataFactory,(0,t.Map)(this.entries.map((o,s)=>a(o,this.dataFactory.variable(s)))),this.contextHolder)}merge(a){if(this.size<a.size&&a instanceof Wi)return a.merge(this);let o=this.entries;if(a instanceof Wi)for(const[s,l]of a.entries){const u=this.entries.get(s);if(u&&!u.equals(l))return;o=o.set(s,l)}else for(const[s,l]of a){const u=this.entries.get(s.value);if(u&&!u.equals(l))return;o=o.set(s.value,l)}return this.createBindingsWithContexts(o,a)}mergeWith(a,o){if(this.size<o.size&&o instanceof Wi)return o.mergeWith(a,this);let s=this.entries;if(o instanceof Wi)for(const[l,u]of o.entries){const c=this.entries.get(l);let d;c&&!c.equals(u)?d=a(c,u,this.dataFactory.variable(l)):d=u,s=s.set(l,d)}else for(const[l,u]of o){const c=this.entries.get(l.value);let d;c&&!c.equals(u)?d=a(c,u,l):d=u,s=s.set(l.value,d)}return this.createBindingsWithContexts(s,o)}createBindingsWithContexts(a,o){if(this.contextHolder&&this.contextHolder.context){let s=this.contextHolder.context;return"contextHolder"in o&&o.contextHolder&&o.contextHolder.context&&(s=Wi.mergeContext(this.contextHolder.contextMergeHandlers,s,o.contextHolder.context)),new Wi(this.dataFactory,a,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:s})}return new Wi(this.dataFactory,a,o.contextHolder)}static mergeContext(a,o,s){const l=[...o.keys(),...s.keys()],u={},c={},d=new Set(s.keys().map(h=>h.name)),f=o.keys().filter(h=>d.has(h.name));for(const h of l){if(c[h.name]===1)continue;c[h.name]=1;const p=f.some(g=>g.name===h.name);if(a[h.name]&&p){u[h.name]=a[h.name].run(o.get(h),s.get(h));continue}if(!(!a[h.name]&&p)){if(!o.get(h)){u[h.name]=s.get(h);continue}s.get(h)||(u[h.name]=o.get(h))}}return new e.ActionContext(u)}setContextEntry(a,o){return this.setContextEntryRaw(a,o)}setContextEntryRaw(a,o){var s;return this.contextHolder&&this.contextHolder.context?new Wi(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(a,o)}):new Wi(this.dataFactory,this.entries,{contextMergeHandlers:((s=this.contextHolder)==null?void 0:s.contextMergeHandlers)??{},context:new e.ActionContext().set(a,o)})}deleteContextEntry(a){return this.deleteContextEntryRaw(a)}deleteContextEntryRaw(a){var o;return this.contextHolder?new Wi(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(o=this.contextHolder.context)==null?void 0:o.delete(a)}):new Wi(this.dataFactory,this.entries)}getContext(){var a;return(a=this.contextHolder)==null?void 0:a.context}getContextEntry(a){var o;return(o=this.getContext())==null?void 0:o.get(a)}toString(){return(0,i.bindingsToString)(this)}*mapIterable(a,o){for(const s of a)yield o(s)}iteratorToIterable(a){return{[Symbol.iterator]:()=>a}}};return f1.Bindings=r,f1}var p1={},bU;function Zwe(){if(bU)return p1;bU=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.BindingsFactory=void 0;const e=XD,t=yr(),i=tte();let r=class rte{constructor(a=new t.DataFactory,o){this.dataFactory=a,this.contextMergeHandlers=o}static async create(a,o){return new rte(new t.DataFactory,(await a.mediate({context:o})).mergeHandlers)}bindings(a=[]){return new i.Bindings(this.dataFactory,(0,e.Map)(a.map(([o,s])=>[o.value,s])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(a){return this.bindings([...a])}fromRecord(a){return this.bindings(Object.entries(a).map(([o,s])=>[this.dataFactory.variable(o),s]))}};return p1.BindingsFactory=r,p1}var _U;function Gn(){return _U||(_U=1,function(e){var t=dh&&dh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=dh&&dh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(tte(),e),i(Zwe(),e),i(ete(),e)}(dh)),dh}var fh={},g1={},wU;function eSe(){if(wU)return g1;wU=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.ActorQuerySourceIdentifyHypermedia=void 0;const e=_t();class t extends e.Actor{constructor(r,n){super(r),this.sourceType=n}async test(r){if(r.forceSourceType&&this.sourceType!==r.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${r.forceSourceType}.`);return this.testMetadata(r)}}return g1.ActorQuerySourceIdentifyHypermedia=t,g1}var SU;function vN(){return SU||(SU=1,function(e){var t=fh&&fh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=fh&&fh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(eSe(),e)}(fh)),fh}var m1={},hh={},y1={},AU;function tSe(){if(AU)return y1;AU=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.ActorQuerySourceIdentify=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return y1.ActorQuerySourceIdentify=t,y1}var hi={},TU;function rSe(){if(TU)return hi;TU=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.filterMatchingQuotedQuads=hi.quadsOrderToBindingsOrder=hi.quadsMetadataToBindingsMetadata=hi.setMetadata=hi.getDuplicateElementLinks=hi.getVariables=hi.isTermVariable=hi.quadsToBindings=void 0;const e=hr(),t=zi(),i=yr(),r=nn(),n=Qi(),a=MX(),o=new i.DataFactory;function s(g,m,y,v){const b=u(m),_=m.graph.termType==="Variable"&&!v,w=c(m),T=(0,n.reduceTermsNested)(m,(D,A,x)=>(A.termType==="Variable"&&(D[x.join("_")]=A.value),D),{});let R=g;_&&(R=R.filter(D=>D.graph.termType!=="DefaultGraph")),w&&(R=R.filter(D=>{for(const A in w){const x=A.split("_"),N=(0,n.getValueNestedPath)(D,x);for(const j of w[A])if(!N.equals((0,n.getValueNestedPath)(D,j)))return!1}return!0}));const F=new e.ClosableIterator(R.map(D=>y.bindings(Object.keys(T).map(A=>{const x=A.split("_"),N=T[A],j=(0,n.getValueNestedPath)(D,x);return[o.variable(N),j]}))),{onClose:()=>g.destroy()});return d(F,g,T,b,_||!!w),F}hi.quadsToBindings=s;function l(g){return g.termType==="Variable"}hi.isTermVariable=l;function u(g){return(0,n.uniqTerms)((0,n.getTermsNested)(g).filter(l))}hi.getVariables=u;function c(g){const m={};let y=!1;if((0,n.forEachTermsNested)(g,(b,_)=>{if(b.termType==="Variable"){const w=(0,r.termToString)(b),T=(m[w]||(m[w]=[])).push(_);y=y||T>1}}),!y)return;const v={};for(const b in m){const _=m[b],w=_.slice(1);w.length>0&&(v[_[0].join("_")]=w)}return v}hi.getDuplicateElementLinks=c;function d(g,m,y,v,b){const _=T=>{"canContainUndefs"in T||(T.canContainUndefs=!1),b&&(T.cardinality.type="estimate"),g.setProperty("metadata",f((0,t.validateMetadataQuads)(T),y,v)),T.state&&T.state.addInvalidateListener(()=>{d(g,m,y,v,b)})},w=m.getProperty("metadata");w?_(w):m.getProperty("metadata",_)}hi.setMetadata=d;function f(g,m,y){return{...g,canContainUndefs:!1,order:g.order?h(g.order,m):void 0,availableOrders:g.availableOrders?g.availableOrders.map(v=>({cost:v.cost,terms:h(v.terms,m)})):void 0,variables:y}}hi.quadsMetadataToBindingsMetadata=f;function h(g,m){const y={};return g.map(v=>{const b=m[v.term];if(b&&!y[b])return y[b]=!0,{term:o.variable(b),direction:v.direction}}).filter(Boolean)}hi.quadsOrderToBindingsOrder=h;function p(g,m){return(0,n.someTerms)(g,y=>y.termType==="Quad")&&(m=m.filter(y=>(0,a.matchPatternMappings)(y,g))),m}return hi.filterMatchingQuotedQuads=p,hi}var EU;function iA(){return EU||(EU=1,function(e){var t=hh&&hh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=hh&&hh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(tSe(),e),i(rSe(),e)}(hh)),hh}var xU;function nte(){if(xU)return m1;xU=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.QuerySourceQpf=void 0;const e=iA(),t=Ir(),i=zi(),r=Rr(),n=yr(),a=nn(),o=nA(),s=Qi(),l=vr(),u=new l.Factory,c=new n.DataFactory;let d=class SI{constructor(p,g,m,y,v,b,_,w,T,R,F,D){this.referenceValue=T,this.mediatorMetadata=p,this.mediatorMetadataExtract=g,this.mediatorDereferenceRdf=m,this.bindingsFactory=y,this.subjectUri=v,this.predicateUri=b,this.objectUri=_,this.graphUri=w,this.url=T,this.bindingsRestricted=F,this.cachedQuads={};const A=this.getSearchForm(R);if(!A)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=A,this.defaultGraph=R.defaultGraph?c.namedNode(R.defaultGraph):void 0,D){let x=(0,r.wrap)(D);this.defaultGraph&&(x=this.reverseMapQuadsToDefaultGraph(x)),R={...R,state:new i.MetadataValidationState},x.setProperty("metadata",R),this.cacheQuads(x,c.variable(""),c.variable(""),c.variable(""),c.variable(""))}}async getSelectorShape(){return this.bindingsRestricted?SI.SELECTOR_SHAPE_BR:SI.SELECTOR_SHAPE}queryBindings(p,g,m){if(p.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${p.type}' to QuerySourceQpf`);const y=!!g.get(t.KeysQueryOperation.unionDefaultGraph);let v=this.match(p.subject,p.predicate,p.object,p.graph,y,g,m);return v=(0,e.filterMatchingQuotedQuads)(p,v),(0,e.quadsToBindings)(v,p,this.bindingsFactory,y)}getSearchForm(p){if(!p.searchForms||!p.searchForms.values)return;const{searchForms:g}=p;for(const m of g.values)if(this.graphUri&&this.subjectUri in m.mappings&&this.predicateUri in m.mappings&&this.objectUri in m.mappings&&this.graphUri in m.mappings&&Object.keys(m.mappings).length===4||this.subjectUri in m.mappings&&this.predicateUri in m.mappings&&this.objectUri in m.mappings&&Object.keys(m.mappings).length===3)return m}createFragmentUri(p,g,m,y,v){const b={},_=[{uri:this.subjectUri,term:g},{uri:this.predicateUri,term:m},{uri:this.objectUri,term:y},{uri:this.graphUri,term:v}];for(const w of _)w.uri&&(this.bindingsRestricted||w.term.termType!=="Variable"&&(w.term.termType!=="Quad"||(0,s.everyTermsNested)(w.term,T=>T.termType!=="Variable")))&&(b[w.uri]=(0,a.termToString)(w.term));return p.getUri(b)}match(p,g,m,y,v,b,_){let w=!1;if(y.termType==="DefaultGraph")if(this.defaultGraph)w=!0,y=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(v)y=c.variable("g");else{const D=new r.ArrayIterator([],{autoStart:!1});return D.setProperty("metadata",{state:new i.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),D}else Object.keys(this.searchForm.mappings).length===3&&(y=c.variable("g"));if(!(_!=null&&_.filterBindings)){const D=this.getCachedQuads(p,g,m,y);if(D)return D}const T=this;let R;const F=async function(){var j;let D=T.createFragmentUri(T.searchForm,p,g,m,y);_!=null&&_.filterBindings&&(D=await T.getBindingsRestrictedLink(p,g,m,y,D,_.filterBindings));const A=await T.mediatorDereferenceRdf.mediate({context:b,url:D});D=A.url;const x=await T.mediatorMetadata.mediate({context:b,url:D,quads:A.data,triples:(j=A.metadata)==null?void 0:j.triples}),{metadata:N}=await T.mediatorMetadataExtract.mediate({context:b,url:D,metadata:x.metadata,requestTime:A.requestTime});return R.setProperty("metadata",{...N,state:new i.MetadataValidationState,canContainUndefs:!1,subsetOf:T.url}),x.data}();return R=new r.TransformIterator(async()=>{const D=await F,A=c.defaultGraph();let x=(0,r.wrap)(D).transform({filter(N){return(0,s.matchPattern)(N,p,g,m,y)?!0:w&&(0,s.matchPattern)(N,p,g,m,A)}});return(w||y.termType==="Variable")&&(x=this.reverseMapQuadsToDefaultGraph(x)),x},{autoStart:!1}),_!=null&&_.filterBindings?R:(this.cacheQuads(R,p,g,m,y),this.getCachedQuads(p,g,m,y))}async getBindingsRestrictedLink(p,g,m,y,v,b){const _=[];for(const T of await b.bindings.toArray()){const R=["("];for(const F of b.metadata.variables){const D=T.get(F);R.push(D?(0,o.termToString)(D):"UNDEF"),R.push(" ")}R.push(")"),_.push(R.join(""))}_.length===0&&_.push("(<ex:comunica:unknown>)");const w=encodeURIComponent(`(${b.metadata.variables.map(T=>`?${T.value}`).join(" ")}) { ${_.join(" ")} }`);return`${v}&values=${w}`}reverseMapQuadsToDefaultGraph(p){const g=c.defaultGraph();return p.map(m=>(0,s.mapTerms)(m,(y,v)=>v==="graph"&&y.equals(this.defaultGraph)?g:y))}getPatternId(p,g,m,y){return JSON.stringify({s:p.termType==="Variable"?"":f(p),p:g.termType==="Variable"?"":f(g),o:m.termType==="Variable"?"":f(m),g:y.termType==="Variable"?"":f(y)})}cacheQuads(p,g,m,y,v){const b=this.getPatternId(g,m,y,v);this.cachedQuads[b]=p.clone()}getCachedQuads(p,g,m,y){const v=this.getPatternId(p,g,m,y),b=this.cachedQuads[v];if(b)return b.clone()}queryQuads(p,g){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(p,g){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(p,g){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};m1.QuerySourceQpf=d,d.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:u.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")]},d.SELECTOR_SHAPE_BR={type:"operation",operation:{operationType:"pattern",pattern:u.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")],filterBindings:!0};function f(h){return h.termType==="DefaultGraph"?"|":(0,a.termToString)(h)}return m1}var RU;function nSe(){if(RU)return d1;RU=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.ActorQuerySourceIdentifyHypermediaQpf=void 0;const e=Gn(),t=vN(),i=nte();let r=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(a){super(a,"qpf")}async test(a){if(a.forceSourceType&&a.forceSourceType!=="qpf"&&a.forceSourceType!=="brtpf")throw new Error(`Actor ${this.name} is not able to handle source type ${a.forceSourceType}.`);return this.testMetadata(a)}async testMetadata(a){const{searchForm:o}=await this.createSource(a.url,a.metadata,a.context,a.forceSourceType==="brtpf");if(a.handledDatasets&&a.handledDatasets[o.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(a){this.logInfo(a.context,`Identified as qpf source: ${a.url}`);const o=await this.createSource(a.url,a.metadata,a.context,a.forceSourceType==="brtpf",a.quads);return{source:o,dataset:o.searchForm.dataset}}async createSource(a,o,s,l,u){return new i.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,s),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,a,o,l,u)}};return d1.ActorQuerySourceIdentifyHypermediaQpf=r,d1}var OU;function ite(){return OU||(OU=1,function(e){var t=ch&&ch.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ch&&ch.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(nSe(),e),i(nte(),e)}(ch)),ch}var ph={},v1={},b1={},PU;function ate(){if(PU)return b1;PU=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.QuerySourceSparql=void 0;const e=Ir(),t=_t(),i=zi(),r=Rr(),n=vee(),a=Ol(),o=yr(),s=vr(),l=new s.Factory,u=new o.DataFactory,c=u.variable("count"),d={type:"estimate",value:Number.POSITIVE_INFINITY};let f=class fo{constructor(p,g,m,y,v,b,_,w){this.referenceValue=p,this.url=p,this.context=g,this.mediatorHttp=m,this.bindMethod=y,this.bindingsFactory=v,this.endpointFetcher=new n.SparqlEndpointFetcher({method:b?"GET":"POST",fetch:(T,R)=>this.mediatorHttp.mediate({input:T,init:R,context:this.lastSourceContext}),prefixVariableQuestionMark:!0}),this.cache=_>0?new a.LRUCache({max:_}):void 0,this.countTimeout=w}async getSelectorShape(){return fo.SELECTOR_SHAPE}queryBindings(p,g,m){let y;m!=null&&m.joinBindings?y=fo.addBindingsToOperation(this.bindMethod,p,m.joinBindings):y=Promise.resolve(p);const v=new r.TransformIterator(async()=>{const b=await y,_=s.Util.inScopeVariables(b),w=g.get(e.KeysInitQuery.queryString),T=!(m!=null&&m.joinBindings)&&w?w:fo.operationToSelectQuery(b,_),R=fo.operationCanContainUndefs(b);return this.queryBindingsRemote(this.url,T,_,g,R)},{autoStart:!1});return this.attachMetadata(v,g,y),v}queryQuads(p,g){this.lastSourceContext=this.context.merge(g);const m=this.endpointFetcher.fetchTriples(this.url,g.get(e.KeysInitQuery.queryString)??fo.operationToQuery(p));this.lastSourceContext=void 0;const y=(0,r.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(y,g,Promise.resolve(p.input)),y}queryBoolean(p,g){this.lastSourceContext=this.context.merge(g);const m=this.endpointFetcher.fetchAsk(this.url,g.get(e.KeysInitQuery.queryString)??fo.operationToQuery(p));return this.lastSourceContext=void 0,m}queryVoid(p,g){this.lastSourceContext=this.context.merge(g);const m=this.endpointFetcher.fetchUpdate(this.url,g.get(e.KeysInitQuery.queryString)??fo.operationToQuery(p));return this.lastSourceContext=void 0,m}attachMetadata(p,g,m){let y=[],v=!1;new Promise(async(b,_)=>{var T;let w;try{const R=await m;y=s.Util.inScopeVariables(R),w=fo.operationToCountQuery(R),v=fo.operationCanContainUndefs(R);const F=(T=this.cache)==null?void 0:T.get(w);if(F!==void 0)return b(F);const D=setTimeout(()=>b(d),this.countTimeout),A=await this.queryBindingsRemote(this.url,w,[c],g,!1);A.on("data",x=>{var H;clearTimeout(D);const N=x.get(c),j={type:"estimate",value:Number.POSITIVE_INFINITY};if(N){const M=Number.parseInt(N.value,10);Number.isNaN(M)||(j.type="exact",j.value=M,(H=this.cache)==null||H.set(w,j))}return b(j)}),A.on("error",()=>{clearTimeout(D),b(d)}),A.on("end",()=>{clearTimeout(D),b(d)})}catch(R){return _(R)}}).then(b=>{p.setProperty("metadata",{state:new i.MetadataValidationState,cardinality:b,canContainUndefs:v,variables:y})}).catch(()=>p.setProperty("metadata",{state:new i.MetadataValidationState,cardinality:d,canContainUndefs:v,variables:y}))}static async addBindingsToOperation(p,g,m){const y=await m.bindings.toArray();switch(p){case"values":return l.createJoin([l.createValues(m.metadata.variables,y.map(v=>Object.fromEntries([...v].map(([b,_])=>[`?${b.value}`,_])))),g],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(p,g){return fo.operationToQuery(l.createProject(p,g))}static operationToCountQuery(p){return fo.operationToQuery(l.createProject(l.createExtend(l.createGroup(p,[],[l.createBoundAggregate(u.variable("var0"),"count",l.createWildcardExpression(),!1)]),u.variable("count"),l.createTermExpression(u.variable("var0"))),[u.variable("count")]))}static operationToQuery(p){return(0,s.toSparql)(p,{sparqlStar:!0})}static operationCanContainUndefs(p){let g=!1;return s.Util.recurseOperation(p,{leftjoin(){return g=!0,!1},values(m){return g=m.bindings.some(y=>m.variables.some(v=>!(`?${v.value}`in y))),!1},union(m){const y=m.input.map(s.Util.inScopeVariables).map(v=>v.map(b=>b.value)).map(v=>v.sort((b,_)=>b.localeCompare(_))).map(v=>v.join(","));return y.every(v=>v===y[0])?!0:(g=!0,!1)}}),g}async queryBindingsRemote(p,g,m,y,v){this.lastSourceContext=this.context.merge(y);const b=await this.endpointFetcher.fetchBindings(p,g);return this.lastSourceContext=void 0,(0,r.wrap)(b,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(w=>this.bindingsFactory.bindings(m.map(T=>{var F;const R=w[`?${T.value}`];return!v&&!R&&((F=t.Actor.getContextLogger(this.context))==null||F.warn(`The endpoint ${p} failed to provide a binding for ${T.value}.`)),[T,R]}).filter(([T,R])=>!!R)))}toString(){return`QuerySourceSparql(${this.url})`}};return b1.QuerySourceSparql=f,f.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:s.Algebra.types.PROJECT},joinBindings:!0},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.CONSTRUCT}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.DESCRIBE}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.ASK}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.COMPOSITE_UPDATE}}]},b1}var IU;function iSe(){if(IU)return v1;IU=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.ActorQuerySourceIdentifyHypermediaSparql=void 0;const e=Gn(),t=vN(),i=ate();let r=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceSourceType&&!a.metadata.sparqlService&&!(this.checkUrlSuffix&&a.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(a){return this.logInfo(a.context,`Identified ${a.url} as sparql source with service URL: ${a.metadata.sparqlService||a.url}`),{source:new i.QuerySourceSparql(a.forceSourceType?a.url:a.metadata.sparqlService||a.url,a.context,this.mediatorHttp,this.bindMethod,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,a.context),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return v1.ActorQuerySourceIdentifyHypermediaSparql=r,v1}var CU;function ote(){return CU||(CU=1,function(e){var t=ph&&ph.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ph&&ph.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(iSe(),e),i(ate(),e)}(ph)),ph}var gh={},_1={},mh={},w1={},S1={},DU;function ste(){if(DU)return S1;DU=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.QuerySourceRdfJs=void 0;const e=iA(),t=Ir(),i=zi(),r=Rr(),n=yr(),a=Qi(),o=vr(),s=new o.Factory,l=new n.DataFactory;let u=class pa{constructor(d,f){this.source=d,this.referenceValue=d,this.bindingsFactory=f}static nullifyVariables(d,f){return!d||d.termType==="Variable"||!f&&d.termType==="Quad"&&(0,a.someTermsNested)(d,h=>h.termType==="Variable")?void 0:d}static hasDuplicateVariables(d){const f=(0,a.filterTermsNested)(d,h=>h.termType==="Variable");return f.length>1&&(0,a.uniqTerms)(f).length<f.length}async getSelectorShape(){return pa.SELECTOR_SHAPE}queryBindings(d,f){var m;if(d.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${d.type}' to QuerySourceRdfJs`);const h=!!((m=this.source.features)!=null&&m.quotedTripleFiltering),p=this.source.match(pa.nullifyVariables(d.subject,h),pa.nullifyVariables(d.predicate,h),pa.nullifyVariables(d.object,h),pa.nullifyVariables(d.graph,h));let g=p instanceof r.AsyncIterator?p:(0,r.wrap)(p,{autoStart:!1});return h||(g=(0,e.filterMatchingQuotedQuads)(d,g)),g.getProperty("metadata")||this.setMetadata(g,d).catch(y=>g.destroy(y)),(0,e.quadsToBindings)(g,d,this.bindingsFactory,!!f.get(t.KeysQueryOperation.unionDefaultGraph))}async setMetadata(d,f){var m;const h=!!((m=this.source.features)!=null&&m.quotedTripleFiltering);let p;if(this.source.countQuads)p=await this.source.countQuads(pa.nullifyVariables(f.subject,h),pa.nullifyVariables(f.predicate,h),pa.nullifyVariables(f.object,h),pa.nullifyVariables(f.graph,h));else{let y=0;p=await new Promise((v,b)=>{const _=this.source.match(pa.nullifyVariables(f.subject,h),pa.nullifyVariables(f.predicate,h),pa.nullifyVariables(f.object,h),pa.nullifyVariables(f.graph,h));_.on("error",b),_.on("end",()=>v(y)),_.on("data",()=>y++)})}const g=!h&&(0,a.someTerms)(f,y=>y.termType==="Quad")||pa.hasDuplicateVariables(f);d.setProperty("metadata",{state:new i.MetadataValidationState,cardinality:{type:g?"estimate":"exact",value:p},canContainUndefs:!1})}queryQuads(d,f){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(d,f){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(d,f){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return S1.QuerySourceRdfJs=u,u.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:s.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))},variablesOptional:[l.variable("s"),l.variable("p"),l.variable("o")]},S1}var NU;function aSe(){if(NU)return w1;NU=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.ActorQuerySourceIdentifyRdfJs=void 0;const e=Gn(),t=iA(),i=_t(),r=ste();let n=class extends t.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const s=o.querySourceUnidentified;if(s.type!==void 0&&s.type!=="rdfjs")throw new Error(`${this.name} requires a single query source with rdfjs type to be present in the context.`);if(typeof s.value=="string"||!("match"in s.value))throw new Error(`${this.name} received an invalid rdfjs query source.`);return!0}async run(o){return{querySource:{source:new r.QuerySourceRdfJs(o.querySourceUnidentified.value,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context)),context:o.querySourceUnidentified.context??new i.ActionContext}}}};return w1.ActorQuerySourceIdentifyRdfJs=n,w1}var ZO={},FU;function oSe(){return FU||(FU=1,Object.defineProperty(ZO,"__esModule",{value:!0})),ZO}var LU;function y3(){return LU||(LU=1,function(e){var t=mh&&mh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=mh&&mh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(aSe(),e),i(oSe(),e),i(ste(),e)}(mh)),mh}var A1={},yh={},T1={},E1={},x1={},MU;function ute(){if(MU)return x1;MU=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.TermDictionaryNumberRecordFullTerms=void 0;const e=yr(),t=nn();let i=class{constructor(n=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=n}encode(n){const a=(0,t.termToString)(n);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=n),o}encodeOptional(n){const a=(0,t.termToString)(n);return this.dictionary[a]}decode(n){const a=this.reverseDictionary[n];if(a===void 0)throw new Error(`The value ${n} is not present in this dictionary`);return a}*encodings(){for(const n of Object.keys(this.reverseDictionary))yield Number.parseInt(n,10)}findQuotedTriples(n){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(n){throw new Error("findQuotedTriplesEncoded is not supported")}};return x1.TermDictionaryNumberRecordFullTerms=i,x1}var R1={},O1={},eP={},jU;function Ds(){return jU||(jU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arePatternsQuoted=e.quadHasVariables=e.quadToPattern=e.encodeOptionalTerms=e.orderQuadComponents=e.getComponentOrderScore=e.getBestIndex=e.QUAD_TERM_NAMES_INVERSE=void 0;const t=Qi();e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((u,c)=>[u,c]));function i(u,c){if(u.length===1||c.every(h=>h!==void 0))return 0;const d=[];for(let h=0;h<t.QUAD_TERM_NAMES.length;h++)c[h]&&d.push(t.QUAD_TERM_NAMES[h]);return u.map((h,p)=>({score:r(h,d),index:p})).sort((h,p)=>p.score-h.score)[0].index}e.getBestIndex=i;function r(u,c){return u.map((d,f)=>c.includes(d)?u.length-f:0).reduce((d,f)=>d+f,0)}e.getComponentOrderScore=r;function n(u,c){return u.map(d=>{const f=e.QUAD_TERM_NAMES_INVERSE[d];return c[f]})}e.orderQuadComponents=n;function a(u,c){const d=u.map(f=>{if(f){if(f.termType==="Quad"&&s(f))return;const h=c.encodeOptional(f);return h===void 0?"none":h}return f});if(!d.includes("none"))return d}e.encodeOptionalTerms=a;function o(u,c,d,f,h){let p=!1;return[[u||void 0,c||void 0,d||void 0,f||void 0].map(m=>{if(m){if(m.termType==="Variable")return;if(m.termType==="Quad"){if(h)return m;p=!0;return}}return m}),p]}e.quadToPattern=o;function s(u){for(const c of t.QUAD_TERM_NAMES){const d=u[c];if(d.termType==="Variable"||d.termType==="Quad"&&s(d))return!0}return!1}e.quadHasVariables=s;function l(u){return u.map(c=>(c==null?void 0:c.termType)==="Quad"&&s(c))}e.arePatternsQuoted=l}(eP)),eP}var kU;function bN(){if(kU)return O1;kU=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.RdfStoreIndexNestedMap=void 0;const e=Ds();let t=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedMap=new Map}set(r,n){const a=this.nestedMap;let o=a.get(r[0]);o||(o=new Map,a.set(r[0],o));let s=o.get(r[1]);s||(s=new Map,o.set(r[1],s));let l=s.get(r[2]);l||(l=new Map,s.set(r[2],l));const u=l.has(r[3]);return u||l.set(r[3],n),!u}remove(r){const n=this.nestedMap,a=n.get(r[0]);if(!a)return!1;const o=a.get(r[1]);if(!o)return!1;const s=o.get(r[2]);if(!s)return!1;const l=s.delete(r[3]);return l&&s.size===0&&(o.delete(r[2]),o.size===0&&(a.delete(r[1]),a.size===0&&n.delete(r[0]))),l}get(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!(!n||n.includes(void 0)))return this.getEncoded(n)}getEncoded(r){const n=this.nestedMap.get(r[0]);if(!n)return;const a=n.get(r[1]);if(!a)return;const o=a.get(r[2]);if(o)return o.get(r[3])}*find(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!n)return;const[a,o,s,l]=n,[u,c,d,f]=r;let h,p,g,m,y,v,b;const _=this.nestedMap,w=a!==void 0?_.has(a)?[a]:[]:_.keys();for(const T of w){y=_.get(T),h=u||this.dictionary.decode(T);const R=o!==void 0?y.has(o)?[o]:[]:y.keys();for(const F of R){v=y.get(F),p=c||this.dictionary.decode(F);const D=s!==void 0?v.has(s)?[s]:[]:v.keys();for(const A of D){b=v.get(A),g=d||this.dictionary.decode(A);const x=l!==void 0?b.has(l)?[l]:[]:b.keys();for(const N of x)m=f||this.dictionary.decode(N),yield[h,p,g,m]}}}}*findEncoded(r,n){const[a,o,s,l]=r;let u,c,d;const f=this.nestedMap,h=a!==void 0?f.has(a)?[a]:[]:f.keys();for(const p of h){u=f.get(p);const g=o!==void 0?u.has(o)?[o]:[]:u.keys();for(const m of g){c=u.get(m);const y=s!==void 0?c.has(s)?[s]:[]:c.keys();for(const v of y){d=c.get(v);const b=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const _ of b)yield[p,m,v,_]}}}}count(r){let n=0;const a=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let c,d,f;const h=this.nestedMap,p=o!==void 0?h.has(o)?[o]:[]:h.keys();for(const g of p){c=h.get(g);const m=s!==void 0?c.has(s)?[s]:[]:c.keys();for(const y of m){d=c.get(y);const v=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const b of v)f=d.get(b),u!==void 0?f.has(u)&&n++:n+=f.size}}return n}};return O1.RdfStoreIndexNestedMap=t,O1}var BU;function lte(){if(BU)return R1;BU=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.TermDictionaryQuotedIndexed=void 0;const e=yr(),t=bN(),i=Ds();let r=class au{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=a;const s={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s)],this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const s=(0,i.encodeOptionalTerms)([a.subject,a.predicate,a.object,a.graph],this),l=s&&s.every(f=>f!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(s):void 0;if(l!==void 0||o)return l===void 0?void 0:au.BITMASK|l;const u=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],c=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(u);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([u[0],u[1],u[2],d],c),this.quotedTriplesReverseDictionaries[1].set([u[1],u[2],u[0],d],c),this.quotedTriplesReverseDictionaries[2].set([u[2],u[0],u[1],d],c),au.BITMASK|c}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(au.BITMASK&a){const o=(~au.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield au.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){const[o,s]=(0,i.quadToPattern)(a.subject,a.predicate,a.object,a.graph,!0);for(const l of this.patternToIterable(o[0]))for(const u of this.patternToIterable(o[1]))for(const c of this.patternToIterable(o[2]))for(const d of this.patternToIterable(o[3]))if(l&&u||!u&&!c){const f=[l,u,c,d];for(const h of this.quotedTriplesReverseDictionaries[0].findEncoded(f,o))yield au.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(h)}else if(!l&&u){const f=[u,c,l,d];for(const h of this.quotedTriplesReverseDictionaries[1].findEncoded(f,o))yield au.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(h)}else{const f=[c,l,u,d];for(const h of this.quotedTriplesReverseDictionaries[2].findEncoded(f,o))yield au.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(h)}}*patternToIterable(a){if((a==null?void 0:a.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(a);return}if(a===void 0){yield void 0;return}const o=this.encodeOptional(a);o!==void 0&&(yield o)}};return r.BITMASK=1<<31,R1.TermDictionaryQuotedIndexed=r,R1}var P1={},qU;function cte(){if(qU)return P1;qU=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.RdfStoreIndexNestedMapQuoted=void 0;const e=Ds(),t=bN();let i=class extends t.RdfStoreIndexNestedMap{constructor(n){super(n),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(n,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))n.has(o)&&(yield o)}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[o,s,l,u]=a,[c,d,f,h]=n,[p,g,m,y]=(0,e.arePatternsQuoted)(n);let v,b,_,w,T,R,F;const D=this.nestedMap,A=c!==void 0?p?this.getQuotedPatternKeys(D,c):D.has(o)?[o]:[]:D.keys();for(const x of A){T=D.get(x),v=!p&&c?c:this.dictionary.decode(x);const N=d!==void 0?g?this.getQuotedPatternKeys(T,d):T.has(s)?[s]:[]:T.keys();for(const j of N){R=T.get(j),b=!g&&d?d:this.dictionary.decode(j);const H=f!==void 0?m?this.getQuotedPatternKeys(R,f):R.has(l)?[l]:[]:R.keys();for(const M of H){F=R.get(M),_=!m&&f?f:this.dictionary.decode(M);const $=h!==void 0?y?this.getQuotedPatternKeys(F,h):F.has(u)?[u]:[]:F.keys();for(const te of $)w=!y&&h?h:this.dictionary.decode(te),yield[v,b,_,w]}}}}*findEncoded(n,a){const[o,s,l,u]=n,[c,d,f,h]=a,[p,g,m,y]=(0,e.arePatternsQuoted)(a);let v,b,_;const w=this.nestedMap,T=c!==void 0?p?this.getQuotedPatternKeys(w,c):w.has(o)?[o]:[]:w.keys();for(const R of T){v=w.get(R);const F=d!==void 0?g?this.getQuotedPatternKeys(v,d):v.has(s)?[s]:[]:v.keys();for(const D of F){b=v.get(D);const A=f!==void 0?m?this.getQuotedPatternKeys(b,f):b.has(l)?[l]:[]:b.keys();for(const x of A){_=b.get(x);const N=h!==void 0?y?this.getQuotedPatternKeys(_,h):_.has(u)?[u]:[]:_.keys();for(const j of N)yield[Number.parseInt(R,10),Number.parseInt(D,10),Number.parseInt(x,10),Number.parseInt(j,10)]}}}}count(n){let a=0;const o=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!o)return 0;const[s,l,u,c]=o,[d,f,h,p]=n,[g,m,y,v]=(0,e.arePatternsQuoted)(n);let b,_,w;const T=this.nestedMap,R=d!==void 0?g?this.getQuotedPatternKeys(T,d):T.has(s)?[s]:[]:T.keys();for(const F of R){b=T.get(F);const D=f!==void 0?m?this.getQuotedPatternKeys(b,f):b.has(l)?[l]:[]:b.keys();for(const A of D){_=b.get(A);const x=h!==void 0?y?this.getQuotedPatternKeys(_,h):_.has(u)?[u]:[]:_.keys();for(const N of x)w=_.get(N),p!==void 0?v?a+=[...this.getQuotedPatternKeys(w,p)].length:w.has(c)&&a++:a+=w.size}}return a}};return P1.RdfStoreIndexNestedMapQuoted=i,P1}var VU;function dte(){if(VU)return E1;VU=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.RdfStore=void 0;const e=Rr(),t=yr(),i=Qi(),r=hte(),n=ute(),a=lte(),o=cte(),s=Ds();let l=class OS{constructor(c){this.features={quotedTripleFiltering:!0},this._size=0,this.options=c,this.dataFactory=c.dataFactory,this.dictionary=c.dictionary,this.indexesWrapped=OS.constructIndexesWrapped(c),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new OS({indexCombinations:OS.DEFAULT_INDEX_COMBINATIONS,indexConstructor:c=>new o.RdfStoreIndexNestedMapQuoted(c),dictionary:new a.TermDictionaryQuotedIndexed(new n.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(c){const d=[];if(c.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const f of c.indexCombinations){if(!OS.isCombinationValid(f))throw new Error(`Invalid index combination: ${f}`);d.push({index:c.indexConstructor(c),componentOrder:f,componentOrderInverse:Object.fromEntries(f.map((h,p)=>[h,p]))})}return d}static isCombinationValid(c){for(const d of i.QUAD_TERM_NAMES)if(!c.includes(d))return!1;return c.length===4}get size(){return this._size}addQuad(c){const d=[this.dictionary.encode(c.subject),this.dictionary.encode(c.predicate),this.dictionary.encode(c.object),this.dictionary.encode(c.graph)];let f=!1;for(const h of this.indexesWrapped)f=h.index.set((0,s.orderQuadComponents)(h.componentOrder,d),!0);return f?(this._size++,!0):!1}removeQuad(c){const d=[this.dictionary.encodeOptional(c.subject),this.dictionary.encodeOptional(c.predicate),this.dictionary.encodeOptional(c.object),this.dictionary.encodeOptional(c.graph)];if(d.includes(void 0))return!1;let f=!1;for(const h of this.indexesWrapped)if(f=h.index.remove((0,s.orderQuadComponents)(h.componentOrder,d)),!f)break;return f?(this._size--,!0):!1}remove(c){return c.on("data",d=>this.removeQuad(d)),c}removeMatches(c,d,f,h){return this.remove(this.match(c,d,f,h))}deleteGraph(c){return typeof c=="string"&&(c=this.dataFactory.namedNode(c)),this.removeMatches(void 0,void 0,void 0,c)}import(c){return c.on("data",d=>this.addQuad(d)),c}*readQuads(c,d,f,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(b=>b.index.features.quotedTripleFiltering),[g,m]=(0,s.quadToPattern)(c,d,f,h,p),y=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,g)],v=(0,s.orderQuadComponents)(y.componentOrder,g);for(const b of y.index.find(v)){const _=this.dataFactory.quad(b[y.componentOrderInverse.subject],b[y.componentOrderInverse.predicate],b[y.componentOrderInverse.object],b[y.componentOrderInverse.graph]);m?(0,i.matchPattern)(_,c,d,f,h)&&(yield _):yield _}}getQuads(c,d,f,h){return[...this.readQuads(c,d,f,h)]}match(c,d,f,h){return(0,e.wrap)(this.readQuads(c,d,f,h))}countQuads(c,d,f,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(v=>v.index.features.quotedTripleFiltering),[g]=(0,s.quadToPattern)(c,d,f,h,p);if(g.every(v=>v===void 0))return this.size;const m=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,g)],y=(0,s.orderQuadComponents)(m.componentOrder,g);return m.index.count(y)}asDataset(){return new r.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],E1.RdfStore=l,E1}var UU;function hte(){if(UU)return T1;UU=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.DatasetCoreWrapper=void 0;const e=dte();let t=class fte{constructor(r){this.store=r}get size(){return this.store.size}add(r){return this.store.addQuad(r),this}delete(r){return this.store.removeQuad(r),this}has(r){for(const n of this.store.readQuads(r.subject,r.predicate,r.object,r.graph))return!0;return!1}match(r,n,a,o){const s=new e.RdfStore(this.store.options);for(const l of this.store.readQuads(r,n,a,o))s.addQuad(l);return new fte(s)}[Symbol.iterator](){return this.store.readQuads()}};return T1.DatasetCoreWrapper=t,T1}var tP={},HU;function sSe(){return HU||(HU=1,Object.defineProperty(tP,"__esModule",{value:!0})),tP}var I1={},$U;function uSe(){if($U)return I1;$U=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.TermDictionaryNumberMap=void 0;const e=yr(),t=nn();let i=class{constructor(n=new e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=n}encode(n){const a=(0,t.termToString)(n);let o=this.dictionary.get(a);return o===void 0&&(o=this.lastId++,this.dictionary.set(a,o),this.reverseDictionary.set(o,a)),o}encodeOptional(n){const a=(0,t.termToString)(n);return this.dictionary.get(a)}decode(n){const a=this.reverseDictionary.get(n);if(a===void 0)throw new Error(`The value ${n} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(n){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(n){throw new Error("findQuotedTriplesEncoded is not supported")}};return I1.TermDictionaryNumberMap=i,I1}var C1={},QU;function lSe(){if(QU)return C1;QU=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.TermDictionaryNumberRecord=void 0;const e=yr(),t=nn();let i=class{constructor(n=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=n}encode(n){const a=(0,t.termToString)(n);let o=this.dictionary[a];return o===void 0&&(o=this.lastId++,this.dictionary[a]=o,this.reverseDictionary[o]=a),o}encodeOptional(n){const a=(0,t.termToString)(n);return this.dictionary[a]}decode(n){const a=this.reverseDictionary[n];if(a===void 0)throw new Error(`The value ${n} is not present in this dictionary`);return(0,t.stringToTerm)(a,this.dataFactory)}*encodings(){for(const n of Object.keys(this.reverseDictionary))yield Number.parseInt(n,10)}findQuotedTriples(n){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(n){throw new Error("findQuotedTriplesEncoded is not supported")}};return C1.TermDictionaryNumberRecord=i,C1}var D1={},zU;function cSe(){if(zU)return D1;zU=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.TermDictionaryQuoted=void 0;const e=yr(),t=Qi();let i=class lp{constructor(n,a,o=new e.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=n,this.quotedTriplesDictionary=a,this.dataFactory=o}encode(n){return n.termType==="Quad"?lp.BITMASK|1+this.quotedTriplesDictionary.encode(n):this.plainTermDictionary.encode(n)}encodeOptional(n){if(n.termType==="Quad"){const a=this.quotedTriplesDictionary.encodeOptional(n);return a===void 0?a:lp.BITMASK|1+a}return this.plainTermDictionary.encodeOptional(n)}decode(n){if(lp.BITMASK&n){const a=(~lp.BITMASK&n)-1;return this.quotedTriplesDictionary.decode(a)}return this.plainTermDictionary.decode(n)}*encodings(){for(const n of this.plainTermDictionary.encodings())yield n;for(const n of this.quotedTriplesDictionary.encodings())yield lp.BITMASK|1+n}*findQuotedTriples(n){for(const a of this.findQuotedTriplesEncoded(n))yield this.decode(a)}*findQuotedTriplesEncoded(n){for(let a of this.quotedTriplesDictionary.encodings()){a=lp.BITMASK|1+a;const o=this.decode(a);(0,t.matchPattern)(o,n.subject,n.predicate,n.object,n.graph)&&(yield a)}}};return i.BITMASK=1<<31,D1.TermDictionaryQuoted=i,D1}var N1={},GU;function dSe(){if(GU)return N1;GU=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.TermDictionaryQuotedReferential=void 0;const e=yr(),t=Qi(),i=Ds();let r=class ou{constructor(a,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=a,this.dataFactory=o}encode(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!1):this.plainTermDictionary.encode(a)}encodeQuotedTriple(a,o){var s;if(a.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(s=(0,i.encodeOptionalTerms)([a.subject,a.predicate,a.object,void 0],this))===null||s===void 0?void 0:s.slice(0,3),u=l&&l.every(f=>f!==void 0)?this.quotedTriplesReverseDictionary[l.join(ou.SEPARATOR)]:void 0;if(u!==void 0||o)return u===void 0?void 0:ou.BITMASK|u;const c=[this.encode(a.subject),this.encode(a.predicate),this.encode(a.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(c),this.quotedTriplesReverseDictionary[c.join(ou.SEPARATOR)]=d,ou.BITMASK|d}encodeOptional(a){return a.termType==="Quad"?this.encodeQuotedTriple(a,!0):this.plainTermDictionary.encodeOptional(a)}decode(a){if(ou.BITMASK&a){const o=(~ou.BITMASK&a)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${a} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.keys())yield ou.BITMASK|1+a}*findQuotedTriples(a){for(const o of this.findQuotedTriplesEncoded(a))yield this.decode(o)}*findQuotedTriplesEncoded(a){for(let o of this.quotedTriplesDictionary.keys()){o=ou.BITMASK|1+o;const s=this.decode(o);(0,t.matchPattern)(s,a.subject,a.predicate,a.object,a.graph)&&(yield o)}}};return r.BITMASK=1<<31,r.SEPARATOR="_",N1.TermDictionaryQuotedReferential=r,N1}var F1={},WU;function fSe(){if(WU)return F1;WU=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.TermDictionarySymbol=void 0;const e=yr(),t=nn();let i=class{constructor(n=new e.DataFactory){this.features={quotedTriples:!1},this.dataFactory=n}encode(n){return Symbol.for(`rdf::${(0,t.termToString)(n)}`)}encodeOptional(n){return this.encode(n)}decode(n){const a=Symbol.keyFor(n);if(a===void 0)throw new Error(`The value ${String(n)} is not present in this dictionary`);return(0,t.stringToTerm)(a.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(n){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(n){throw new Error("findQuotedTriplesEncoded is not supported")}};return F1.TermDictionarySymbol=i,F1}var rP={},KU;function hSe(){return KU||(KU=1,Object.defineProperty(rP,"__esModule",{value:!0})),rP}var L1={},JU;function pte(){if(JU)return L1;JU=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.RdfStoreIndexNestedMapRecursive=void 0;const e=Ds();let t=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedMap=new Map}set(r,n){let a=this.nestedMap,o=!1;for(const[s,l]of r.entries()){const u=a;let c=u.get(l);c?s===r.length-1&&(o=!0):(c=s===r.length-1?n:new Map,u.set(l,c)),a=c}return!o}remove(r){const n=this.nestedMap,a=n.get(r[0]);if(!a)return!1;const o=a.get(r[1]);if(!o)return!1;const s=o.get(r[2]);if(!s)return!1;const l=s.delete(r[3]);return l&&s.size===0&&(o.delete(r[2]),o.size===0&&(a.delete(r[1]),a.size===0&&n.delete(r[0]))),l}get(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!(!n||n.includes(void 0)))return this.getEncoded(n)}getEncoded(r){const n=this.nestedMap.get(r[0]);if(!n)return;const a=n.get(r[1]);if(!a)return;const o=a.get(r[2]);if(o)return o.get(r[3])}*find(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(n)for(const a of this.findEncoded(n,r))yield[n[0]!==void 0?r[0]:this.dictionary.decode(a[0]),n[1]!==void 0?r[1]:this.dictionary.decode(a[1]),n[2]!==void 0?r[2]:this.dictionary.decode(a[2]),n[3]!==void 0?r[3]:this.dictionary.decode(a[3])]}*findEncoded(r,n){return yield*this.findEncodedInner(0,r,n,this.nestedMap,[])}*findEncodedInner(r,n,a,o,s){if(r===n.length)yield[...s];else{const l=n[r];if(a[r]){const c=l;if(c!==void 0){const d=o.get(c);d&&(s[r]=l,yield*this.findEncodedInner(r+1,n,a,d,s))}}else for(const[c,d]of o.entries())s[r]=c,yield*this.findEncodedInner(r+1,n,a,d,s)}}count(r){return this.countInner(0,r,this.nestedMap)}countInner(r,n,a){const o=n[r];let s=0;if(o){const l=this.dictionary.encodeOptional(o);if(l!==void 0){if(r===n.length-1)return a.has(l)?1:0;const u=a.get(l);u&&(s+=this.countInner(r+1,n,u))}}else{if(r===n.length-1)return a.size;for(const l of a.values())s+=this.countInner(r+1,n,l)}return s}};return L1.RdfStoreIndexNestedMapRecursive=t,L1}var M1={},XU;function pSe(){if(XU)return M1;XU=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const e=Ds(),t=pte();let i=class extends t.RdfStoreIndexNestedMapRecursive{constructor(n){super(n),this.features={quotedTripleFiltering:!0}}*findEncoded(n,a){return yield*this.findEncodedInnerQuoted(0,n,a,(0,e.arePatternsQuoted)(a),this.nestedMap,[])}*findEncodedInnerQuoted(n,a,o,s,l,u){if(n===a.length)yield[...u];else{const c=a[n],d=o[n];if(d)if(s[n]){const f=this.dictionary.findQuotedTriplesEncoded(d);for(const h of f){const p=l.get(h);p&&(u[n]=h,yield*this.findEncodedInnerQuoted(n+1,a,o,s,p,u))}}else{const f=c;if(f!==void 0){const h=l.get(f);h&&(u[n]=c,yield*this.findEncodedInnerQuoted(n+1,a,o,s,h,u))}}else for(const[f,h]of l.entries())u[n]=f,yield*this.findEncodedInnerQuoted(n+1,a,o,s,h,u)}}countInner(n,a,o){const s=a[n];let l=0;if(s)if(s.termType==="Quad"&&(0,e.quadHasVariables)(s)){const u=this.dictionary.findQuotedTriplesEncoded(s);for(const c of u)if(n===a.length-1)o.has(c)&&l++;else{const d=o.get(c);d&&(l+=this.countInner(n+1,a,d))}}else{const u=this.dictionary.encodeOptional(s);if(u!==void 0){if(n===a.length-1)return o.has(u)?1:0;const c=o.get(u);c&&(l+=this.countInner(n+1,a,c))}}else{if(n===a.length-1)return o.size;for(const u of o.values())l+=this.countInner(n+1,a,u)}return l}};return M1.RdfStoreIndexNestedMapRecursiveQuoted=i,M1}var j1={},YU;function gte(){if(YU)return j1;YU=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.RdfStoreIndexNestedRecord=void 0;const e=Ds();let t=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedRecords={}}set(r,n){const a=this.nestedRecords,o=a[r[0]]||(a[r[0]]={}),s=o[r[1]]||(o[r[1]]={}),l=s[r[2]]||(s[r[2]]={});return l[r[3]]?!1:(l[r[3]]=n,!0)}remove(r){const n=this.nestedRecords,a=n[r[0]];if(!a)return!1;const o=a[r[1]];if(!o)return!1;const s=o[r[2]];return!s||!s[r[3]]?!1:(delete s[r[3]],Object.keys(s).length===0&&(delete o[r[2]],Object.keys(o).length===0&&(delete a[r[1]],Object.keys(a).length===0&&delete n[r[0]])),!0)}get(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!(!n||n.includes(void 0)))return this.getEncoded(n)}getEncoded(r){var n,a,o;return(o=(a=(n=this.nestedRecords[r[0]])===null||n===void 0?void 0:n[r[1]])===null||a===void 0?void 0:a[r[2]])===null||o===void 0?void 0:o[r[3]]}*find(r){const n=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!n)return;const[a,o,s,l]=n,[u,c,d,f]=r;let h,p,g,m,y,v,b;const _=this.nestedRecords,w=a!==void 0?a in _?[a]:[]:Object.keys(_);for(const T of w){y=_[T],h=u||this.dictionary.decode(Number.parseInt(T,10));const R=o!==void 0?o in y?[o]:[]:Object.keys(y);for(const F of R){v=y[F],p=c||this.dictionary.decode(Number.parseInt(F,10));const D=s!==void 0?s in v?[s]:[]:Object.keys(v);for(const A of D){b=v[A],g=d||this.dictionary.decode(Number.parseInt(A,10));const x=l!==void 0?l in b?[l]:[]:Object.keys(b);for(const N of x)m=f||this.dictionary.decode(Number.parseInt(N,10)),yield[h,p,g,m]}}}}*findEncoded(r,n){const[a,o,s,l]=r;let u,c,d;const f=this.nestedRecords,h=a!==void 0?a in f?[a]:[]:Object.keys(f);for(const p of h){u=f[p];const g=o!==void 0?o in u?[o]:[]:Object.keys(u);for(const m of g){c=u[m];const y=s!==void 0?s in c?[s]:[]:Object.keys(c);for(const v of y){d=c[v];const b=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const _ of b)yield[Number.parseInt(p,10),Number.parseInt(m,10),Number.parseInt(v,10),Number.parseInt(_,10)]}}}}count(r){let n=0;const a=(0,e.encodeOptionalTerms)(r,this.dictionary);if(!a)return 0;const o=a[0],s=a[1],l=a[2],u=a[3];let c,d,f;const h=this.nestedRecords,p=o!==void 0?o in h?[o]:[]:Object.keys(h);for(const g of p){c=h[g];const m=s!==void 0?s in c?[s]:[]:Object.keys(c);for(const y of m){d=c[y];const v=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const b of v)f=d[b],u!==void 0?u in f&&n++:n+=Object.keys(f).length}}return n}};return j1.RdfStoreIndexNestedRecord=t,j1}var k1={},ZU;function gSe(){if(ZU)return k1;ZU=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.RdfStoreIndexNestedRecordQuoted=void 0;const e=Ds(),t=gte();let i=class extends t.RdfStoreIndexNestedRecord{constructor(n){super(n),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(n,a){for(const o of this.dictionary.findQuotedTriplesEncoded(a))o in n&&(yield o)}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[o,s,l,u]=a,[c,d,f,h]=n,[p,g,m,y]=(0,e.arePatternsQuoted)(n);let v,b,_,w,T,R,F;const D=this.nestedRecords,A=c!==void 0?p?this.getQuotedPatternKeys(D,c):o in D?[o]:[]:Object.keys(D);for(const x of A){T=D[x],v=!p&&c?c:this.dictionary.decode(Number.parseInt(x,10));const N=d!==void 0?g?this.getQuotedPatternKeys(T,d):s in T?[s]:[]:Object.keys(T);for(const j of N){R=T[j],b=!g&&d?d:this.dictionary.decode(Number.parseInt(j,10));const H=f!==void 0?m?this.getQuotedPatternKeys(R,f):l in R?[l]:[]:Object.keys(R);for(const M of H){F=R[M],_=!m&&f?f:this.dictionary.decode(Number.parseInt(M,10));const $=h!==void 0?y?this.getQuotedPatternKeys(F,h):u in F?[u]:[]:Object.keys(F);for(const te of $)w=!y&&h?h:this.dictionary.decode(Number.parseInt(te,10)),yield[v,b,_,w]}}}}*findEncoded(n,a){const[o,s,l,u]=n,[c,d,f,h]=a,[p,g,m,y]=(0,e.arePatternsQuoted)(a);let v,b,_;const w=this.nestedRecords,T=c!==void 0?p?this.getQuotedPatternKeys(w,c):o in w?[o]:[]:Object.keys(w);for(const R of T){v=w[R];const F=d!==void 0?g?this.getQuotedPatternKeys(v,d):s in v?[s]:[]:Object.keys(v);for(const D of F){b=v[D];const A=f!==void 0?m?this.getQuotedPatternKeys(b,f):l in b?[l]:[]:Object.keys(b);for(const x of A){_=b[x];const N=h!==void 0?y?this.getQuotedPatternKeys(_,h):u in _?[u]:[]:Object.keys(_);for(const j of N)yield[Number.parseInt(R,10),Number.parseInt(D,10),Number.parseInt(x,10),Number.parseInt(j,10)]}}}}count(n){let a=0;const o=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!o)return 0;const[s,l,u,c]=o,[d,f,h,p]=n,[g,m,y,v]=(0,e.arePatternsQuoted)(n);let b,_,w;const T=this.nestedRecords,R=d!==void 0?g?this.getQuotedPatternKeys(T,d):s in T?[s]:[]:Object.keys(T);for(const F of R){b=T[F];const D=f!==void 0?m?this.getQuotedPatternKeys(b,f):l in b?[l]:[]:Object.keys(b);for(const A of D){_=b[A];const x=h!==void 0?y?this.getQuotedPatternKeys(_,h):u in _?[u]:[]:Object.keys(_);for(const N of x)w=_[N],p!==void 0?v?a+=[...this.getQuotedPatternKeys(w,p)].length:c in w&&a++:a+=Object.keys(w).length}}return a}};return k1.RdfStoreIndexNestedRecordQuoted=i,k1}var nP={},eH;function mSe(){return eH||(eH=1,Object.defineProperty(nP,"__esModule",{value:!0})),nP}var iP={},tH;function ySe(){return tH||(tH=1,Object.defineProperty(iP,"__esModule",{value:!0})),iP}var rH;function vSe(){return rH||(rH=1,function(e){var t=yh&&yh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=yh&&yh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(hte(),e),i(sSe(),e),i(uSe(),e),i(lSe(),e),i(ute(),e),i(cSe(),e),i(lte(),e),i(dSe(),e),i(fSe(),e),i(hSe(),e),i(bN(),e),i(cte(),e),i(pte(),e),i(pSe(),e),i(gte(),e),i(gSe(),e),i(mSe(),e),i(Ds(),e),i(ySe(),e),i(dte(),e)}(yh)),yh}var nH;function mte(){if(nH)return A1;nH=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.storeStream=void 0;const e=vSe();function t(i){const r=e.RdfStore.createDefault();return new Promise((n,a)=>r.import(i).on("error",a).once("end",()=>n(r)))}return A1.storeStream=t,A1}var iH;function bSe(){if(iH)return _1;iH=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.ActorQuerySourceIdentifyHypermediaNone=void 0;const e=y3(),t=Gn(),i=vN(),r=mte();let n=class extends i.ActorQuerySourceIdentifyHypermedia{constructor(o){super(o,"file")}async testMetadata(o){return{filterFactor:0}}async run(o){this.logInfo(o.context,`Identified as file source: ${o.url}`);const s=new e.QuerySourceRdfJs(await(0,r.storeStream)(o.quads),await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context));return s.toString=()=>`QuerySourceRdfJs(${o.url})`,s.referenceValue=o.url,{source:s}}};return _1.ActorQuerySourceIdentifyHypermediaNone=n,_1}var aH;function yte(){return aH||(aH=1,function(e){var t=gh&&gh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=gh&&gh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(bSe(),e)}(gh)),gh}var vh={},B1={},aP={},q1={},V1={},bh={},_h={},oH;function Ns(){if(oH)return _h;oH=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.asTermType=_h.ExpressionType=void 0;var e;(function(i){i.Aggregate="aggregate",i.Existence="existence",i.Named="named",i.Operator="operator",i.SpecialOperator="specialOperator",i.Term="term",i.Variable="variable",i.AsyncExtension="asyncExtension",i.SyncExtension="syncExtension"})(e||(_h.ExpressionType=e={}));function t(i){if(i==="namedNode"||i==="literal"||i==="blankNode"||i==="quad")return i}return _h.asTermType=t,_h}var U1={},sH;function _Se(){if(sH)return U1;sH=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.Variable=void 0;const e=Ns();let t=class{constructor(r){this.expressionType=e.ExpressionType.Variable,this.name=r}};return U1.Variable=t,U1}var mr={},H1={},oP={},uH;function Ra(){return uH||(uH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NamedOperators=e.SetFunctions=e.SetFunction=e.Operators=e.SpecialOperators=e.RegularOperators=e.SpecialOperator=e.RegularOperator=e.TypeURL=e.TypeAlias=void 0;var t;(function(o){o.SPARQL_NUMERIC="SPARQL_NUMERIC",o.SPARQL_STRINGLY="SPARQL_STRINGLY"})(t||(e.TypeAlias=t={}));var i;(function(o){o.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",o.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",o.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",o.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",o.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",o.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",o.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",o.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",o.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",o.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",o.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",o.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",o.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",o.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",o.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",o.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",o.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",o.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",o.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",o.XSD_INT="http://www.w3.org/2001/XMLSchema#int",o.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",o.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",o.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",o.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",o.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",o.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",o.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",o.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",o.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",o.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",o.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",o.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",o.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",o.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",o.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",o.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",o.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",o.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",o.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",o.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(i||(e.TypeURL=i={}));var r;(function(o){o.NOT="!",o.UMINUS="uminus",o.UPLUS="uplus",o.EQUAL="=",o.NOT_EQUAL="!=",o.LT="<",o.GT=">",o.LTE="<=",o.GTE=">=",o.MULTIPLICATION="*",o.DIVISION="/",o.ADDITION="+",o.SUBTRACTION="-",o.IS_IRI="isiri",o.IS_URI="isuri",o.IS_BLANK="isblank",o.IS_LITERAL="isliteral",o.IS_NUMERIC="isnumeric",o.STR="str",o.LANG="lang",o.DATATYPE="datatype",o.IRI="iri",o.URI="uri",o.STRDT="strdt",o.STRLANG="strlang",o.UUID="uuid",o.STRUUID="struuid",o.STRLEN="strlen",o.SUBSTR="substr",o.UCASE="ucase",o.LCASE="lcase",o.STRSTARTS="strstarts",o.STRENDS="strends",o.CONTAINS="contains",o.STRBEFORE="strbefore",o.STRAFTER="strafter",o.ENCODE_FOR_URI="encode_for_uri",o.LANG_MATCHES="langmatches",o.REGEX="regex",o.REPLACE="replace",o.ABS="abs",o.ROUND="round",o.CEIL="ceil",o.FLOOR="floor",o.RAND="rand",o.NOW="now",o.YEAR="year",o.MONTH="month",o.DAY="day",o.HOURS="hours",o.MINUTES="minutes",o.SECONDS="seconds",o.TIMEZONE="timezone",o.TZ="tz",o.MD5="md5",o.SHA1="sha1",o.SHA256="sha256",o.SHA384="sha384",o.SHA512="sha512",o.TRIPLE="triple",o.SUBJECT="subject",o.PREDICATE="predicate",o.OBJECT="object",o.IS_TRIPLE="istriple"})(r||(e.RegularOperator=r={}));var n;(function(o){o.BOUND="bound",o.IF="if",o.COALESCE="coalesce",o.LOGICAL_OR="||",o.LOGICAL_AND="&&",o.SAME_TERM="sameterm",o.IN="in",o.NOT_IN="notin",o.CONCAT="concat",o.BNODE="bnode"})(n||(e.SpecialOperator=n={})),e.RegularOperators=new Set(Object.values(r)),e.SpecialOperators=new Set(Object.values(n)),e.Operators=new Set([...e.RegularOperators,...e.SpecialOperators]);var a;(function(o){o.COUNT="count",o.SUM="sum",o.MIN="min",o.MAX="max",o.AVG="avg",o.GROUP_CONCAT="group_concat",o.SAMPLE="sample"})(a||(e.SetFunction=a={})),e.SetFunctions=new Set(Object.values(a)),e.NamedOperators=new Set([i.XSD_STRING,i.XSD_FLOAT,i.XSD_DOUBLE,i.XSD_DECIMAL,i.XSD_INTEGER,i.XSD_DATE_TIME,i.XSD_DATE,i.XSD_BOOLEAN,i.XSD_TIME,i.XSD_DURATION,i.XSD_DAY_TIME_DURATION,i.XSD_YEAR_MONTH_DURATION])}(oP)),oP}var ur={},lH;function Vi(){if(lH)return ur;lH=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.NoExistenceHook=ur.NoAggregator=ur.ExtensionFunctionError=ur.UnknownNamedOperator=ur.UnknownOperator=ur.InvalidTermType=ur.InvalidExpressionType=ur.InvalidExpression=ur.InvalidArity=ur.UnexpectedError=ur.ParseError=ur.EmptyAggregateError=ur.IncompatibleLanguageOperation=ur.InvalidTimezoneCall=ur.CastError=ur.InvalidCompareArgumentTypes=ur.InvalidArgumentTypes=ur.InError=ur.CoalesceError=ur.RDFEqualTypeError=ur.EBVCoercionError=ur.UnboundVariableError=ur.InvalidLexicalForm=ur.isExpressionError=ur.ExpressionError=void 0;class e extends Error{}ur.ExpressionError=e;function t(A){return A instanceof e}ur.isExpressionError=t;class i extends e{constructor(x){super(`Invalid lexical form '${D(x)}'`),this.arg=x}}ur.InvalidLexicalForm=i;class r extends e{constructor(x,N){super(`Unbound variable '${D(x)}'`),this.variable=x,this.bindings=N}}ur.UnboundVariableError=r;class n extends e{constructor(x){super(`Cannot coerce term to EBV '${D(x)}'`),this.arg=x}}ur.EBVCoercionError=n;class a extends e{constructor(x){super("Equality test for literals with unsupported datatypes"),this.args=x}}ur.RDFEqualTypeError=a;class o extends e{constructor(x){super("All COALESCE arguments threw errors"),this.errors=x}}ur.CoalesceError=o;class s extends e{constructor(x){super(`Some argument to IN errorred and none where equal. ${x.map(N=>`(${N.toString()}) `).join("and ")}`),this.errors=x}}ur.InError=s;class l extends e{constructor(x,N){super(`Argument types not valid for operator: '${D(N)}' with '${D(x)}`),this.args=x,this.op=N}}ur.InvalidArgumentTypes=l;class u extends e{constructor(x,N){super(`Compared argument types are supported: '${x.termType}' and '${N.termType}'`),this.arg0=x,this.arg1=N}}ur.InvalidCompareArgumentTypes=u;class c extends e{constructor(x,N){super(`Invalid cast: '${D(x)}' to '${D(N)}'`),this.arg=x}}ur.CastError=c;class d extends e{constructor(x){super(`TIMEZONE call on ${x} which has no timezone`),this.dateString=x}}ur.InvalidTimezoneCall=d;class f extends e{constructor(x,N){super(`Operation on incompatible language literals '${D(x)}' and '${D(N)}'`),this.arg1=x,this.arg2=N}}ur.IncompatibleLanguageOperation=f;class h extends e{constructor(){super("Empty aggregate expression")}}ur.EmptyAggregateError=h;class p extends e{constructor(x,N){super(`Failed to parse ${x} as ${N}.`)}}ur.ParseError=p;class g extends Error{constructor(x,N){super(`Programmer Error '${x}'`),this.payload=N}}ur.UnexpectedError=g;class m extends Error{constructor(x,N){super(`The number of args does not match the arity of the operator '${D(N)}'.`),this.args=x,this.op=N}}ur.InvalidArity=m;class y extends Error{constructor(x){super(`Invalid SPARQL Expression '${D(x)}'`)}}ur.InvalidExpression=y;class v extends Error{constructor(x){super(`Invalid expression type for SPARQL Expression '${D(x)}'`),this.expr=x}}ur.InvalidExpressionType=v;class b extends Error{constructor(x){super(`Invalid term type for term '${D(x)}'`),this.term=x}}ur.InvalidTermType=b;class _ extends Error{constructor(x){super(`Unknown operator: '${D(x)}`)}}ur.UnknownOperator=_;class w extends Error{constructor(x){super(`Unknown named operator: '${D(x)}'`)}}ur.UnknownNamedOperator=w;class T extends Error{constructor(x,N){N instanceof Error?super(`Error thrown in ${x}: ${N.message}${N.stack?`
${N.stack}`:""}`):super(`Error thrown in ${x}`)}}ur.ExtensionFunctionError=T;class R extends Error{constructor(x){super(`Aggregate expression ${D(x)} found, but no aggregate hook provided.`)}}ur.NoAggregator=R;class F extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}ur.NoExistenceHook=F;function D(A){return JSON.stringify(A)}return ur}var ei={},Hr={},cH;function H0(){if(cH)return Hr;cH=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.extractTimeZone=Hr.extractRawTimeZone=Hr.dayTimeDurationsToSeconds=Hr.yearMonthDurationsToMonths=Hr.trimToDayTimeDuration=Hr.trimToYearMonthDuration=Hr.toUTCDate=Hr.toJSDate=Hr.negateDuration=Hr.toDateTimeRepresentation=Hr.defaultedDateTimeRepresentation=Hr.simplifyDurationRepresentation=Hr.defaultedDurationRepresentation=Hr.defaultedYearMonthDurationRepresentation=Hr.defaultedDayTimeDurationRepresentation=void 0;function e(g){return{day:g.day??0,hours:g.hours??0,minutes:g.minutes??0,seconds:g.seconds??0}}Hr.defaultedDayTimeDurationRepresentation=e;function t(g){return{year:g.year??0,month:g.month??0}}Hr.defaultedYearMonthDurationRepresentation=t;function i(g){return{...e(g),...t(g)}}Hr.defaultedDurationRepresentation=i;function r(g){const m=i(g),y={},v=m.year+Math.trunc(m.month/12);v&&(y.year=v,m.month%=12),m.month&&(y.month=m.month);const b=m.day+Math.trunc(m.hours/24)+Math.trunc(m.minutes/(24*60))+Math.trunc(m.seconds/(24*60*60));b&&(y.day=b,m.hours%=24,m.minutes%=24*60,m.seconds%=24*60*60);const _=m.hours+Math.trunc(m.minutes/60)+Math.trunc(m.seconds/(60*60));_&&(y.hours=_,m.minutes%=60,m.seconds%=60*60);const w=m.minutes+Math.trunc(m.seconds/60);return w&&(y.minutes=w,m.seconds%=60),m.seconds&&(y.seconds=m.seconds),y}Hr.simplifyDurationRepresentation=r;function n(g){return{...g,day:g.day??1,hours:g.hours??0,month:g.month??1,year:g.year??0,seconds:g.seconds??0,minutes:g.minutes??0}}Hr.defaultedDateTimeRepresentation=n;function a({date:g,timeZone:m}){return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),zoneHours:m.zoneHours,zoneMinutes:m.zoneMinutes}}Hr.toDateTimeRepresentation=a;function o(g){return{year:g.year===void 0?void 0:-1*g.year,month:g.month===void 0?void 0:-1*g.month,day:g.day===void 0?void 0:-1*g.day,hours:g.hours===void 0?void 0:-1*g.hours,minutes:g.minutes===void 0?void 0:-1*g.minutes,seconds:g.seconds===void 0?void 0:-1*g.seconds}}Hr.negateDuration=o;function s(g){const m=new Date(g.year,g.month-1,g.day,g.hours,g.minutes,Math.trunc(g.seconds),g.seconds%1*1e3);return g.year>=0&&g.year<100&&m.setFullYear(m.getFullYear()-1900),m}Hr.toJSDate=s;function l(g,m){const y=s(n(g)),v=y.getTimezoneOffset(),b=g.zoneHours??m.zoneHours,_=g.zoneMinutes??m.zoneMinutes;return new Date(y.getTime()-(v+b*60+_)*60*1e3)}Hr.toUTCDate=l;function u(g){return{year:g.year,month:g.month}}Hr.trimToYearMonthDuration=u;function c(g){return{day:g.day,hours:g.hours,minutes:g.minutes,seconds:g.seconds}}Hr.trimToDayTimeDuration=c;function d(g){return g.year*12+g.month}Hr.yearMonthDurationsToMonths=d;function f(g){return((g.day*24+g.hours)*60+g.minutes)*60+g.seconds}Hr.dayTimeDurationsToSeconds=f;function h(g){return/(Z|([+-]\d\d:\d\d))?$/u.exec(g)[0]}Hr.extractRawTimeZone=h;function p(g){return{zoneHours:g.getTimezoneOffset()/60,zoneMinutes:g.getTimezoneOffset()%60}}return Hr.extractTimeZone=p,Hr}var tu={},dH;function vte(){if(dH)return tu;dH=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.elapsedDuration=tu.addDurationToDateTime=tu.maximumDayInMonthFor=void 0;const e=H0();function t(a,o,s=0){const l=a-s,u=o-s,c=Math.floor(l/u);return{intDiv:c,remainder:a-c*u}}function i(a,o){const{intDiv:s,remainder:l}=t(o,13,1),u=a+s;return[1,3,5,7,8,10,12].includes(l)?31:[4,6,9,11].includes(l)?30:l===2&&(t(u,400).remainder===0||t(u,100).remainder!==0&&t(u,4).remainder===0)?29:28}tu.maximumDayInMonthFor=i;function r(a,o){const s={...a};let l=t(a.month+o.month,13,1);for(s.month=l.remainder,s.year=a.year+o.year+l.intDiv,l=t(a.seconds+o.seconds,60),s.seconds=l.remainder,l=t(a.minutes+o.minutes+l.intDiv,60),s.minutes=l.remainder,l=t(a.hours+o.hours+l.intDiv,24),s.hours=l.remainder,s.day=a.day+o.day+l.intDiv;;){let u;if(s.day<1)s.day+=i(s.year,s.month-1),u=-1;else if(s.day>i(s.year,s.month))s.day-=i(s.year,s.month),u=1;else break;l=t(s.month+u,13,1),s.month=l.remainder,s.year+=l.intDiv}return s}tu.addDurationToDateTime=r;function n(a,o,s){const l=(0,e.toUTCDate)(a,s),u=(0,e.toUTCDate)(o,s),c=l.getTime()-u.getTime();return{day:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(c%(1e3*60*60)/(1e3*60)),seconds:c%(1e3*60)}}return tu.elapsedDuration=n,tu}var fH;function AI(){if(fH)return ei;fH=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.parseDayTimeDuration=ei.parseYearMonthDuration=ei.parseDuration=ei.parseTime=ei.parseDate=ei.parseDateTime=ei.parseXSDInteger=ei.parseXSDDecimal=ei.parseXSDFloat=void 0;const e=H0(),t=Vi(),i=vte();function r(p){const g=Number(p);return Number.isNaN(g)?p==="NaN"?Number.NaN:p==="INF"||p==="+INF"?Number.POSITIVE_INFINITY:p==="-INF"?Number.NEGATIVE_INFINITY:void 0:g}ei.parseXSDFloat=r;function n(p){const g=Number(p);return Number.isNaN(g)?void 0:g}ei.parseXSDDecimal=n;function a(p){const g=Number.parseInt(p,10);return Number.isNaN(g)?void 0:g}ei.parseXSDInteger=a;function o(p){const[g,m]=p.split("T");return{...l(g),...u(m)}}ei.parseDateTime=o;function s(p){if(p==="")return{zoneHours:void 0,zoneMinutes:void 0};if(p==="Z")return{zoneHours:0,zoneMinutes:0};const m=p.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:m[0]*m[1],zoneMinutes:m[0]*m[2]}}function l(p){const g=p.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(g===p)throw new t.ParseError(p,"date");const m=g.split("!"),y=m.slice(0,-1).map(Number),v={year:y[0]*y[1],month:y[2],day:y[3],...s(m[4])};if(!(v.month>=1&&v.month<=12)||!(v.day>=1&&v.day<=(0,i.maximumDayInMonthFor)(v.year,v.month)))throw new t.ParseError(p,"date");return v}ei.parseDate=l;function u(p){const g=p.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(g===p)throw new t.ParseError(p,"time");const m=g.split("!"),y=m.slice(0,-1).map(Number),v={hours:y[0],minutes:y[1],seconds:y[2],...s(m[3])};if(v.seconds>=60||v.minutes>=60||v.hours>24||v.hours===24&&(v.minutes!==0||v.seconds!==0))throw new t.ParseError(p,"time");return v}function c(p){const g=u(p);return g.hours%=24,g}ei.parseTime=c;function d(p){const[g,m]=p.split("T"),y=g.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(y===g)throw new t.ParseError(p,"duration");const v=y.split("!");if(m!==void 0){const w=m.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(m===""||m===w)throw new t.ParseError(p,"duration");v.push(...w.split("!"))}const b=v.map(w=>w.slice(0,-1));if(!b.slice(1).some(Boolean))throw new t.ParseError(p,"duration");const _=Number(b[0]);return(0,e.simplifyDurationRepresentation)({year:b[1]?_*Number(b[1]):void 0,month:b[2]?_*Number(b[2]):void 0,day:b[3]?_*Number(b[3]):void 0,hours:b[4]?_*Number(b[4]):void 0,minutes:b[5]?_*Number(b[5]):void 0,seconds:b[6]?_*Number(b[6]):void 0})}ei.parseDuration=d;function f(p){const g=d(p);if(["hours","minutes","seconds","day"].some(m=>!!g[m]))throw new t.ParseError(p,"yearMonthDuration");return g}ei.parseYearMonthDuration=f;function h(p){const g=d(p);if(["year","month"].some(m=>!!g[m]))throw new t.ParseError(p,"dayTimeDuration");return g}return ei.parseDayTimeDuration=h,ei}var sP={},vn={},$1={},hH;function bte(){if(hH)return $1;hH=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.OverloadTree=void 0;const e=Za(),t=v3();let i=class TI{constructor(n,a){this.identifier=n,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=a??0,this.promotionCount=void 0}getSubtree(n){const a=(0,t.asGeneralType)(n);if(a)return this.generalOverloads[a];for(const[o,s]of this.literalOverLoads)if(n===o)return s}getImplementationExact(n){let a=this;for(const o of n)if(a=a.getSubtree(o),!a)return;return a.implementation}search(n,a,o){let s=o[this.identifier],l=0;for(;l<n.length&&(s!=null&&s.cache);){const d=n[l],f=(0,e.isLiteralTermExpression)(d);s=s.cache[f?f.dataType:d.termType],l++}if(l===n.length&&(s!=null&&s.func))return s.func;const u=[],c=0;if(n.length===0)return this.implementation;for(u.push(...this.getSubTreeWithArg(n[c],a).map(d=>({node:d,index:c+1})));u.length>0;){const{index:d,node:f}=u.pop();if(d===n.length&&f.implementation)return this.addToCache(o,n,f.implementation),f.implementation;u.push(...f.getSubTreeWithArg(n[d],a).map(h=>({node:h,index:d+1})))}}addToCache(n,a,o){function s(u,c){return c in u||(u[c]={}),u[c]}let l=s(n,this.identifier);for(const u of a){const c=(0,e.isLiteralTermExpression)(u),d=c?c.dataType:u.termType;l.cache=l.cache??{},l=s(l.cache,d)}l.func=o}addOverload(n,a){this._addOverload([...n],a,0)}_addOverload(n,a,o){const[s,...l]=n;if(!s){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=a);return}let u=this.getSubtree(s);if(!u){const c=new TI(this.identifier,this.depth+1),d=(0,t.asGeneralType)(s);d&&(this.generalOverloads[d]=c);const f=(0,t.asOverrideType)(s);f&&this.literalOverLoads.push([f,c]),u=c}if(u._addOverload(l,a,o),t.typePromotion[s])for(const c of t.typePromotion[s])this.addPromotedOverload(c.typeToPromote,a,c.conversionFunction,l,o)}addPromotedOverload(n,a,o,s,l){let u=this.getSubtree(n);if(!u){const c=new TI(this.identifier,this.depth+1);this.literalOverLoads.push([n,c]),u=c}u._addOverload(s,c=>d=>a(c)([...d.slice(0,this.depth),o(d[this.depth]),...d.slice(this.depth+1,d.length)]),l+1)}getSubTreeWithArg(n,a){const o=[],s=(0,e.isLiteralTermExpression)(n);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[n.termType]&&o.push(this.generalOverloads[n.termType]),s){const l=(0,t.asKnownLiteralType)(s.dataType);let u;l?u=t.superTypeDictTable[l]:u=(0,t.getSuperTypes)(s.dataType,a);const c=this.literalOverLoads.filter(([d,f])=>d in u).map(([d,f])=>[u[d],f]);c.sort(([d,f],[h,p])=>d-h),o.push(...c.map(([d,f])=>f))}return o}};return $1.OverloadTree=i,$1}var pH;function Fs(){if(pH)return vn;pH=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.expressionToVar=vn.dateTime=vn.langString=vn.string=vn.double=vn.float=vn.decimal=vn.integer=vn.bool=vn.Builder=vn.declare=void 0;const e=yr(),t=Za(),i=Za(),r=Ra(),n=Ra(),a=Vi(),o=bte(),s=new e.DataFactory;function l(b){return new u(b)}vn.declare=l;class u{constructor(_){this.overloadTree=new o.OverloadTree(_),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(_){return w=>T=>{for(const[R,F]of T.entries())if(F instanceof i.NonLexicalLiteral)throw new a.InvalidLexicalForm(T[R].toRDF());return _(w)(T)}}set(_,w,T=!0){return this.overloadTree.addOverload(_,T?u.wrapInvalidLexicalProtected(w):w),this}copy({from:_,to:w}){const T=this.overloadTree.getImplementationExact(_);if(!T)throw new a.UnexpectedError("Tried to copy implementation, but types not found",{from:_,to:w});return this.set(w,T)}onUnary(_,w,T=!0){return this.set([_],R=>([F])=>w(R)(F),T)}onUnaryTyped(_,w,T=!0){return this.set([_],R=>([F])=>w(R)(F.typedValue),T)}onBinary(_,w,T=!0){return this.set(_,R=>([F,D])=>w(R)(F,D),T)}onBinaryTyped(_,w,T=!0){return this.set(_,R=>([F,D])=>w(R)(F.typedValue,D.typedValue),T)}onTernaryTyped(_,w,T=!0){return this.set(_,R=>([F,D,A])=>w(R)(F.typedValue,D.typedValue,A.typedValue),T)}onTernary(_,w,T=!0){return this.set(_,R=>([F,D,A])=>w(R)(F,D,A),T)}onQuaternaryTyped(_,w,T=!0){return this.set(_,R=>([F,D,A,x])=>w(R)(F.typedValue,D.typedValue,A.typedValue,x.typedValue),T)}onTerm1(_,w=!1){return this.set(["term"],T=>([R])=>_(T)(R),w)}onTerm3(_){return this.set(["term","term","term"],w=>([T,R,F])=>_(w)(T,R,F))}onQuad1(_){return this.set(["quad"],w=>([T])=>_(w)(T))}onLiteral1(_,w=!0){return this.set(["literal"],T=>([R])=>_(T)(R),w)}onBoolean1(_,w=!0){return this.set([r.TypeURL.XSD_BOOLEAN],T=>([R])=>_(T)(R),w)}onBoolean1Typed(_,w=!0){return this.set([r.TypeURL.XSD_BOOLEAN],T=>([R])=>_(T)(R.typedValue),w)}onString1(_,w=!0){return this.set([r.TypeURL.XSD_STRING],T=>([R])=>_(T)(R),w)}onString1Typed(_,w=!0){return this.set([r.TypeURL.XSD_STRING],T=>([R])=>_(T)(R.typedValue),w)}onLangString1(_,w=!0){return this.set([r.TypeURL.RDF_LANG_STRING],T=>([R])=>_(T)(R),w)}onStringly1(_,w=!0){return this.set([r.TypeAlias.SPARQL_STRINGLY],T=>([R])=>_(T)(R),w)}onStringly1Typed(_,w=!0){return this.set([r.TypeAlias.SPARQL_STRINGLY],T=>([R])=>_(T)(R.typedValue),w)}onNumeric1(_,w=!0){return this.set([r.TypeAlias.SPARQL_NUMERIC],T=>([R])=>_(T)(R),w)}onDateTime1(_,w=!0){return this.set([r.TypeURL.XSD_DATE_TIME],T=>([R])=>_(T)(R),w)}numericConverter(_,w=!0){const T=R=>F=>_(R)(F.typedValue);return this.onUnary(n.TypeURL.XSD_INTEGER,R=>F=>d(T(R)(F)),w).onUnary(n.TypeURL.XSD_DECIMAL,R=>F=>f(T(R)(F)),w).onUnary(n.TypeURL.XSD_FLOAT,R=>F=>h(T(R)(F)),w).onUnary(n.TypeURL.XSD_DOUBLE,R=>F=>p(T(R)(F)),w)}arithmetic(_,w=!0){const T=R=>(F,D)=>_(R)(F.typedValue,D.typedValue);return this.onBinary([n.TypeURL.XSD_INTEGER,n.TypeURL.XSD_INTEGER],R=>(F,D)=>d(T(R)(F,D)),w).onBinary([n.TypeURL.XSD_DECIMAL,n.TypeURL.XSD_DECIMAL],R=>(F,D)=>f(T(R)(F,D)),w).onBinary([n.TypeURL.XSD_FLOAT,n.TypeURL.XSD_FLOAT],R=>(F,D)=>h(T(R)(F,D)),w).onBinary([n.TypeURL.XSD_DOUBLE,n.TypeURL.XSD_DOUBLE],R=>(F,D)=>p(T(R)(F,D)),w)}numberTest(_){return this.numeric(w=>([T,R])=>{const F=_(w)(T.typedValue,R.typedValue);return c(F)})}stringTest(_,w=!0){return this.set([r.TypeURL.XSD_STRING,r.TypeURL.XSD_STRING],T=>([R,F])=>{const D=_(T)(R.typedValue,F.typedValue);return c(D)},w)}booleanTest(_,w=!0){return this.set([r.TypeURL.XSD_BOOLEAN,r.TypeURL.XSD_BOOLEAN],T=>([R,F])=>{const D=_(T)(R.typedValue,F.typedValue);return c(D)},w)}dateTimeTest(_,w=!0){return this.set([r.TypeURL.XSD_DATE_TIME,r.TypeURL.XSD_DATE_TIME],T=>([R,F])=>{const D=_(T)(R.typedValue,F.typedValue);return c(D)},w)}numeric(_){return this.set([r.TypeAlias.SPARQL_NUMERIC,r.TypeAlias.SPARQL_NUMERIC],_)}}vn.Builder=u;function c(b){return new t.BooleanLiteral(b)}vn.bool=c;function d(b){return new t.IntegerLiteral(b)}vn.integer=d;function f(b){return new t.DecimalLiteral(b)}vn.decimal=f;function h(b){return new t.FloatLiteral(b)}vn.float=h;function p(b){return new t.DoubleLiteral(b)}vn.double=p;function g(b){return new t.StringLiteral(b)}vn.string=g;function m(b,_){return new t.LangStringLiteral(b,_)}vn.langString=m;function y(b,_){return new t.DateTimeLiteral(b,_)}vn.dateTime=y;function v(b){return s.variable(b.name.slice(1))}return vn.expressionToVar=v,vn}var gH;function v3(){return gH||(gH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.typePromotion=e.isSubTypeOf=e.getSuperTypeDict=e.isInternalSubType=e.asGeneralType=e.asOverrideType=e.asKnownLiteralType=e.asTypeAlias=e.typeAliasCheck=e.extensionTableInit=e.getSuperTypes=e.superTypeDictTable=e.extensionTableInput=void 0;const t=Za(),i=Fs(),r=Ra();e.extensionTableInput={[r.TypeURL.XSD_DATE_TIME_STAMP]:r.TypeURL.XSD_DATE_TIME,[r.TypeURL.XSD_DAY_TIME_DURATION]:r.TypeURL.XSD_DURATION,[r.TypeURL.XSD_YEAR_MONTH_DURATION]:r.TypeURL.XSD_DURATION,[r.TypeURL.RDF_LANG_STRING]:r.TypeAlias.SPARQL_STRINGLY,[r.TypeURL.XSD_STRING]:r.TypeAlias.SPARQL_STRINGLY,[r.TypeURL.XSD_NORMALIZED_STRING]:r.TypeURL.XSD_STRING,[r.TypeURL.XSD_TOKEN]:r.TypeURL.XSD_NORMALIZED_STRING,[r.TypeURL.XSD_LANGUAGE]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NM_TOKEN]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NAME]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NC_NAME]:r.TypeURL.XSD_NAME,[r.TypeURL.XSD_ENTITY]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_ID]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_ID_REF]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_DOUBLE]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_FLOAT]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_DECIMAL]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_INTEGER]:r.TypeURL.XSD_DECIMAL,[r.TypeURL.XSD_NON_POSITIVE_INTEGER]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_NEGATIVE_INTEGER]:r.TypeURL.XSD_NON_POSITIVE_INTEGER,[r.TypeURL.XSD_LONG]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_INT]:r.TypeURL.XSD_LONG,[r.TypeURL.XSD_SHORT]:r.TypeURL.XSD_INT,[r.TypeURL.XSD_BYTE]:r.TypeURL.XSD_SHORT,[r.TypeURL.XSD_NON_NEGATIVE_INTEGER]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_POSITIVE_INTEGER]:r.TypeURL.XSD_NON_NEGATIVE_INTEGER,[r.TypeURL.XSD_UNSIGNED_LONG]:r.TypeURL.XSD_NON_NEGATIVE_INTEGER,[r.TypeURL.XSD_UNSIGNED_INT]:r.TypeURL.XSD_UNSIGNED_LONG,[r.TypeURL.XSD_UNSIGNED_SHORT]:r.TypeURL.XSD_UNSIGNED_INT,[r.TypeURL.XSD_UNSIGNED_BYTE]:r.TypeURL.XSD_UNSIGNED_SHORT,[r.TypeURL.XSD_DATE_TIME]:"term",[r.TypeURL.XSD_BOOLEAN]:"term",[r.TypeURL.XSD_DATE]:"term",[r.TypeURL.XSD_G_MONTH]:"term",[r.TypeURL.XSD_G_MONTHDAY]:"term",[r.TypeURL.XSD_G_YEAR]:"term",[r.TypeURL.XSD_G_YEAR_MONTH]:"term",[r.TypeURL.XSD_TIME]:"term",[r.TypeURL.XSD_G_DAY]:"term",[r.TypeURL.XSD_DURATION]:"term",[r.TypeAlias.SPARQL_NUMERIC]:"term",[r.TypeAlias.SPARQL_STRINGLY]:"term",[r.TypeURL.XSD_ANY_URI]:"term"},e.superTypeDictTable=Object.create(null);function n(g,m){const y=m.cache.get(g);if(y)return y;const v=m.discoverer(g);if(v==="term"){const w=Object.create(null);return w.__depth=0,w[g]=0,m.cache.set(g,w),w}let b;const _=u(v);return _?b={...e.superTypeDictTable[_]}:b={...n(v,m)},b.__depth++,b[g]=b.__depth,m.cache.set(g,b),b}e.getSuperTypes=n;function a(){for(const[g,m]of Object.entries(e.extensionTableInput)){const y=g;e.superTypeDictTable[y]||o(y,m,e.superTypeDictTable)}}e.extensionTableInit=a,a();function o(g,m,y){if(m==="term"||m===void 0){const v=Object.create(null);v.__depth=0,v[g]=0,y[g]=v;return}y[m]||o(m,e.extensionTableInput[m],y),y[g]={...y[m],[g]:y[m].__depth+1,__depth:y[m].__depth+1}}e.typeAliasCheck=Object.create(null);function s(){for(const g of Object.values(r.TypeAlias))e.typeAliasCheck[g]=!0}s();function l(g){if(g in e.typeAliasCheck)return g}e.asTypeAlias=l;function u(g){if(g in e.superTypeDictTable)return g}e.asKnownLiteralType=u;function c(g){if(u(g)??g==="term")return g}e.asOverrideType=c;function d(g){if(g==="term"||(0,t.asTermType)(g))return g}e.asGeneralType=d;function f(g,m){return g!=="term"&&e.superTypeDictTable[g]&&e.superTypeDictTable[g][m]!==void 0}e.isInternalSubType=f;function h(g,m){const y=u(g);return y?e.superTypeDictTable[y]:n(g,m)}e.getSuperTypeDict=h;function p(g,m,y){return g==="term"?!1:h(g,y)[m]!==void 0}e.isSubTypeOf=p,e.typePromotion={[r.TypeURL.XSD_STRING]:[{typeToPromote:r.TypeURL.XSD_ANY_URI,conversionFunction:g=>(0,i.string)(g.str())}],[r.TypeURL.XSD_DOUBLE]:[{typeToPromote:r.TypeURL.XSD_FLOAT,conversionFunction:g=>(0,i.double)(g.typedValue)},{typeToPromote:r.TypeURL.XSD_DECIMAL,conversionFunction:g=>(0,i.double)(g.typedValue)}],[r.TypeURL.XSD_FLOAT]:[{typeToPromote:r.TypeURL.XSD_DECIMAL,conversionFunction:g=>(0,i.float)(g.typedValue)}]}}(sP)),sP}var mH;function Gp(){if(mH)return H1;mH=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.TermTransformer=void 0;const e=nn(),t=vr(),i=Za(),r=Ra(),n=Vi(),a=Vi(),o=AI(),s=AI(),l=v3();let u=class{constructor(d){this.superTypeProvider=d}transformRDFTermUnsafe(d){return this.transformTerm({term:d,type:t.Algebra.types.EXPRESSION,expressionType:t.Algebra.expressionTypes.TERM})}transformTerm(d){if(!d.term)throw new n.InvalidExpression(d);switch(d.term.termType){case"Variable":return new i.Variable(e.termToString(d.term));case"Literal":return this.transformLiteral(d.term);case"NamedNode":return new i.NamedNode(d.term.value);case"BlankNode":return new i.BlankNode(d.term.value);case"Quad":return new i.Quad(d.term,this.superTypeProvider);default:throw new n.InvalidTermType(d)}}transformLiteral(d){if(!d.datatype||[null,void 0,""].includes(d.datatype.value))return d.language?new i.LangStringLiteral(d.value,d.language):new i.StringLiteral(d.value);const f=d.datatype.value,h=(0,l.getSuperTypeDict)(f,this.superTypeProvider);try{if(r.TypeURL.XSD_STRING in h)return new i.StringLiteral(d.value,f);if(r.TypeURL.RDF_LANG_STRING in h)return new i.LangStringLiteral(d.value,d.language);if(r.TypeURL.XSD_YEAR_MONTH_DURATION in h)return new i.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(d.value),d.value,f);if(r.TypeURL.XSD_DAY_TIME_DURATION in h)return new i.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(d.value),d.value,f);if(r.TypeURL.XSD_DURATION in h)return new i.DurationLiteral((0,o.parseDuration)(d.value),d.value,f);if(r.TypeURL.XSD_DATE_TIME in h){const m=new Date(d.value);return Number.isNaN(m.getTime())?new i.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):new i.DateTimeLiteral((0,o.parseDateTime)(d.value),d.value,f)}if(r.TypeURL.XSD_DATE in h)return new i.DateLiteral((0,o.parseDate)(d.value),d.value,f);if(r.TypeURL.XSD_TIME in h)return new i.TimeLiteral((0,o.parseTime)(d.value),d.value,f);if(r.TypeURL.XSD_BOOLEAN in h)return d.value!=="true"&&d.value!=="false"&&d.value!=="1"&&d.value!=="0"?new i.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):new i.BooleanLiteral(d.value==="true"||d.value==="1",d.value);if(r.TypeURL.XSD_DECIMAL in h){const m=s.parseXSDDecimal(d.value);return m===void 0?new i.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):r.TypeURL.XSD_INTEGER in h?new i.IntegerLiteral(m,f,d.value):new i.DecimalLiteral(m,f,d.value)}const p=r.TypeURL.XSD_FLOAT in h,g=r.TypeURL.XSD_DOUBLE in h;if(p||g){const m=s.parseXSDFloat(d.value);return m===void 0?new i.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):p?new i.FloatLiteral(m,f,d.value):new i.DoubleLiteral(m,f,d.value)}return new i.Literal(d.value,f,d.value)}catch(p){if(p instanceof Error&&(0,a.isExpressionError)(p))return new i.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value);throw p}}};return H1.TermTransformer=u,H1}var Lo={},yH;function wSe(){if(yH)return Lo;yH=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.serializeDuration=Lo.serializeTime=Lo.serializeDate=Lo.serializeDateTime=void 0;function e(o,s=2){return o.toLocaleString(void 0,{minimumIntegerDigits:s,useGrouping:!1})}function t(o){return`${r({year:o.year,month:o.month,day:o.day})}T${n(o)}`}Lo.serializeDateTime=t;function i(o){return o.zoneHours===void 0||o.zoneMinutes===void 0?"":o.zoneHours===0&&o.zoneMinutes===0?"Z":`${o.zoneHours>=0?`+${e(o.zoneHours)}`:e(o.zoneHours)}:${e(Math.abs(o.zoneMinutes))}`}function r(o){return`${e(o.year,4)}-${e(o.month)}-${e(o.day)}${i(o)}`}Lo.serializeDate=r;function n(o){return`${e(o.hours)}:${e(o.minutes)}:${e(o.seconds)}${i(o)}`}Lo.serializeTime=n;function a(o,s="PT0S"){if(!Object.values(o).some(m=>(m||0)!==0))return s;const l=Object.values(o).some(m=>(m||0)<0)?"-":"",u=o.year?`${Math.abs(o.year)}Y`:"",c=o.month?`${Math.abs(o.month)}M`:"",d=o.day?`${Math.abs(o.day)}D`:"",f=`${l}P${u}${c}${d}`;if(!(o.hours||o.minutes||o.seconds))return f;const h=o.hours?`${Math.abs(o.hours)}H`:"",p=o.minutes?`${Math.abs(o.minutes)}M`:"",g=o.seconds?`${Math.abs(o.seconds)}S`:"";return`${f}T${h}${p}${g}`}return Lo.serializeDuration=a,Lo}var vH;function SSe(){if(vH)return mr;vH=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.isNonLexicalLiteral=mr.NonLexicalLiteral=mr.YearMonthDurationLiteral=mr.DayTimeDurationLiteral=mr.DurationLiteral=mr.DateLiteral=mr.TimeLiteral=mr.DateTimeLiteral=mr.StringLiteral=mr.LangStringLiteral=mr.BooleanLiteral=mr.DoubleLiteral=mr.FloatLiteral=mr.DecimalLiteral=mr.IntegerLiteral=mr.NumericLiteral=mr.Literal=mr.isLiteralTermExpression=mr.Quad=mr.BlankNode=mr.NamedNode=mr.Term=void 0;const e=yr(),t=Gp(),i=Ra(),r=Ra(),n=Vi(),a=wSe(),o=v3(),s=Ns(),l=new e.DataFactory;let u=class{constructor(){this.expressionType=s.ExpressionType.Term}str(){throw new n.InvalidArgumentTypes([this],i.RegularOperator.STR)}coerceEBV(){throw new n.EBVCoercionError(this)}};mr.Term=u;class c extends u{constructor($){super(),this.value=$,this.termType="namedNode"}toRDF(){return l.namedNode(this.value)}str(){return this.value}}mr.NamedNode=c;class d extends u{constructor($){super(),this.termType="blankNode",this.value=typeof $=="string"?l.blankNode($):$}toRDF(){return this.value}}mr.BlankNode=d;class f extends u{constructor($,te){super(),this.termType="quad",this.transformer=new t.TermTransformer(te),this.valueTerm=$}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}mr.Quad=f;function h(M){if(M.termType==="literal")return M}mr.isLiteralTermExpression=h;class p extends u{constructor($,te,re,oe){super(),this.typedValue=$,this.dataType=te,this.strValue=re,this.language=oe,this.termType="literal"}toRDF(){return l.literal(this.strValue??this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}mr.Literal=p;class g extends p{constructor($,te,re,oe){super($,te,re,oe),this.typedValue=$,this.strValue=re,this.language=oe}coerceEBV(){return!!this.typedValue}toRDF(){const $=super.toRDF();return Number.isFinite(this.typedValue)||($.value=$.value.replace("Infinity","INF")),$}str(){return this.strValue??this.specificFormatter(this.typedValue)}}mr.NumericLiteral=g;class m extends g{constructor($,te,re,oe){super($,te??r.TypeURL.XSD_INTEGER,re,oe),this.typedValue=$,this.strValue=re,this.language=oe}specificFormatter($){return $.toFixed(0)}}mr.IntegerLiteral=m;class y extends g{constructor($,te,re,oe){super($,te??r.TypeURL.XSD_DECIMAL,re,oe),this.typedValue=$,this.strValue=re,this.language=oe}specificFormatter($){return $.toString()}}mr.DecimalLiteral=y;class v extends g{constructor($,te,re,oe){super($,te??r.TypeURL.XSD_FLOAT,re,oe),this.typedValue=$,this.strValue=re,this.language=oe}specificFormatter($){return $.toString()}}mr.FloatLiteral=v;class b extends g{constructor($,te,re,oe){super($,te??r.TypeURL.XSD_DOUBLE,re,oe),this.typedValue=$,this.strValue=re,this.language=oe}specificFormatter($){if(!Number.isFinite($))return $>0?"INF":$<0?"-INF":"NaN";const te=$.toExponential(),[re,oe]=te.split("e"),J=oe.replace(/\+/u,"");return`${re.includes(".")?re:`${re}.0`}E${J}`}}mr.DoubleLiteral=b;class _ extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_BOOLEAN,te),this.typedValue=$,this.strValue=te}coerceEBV(){return this.typedValue}}mr.BooleanLiteral=_;class w extends p{constructor($,te,re){super($,re??r.TypeURL.RDF_LANG_STRING,$,te),this.typedValue=$,this.language=te}coerceEBV(){return this.str().length>0}}mr.LangStringLiteral=w;class T extends p{constructor($,te){super($,te??r.TypeURL.XSD_STRING,$),this.typedValue=$}coerceEBV(){return this.str().length>0}}mr.StringLiteral=T;class R extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_DATE_TIME,te),this.typedValue=$,this.strValue=te}str(){return(0,a.serializeDateTime)(this.typedValue)}}mr.DateTimeLiteral=R;class F extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_TIME,te),this.typedValue=$,this.strValue=te}str(){return(0,a.serializeTime)(this.typedValue)}}mr.TimeLiteral=F;class D extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_DATE,te),this.typedValue=$,this.strValue=te}str(){return(0,a.serializeDate)(this.typedValue)}}mr.DateLiteral=D;class A extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_DURATION,te),this.typedValue=$,this.strValue=te}str(){return(0,a.serializeDuration)(this.typedValue)}}mr.DurationLiteral=A;class x extends A{constructor($,te,re){super($,te,re??r.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=$,this.strValue=te}}mr.DayTimeDurationLiteral=x;class N extends p{constructor($,te,re){super($,re??r.TypeURL.XSD_YEAR_MONTH_DURATION,te),this.typedValue=$,this.strValue=te}str(){return(0,a.serializeDuration)(this.typedValue,"P0M")}}mr.YearMonthDurationLiteral=N;class j extends p{constructor($,te,re,oe,J){super({toString:()=>"undefined"},te,oe,J),this.openWorldType=re}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,r.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,r.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new n.EBVCoercionError(this)}toRDF(){return l.literal(this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??""}}mr.NonLexicalLiteral=j;function H(M){if(M instanceof j)return M}return mr.isNonLexicalLiteral=H,mr}var Q1={},bH;function ASe(){if(bH)return Q1;bH=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.Operator=void 0;const e=Ns();let t=class{constructor(r,n){this.args=r,this.apply=n,this.expressionType=e.ExpressionType.Operator}};return Q1.Operator=t,Q1}var z1={},_H;function TSe(){if(_H)return z1;_H=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.SpecialOperator=void 0;const e=Ns();let t=class{constructor(r,n,a){this.args=r,this.applyAsync=n,this.applySynchronously=a,this.expressionType=e.ExpressionType.SpecialOperator}};return z1.SpecialOperator=t,z1}var G1={},wH;function ESe(){if(wH)return G1;wH=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.Named=void 0;const e=Ns();let t=class{constructor(r,n,a){this.name=r,this.args=n,this.apply=a,this.expressionType=e.ExpressionType.Named}};return G1.Named=t,G1}var W1={},SH;function xSe(){if(SH)return W1;SH=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.Aggregate=void 0;const e=Ns();let t=class{constructor(r,n){this.name=r,this.expression=n,this.expressionType=e.ExpressionType.Aggregate}};return W1.Aggregate=t,W1}var K1={},AH;function RSe(){if(AH)return K1;AH=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.Existence=void 0;const e=Ns();let t=class{constructor(r){this.expression=r,this.expressionType=e.ExpressionType.Existence}};return K1.Existence=t,K1}var J1={},TH;function OSe(){if(TH)return J1;TH=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.AsyncExtension=void 0;const e=Ns();let t=class{constructor(r,n,a){this.name=r,this.args=n,this.apply=a,this.expressionType=e.ExpressionType.AsyncExtension}};return J1.AsyncExtension=t,J1}var X1={},EH;function PSe(){if(EH)return X1;EH=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.SyncExtension=void 0;const e=Ns();let t=class{constructor(r,n,a){this.name=r,this.args=n,this.apply=a,this.expressionType=e.ExpressionType.SyncExtension}};return X1.SyncExtension=t,X1}var xH;function Za(){return xH||(xH=1,function(e){var t=bh&&bh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=bh&&bh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Ns(),e),i(_Se(),e),i(SSe(),e),i(ASe(),e),i(TSe(),e),i(ESe(),e),i(xSe(),e),i(RSe(),e),i(OSe(),e),i(PSe(),e)}(bh)),bh}var wh={},Mo={},RH;function EI(){if(RH)return Mo;RH=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.SpecialFunction=Mo.NamedFunction=Mo.RegularFunction=Mo.BaseFunction=void 0;const e=Vi();class t{constructor(s,l){this.operator=s,this.apply=(u,c)=>(this.monomorph(u,c.superTypeProvider,c.functionArgumentsCache)??this.handleInvalidTypes(u))(c)(u),this.arity=l.arity,this.overloads=l.overloads}monomorph(s,l,u){return this.overloads.search(s,l,u)}}Mo.BaseFunction=t;class i extends t{constructor(s,l){super(s,l),this.functionClass="regular"}handleInvalidTypes(s){throw new e.InvalidArgumentTypes(s,this.operator)}}Mo.RegularFunction=i;class r extends t{constructor(s,l){super(s,l),this.functionClass="named"}handleInvalidTypes(s){throw new e.InvalidArgumentTypes(s,this.operator)}}Mo.NamedFunction=r;class n{constructor(s,l){this.operator=s,this.functionClass="special",this.arity=l.arity,this.applySynchronously=l.applySynchronously,this.applyAsync=l.applyAsync,this.checkArity=l.checkArity??a(this.arity)}}Mo.SpecialFunction=n;function a(o){return s=>o===Number.POSITIVE_INFINITY?!0:s.length===o}return Mo}var Y1={},OH;function ISe(){if(OH)return Y1;OH=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.namedDefinitions=void 0;const e=Za(),t=Za(),i=Ra(),r=H0(),n=Vi(),a=AI(),o=Fs(),s={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_STRING).onNumeric1(()=>b=>(0,o.string)((0,o.float)(b.typedValue).str())).onBoolean1Typed(()=>b=>(0,o.string)((0,o.bool)(b).str())).onTerm1(()=>b=>(0,o.string)(b.str())).collect()},l={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_FLOAT).onNumeric1(()=>b=>(0,o.float)(b.typedValue)).onBoolean1Typed(()=>b=>(0,o.float)(b?1:0)).onUnary(i.TypeURL.XSD_STRING,()=>b=>{const _=(0,a.parseXSDFloat)(b.str());if(_===void 0)throw new n.CastError(b,i.TypeURL.XSD_FLOAT);return(0,o.float)(_)},!1).collect()},u={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DOUBLE).onNumeric1(()=>b=>(0,o.double)(b.typedValue)).onBoolean1Typed(()=>b=>(0,o.double)(b?1:0)).onUnary(i.TypeURL.XSD_STRING,()=>b=>{const _=(0,a.parseXSDFloat)(b.str());if(_===void 0)throw new n.CastError(b,i.TypeURL.XSD_DOUBLE);return(0,o.double)(_)},!1).collect()},c={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DECIMAL).onNumeric1(()=>b=>{const _=(0,a.parseXSDDecimal)(b.str());if(_===void 0)throw new n.CastError(b,i.TypeURL.XSD_DECIMAL);return(0,o.decimal)(_)}).onString1(()=>b=>{const _=b.str(),w=/^([+-])?(\d+(\.\d+)?)$/u.test(_)?(0,a.parseXSDDecimal)(_):void 0;if(w===void 0)throw new n.CastError(b,i.TypeURL.XSD_DECIMAL);return(0,o.decimal)(w)},!1).onBoolean1Typed(()=>b=>(0,o.decimal)(b?1:0)).collect()},d={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>b=>(0,o.integer)(b?1:0)).onNumeric1(()=>b=>{const _=(0,a.parseXSDInteger)(b.str());if(_===void 0)throw new n.CastError(b,i.TypeURL.XSD_INTEGER);return(0,o.integer)(_)},!1).onString1(()=>b=>{const _=b.str(),w=/^\d+$/u.test(_)?(0,a.parseXSDInteger)(_):void 0;if(w===void 0)throw new n.CastError(b,i.TypeURL.XSD_INTEGER);return(0,o.integer)(w)}).collect()},f={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DATE_TIME).onUnary(i.TypeURL.XSD_DATE_TIME,()=>b=>b).onUnary(i.TypeURL.XSD_STRING,()=>b=>(0,o.dateTime)((0,a.parseDateTime)(b.str()),b.str()),!1).onUnary(i.TypeURL.XSD_DATE,()=>b=>new e.DateTimeLiteral({...b.typedValue,hours:0,minutes:0,seconds:0})).collect()},h={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_BOOLEAN).onNumeric1(()=>b=>(0,o.bool)(b.coerceEBV()),!0).onUnary(i.TypeURL.XSD_BOOLEAN,()=>b=>(0,o.bool)(b.coerceEBV()),!0).onUnary(i.TypeURL.XSD_STRING,()=>b=>{switch(b.str()){case"true":return(0,o.bool)(!0);case"false":return(0,o.bool)(!1);case"1":return(0,o.bool)(!0);case"0":return(0,o.bool)(!1);default:throw new n.CastError(b,i.TypeURL.XSD_BOOLEAN)}},!1).collect()},p={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_TIME).onUnary(i.TypeURL.XSD_TIME,()=>b=>new e.TimeLiteral(b.typedValue,b.strValue)).onUnary(i.TypeURL.XSD_DATE_TIME,()=>b=>new e.TimeLiteral(b.typedValue)).onStringly1(()=>b=>new e.TimeLiteral((0,a.parseTime)(b.str()))).collect()},g={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DATE).onUnary(i.TypeURL.XSD_DATE,()=>b=>new e.DateLiteral(b.typedValue,b.strValue)).onUnary(i.TypeURL.XSD_DATE_TIME,()=>b=>new e.DateLiteral(b.typedValue)).onStringly1(()=>b=>new e.DateLiteral((0,a.parseDate)(b.str()))).collect()},m={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>b=>new e.DurationLiteral(b.typedValue,b.strValue)).onStringly1(()=>b=>new t.DurationLiteral((0,a.parseDuration)(b.str()))).collect()},y={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_DAY_TIME_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>b=>new e.DayTimeDurationLiteral((0,r.trimToDayTimeDuration)(b.typedValue))).onStringly1(()=>b=>new e.DayTimeDurationLiteral((0,a.parseDayTimeDuration)(b.str()))).collect()},v={arity:1,overloads:(0,o.declare)(i.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>b=>new e.YearMonthDurationLiteral((0,r.trimToYearMonthDuration)(b.typedValue))).onStringly1(()=>b=>new e.YearMonthDurationLiteral((0,a.parseYearMonthDuration)(b.str()))).collect()};return Y1.namedDefinitions={[i.TypeURL.XSD_STRING]:s,[i.TypeURL.XSD_FLOAT]:l,[i.TypeURL.XSD_DOUBLE]:u,[i.TypeURL.XSD_DECIMAL]:c,[i.TypeURL.XSD_INTEGER]:d,[i.TypeURL.XSD_DATE_TIME]:f,[i.TypeURL.XSD_DATE]:g,[i.TypeURL.XSD_BOOLEAN]:h,[i.TypeURL.XSD_TIME]:p,[i.TypeURL.XSD_DURATION]:m,[i.TypeURL.XSD_DAY_TIME_DURATION]:y,[i.TypeURL.XSD_YEAR_MONTH_DURATION]:v},Y1}var Z1={},MT={exports:{}},CSe=MT.exports,PH;function DSe(){return PH||(PH=1,function(e){(function(t){var i,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,a=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(T){var R,F,D,A=ae.prototype={constructor:ae,toString:null,valueOf:null},x=new ae(1),N=20,j=4,H=-7,M=21,$=-1e7,te=1e7,re=!1,oe=1,J=0,fe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},xe="0123456789abcdefghijklmnopqrstuvwxyz",de=!0;function ae(X,C){var E,S,I,k,Q,G,ne,ee,se=this;if(!(se instanceof ae))return new ae(X,C);if(C==null){if(X&&X._isBigNumber===!0){se.s=X.s,!X.c||X.e>te?se.c=se.e=null:X.e<$?se.c=[se.e=0]:(se.e=X.e,se.c=X.c.slice());return}if((G=typeof X=="number")&&X*0==0){if(se.s=1/X<0?(X=-X,-1):1,X===~~X){for(k=0,Q=X;Q>=10;Q/=10,k++);k>te?se.c=se.e=null:(se.e=k,se.c=[X]);return}ee=String(X)}else{if(!r.test(ee=String(X)))return D(se,ee,G);se.s=ee.charCodeAt(0)==45?(ee=ee.slice(1),-1):1}(k=ee.indexOf("."))>-1&&(ee=ee.replace(".","")),(Q=ee.search(/e/i))>0?(k<0&&(k=Q),k+=+ee.slice(Q+1),ee=ee.substring(0,Q)):k<0&&(k=ee.length)}else{if(v(C,2,xe.length,"Base"),C==10&&de)return se=new ae(X),pe(se,N+se.e+1,j);if(ee=String(X),G=typeof X=="number"){if(X*0!=0)return D(se,ee,G,C);if(se.s=1/X<0?(ee=ee.slice(1),-1):1,ae.DEBUG&&ee.replace(/^0\.0*|\./,"").length>15)throw Error(s+X)}else se.s=ee.charCodeAt(0)===45?(ee=ee.slice(1),-1):1;for(E=xe.slice(0,C),k=Q=0,ne=ee.length;Q<ne;Q++)if(E.indexOf(S=ee.charAt(Q))<0){if(S=="."){if(Q>k){k=ne;continue}}else if(!I&&(ee==ee.toUpperCase()&&(ee=ee.toLowerCase())||ee==ee.toLowerCase()&&(ee=ee.toUpperCase()))){I=!0,Q=-1,k=0;continue}return D(se,String(X),G,C)}G=!1,ee=F(ee,C,10,se.s),(k=ee.indexOf("."))>-1?ee=ee.replace(".",""):k=ee.length}for(Q=0;ee.charCodeAt(Q)===48;Q++);for(ne=ee.length;ee.charCodeAt(--ne)===48;);if(ee=ee.slice(Q,++ne)){if(ne-=Q,G&&ae.DEBUG&&ne>15&&(X>c||X!==a(X)))throw Error(s+se.s*X);if((k=k-Q-1)>te)se.c=se.e=null;else if(k<$)se.c=[se.e=0];else{if(se.e=k,se.c=[],Q=(k+1)%u,k<0&&(Q+=u),Q<ne){for(Q&&se.c.push(+ee.slice(0,Q)),ne-=u;Q<ne;)se.c.push(+ee.slice(Q,Q+=u));Q=u-(ee=ee.slice(Q)).length}else Q-=ne;for(;Q--;ee+="0");se.c.push(+ee)}}else se.c=[se.e=0]}ae.clone=p,ae.ROUND_UP=0,ae.ROUND_DOWN=1,ae.ROUND_CEIL=2,ae.ROUND_FLOOR=3,ae.ROUND_HALF_UP=4,ae.ROUND_HALF_DOWN=5,ae.ROUND_HALF_EVEN=6,ae.ROUND_HALF_CEIL=7,ae.ROUND_HALF_FLOOR=8,ae.EUCLID=9,ae.config=ae.set=function(X){var C,E;if(X!=null)if(typeof X=="object"){if(X.hasOwnProperty(C="DECIMAL_PLACES")&&(E=X[C],v(E,0,h,C),N=E),X.hasOwnProperty(C="ROUNDING_MODE")&&(E=X[C],v(E,0,8,C),j=E),X.hasOwnProperty(C="EXPONENTIAL_AT")&&(E=X[C],E&&E.pop?(v(E[0],-1e9,0,C),v(E[1],0,h,C),H=E[0],M=E[1]):(v(E,-1e9,h,C),H=-(M=E<0?-E:E))),X.hasOwnProperty(C="RANGE"))if(E=X[C],E&&E.pop)v(E[0],-1e9,-1,C),v(E[1],1,h,C),$=E[0],te=E[1];else if(v(E,-1e9,h,C),E)$=-(te=E<0?-E:E);else throw Error(o+C+" cannot be zero: "+E);if(X.hasOwnProperty(C="CRYPTO"))if(E=X[C],E===!!E)if(E)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=E;else throw re=!E,Error(o+"crypto unavailable");else re=E;else throw Error(o+C+" not true or false: "+E);if(X.hasOwnProperty(C="MODULO_MODE")&&(E=X[C],v(E,0,9,C),oe=E),X.hasOwnProperty(C="POW_PRECISION")&&(E=X[C],v(E,0,h,C),J=E),X.hasOwnProperty(C="FORMAT"))if(E=X[C],typeof E=="object")fe=E;else throw Error(o+C+" not an object: "+E);if(X.hasOwnProperty(C="ALPHABET"))if(E=X[C],typeof E=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(E))de=E.slice(0,10)=="0123456789",xe=E;else throw Error(o+C+" invalid: "+E)}else throw Error(o+"Object expected: "+X);return{DECIMAL_PLACES:N,ROUNDING_MODE:j,EXPONENTIAL_AT:[H,M],RANGE:[$,te],CRYPTO:re,MODULO_MODE:oe,POW_PRECISION:J,FORMAT:fe,ALPHABET:xe}},ae.isBigNumber=function(X){if(!X||X._isBigNumber!==!0)return!1;if(!ae.DEBUG)return!0;var C,E,S=X.c,I=X.e,k=X.s;e:if({}.toString.call(S)=="[object Array]"){if((k===1||k===-1)&&I>=-1e9&&I<=h&&I===a(I)){if(S[0]===0){if(I===0&&S.length===1)return!0;break e}if(C=(I+1)%u,C<1&&(C+=u),String(S[0]).length==C){for(C=0;C<S.length;C++)if(E=S[C],E<0||E>=l||E!==a(E))break e;if(E!==0)return!0}}}else if(S===null&&I===null&&(k===null||k===1||k===-1))return!0;throw Error(o+"Invalid BigNumber: "+X)},ae.maximum=ae.max=function(){return Le(arguments,-1)},ae.minimum=ae.min=function(){return Le(arguments,1)},ae.random=function(){var X=9007199254740992,C=Math.random()*X&2097151?function(){return a(Math.random()*X)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(E){var S,I,k,Q,G,ne=0,ee=[],se=new ae(x);if(E==null?E=N:v(E,0,h),Q=n(E/u),re)if(crypto.getRandomValues){for(S=crypto.getRandomValues(new Uint32Array(Q*=2));ne<Q;)G=S[ne]*131072+(S[ne+1]>>>11),G>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),S[ne]=I[0],S[ne+1]=I[1]):(ee.push(G%1e14),ne+=2);ne=Q/2}else if(crypto.randomBytes){for(S=crypto.randomBytes(Q*=7);ne<Q;)G=(S[ne]&31)*281474976710656+S[ne+1]*1099511627776+S[ne+2]*4294967296+S[ne+3]*16777216+(S[ne+4]<<16)+(S[ne+5]<<8)+S[ne+6],G>=9e15?crypto.randomBytes(7).copy(S,ne):(ee.push(G%1e14),ne+=7);ne=Q/7}else throw re=!1,Error(o+"crypto unavailable");if(!re)for(;ne<Q;)G=C(),G<9e15&&(ee[ne++]=G%1e14);for(Q=ee[--ne],E%=u,Q&&E&&(G=d[u-E],ee[ne]=a(Q/G)*G);ee[ne]===0;ee.pop(),ne--);if(ne<0)ee=[k=0];else{for(k=-1;ee[0]===0;ee.splice(0,1),k-=u);for(ne=1,G=ee[0];G>=10;G/=10,ne++);ne<u&&(k-=u-ne)}return se.e=k,se.c=ee,se}}(),ae.sum=function(){for(var X=1,C=arguments,E=new ae(C[0]);X<C.length;)E=E.plus(C[X++]);return E},F=function(){var X="0123456789";function C(E,S,I,k){for(var Q,G=[0],ne,ee=0,se=E.length;ee<se;){for(ne=G.length;ne--;G[ne]*=S);for(G[0]+=k.indexOf(E.charAt(ee++)),Q=0;Q<G.length;Q++)G[Q]>I-1&&(G[Q+1]==null&&(G[Q+1]=0),G[Q+1]+=G[Q]/I|0,G[Q]%=I)}return G.reverse()}return function(E,S,I,k,Q){var G,ne,ee,se,ge,Ae,Ve,Ge,qe=E.indexOf("."),Ee=N,W=j;for(qe>=0&&(se=J,J=0,E=E.replace(".",""),Ge=new ae(S),Ae=Ge.pow(E.length-qe),J=se,Ge.c=C(w(m(Ae.c),Ae.e,"0"),10,I,X),Ge.e=Ge.c.length),Ve=C(E,S,I,Q?(G=xe,X):(G=X,xe)),ee=se=Ve.length;Ve[--se]==0;Ve.pop());if(!Ve[0])return G.charAt(0);if(qe<0?--ee:(Ae.c=Ve,Ae.e=ee,Ae.s=k,Ae=R(Ae,Ge,Ee,W,I),Ve=Ae.c,ge=Ae.r,ee=Ae.e),ne=ee+Ee+1,qe=Ve[ne],se=I/2,ge=ge||ne<0||Ve[ne+1]!=null,ge=W<4?(qe!=null||ge)&&(W==0||W==(Ae.s<0?3:2)):qe>se||qe==se&&(W==4||ge||W==6&&Ve[ne-1]&1||W==(Ae.s<0?8:7)),ne<1||!Ve[0])E=ge?w(G.charAt(1),-Ee,G.charAt(0)):G.charAt(0);else{if(Ve.length=ne,ge)for(--I;++Ve[--ne]>I;)Ve[ne]=0,ne||(++ee,Ve=[1].concat(Ve));for(se=Ve.length;!Ve[--se];);for(qe=0,E="";qe<=se;E+=G.charAt(Ve[qe++]));E=w(E,ee,G.charAt(0))}return E}}(),R=function(){function X(S,I,k){var Q,G,ne,ee,se=0,ge=S.length,Ae=I%f,Ve=I/f|0;for(S=S.slice();ge--;)ne=S[ge]%f,ee=S[ge]/f|0,Q=Ve*ne+ee*Ae,G=Ae*ne+Q%f*f+se,se=(G/k|0)+(Q/f|0)+Ve*ee,S[ge]=G%k;return se&&(S=[se].concat(S)),S}function C(S,I,k,Q){var G,ne;if(k!=Q)ne=k>Q?1:-1;else for(G=ne=0;G<k;G++)if(S[G]!=I[G]){ne=S[G]>I[G]?1:-1;break}return ne}function E(S,I,k,Q){for(var G=0;k--;)S[k]-=G,G=S[k]<I[k]?1:0,S[k]=G*Q+S[k]-I[k];for(;!S[0]&&S.length>1;S.splice(0,1));}return function(S,I,k,Q,G){var ne,ee,se,ge,Ae,Ve,Ge,qe,Ee,W,V,K,z,be,ke,Pe,dt,pt=S.s==I.s?1:-1,tt=S.c,At=I.c;if(!tt||!tt[0]||!At||!At[0])return new ae(!S.s||!I.s||(tt?At&&tt[0]==At[0]:!At)?NaN:tt&&tt[0]==0||!At?pt*0:pt/0);for(qe=new ae(pt),Ee=qe.c=[],ee=S.e-I.e,pt=k+ee+1,G||(G=l,ee=g(S.e/u)-g(I.e/u),pt=pt/u|0),se=0;At[se]==(tt[se]||0);se++);if(At[se]>(tt[se]||0)&&ee--,pt<0)Ee.push(1),ge=!0;else{for(be=tt.length,Pe=At.length,se=0,pt+=2,Ae=a(G/(At[0]+1)),Ae>1&&(At=X(At,Ae,G),tt=X(tt,Ae,G),Pe=At.length,be=tt.length),z=Pe,W=tt.slice(0,Pe),V=W.length;V<Pe;W[V++]=0);dt=At.slice(),dt=[0].concat(dt),ke=At[0],At[1]>=G/2&&ke++;do{if(Ae=0,ne=C(At,W,Pe,V),ne<0){if(K=W[0],Pe!=V&&(K=K*G+(W[1]||0)),Ae=a(K/ke),Ae>1)for(Ae>=G&&(Ae=G-1),Ve=X(At,Ae,G),Ge=Ve.length,V=W.length;C(Ve,W,Ge,V)==1;)Ae--,E(Ve,Pe<Ge?dt:At,Ge,G),Ge=Ve.length,ne=1;else Ae==0&&(ne=Ae=1),Ve=At.slice(),Ge=Ve.length;if(Ge<V&&(Ve=[0].concat(Ve)),E(W,Ve,V,G),V=W.length,ne==-1)for(;C(At,W,Pe,V)<1;)Ae++,E(W,Pe<V?dt:At,V,G),V=W.length}else ne===0&&(Ae++,W=[0]);Ee[se++]=Ae,W[0]?W[V++]=tt[z]||0:(W=[tt[z]],V=1)}while((z++<be||W[0]!=null)&&pt--);ge=W[0]!=null,Ee[0]||Ee.splice(0,1)}if(G==l){for(se=1,pt=Ee[0];pt>=10;pt/=10,se++);pe(qe,k+(qe.e=se+ee*u-1)+1,Q,ge)}else qe.e=ee,qe.r=+ge;return qe}}();function Fe(X,C,E,S){var I,k,Q,G,ne;if(E==null?E=j:v(E,0,8),!X.c)return X.toString();if(I=X.c[0],Q=X.e,C==null)ne=m(X.c),ne=S==1||S==2&&(Q<=H||Q>=M)?_(ne,Q):w(ne,Q,"0");else if(X=pe(new ae(X),C,E),k=X.e,ne=m(X.c),G=ne.length,S==1||S==2&&(C<=k||k<=H)){for(;G<C;ne+="0",G++);ne=_(ne,k)}else if(C-=Q,ne=w(ne,k,"0"),k+1>G){if(--C>0)for(ne+=".";C--;ne+="0");}else if(C+=k-G,C>0)for(k+1==G&&(ne+=".");C--;ne+="0");return X.s<0&&I?"-"+ne:ne}function Le(X,C){for(var E,S,I=1,k=new ae(X[0]);I<X.length;I++)S=new ae(X[I]),(!S.s||(E=y(k,S))===C||E===0&&k.s===C)&&(k=S);return k}function me(X,C,E){for(var S=1,I=C.length;!C[--I];C.pop());for(I=C[0];I>=10;I/=10,S++);return(E=S+E*u-1)>te?X.c=X.e=null:E<$?X.c=[X.e=0]:(X.e=E,X.c=C),X}D=function(){var X=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,E=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(k,Q,G,ne){var ee,se=G?Q:Q.replace(I,"");if(S.test(se))k.s=isNaN(se)?null:se<0?-1:1;else{if(!G&&(se=se.replace(X,function(ge,Ae,Ve){return ee=(Ve=Ve.toLowerCase())=="x"?16:Ve=="b"?2:8,!ne||ne==ee?Ae:ge}),ne&&(ee=ne,se=se.replace(C,"$1").replace(E,"0.$1")),Q!=se))return new ae(se,ee);if(ae.DEBUG)throw Error(o+"Not a"+(ne?" base "+ne:"")+" number: "+Q);k.s=null}k.c=k.e=null}}();function pe(X,C,E,S){var I,k,Q,G,ne,ee,se,ge=X.c,Ae=d;if(ge){e:{for(I=1,G=ge[0];G>=10;G/=10,I++);if(k=C-I,k<0)k+=u,Q=C,ne=ge[ee=0],se=a(ne/Ae[I-Q-1]%10);else if(ee=n((k+1)/u),ee>=ge.length)if(S){for(;ge.length<=ee;ge.push(0));ne=se=0,I=1,k%=u,Q=k-u+1}else break e;else{for(ne=G=ge[ee],I=1;G>=10;G/=10,I++);k%=u,Q=k-u+I,se=Q<0?0:a(ne/Ae[I-Q-1]%10)}if(S=S||C<0||ge[ee+1]!=null||(Q<0?ne:ne%Ae[I-Q-1]),S=E<4?(se||S)&&(E==0||E==(X.s<0?3:2)):se>5||se==5&&(E==4||S||E==6&&(k>0?Q>0?ne/Ae[I-Q]:0:ge[ee-1])%10&1||E==(X.s<0?8:7)),C<1||!ge[0])return ge.length=0,S?(C-=X.e+1,ge[0]=Ae[(u-C%u)%u],X.e=-C||0):ge[0]=X.e=0,X;if(k==0?(ge.length=ee,G=1,ee--):(ge.length=ee+1,G=Ae[u-k],ge[ee]=Q>0?a(ne/Ae[I-Q]%Ae[Q])*G:0),S)for(;;)if(ee==0){for(k=1,Q=ge[0];Q>=10;Q/=10,k++);for(Q=ge[0]+=G,G=1;Q>=10;Q/=10,G++);k!=G&&(X.e++,ge[0]==l&&(ge[0]=1));break}else{if(ge[ee]+=G,ge[ee]!=l)break;ge[ee--]=0,G=1}for(k=ge.length;ge[--k]===0;ge.pop());}X.e>te?X.c=X.e=null:X.e<$&&(X.c=[X.e=0])}return X}function _e(X){var C,E=X.e;return E===null?X.toString():(C=m(X.c),C=E<=H||E>=M?_(C,E):w(C,E,"0"),X.s<0?"-"+C:C)}return A.absoluteValue=A.abs=function(){var X=new ae(this);return X.s<0&&(X.s=1),X},A.comparedTo=function(X,C){return y(this,new ae(X,C))},A.decimalPlaces=A.dp=function(X,C){var E,S,I,k=this;if(X!=null)return v(X,0,h),C==null?C=j:v(C,0,8),pe(new ae(k),X+k.e+1,C);if(!(E=k.c))return null;if(S=((I=E.length-1)-g(this.e/u))*u,I=E[I])for(;I%10==0;I/=10,S--);return S<0&&(S=0),S},A.dividedBy=A.div=function(X,C){return R(this,new ae(X,C),N,j)},A.dividedToIntegerBy=A.idiv=function(X,C){return R(this,new ae(X,C),0,1)},A.exponentiatedBy=A.pow=function(X,C){var E,S,I,k,Q,G,ne,ee,se,ge=this;if(X=new ae(X),X.c&&!X.isInteger())throw Error(o+"Exponent not an integer: "+_e(X));if(C!=null&&(C=new ae(C)),G=X.e>14,!ge.c||!ge.c[0]||ge.c[0]==1&&!ge.e&&ge.c.length==1||!X.c||!X.c[0])return se=new ae(Math.pow(+_e(ge),G?X.s*(2-b(X)):+_e(X))),C?se.mod(C):se;if(ne=X.s<0,C){if(C.c?!C.c[0]:!C.s)return new ae(NaN);S=!ne&&ge.isInteger()&&C.isInteger(),S&&(ge=ge.mod(C))}else{if(X.e>9&&(ge.e>0||ge.e<-1||(ge.e==0?ge.c[0]>1||G&&ge.c[1]>=24e7:ge.c[0]<8e13||G&&ge.c[0]<=9999975e7)))return k=ge.s<0&&b(X)?-0:0,ge.e>-1&&(k=1/k),new ae(ne?1/k:k);J&&(k=n(J/u+2))}for(G?(E=new ae(.5),ne&&(X.s=1),ee=b(X)):(I=Math.abs(+_e(X)),ee=I%2),se=new ae(x);;){if(ee){if(se=se.times(ge),!se.c)break;k?se.c.length>k&&(se.c.length=k):S&&(se=se.mod(C))}if(I){if(I=a(I/2),I===0)break;ee=I%2}else if(X=X.times(E),pe(X,X.e+1,1),X.e>14)ee=b(X);else{if(I=+_e(X),I===0)break;ee=I%2}ge=ge.times(ge),k?ge.c&&ge.c.length>k&&(ge.c.length=k):S&&(ge=ge.mod(C))}return S?se:(ne&&(se=x.div(se)),C?se.mod(C):k?pe(se,J,j,Q):se)},A.integerValue=function(X){var C=new ae(this);return X==null?X=j:v(X,0,8),pe(C,C.e+1,X)},A.isEqualTo=A.eq=function(X,C){return y(this,new ae(X,C))===0},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(X,C){return y(this,new ae(X,C))>0},A.isGreaterThanOrEqualTo=A.gte=function(X,C){return(C=y(this,new ae(X,C)))===1||C===0},A.isInteger=function(){return!!this.c&&g(this.e/u)>this.c.length-2},A.isLessThan=A.lt=function(X,C){return y(this,new ae(X,C))<0},A.isLessThanOrEqualTo=A.lte=function(X,C){return(C=y(this,new ae(X,C)))===-1||C===0},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&this.c[0]==0},A.minus=function(X,C){var E,S,I,k,Q=this,G=Q.s;if(X=new ae(X,C),C=X.s,!G||!C)return new ae(NaN);if(G!=C)return X.s=-C,Q.plus(X);var ne=Q.e/u,ee=X.e/u,se=Q.c,ge=X.c;if(!ne||!ee){if(!se||!ge)return se?(X.s=-C,X):new ae(ge?Q:NaN);if(!se[0]||!ge[0])return ge[0]?(X.s=-C,X):new ae(se[0]?Q:j==3?-0:0)}if(ne=g(ne),ee=g(ee),se=se.slice(),G=ne-ee){for((k=G<0)?(G=-G,I=se):(ee=ne,I=ge),I.reverse(),C=G;C--;I.push(0));I.reverse()}else for(S=(k=(G=se.length)<(C=ge.length))?G:C,G=C=0;C<S;C++)if(se[C]!=ge[C]){k=se[C]<ge[C];break}if(k&&(I=se,se=ge,ge=I,X.s=-X.s),C=(S=ge.length)-(E=se.length),C>0)for(;C--;se[E++]=0);for(C=l-1;S>G;){if(se[--S]<ge[S]){for(E=S;E&&!se[--E];se[E]=C);--se[E],se[S]+=l}se[S]-=ge[S]}for(;se[0]==0;se.splice(0,1),--ee);return se[0]?me(X,se,ee):(X.s=j==3?-1:1,X.c=[X.e=0],X)},A.modulo=A.mod=function(X,C){var E,S,I=this;return X=new ae(X,C),!I.c||!X.s||X.c&&!X.c[0]?new ae(NaN):!X.c||I.c&&!I.c[0]?new ae(I):(oe==9?(S=X.s,X.s=1,E=R(I,X,0,3),X.s=S,E.s*=S):E=R(I,X,0,oe),X=I.minus(E.times(X)),!X.c[0]&&oe==1&&(X.s=I.s),X)},A.multipliedBy=A.times=function(X,C){var E,S,I,k,Q,G,ne,ee,se,ge,Ae,Ve,Ge,qe,Ee,W=this,V=W.c,K=(X=new ae(X,C)).c;if(!V||!K||!V[0]||!K[0])return!W.s||!X.s||V&&!V[0]&&!K||K&&!K[0]&&!V?X.c=X.e=X.s=null:(X.s*=W.s,!V||!K?X.c=X.e=null:(X.c=[0],X.e=0)),X;for(S=g(W.e/u)+g(X.e/u),X.s*=W.s,ne=V.length,ge=K.length,ne<ge&&(Ge=V,V=K,K=Ge,I=ne,ne=ge,ge=I),I=ne+ge,Ge=[];I--;Ge.push(0));for(qe=l,Ee=f,I=ge;--I>=0;){for(E=0,Ae=K[I]%Ee,Ve=K[I]/Ee|0,Q=ne,k=I+Q;k>I;)ee=V[--Q]%Ee,se=V[Q]/Ee|0,G=Ve*ee+se*Ae,ee=Ae*ee+G%Ee*Ee+Ge[k]+E,E=(ee/qe|0)+(G/Ee|0)+Ve*se,Ge[k--]=ee%qe;Ge[k]=E}return E?++S:Ge.splice(0,1),me(X,Ge,S)},A.negated=function(){var X=new ae(this);return X.s=-X.s||null,X},A.plus=function(X,C){var E,S=this,I=S.s;if(X=new ae(X,C),C=X.s,!I||!C)return new ae(NaN);if(I!=C)return X.s=-C,S.minus(X);var k=S.e/u,Q=X.e/u,G=S.c,ne=X.c;if(!k||!Q){if(!G||!ne)return new ae(I/0);if(!G[0]||!ne[0])return ne[0]?X:new ae(G[0]?S:I*0)}if(k=g(k),Q=g(Q),G=G.slice(),I=k-Q){for(I>0?(Q=k,E=ne):(I=-I,E=G),E.reverse();I--;E.push(0));E.reverse()}for(I=G.length,C=ne.length,I-C<0&&(E=ne,ne=G,G=E,C=I),I=0;C;)I=(G[--C]=G[C]+ne[C]+I)/l|0,G[C]=l===G[C]?0:G[C]%l;return I&&(G=[I].concat(G),++Q),me(X,G,Q)},A.precision=A.sd=function(X,C){var E,S,I,k=this;if(X!=null&&X!==!!X)return v(X,1,h),C==null?C=j:v(C,0,8),pe(new ae(k),X,C);if(!(E=k.c))return null;if(I=E.length-1,S=I*u+1,I=E[I]){for(;I%10==0;I/=10,S--);for(I=E[0];I>=10;I/=10,S++);}return X&&k.e+1>S&&(S=k.e+1),S},A.shiftedBy=function(X){return v(X,-9007199254740991,c),this.times("1e"+X)},A.squareRoot=A.sqrt=function(){var X,C,E,S,I,k=this,Q=k.c,G=k.s,ne=k.e,ee=N+4,se=new ae("0.5");if(G!==1||!Q||!Q[0])return new ae(!G||G<0&&(!Q||Q[0])?NaN:Q?k:1/0);if(G=Math.sqrt(+_e(k)),G==0||G==1/0?(C=m(Q),(C.length+ne)%2==0&&(C+="0"),G=Math.sqrt(+C),ne=g((ne+1)/2)-(ne<0||ne%2),G==1/0?C="5e"+ne:(C=G.toExponential(),C=C.slice(0,C.indexOf("e")+1)+ne),E=new ae(C)):E=new ae(G+""),E.c[0]){for(ne=E.e,G=ne+ee,G<3&&(G=0);;)if(I=E,E=se.times(I.plus(R(k,I,ee,1))),m(I.c).slice(0,G)===(C=m(E.c)).slice(0,G))if(E.e<ne&&--G,C=C.slice(G-3,G+1),C=="9999"||!S&&C=="4999"){if(!S&&(pe(I,I.e+N+2,0),I.times(I).eq(k))){E=I;break}ee+=4,G+=4,S=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(pe(E,E.e+N+2,1),X=!E.times(E).eq(k));break}}return pe(E,E.e+N+1,j,X)},A.toExponential=function(X,C){return X!=null&&(v(X,0,h),X++),Fe(this,X,C,1)},A.toFixed=function(X,C){return X!=null&&(v(X,0,h),X=X+this.e+1),Fe(this,X,C)},A.toFormat=function(X,C,E){var S,I=this;if(E==null)X!=null&&C&&typeof C=="object"?(E=C,C=null):X&&typeof X=="object"?(E=X,X=C=null):E=fe;else if(typeof E!="object")throw Error(o+"Argument not an object: "+E);if(S=I.toFixed(X,C),I.c){var k,Q=S.split("."),G=+E.groupSize,ne=+E.secondaryGroupSize,ee=E.groupSeparator||"",se=Q[0],ge=Q[1],Ae=I.s<0,Ve=Ae?se.slice(1):se,Ge=Ve.length;if(ne&&(k=G,G=ne,ne=k,Ge-=k),G>0&&Ge>0){for(k=Ge%G||G,se=Ve.substr(0,k);k<Ge;k+=G)se+=ee+Ve.substr(k,G);ne>0&&(se+=ee+Ve.slice(k)),Ae&&(se="-"+se)}S=ge?se+(E.decimalSeparator||"")+((ne=+E.fractionGroupSize)?ge.replace(new RegExp("\\d{"+ne+"}\\B","g"),"$&"+(E.fractionGroupSeparator||"")):ge):se}return(E.prefix||"")+S+(E.suffix||"")},A.toFraction=function(X){var C,E,S,I,k,Q,G,ne,ee,se,ge,Ae,Ve=this,Ge=Ve.c;if(X!=null&&(G=new ae(X),!G.isInteger()&&(G.c||G.s!==1)||G.lt(x)))throw Error(o+"Argument "+(G.isInteger()?"out of range: ":"not an integer: ")+_e(G));if(!Ge)return new ae(Ve);for(C=new ae(x),ee=E=new ae(x),S=ne=new ae(x),Ae=m(Ge),k=C.e=Ae.length-Ve.e-1,C.c[0]=d[(Q=k%u)<0?u+Q:Q],X=!X||G.comparedTo(C)>0?k>0?C:ee:G,Q=te,te=1/0,G=new ae(Ae),ne.c[0]=0;se=R(G,C,0,1),I=E.plus(se.times(S)),I.comparedTo(X)!=1;)E=S,S=I,ee=ne.plus(se.times(I=ee)),ne=I,C=G.minus(se.times(I=C)),G=I;return I=R(X.minus(E),S,0,1),ne=ne.plus(I.times(ee)),E=E.plus(I.times(S)),ne.s=ee.s=Ve.s,k=k*2,ge=R(ee,S,k,j).minus(Ve).abs().comparedTo(R(ne,E,k,j).minus(Ve).abs())<1?[ee,S]:[ne,E],te=Q,ge},A.toNumber=function(){return+_e(this)},A.toPrecision=function(X,C){return X!=null&&v(X,1,h),Fe(this,X,C,2)},A.toString=function(X){var C,E=this,S=E.s,I=E.e;return I===null?S?(C="Infinity",S<0&&(C="-"+C)):C="NaN":(X==null?C=I<=H||I>=M?_(m(E.c),I):w(m(E.c),I,"0"):X===10&&de?(E=pe(new ae(E),N+I+1,j),C=w(m(E.c),E.e,"0")):(v(X,2,xe.length,"Base"),C=F(w(m(E.c),I,"0"),10,X,S,!0)),S<0&&E.c[0]&&(C="-"+C)),C},A.valueOf=A.toJSON=function(){return _e(this)},A._isBigNumber=!0,T!=null&&ae.set(T),ae}function g(T){var R=T|0;return T>0||T===R?R:R-1}function m(T){for(var R,F,D=1,A=T.length,x=T[0]+"";D<A;){for(R=T[D++]+"",F=u-R.length;F--;R="0"+R);x+=R}for(A=x.length;x.charCodeAt(--A)===48;);return x.slice(0,A+1||1)}function y(T,R){var F,D,A=T.c,x=R.c,N=T.s,j=R.s,H=T.e,M=R.e;if(!N||!j)return null;if(F=A&&!A[0],D=x&&!x[0],F||D)return F?D?0:-j:N;if(N!=j)return N;if(F=N<0,D=H==M,!A||!x)return D?0:!A^F?1:-1;if(!D)return H>M^F?1:-1;for(j=(H=A.length)<(M=x.length)?H:M,N=0;N<j;N++)if(A[N]!=x[N])return A[N]>x[N]^F?1:-1;return H==M?0:H>M^F?1:-1}function v(T,R,F,D){if(T<R||T>F||T!==a(T))throw Error(o+(D||"Argument")+(typeof T=="number"?T<R||T>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(T))}function b(T){var R=T.c.length-1;return g(T.e/u)==R&&T.c[R]%2!=0}function _(T,R){return(T.length>1?T.charAt(0)+"."+T.slice(1):T)+(R<0?"e":"e+")+R}function w(T,R,F){var D,A;if(R<0){for(A=F+".";++R;A+=F);T=A+T}else if(D=T.length,++R>D){for(A=F,R-=D;--R;A+=F);T+=A}else R<D&&(T=T.slice(0,R)+"."+T.slice(R));return T}i=p(),i.default=i.BigNumber=i,e.exports?e.exports=i:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=i)})(CSe)}(MT)),MT.exports}var uP={exports:{}},IH;function NSe(){return IH||(IH=1,function(e,t){(function(i){e.exports=i()})(function(i){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(y,v){var b=y[0],_=y[1],w=y[2],T=y[3];b+=(_&w|~_&T)+v[0]-680876936|0,b=(b<<7|b>>>25)+_|0,T+=(b&_|~b&w)+v[1]-389564586|0,T=(T<<12|T>>>20)+b|0,w+=(T&b|~T&_)+v[2]+606105819|0,w=(w<<17|w>>>15)+T|0,_+=(w&T|~w&b)+v[3]-1044525330|0,_=(_<<22|_>>>10)+w|0,b+=(_&w|~_&T)+v[4]-176418897|0,b=(b<<7|b>>>25)+_|0,T+=(b&_|~b&w)+v[5]+1200080426|0,T=(T<<12|T>>>20)+b|0,w+=(T&b|~T&_)+v[6]-1473231341|0,w=(w<<17|w>>>15)+T|0,_+=(w&T|~w&b)+v[7]-45705983|0,_=(_<<22|_>>>10)+w|0,b+=(_&w|~_&T)+v[8]+1770035416|0,b=(b<<7|b>>>25)+_|0,T+=(b&_|~b&w)+v[9]-1958414417|0,T=(T<<12|T>>>20)+b|0,w+=(T&b|~T&_)+v[10]-42063|0,w=(w<<17|w>>>15)+T|0,_+=(w&T|~w&b)+v[11]-1990404162|0,_=(_<<22|_>>>10)+w|0,b+=(_&w|~_&T)+v[12]+1804603682|0,b=(b<<7|b>>>25)+_|0,T+=(b&_|~b&w)+v[13]-40341101|0,T=(T<<12|T>>>20)+b|0,w+=(T&b|~T&_)+v[14]-1502002290|0,w=(w<<17|w>>>15)+T|0,_+=(w&T|~w&b)+v[15]+1236535329|0,_=(_<<22|_>>>10)+w|0,b+=(_&T|w&~T)+v[1]-165796510|0,b=(b<<5|b>>>27)+_|0,T+=(b&w|_&~w)+v[6]-1069501632|0,T=(T<<9|T>>>23)+b|0,w+=(T&_|b&~_)+v[11]+643717713|0,w=(w<<14|w>>>18)+T|0,_+=(w&b|T&~b)+v[0]-373897302|0,_=(_<<20|_>>>12)+w|0,b+=(_&T|w&~T)+v[5]-701558691|0,b=(b<<5|b>>>27)+_|0,T+=(b&w|_&~w)+v[10]+38016083|0,T=(T<<9|T>>>23)+b|0,w+=(T&_|b&~_)+v[15]-660478335|0,w=(w<<14|w>>>18)+T|0,_+=(w&b|T&~b)+v[4]-405537848|0,_=(_<<20|_>>>12)+w|0,b+=(_&T|w&~T)+v[9]+568446438|0,b=(b<<5|b>>>27)+_|0,T+=(b&w|_&~w)+v[14]-1019803690|0,T=(T<<9|T>>>23)+b|0,w+=(T&_|b&~_)+v[3]-187363961|0,w=(w<<14|w>>>18)+T|0,_+=(w&b|T&~b)+v[8]+1163531501|0,_=(_<<20|_>>>12)+w|0,b+=(_&T|w&~T)+v[13]-1444681467|0,b=(b<<5|b>>>27)+_|0,T+=(b&w|_&~w)+v[2]-51403784|0,T=(T<<9|T>>>23)+b|0,w+=(T&_|b&~_)+v[7]+1735328473|0,w=(w<<14|w>>>18)+T|0,_+=(w&b|T&~b)+v[12]-1926607734|0,_=(_<<20|_>>>12)+w|0,b+=(_^w^T)+v[5]-378558|0,b=(b<<4|b>>>28)+_|0,T+=(b^_^w)+v[8]-2022574463|0,T=(T<<11|T>>>21)+b|0,w+=(T^b^_)+v[11]+1839030562|0,w=(w<<16|w>>>16)+T|0,_+=(w^T^b)+v[14]-35309556|0,_=(_<<23|_>>>9)+w|0,b+=(_^w^T)+v[1]-1530992060|0,b=(b<<4|b>>>28)+_|0,T+=(b^_^w)+v[4]+1272893353|0,T=(T<<11|T>>>21)+b|0,w+=(T^b^_)+v[7]-155497632|0,w=(w<<16|w>>>16)+T|0,_+=(w^T^b)+v[10]-1094730640|0,_=(_<<23|_>>>9)+w|0,b+=(_^w^T)+v[13]+681279174|0,b=(b<<4|b>>>28)+_|0,T+=(b^_^w)+v[0]-358537222|0,T=(T<<11|T>>>21)+b|0,w+=(T^b^_)+v[3]-722521979|0,w=(w<<16|w>>>16)+T|0,_+=(w^T^b)+v[6]+76029189|0,_=(_<<23|_>>>9)+w|0,b+=(_^w^T)+v[9]-640364487|0,b=(b<<4|b>>>28)+_|0,T+=(b^_^w)+v[12]-421815835|0,T=(T<<11|T>>>21)+b|0,w+=(T^b^_)+v[15]+530742520|0,w=(w<<16|w>>>16)+T|0,_+=(w^T^b)+v[2]-995338651|0,_=(_<<23|_>>>9)+w|0,b+=(w^(_|~T))+v[0]-198630844|0,b=(b<<6|b>>>26)+_|0,T+=(_^(b|~w))+v[7]+1126891415|0,T=(T<<10|T>>>22)+b|0,w+=(b^(T|~_))+v[14]-1416354905|0,w=(w<<15|w>>>17)+T|0,_+=(T^(w|~b))+v[5]-57434055|0,_=(_<<21|_>>>11)+w|0,b+=(w^(_|~T))+v[12]+1700485571|0,b=(b<<6|b>>>26)+_|0,T+=(_^(b|~w))+v[3]-1894986606|0,T=(T<<10|T>>>22)+b|0,w+=(b^(T|~_))+v[10]-1051523|0,w=(w<<15|w>>>17)+T|0,_+=(T^(w|~b))+v[1]-2054922799|0,_=(_<<21|_>>>11)+w|0,b+=(w^(_|~T))+v[8]+1873313359|0,b=(b<<6|b>>>26)+_|0,T+=(_^(b|~w))+v[15]-30611744|0,T=(T<<10|T>>>22)+b|0,w+=(b^(T|~_))+v[6]-1560198380|0,w=(w<<15|w>>>17)+T|0,_+=(T^(w|~b))+v[13]+1309151649|0,_=(_<<21|_>>>11)+w|0,b+=(w^(_|~T))+v[4]-145523070|0,b=(b<<6|b>>>26)+_|0,T+=(_^(b|~w))+v[11]-1120210379|0,T=(T<<10|T>>>22)+b|0,w+=(b^(T|~_))+v[2]+718787259|0,w=(w<<15|w>>>17)+T|0,_+=(T^(w|~b))+v[9]-343485551|0,_=(_<<21|_>>>11)+w|0,y[0]=b+y[0]|0,y[1]=_+y[1]|0,y[2]=w+y[2]|0,y[3]=T+y[3]|0}function a(y){var v=[],b;for(b=0;b<64;b+=4)v[b>>2]=y.charCodeAt(b)+(y.charCodeAt(b+1)<<8)+(y.charCodeAt(b+2)<<16)+(y.charCodeAt(b+3)<<24);return v}function o(y){var v=[],b;for(b=0;b<64;b+=4)v[b>>2]=y[b]+(y[b+1]<<8)+(y[b+2]<<16)+(y[b+3]<<24);return v}function s(y){var v=y.length,b=[1732584193,-271733879,-1732584194,271733878],_,w,T,R,F,D;for(_=64;_<=v;_+=64)n(b,a(y.substring(_-64,_)));for(y=y.substring(_-64),w=y.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0;_<w;_+=1)T[_>>2]|=y.charCodeAt(_)<<(_%4<<3);if(T[_>>2]|=128<<(_%4<<3),_>55)for(n(b,T),_=0;_<16;_+=1)T[_]=0;return R=v*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),F=parseInt(R[2],16),D=parseInt(R[1],16)||0,T[14]=F,T[15]=D,n(b,T),b}function l(y){var v=y.length,b=[1732584193,-271733879,-1732584194,271733878],_,w,T,R,F,D;for(_=64;_<=v;_+=64)n(b,o(y.subarray(_-64,_)));for(y=_-64<v?y.subarray(_-64):new Uint8Array(0),w=y.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0;_<w;_+=1)T[_>>2]|=y[_]<<(_%4<<3);if(T[_>>2]|=128<<(_%4<<3),_>55)for(n(b,T),_=0;_<16;_+=1)T[_]=0;return R=v*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),F=parseInt(R[2],16),D=parseInt(R[1],16)||0,T[14]=F,T[15]=D,n(b,T),b}function u(y){var v="",b;for(b=0;b<4;b+=1)v+=r[y>>b*8+4&15]+r[y>>b*8&15];return v}function c(y){var v;for(v=0;v<y.length;v+=1)y[v]=u(y[v]);return y.join("")}c(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function y(v,b){return v=v|0||0,v<0?Math.max(v+b,0):Math.min(v,b)}ArrayBuffer.prototype.slice=function(v,b){var _=this.byteLength,w=y(v,_),T=_,R,F,D,A;return b!==i&&(T=y(b,_)),w>T?new ArrayBuffer(0):(R=T-w,F=new ArrayBuffer(R),D=new Uint8Array(F),A=new Uint8Array(this,w,R),D.set(A),F)}}();function d(y){return/[\u0080-\uFFFF]/.test(y)&&(y=unescape(encodeURIComponent(y))),y}function f(y,v){var b=y.length,_=new ArrayBuffer(b),w=new Uint8Array(_),T;for(T=0;T<b;T+=1)w[T]=y.charCodeAt(T);return v?w:_}function h(y){return String.fromCharCode.apply(null,new Uint8Array(y))}function p(y,v,b){var _=new Uint8Array(y.byteLength+v.byteLength);return _.set(new Uint8Array(y)),_.set(new Uint8Array(v),y.byteLength),_}function g(y){var v=[],b=y.length,_;for(_=0;_<b-1;_+=2)v.push(parseInt(y.substr(_,2),16));return String.fromCharCode.apply(String,v)}function m(){this.reset()}return m.prototype.append=function(y){return this.appendBinary(d(y)),this},m.prototype.appendBinary=function(y){this._buff+=y,this._length+=y.length;var v=this._buff.length,b;for(b=64;b<=v;b+=64)n(this._hash,a(this._buff.substring(b-64,b)));return this._buff=this._buff.substring(b-64),this},m.prototype.end=function(y){var v=this._buff,b=v.length,_,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T;for(_=0;_<b;_+=1)w[_>>2]|=v.charCodeAt(_)<<(_%4<<3);return this._finish(w,b),T=c(this._hash),y&&(T=g(T)),this.reset(),T},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(y){return this._buff=y.buff,this._length=y.length,this._hash=y.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(y,v){var b=v,_,w,T;if(y[b>>2]|=128<<(b%4<<3),b>55)for(n(this._hash,y),b=0;b<16;b+=1)y[b]=0;_=this._length*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(_[2],16),T=parseInt(_[1],16)||0,y[14]=w,y[15]=T,n(this._hash,y)},m.hash=function(y,v){return m.hashBinary(d(y),v)},m.hashBinary=function(y,v){var b=s(y),_=c(b);return v?g(_):_},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(y){var v=p(this._buff.buffer,y),b=v.length,_;for(this._length+=y.byteLength,_=64;_<=b;_+=64)n(this._hash,o(v.subarray(_-64,_)));return this._buff=_-64<b?new Uint8Array(v.buffer.slice(_-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(y){var v=this._buff,b=v.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,T;for(w=0;w<b;w+=1)_[w>>2]|=v[w]<<(w%4<<3);return this._finish(_,b),T=c(this._hash),y&&(T=g(T)),this.reset(),T},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var y=m.prototype.getState.call(this);return y.buff=h(y.buff),y},m.ArrayBuffer.prototype.setState=function(y){return y.buff=f(y.buff,!0),m.prototype.setState.call(this,y)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(y,v){var b=l(new Uint8Array(y)),_=c(b);return v?g(_):_},m})}(uP)),uP.exports}var lP={},ew={},lT={},CH;function _te(){if(CH)return lT;CH=1,Object.defineProperty(lT,"__esModule",{value:!0}),lT.default=i;let e;const t=new Uint8Array(16);function i(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return lT}var wg={},tw={},rw={},DH;function FSe(){if(DH)return rw;DH=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return rw.default=e,rw}var NH;function b3(){if(NH)return tw;NH=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.default=void 0;var e=t(FSe());function t(n){return n&&n.__esModule?n:{default:n}}function i(n){return typeof n=="string"&&e.default.test(n)}var r=i;return tw.default=r,tw}var FH;function _3(){if(FH)return wg;FH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.default=void 0,wg.unsafeStringify=r;var e=t(b3());function t(o){return o&&o.__esModule?o:{default:o}}const i=[];for(let o=0;o<256;++o)i.push((o+256).toString(16).slice(1));function r(o,s=0){return i[o[s+0]]+i[o[s+1]]+i[o[s+2]]+i[o[s+3]]+"-"+i[o[s+4]]+i[o[s+5]]+"-"+i[o[s+6]]+i[o[s+7]]+"-"+i[o[s+8]]+i[o[s+9]]+"-"+i[o[s+10]]+i[o[s+11]]+i[o[s+12]]+i[o[s+13]]+i[o[s+14]]+i[o[s+15]]}function n(o,s=0){const l=r(o,s);if(!(0,e.default)(l))throw TypeError("Stringified UUID is invalid");return l}var a=n;return wg.default=a,wg}var LH;function LSe(){if(LH)return ew;LH=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.default=void 0;var e=i(_te()),t=_3();function i(u){return u&&u.__esModule?u:{default:u}}let r,n,a=0,o=0;function s(u,c,d){let f=c&&d||0;const h=c||new Array(16);u=u||{};let p=u.node||r,g=u.clockseq!==void 0?u.clockseq:n;if(p==null||g==null){const w=u.random||(u.rng||e.default)();p==null&&(p=r=[w[0]|1,w[1],w[2],w[3],w[4],w[5]]),g==null&&(g=n=(w[6]<<8|w[7])&16383)}let m=u.msecs!==void 0?u.msecs:Date.now(),y=u.nsecs!==void 0?u.nsecs:o+1;const v=m-a+(y-o)/1e4;if(v<0&&u.clockseq===void 0&&(g=g+1&16383),(v<0||m>a)&&u.nsecs===void 0&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,o=y,n=g,m+=122192928e5;const b=((m&268435455)*1e4+y)%4294967296;h[f++]=b>>>24&255,h[f++]=b>>>16&255,h[f++]=b>>>8&255,h[f++]=b&255;const _=m/4294967296*1e4&268435455;h[f++]=_>>>8&255,h[f++]=_&255,h[f++]=_>>>24&15|16,h[f++]=_>>>16&255,h[f++]=g>>>8|128,h[f++]=g&255;for(let w=0;w<6;++w)h[f+w]=p[w];return c||(0,t.unsafeStringify)(h)}var l=s;return ew.default=l,ew}var nw={},Bu={},iw={},MH;function wte(){if(MH)return iw;MH=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.default=void 0;var e=t(b3());function t(n){return n&&n.__esModule?n:{default:n}}function i(n){if(!(0,e.default)(n))throw TypeError("Invalid UUID");let a;const o=new Uint8Array(16);return o[0]=(a=parseInt(n.slice(0,8),16))>>>24,o[1]=a>>>16&255,o[2]=a>>>8&255,o[3]=a&255,o[4]=(a=parseInt(n.slice(9,13),16))>>>8,o[5]=a&255,o[6]=(a=parseInt(n.slice(14,18),16))>>>8,o[7]=a&255,o[8]=(a=parseInt(n.slice(19,23),16))>>>8,o[9]=a&255,o[10]=(a=parseInt(n.slice(24,36),16))/1099511627776&255,o[11]=a/4294967296&255,o[12]=a>>>24&255,o[13]=a>>>16&255,o[14]=a>>>8&255,o[15]=a&255,o}var r=i;return iw.default=r,iw}var jH;function Ste(){if(jH)return Bu;jH=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.URL=Bu.DNS=void 0,Bu.default=o;var e=_3(),t=i(wte());function i(s){return s&&s.__esModule?s:{default:s}}function r(s){s=unescape(encodeURIComponent(s));const l=[];for(let u=0;u<s.length;++u)l.push(s.charCodeAt(u));return l}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Bu.DNS=n;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Bu.URL=a;function o(s,l,u){function c(d,f,h,p){var g;if(typeof d=="string"&&(d=r(d)),typeof f=="string"&&(f=(0,t.default)(f)),((g=f)===null||g===void 0?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+d.length);if(m.set(f),m.set(d,f.length),m=u(m),m[6]=m[6]&15|l,m[8]=m[8]&63|128,h){p=p||0;for(let y=0;y<16;++y)h[p+y]=m[y];return h}return(0,e.unsafeStringify)(m)}try{c.name=s}catch{}return c.DNS=n,c.URL=a,c}return Bu}var aw={},kH;function MSe(){if(kH)return aw;kH=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.default=void 0;function e(h){if(typeof h=="string"){const p=unescape(encodeURIComponent(h));h=new Uint8Array(p.length);for(let g=0;g<p.length;++g)h[g]=p.charCodeAt(g)}return t(r(n(h),h.length*8))}function t(h){const p=[],g=h.length*32,m="0123456789abcdef";for(let y=0;y<g;y+=8){const v=h[y>>5]>>>y%32&255,b=parseInt(m.charAt(v>>>4&15)+m.charAt(v&15),16);p.push(b)}return p}function i(h){return(h+64>>>9<<4)+14+1}function r(h,p){h[p>>5]|=128<<p%32,h[i(p)-1]=p;let g=1732584193,m=-271733879,y=-1732584194,v=271733878;for(let b=0;b<h.length;b+=16){const _=g,w=m,T=y,R=v;g=l(g,m,y,v,h[b],7,-680876936),v=l(v,g,m,y,h[b+1],12,-389564586),y=l(y,v,g,m,h[b+2],17,606105819),m=l(m,y,v,g,h[b+3],22,-1044525330),g=l(g,m,y,v,h[b+4],7,-176418897),v=l(v,g,m,y,h[b+5],12,1200080426),y=l(y,v,g,m,h[b+6],17,-1473231341),m=l(m,y,v,g,h[b+7],22,-45705983),g=l(g,m,y,v,h[b+8],7,1770035416),v=l(v,g,m,y,h[b+9],12,-1958414417),y=l(y,v,g,m,h[b+10],17,-42063),m=l(m,y,v,g,h[b+11],22,-1990404162),g=l(g,m,y,v,h[b+12],7,1804603682),v=l(v,g,m,y,h[b+13],12,-40341101),y=l(y,v,g,m,h[b+14],17,-1502002290),m=l(m,y,v,g,h[b+15],22,1236535329),g=u(g,m,y,v,h[b+1],5,-165796510),v=u(v,g,m,y,h[b+6],9,-1069501632),y=u(y,v,g,m,h[b+11],14,643717713),m=u(m,y,v,g,h[b],20,-373897302),g=u(g,m,y,v,h[b+5],5,-701558691),v=u(v,g,m,y,h[b+10],9,38016083),y=u(y,v,g,m,h[b+15],14,-660478335),m=u(m,y,v,g,h[b+4],20,-405537848),g=u(g,m,y,v,h[b+9],5,568446438),v=u(v,g,m,y,h[b+14],9,-1019803690),y=u(y,v,g,m,h[b+3],14,-187363961),m=u(m,y,v,g,h[b+8],20,1163531501),g=u(g,m,y,v,h[b+13],5,-1444681467),v=u(v,g,m,y,h[b+2],9,-51403784),y=u(y,v,g,m,h[b+7],14,1735328473),m=u(m,y,v,g,h[b+12],20,-1926607734),g=c(g,m,y,v,h[b+5],4,-378558),v=c(v,g,m,y,h[b+8],11,-2022574463),y=c(y,v,g,m,h[b+11],16,1839030562),m=c(m,y,v,g,h[b+14],23,-35309556),g=c(g,m,y,v,h[b+1],4,-1530992060),v=c(v,g,m,y,h[b+4],11,1272893353),y=c(y,v,g,m,h[b+7],16,-155497632),m=c(m,y,v,g,h[b+10],23,-1094730640),g=c(g,m,y,v,h[b+13],4,681279174),v=c(v,g,m,y,h[b],11,-358537222),y=c(y,v,g,m,h[b+3],16,-722521979),m=c(m,y,v,g,h[b+6],23,76029189),g=c(g,m,y,v,h[b+9],4,-640364487),v=c(v,g,m,y,h[b+12],11,-421815835),y=c(y,v,g,m,h[b+15],16,530742520),m=c(m,y,v,g,h[b+2],23,-995338651),g=d(g,m,y,v,h[b],6,-198630844),v=d(v,g,m,y,h[b+7],10,1126891415),y=d(y,v,g,m,h[b+14],15,-1416354905),m=d(m,y,v,g,h[b+5],21,-57434055),g=d(g,m,y,v,h[b+12],6,1700485571),v=d(v,g,m,y,h[b+3],10,-1894986606),y=d(y,v,g,m,h[b+10],15,-1051523),m=d(m,y,v,g,h[b+1],21,-2054922799),g=d(g,m,y,v,h[b+8],6,1873313359),v=d(v,g,m,y,h[b+15],10,-30611744),y=d(y,v,g,m,h[b+6],15,-1560198380),m=d(m,y,v,g,h[b+13],21,1309151649),g=d(g,m,y,v,h[b+4],6,-145523070),v=d(v,g,m,y,h[b+11],10,-1120210379),y=d(y,v,g,m,h[b+2],15,718787259),m=d(m,y,v,g,h[b+9],21,-343485551),g=a(g,_),m=a(m,w),y=a(y,T),v=a(v,R)}return[g,m,y,v]}function n(h){if(h.length===0)return[];const p=h.length*8,g=new Uint32Array(i(p));for(let m=0;m<p;m+=8)g[m>>5]|=(h[m/8]&255)<<m%32;return g}function a(h,p){const g=(h&65535)+(p&65535);return(h>>16)+(p>>16)+(g>>16)<<16|g&65535}function o(h,p){return h<<p|h>>>32-p}function s(h,p,g,m,y,v){return a(o(a(a(p,h),a(m,v)),y),g)}function l(h,p,g,m,y,v,b){return s(p&g|~p&m,h,p,y,v,b)}function u(h,p,g,m,y,v,b){return s(p&m|g&~m,h,p,y,v,b)}function c(h,p,g,m,y,v,b){return s(p^g^m,h,p,y,v,b)}function d(h,p,g,m,y,v,b){return s(g^(p|~m),h,p,y,v,b)}var f=e;return aw.default=f,aw}var BH;function jSe(){if(BH)return nw;BH=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.default=void 0;var e=i(Ste()),t=i(MSe());function i(a){return a&&a.__esModule?a:{default:a}}var n=(0,e.default)("v3",48,t.default);return nw.default=n,nw}var ow={},sw={},qH;function kSe(){if(qH)return sw;qH=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return sw.default=t,sw}var VH;function BSe(){if(VH)return ow;VH=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.default=void 0;var e=r(kSe()),t=r(_te()),i=_3();function r(o){return o&&o.__esModule?o:{default:o}}function n(o,s,l){if(e.default.randomUUID&&!s&&!o)return e.default.randomUUID();o=o||{};const u=o.random||(o.rng||t.default)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,s){l=l||0;for(let c=0;c<16;++c)s[l+c]=u[c];return s}return(0,i.unsafeStringify)(u)}var a=n;return ow.default=a,ow}var uw={},lw={},UH;function qSe(){if(UH)return lw;UH=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.default=void 0;function e(n,a,o,s){switch(n){case 0:return a&o^~a&s;case 1:return a^o^s;case 2:return a&o^a&s^o&s;case 3:return a^o^s}}function t(n,a){return n<<a|n>>>32-a}function i(n){const a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const c=unescape(encodeURIComponent(n));n=[];for(let d=0;d<c.length;++d)n.push(c.charCodeAt(d))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const s=n.length/4+2,l=Math.ceil(s/16),u=new Array(l);for(let c=0;c<l;++c){const d=new Uint32Array(16);for(let f=0;f<16;++f)d[f]=n[c*64+f*4]<<24|n[c*64+f*4+1]<<16|n[c*64+f*4+2]<<8|n[c*64+f*4+3];u[c]=d}u[l-1][14]=(n.length-1)*8/Math.pow(2,32),u[l-1][14]=Math.floor(u[l-1][14]),u[l-1][15]=(n.length-1)*8&4294967295;for(let c=0;c<l;++c){const d=new Uint32Array(80);for(let y=0;y<16;++y)d[y]=u[c][y];for(let y=16;y<80;++y)d[y]=t(d[y-3]^d[y-8]^d[y-14]^d[y-16],1);let f=o[0],h=o[1],p=o[2],g=o[3],m=o[4];for(let y=0;y<80;++y){const v=Math.floor(y/20),b=t(f,5)+e(v,h,p,g)+m+a[v]+d[y]>>>0;m=g,g=p,p=t(h,30)>>>0,h=f,f=b}o[0]=o[0]+f>>>0,o[1]=o[1]+h>>>0,o[2]=o[2]+p>>>0,o[3]=o[3]+g>>>0,o[4]=o[4]+m>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var r=i;return lw.default=r,lw}var HH;function VSe(){if(HH)return uw;HH=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.default=void 0;var e=i(Ste()),t=i(qSe());function i(a){return a&&a.__esModule?a:{default:a}}var n=(0,e.default)("v5",80,t.default);return uw.default=n,uw}var cw={},$H;function USe(){if($H)return cw;$H=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.default=void 0;var e="00000000-0000-0000-0000-000000000000";return cw.default=e,cw}var dw={},QH;function HSe(){if(QH)return dw;QH=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.default=void 0;var e=t(b3());function t(n){return n&&n.__esModule?n:{default:n}}function i(n){if(!(0,e.default)(n))throw TypeError("Invalid UUID");return parseInt(n.slice(14,15),16)}var r=i;return dw.default=r,dw}var zH;function Ate(){return zH||(zH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var t=c(LSe()),i=c(jSe()),r=c(BSe()),n=c(VSe()),a=c(USe()),o=c(HSe()),s=c(b3()),l=c(_3()),u=c(wte());function c(d){return d&&d.__esModule?d:{default:d}}}(lP)),lP}var fw={},GH;function w3(){if(GH)return fw;GH=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.orderTypes=void 0;const e=Ol(),t=$0(),i=Gp(),r=Ra(),n=Vi();function a(u,c,d=!1,f,h){if(u===c)return 0;if(u===void 0)return-1;if(c===void 0)return 1;if(u.termType!==c.termType)return l[u.termType]<l[c.termType]?-1:1;if(u.equals(c))return 0;if(u.termType==="Quad"&&c.termType==="Quad"){const p=a(u.subject,c.subject,d,f,h);if(p!==0)return p;const g=a(u.predicate,c.predicate,d,f,h);if(g!==0)return g;const m=a(u.object,c.object,d,f,h);return m!==0?m:a(u.graph,c.graph,d,f,h)}if(u.termType==="Literal")return o(u,c,f,h);if(d)throw new n.InvalidCompareArgumentTypes(u,c);return s(u.value,c.value)}fw.orderTypes=a;function o(u,c,d,f){const h=t.regularFunctions[r.RegularOperator.GT],p=t.regularFunctions[r.RegularOperator.EQUAL],g={now:new Date,functionArgumentsCache:{},superTypeProvider:{discoverer:d??(()=>"term"),cache:f??new e.LRUCache({max:1e3})},defaultTimeZone:{zoneHours:0,zoneMinutes:0}},m=new i.TermTransformer(g.superTypeProvider),y=m.transformLiteral(u),v=m.transformLiteral(c);try{return p.apply([y,v],g).typedValue?0:h.apply([y,v],g).typedValue?1:-1}catch{const b=s(y.dataType,v.dataType);return b!==0?b:s(y.str(),v.str())}}function s(u,c){return u===c?0:u<c?-1:1}const l={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};return fw}var ru={},WH;function $Se(){if(WH)return ru;WH=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.langMatches=ru.replace=ru.matches=void 0;function e(a,o,s){return new RegExp(o,s).test(a)}ru.matches=e;function t(a,o,s,l){let u=new RegExp(o,l);if(!u.global){const c=l??"";u=new RegExp(o,`${c}g`)}return a.replace(u,s)}ru.replace=t;function i(a,o){const s=a.split("-"),l=o.split("-");if(!n(l[0],s[0])&&!r(s[0]))return!1;let u=1,c=1;for(;c<l.length;){if(r(l[c])){c++;continue}if(u===s.length)return!1;if(n(l[c],s[u])){u++,c++;continue}if(s[u].length===1)return!1;u++}return!0}ru.langMatches=i;function r(a){return a==="*"}function n(a,o){return new RegExp(`/${a}/`,"iu").test(`/${o}/`)}return ru}var KH;function QSe(){if(KH)return Z1;KH=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.definitions=void 0;const e=DSe(),t=l3(),i=yr(),r=Ko(),n=NSe(),a=Ate(),o=Za(),s=Gp(),l=Ra(),u=Ra(),c=H0(),d=Vi(),f=w3(),h=vte(),p=EI(),g=Fs(),m=$Se(),y=$0(),v=new i.DataFactory,b={arity:1,overloads:(0,g.declare)(l.RegularOperator.NOT).onTerm1(()=>U=>(0,g.bool)(!U.coerceEBV())).collect()},_={arity:1,overloads:(0,g.declare)(l.RegularOperator.UPLUS).numericConverter(()=>U=>U).collect()},w={arity:1,overloads:(0,g.declare)(l.RegularOperator.UMINUS).numericConverter(()=>U=>-U).collect()},T={arity:2,overloads:(0,g.declare)(l.RegularOperator.MULTIPLICATION).arithmetic(()=>(U,he)=>new e.BigNumber(U).times(he).toNumber()).collect()},R={arity:2,overloads:(0,g.declare)(l.RegularOperator.DIVISION).arithmetic(()=>(U,he)=>new e.BigNumber(U).div(he).toNumber()).onBinaryTyped([u.TypeURL.XSD_INTEGER,u.TypeURL.XSD_INTEGER],()=>(U,he)=>{if(he===0)throw new d.ExpressionError("Integer division by 0");return(0,g.decimal)(new e.BigNumber(U).div(he).toNumber())}).collect()},F={arity:2,overloads:(0,g.declare)(l.RegularOperator.ADDITION).arithmetic(()=>(U,he)=>new e.BigNumber(U).plus(he).toNumber()).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.DateTimeLiteral((0,h.addDurationToDateTime)(U.typedValue,(0,c.defaultedDurationRepresentation)(he.typedValue)))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.DateLiteral((0,h.addDurationToDateTime)((0,c.defaultedDateTimeRepresentation)(U.typedValue),(0,c.defaultedDurationRepresentation)(he.typedValue)))).copy({from:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.TimeLiteral((0,h.addDurationToDateTime)((0,c.defaultedDateTimeRepresentation)(U.typedValue),(0,c.defaultedDurationRepresentation)(he.typedValue)))).copy({from:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},D={arity:2,overloads:(0,g.declare)(l.RegularOperator.SUBTRACTION).arithmetic(()=>(U,he)=>new e.BigNumber(U).minus(he).toNumber()).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],({defaultTimeZone:U})=>([he,je])=>new o.DayTimeDurationLiteral((0,h.elapsedDuration)(he.typedValue,je.typedValue,U))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME]}).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.DateTimeLiteral((0,h.addDurationToDateTime)(U.typedValue,(0,c.defaultedDurationRepresentation)((0,c.negateDuration)(he.typedValue))))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.DateLiteral((0,h.addDurationToDateTime)((0,c.defaultedDateTimeRepresentation)(U.typedValue),(0,c.defaultedDurationRepresentation)((0,c.negateDuration)(he.typedValue))))).copy({from:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>new o.TimeLiteral((0,h.addDurationToDateTime)((0,c.defaultedDateTimeRepresentation)(U.typedValue),(0,c.defaultedDurationRepresentation)((0,c.negateDuration)(he.typedValue))))).collect()},A={arity:2,overloads:(0,g.declare)(l.RegularOperator.EQUAL).numberTest(()=>(U,he)=>U===he).stringTest(()=>(U,he)=>U.localeCompare(he)===0).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>([U,he])=>(0,g.bool)(U.str()===he.str()&&U.language===he.language)).set([u.TypeAlias.SPARQL_STRINGLY,u.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,g.bool)(!1)).booleanTest(()=>(U,he)=>U===he).dateTimeTest(({defaultTimeZone:U})=>(he,je)=>(0,c.toUTCDate)(he,U).getTime()===(0,c.toUTCDate)(je,U).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set(["quad","quad"],U=>([he,je])=>{const Ke=new p.RegularFunction(u.RegularOperator.EQUAL,A);return(0,g.bool)(Ke.apply([he.subject,je.subject],U).coerceEBV()&&Ke.apply([he.predicate,je.predicate],U).coerceEBV()&&Ke.apply([he.object,je.object],U).coerceEBV())},!1).set(["term","term"],()=>([U,he])=>(0,g.bool)(x(U,he)),!1).set([u.TypeURL.XSD_DURATION,u.TypeURL.XSD_DURATION],()=>([U,he])=>(0,g.bool)((0,c.yearMonthDurationsToMonths)((0,c.defaultedYearMonthDurationRepresentation)(U.typedValue))===(0,c.yearMonthDurationsToMonths)((0,c.defaultedYearMonthDurationRepresentation)(he.typedValue))&&(0,c.dayTimeDurationsToSeconds)((0,c.defaultedDayTimeDurationRepresentation)(U.typedValue))===(0,c.dayTimeDurationsToSeconds)((0,c.defaultedDayTimeDurationRepresentation)(he.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],({defaultTimeZone:U})=>([he,je])=>(0,g.bool)((0,c.toUTCDate)((0,c.defaultedDateTimeRepresentation)(he.typedValue),U).getTime()===(0,c.toUTCDate)((0,c.defaultedDateTimeRepresentation)(je.typedValue),U).getTime())).collect()};function x(U,he){const je=U.toRDF(),Ke=he.toRDF(),Et=je.equals(Ke);if(!Et&&je.termType==="Literal"&&Ke.termType==="Literal")throw new d.RDFEqualTypeError([U,he]);return Et}const N={arity:2,overloads:(0,g.declare)(l.RegularOperator.NOT_EQUAL).set(["term","term"],U=>([he,je])=>(0,g.bool)(!y.regularFunctions[l.RegularOperator.EQUAL].apply([he,je],U).typedValue)).collect()},j={arity:2,overloads:(0,g.declare)(l.RegularOperator.LT).numberTest(()=>(U,he)=>U<he).stringTest(()=>(U,he)=>U.localeCompare(he)===-1).booleanTest(()=>(U,he)=>U<he).set(["quad","quad"],()=>([U,he])=>(0,g.bool)((0,f.orderTypes)(U.toRDF(),he.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:U})=>(he,je)=>(0,c.toUTCDate)(he,U).getTime()<(0,c.toUTCDate)(je,U).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set([u.TypeURL.XSD_YEAR_MONTH_DURATION,u.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([U,he])=>(0,g.bool)((0,c.yearMonthDurationsToMonths)((0,c.defaultedYearMonthDurationRepresentation)(U.typedValue))<(0,c.yearMonthDurationsToMonths)((0,c.defaultedYearMonthDurationRepresentation)(he.typedValue)))).set([u.TypeURL.XSD_DAY_TIME_DURATION,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([U,he])=>(0,g.bool)((0,c.dayTimeDurationsToSeconds)((0,c.defaultedDayTimeDurationRepresentation)(U.typedValue))<(0,c.dayTimeDurationsToSeconds)((0,c.defaultedDayTimeDurationRepresentation)(he.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],({defaultTimeZone:U})=>([he,je])=>(0,g.bool)((0,c.toUTCDate)((0,c.defaultedDateTimeRepresentation)(he.typedValue),U).getTime()<(0,c.toUTCDate)((0,c.defaultedDateTimeRepresentation)(je.typedValue),U).getTime())).collect()},H={arity:2,overloads:(0,g.declare)(l.RegularOperator.GT).set(["term","term"],U=>([he,je])=>y.regularFunctions[l.RegularOperator.LT].apply([je,he],U)).collect()},M={arity:2,overloads:(0,g.declare)(l.RegularOperator.LTE).set(["term","term"],U=>([he,je])=>(0,g.bool)(y.regularFunctions[l.RegularOperator.LT].apply([he,je],U).typedValue||y.regularFunctions[l.RegularOperator.EQUAL].apply([he,je],U).typedValue)).collect()},$={arity:2,overloads:(0,g.declare)(l.RegularOperator.GTE).set(["term","term"],U=>([he,je])=>y.regularFunctions[l.RegularOperator.LTE].apply([je,he],U)).collect()},te={arity:1,overloads:(0,g.declare)(l.RegularOperator.IS_IRI).onTerm1(()=>U=>(0,g.bool)(U.termType==="namedNode")).collect()},re={arity:1,overloads:(0,g.declare)(l.RegularOperator.IS_BLANK).onTerm1(()=>U=>(0,g.bool)(U.termType==="blankNode")).collect()},oe={arity:1,overloads:(0,g.declare)(l.RegularOperator.IS_LITERAL).onTerm1(()=>U=>(0,g.bool)(U.termType==="literal")).collect()},J={arity:1,overloads:(0,g.declare)(l.RegularOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,g.bool)(!0)).onTerm1(()=>()=>(0,g.bool)(!1)).collect()},fe={arity:1,overloads:(0,g.declare)(l.RegularOperator.STR).onTerm1(()=>U=>(0,g.string)(U.str())).collect()},xe={arity:1,overloads:(0,g.declare)(l.RegularOperator.LANG).onLiteral1(()=>U=>(0,g.string)(U.language??"")).collect()},de={arity:1,overloads:(0,g.declare)(l.RegularOperator.DATATYPE).onLiteral1(()=>U=>new o.NamedNode(U.dataType)).collect()},ae={arity:1,overloads:(0,g.declare)(l.RegularOperator.IRI).set(["namedNode"],U=>he=>{const je=he[0],Ke=(0,r.resolve)(je.str(),U.baseIRI??"");return new o.NamedNode(Ke)}).onString1(U=>he=>{const je=(0,r.resolve)(he.str(),U.baseIRI??"");return new o.NamedNode(je)}).collect()},Fe={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRDT).set([u.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:U})=>([he,je])=>{const Ke=v.literal(he.typedValue,v.namedNode(je.value));return new s.TermTransformer(U).transformLiteral(Ke)}).collect()},Le={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRLANG).onBinaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>new o.LangStringLiteral(U,he.toLowerCase())).collect()},me={arity:0,overloads:(0,g.declare)(l.RegularOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${a.v4()}`)).collect()},pe={arity:0,overloads:(0,g.declare)(l.RegularOperator.STRUUID).set([],()=>()=>(0,g.string)(a.v4())).collect()},_e={arity:1,overloads:(0,g.declare)(l.RegularOperator.STRLEN).onStringly1(()=>U=>(0,g.integer)([...U.typedValue].length)).collect()},X={arity:[2,3],overloads:(0,g.declare)(l.RegularOperator.SUBSTR).onBinaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_INTEGER],()=>(U,he)=>(0,g.string)([...U].slice(he-1).join(""))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_INTEGER],()=>(U,he)=>{const je=[...U.typedValue].slice(he.typedValue-1).join("");return(0,g.langString)(je,U.language)}).onTernaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_INTEGER,u.TypeURL.XSD_INTEGER],()=>(U,he,je)=>(0,g.string)([...U].slice(he-1,je+he-1).join(""))).onTernary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_INTEGER,u.TypeURL.XSD_INTEGER],()=>(U,he,je)=>{const Ke=[...U.typedValue].slice(he.typedValue-1,je.typedValue+he.typedValue-1).join("");return(0,g.langString)(Ke,U.language)}).collect()},C={arity:1,overloads:(0,g.declare)(l.RegularOperator.UCASE).onString1Typed(()=>U=>(0,g.string)(U.toUpperCase())).onLangString1(()=>U=>(0,g.langString)(U.typedValue.toUpperCase(),U.language)).collect()},E={arity:1,overloads:(0,g.declare)(l.RegularOperator.LCASE).onString1Typed(()=>U=>(0,g.string)(U.toLowerCase())).onLangString1(()=>U=>(0,g.langString)(U.typedValue.toLowerCase(),U.language)).collect()},S={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRSTARTS).onBinaryTyped([u.TypeAlias.SPARQL_STRINGLY,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.bool)(U.startsWith(he))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>(U,he)=>{if(U.language!==he.language)throw new d.IncompatibleLanguageOperation(U,he);return(0,g.bool)(U.typedValue.startsWith(he.typedValue))}).collect()},I={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRENDS).onBinaryTyped([u.TypeAlias.SPARQL_STRINGLY,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.bool)(U.endsWith(he))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>(U,he)=>{if(U.language!==he.language)throw new d.IncompatibleLanguageOperation(U,he);return(0,g.bool)(U.typedValue.endsWith(he.typedValue))}).collect()},k={arity:2,overloads:(0,g.declare)(l.RegularOperator.CONTAINS).onBinaryTyped([u.TypeAlias.SPARQL_STRINGLY,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.bool)(U.includes(he))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>(U,he)=>{if(U.language!==he.language)throw new d.IncompatibleLanguageOperation(U,he);return(0,g.bool)(U.typedValue.includes(he.typedValue))}).collect()},Q={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRBEFORE).onBinaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.string)(U.slice(0,Math.max(0,U.indexOf(he))))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>{const[je,Ke]=[U.typedValue,he.typedValue],Et=U.typedValue.slice(0,Math.max(0,je.indexOf(Ke)));return Et||!Ke?(0,g.langString)(Et,U.language):(0,g.string)(Et)}).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>(U,he)=>{if(U.language!==he.language)throw new d.IncompatibleLanguageOperation(U,he);const[je,Ke]=[U.typedValue,he.typedValue],Et=U.typedValue.slice(0,Math.max(0,je.indexOf(Ke)));return Et||!Ke?(0,g.langString)(Et,U.language):(0,g.string)(Et)}).collect()},G={arity:2,overloads:(0,g.declare)(l.RegularOperator.STRAFTER).onBinaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.string)(U.slice(U.indexOf(he)).slice(he.length))).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>{const[je,Ke]=[U.typedValue,he.typedValue],Et=je.slice(je.indexOf(Ke)).slice(Ke.length);return Et||!Ke?(0,g.langString)(Et,U.language):(0,g.string)(Et)}).onBinary([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>(U,he)=>{if(U.language!==he.language)throw new d.IncompatibleLanguageOperation(U,he);const[je,Ke]=[U.typedValue,he.typedValue],Et=je.slice(je.indexOf(Ke)).slice(Ke.length);return Et||!Ke?(0,g.langString)(Et,U.language):(0,g.string)(Et)}).collect()},ne={arity:1,overloads:(0,g.declare)(l.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>U=>(0,g.string)(encodeURI(U))).collect()},ee={arity:2,overloads:(0,g.declare)(l.RegularOperator.LANG_MATCHES).onBinaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he)=>(0,g.bool)(m.langMatches(U,he))).collect()};function se(){return(U,he)=>(0,g.bool)(m.matches(U,he))}function ge(){return(U,he,je)=>(0,g.bool)(m.matches(U,he,je))}const Ae={arity:[2,3],overloads:(0,g.declare)(l.RegularOperator.REGEX).onBinaryTyped([u.TypeAlias.SPARQL_STRINGLY,u.TypeURL.XSD_STRING],se).onTernaryTyped([u.TypeAlias.SPARQL_STRINGLY,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],ge).collect()},Ve={arity:[3,4],overloads:(0,g.declare)(l.RegularOperator.REPLACE).onTernaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he,je)=>(0,g.string)(m.replace(U,he,je))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([U,he,je])=>{const Ke=m.replace(U.typedValue,he.typedValue,je.typedValue);return(0,g.langString)(Ke,U.language)}).onQuaternaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(U,he,je,Ke)=>(0,g.string)(m.replace(U,he,je,Ke))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([U,he,je,Ke])=>{const Et=m.replace(U.typedValue,he.typedValue,je.typedValue,Ke.typedValue);return(0,g.langString)(Et,U.language)}).collect()},Ge={arity:1,overloads:(0,g.declare)(l.RegularOperator.ABS).numericConverter(()=>U=>Math.abs(U)).collect()},qe={arity:1,overloads:(0,g.declare)(l.RegularOperator.ROUND).numericConverter(()=>U=>Math.round(U)).collect()},Ee={arity:1,overloads:(0,g.declare)(l.RegularOperator.CEIL).numericConverter(()=>U=>Math.ceil(U)).collect()},W={arity:1,overloads:(0,g.declare)(l.RegularOperator.FLOOR).numericConverter(()=>U=>Math.floor(U)).collect()},V={arity:0,overloads:(0,g.declare)(l.RegularOperator.RAND).set([],()=>()=>(0,g.double)(Math.random())).collect()},K={arity:0,overloads:(0,g.declare)(l.RegularOperator.NOW).set([],U=>()=>new o.DateTimeLiteral((0,c.toDateTimeRepresentation)({date:U.now,timeZone:U.defaultTimeZone}))).collect()},z={arity:1,overloads:(0,g.declare)(l.RegularOperator.YEAR).onDateTime1(()=>U=>(0,g.integer)(U.typedValue.year)).set([u.TypeURL.XSD_DATE],()=>([U])=>(0,g.integer)(U.typedValue.year)).collect()},be={arity:1,overloads:(0,g.declare)(l.RegularOperator.MONTH).onDateTime1(()=>U=>(0,g.integer)(U.typedValue.month)).set([u.TypeURL.XSD_DATE],()=>([U])=>(0,g.integer)(U.typedValue.month)).collect()},ke={arity:1,overloads:(0,g.declare)(l.RegularOperator.DAY).onDateTime1(()=>U=>(0,g.integer)(U.typedValue.day)).set([u.TypeURL.XSD_DATE],()=>([U])=>(0,g.integer)(U.typedValue.day)).collect()},Pe={arity:1,overloads:(0,g.declare)(l.RegularOperator.HOURS).onDateTime1(()=>U=>(0,g.integer)(U.typedValue.hours)).set([u.TypeURL.XSD_TIME],()=>([U])=>(0,g.integer)(U.typedValue.hours)).collect()},dt={arity:1,overloads:(0,g.declare)(l.RegularOperator.MINUTES).onDateTime1(()=>U=>(0,g.integer)(U.typedValue.minutes)).set([u.TypeURL.XSD_TIME],()=>([U])=>(0,g.integer)(U.typedValue.minutes)).collect()},pt={arity:1,overloads:(0,g.declare)(l.RegularOperator.SECONDS).onDateTime1(()=>U=>(0,g.decimal)(U.typedValue.seconds)).set([u.TypeURL.XSD_TIME],()=>([U])=>(0,g.integer)(U.typedValue.seconds)).collect()},tt={arity:1,overloads:(0,g.declare)(l.RegularOperator.TIMEZONE).onDateTime1(()=>U=>{const he={hours:U.typedValue.zoneHours,minutes:U.typedValue.zoneMinutes};if(he.hours===void 0&&he.minutes===void 0)throw new d.InvalidTimezoneCall(U.str());return new o.DayTimeDurationLiteral(he)}).copy({from:[u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME]}).collect()},At={arity:1,overloads:(0,g.declare)(l.RegularOperator.TZ).onDateTime1(()=>U=>(0,g.string)((0,c.extractRawTimeZone)(U.str()))).copy({from:[u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME]}).collect()},ve={arity:1,overloads:(0,g.declare)(l.RegularOperator.MD5).onString1Typed(()=>U=>(0,g.string)((0,n.hash)(U))).collect()},et={arity:1,overloads:(0,g.declare)(l.RegularOperator.SHA1).onString1Typed(()=>U=>(0,g.string)((0,t.sha1)().update(U).digest("hex"))).collect()},Ze={arity:1,overloads:(0,g.declare)(l.RegularOperator.SHA256).onString1Typed(()=>U=>(0,g.string)((0,t.sha256)().update(U).digest("hex"))).collect()},st={arity:1,overloads:(0,g.declare)(l.RegularOperator.SHA384).onString1Typed(()=>U=>(0,g.string)((0,t.sha384)().update(U).digest("hex"))).collect()},ut={arity:1,overloads:(0,g.declare)(l.RegularOperator.SHA512).onString1Typed(()=>U=>(0,g.string)((0,t.sha512)().update(U).digest("hex"))).collect()},xt={arity:3,overloads:(0,g.declare)(l.RegularOperator.TRIPLE).onTerm3(U=>(...he)=>new o.Quad(v.quad(he[0].toRDF(),he[1].toRDF(),he[2].toRDF()),U.superTypeProvider)).collect()},Nt={arity:1,overloads:(0,g.declare)(l.RegularOperator.SUBJECT).onQuad1(()=>U=>U.subject).collect()},Lt={arity:1,overloads:(0,g.declare)(l.RegularOperator.PREDICATE).onQuad1(()=>U=>U.predicate).collect()},er={arity:1,overloads:(0,g.declare)(l.RegularOperator.OBJECT).onQuad1(()=>U=>U.object).collect()},Ie={arity:1,overloads:(0,g.declare)(l.RegularOperator.IS_TRIPLE).onTerm1(()=>U=>(0,g.bool)(U.termType==="quad")).collect()};return Z1.definitions={"!":b,uplus:_,uminus:w,"*":T,"/":R,"+":F,"-":D,"=":A,"!=":N,"<":j,">":H,"<=":M,">=":$,isiri:te,isuri:te,isblank:re,isliteral:oe,isnumeric:J,str:fe,lang:xe,datatype:de,iri:ae,uri:ae,strdt:Fe,strlang:Le,uuid:me,struuid:pe,strlen:_e,substr:X,ucase:C,lcase:E,strstarts:S,strends:I,contains:k,strbefore:Q,strafter:G,encode_for_uri:ne,langmatches:ee,regex:Ae,replace:Ve,abs:Ge,round:qe,ceil:Ee,floor:W,rand:V,now:K,year:z,month:be,day:ke,hours:Pe,minutes:dt,seconds:pt,timezone:tt,tz:At,md5:ve,sha1:et,sha256:Ze,sha384:st,sha512:ut,triple:xt,subject:Nt,predicate:Lt,object:er,istriple:Ie},Z1}var hw={},JH;function zSe(){if(JH)return hw;JH=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.specialDefinitions=void 0;const e=Ate(),t=Za(),i=Ra(),r=Vi(),n=Fs(),a=$0(),o={arity:1,async applyAsync({args:R,mapping:F}){return s({args:R,mapping:F})},applySynchronously({args:R,mapping:F}){return s({args:R,mapping:F})}};function s({args:R,mapping:F}){const D=R[0];if(D.expressionType!==t.ExpressionType.Variable)throw new r.InvalidArgumentTypes(R,i.SpecialOperator.BOUND);const A=F.has((0,n.expressionToVar)(D));return(0,n.bool)(A)}const l={arity:3,async applyAsync({args:R,mapping:F,evaluate:D}){const x=(await D(R[0],F)).coerceEBV();return D(x?R[1]:R[2],F)},applySynchronously({args:R,mapping:F,evaluate:D}){const x=D(R[0],F).coerceEBV();return D(x?R[1]:R[2],F)}},u={arity:Number.POSITIVE_INFINITY,async applyAsync({args:R,mapping:F,evaluate:D}){const A=[];for(const x of R)try{return await D(x,F)}catch(N){A.push(N)}throw new r.CoalesceError(A)},applySynchronously({args:R,mapping:F,evaluate:D}){const A=[];for(const x of R)try{return D(x,F)}catch(N){A.push(N)}throw new r.CoalesceError(A)}},c={arity:2,async applyAsync({args:R,mapping:F,evaluate:D}){const[A,x]=R;try{if((await D(A,F)).coerceEBV())return(0,n.bool)(!0);const M=(await D(x,F)).coerceEBV();return(0,n.bool)(M)}catch(N){if(!(await D(x,F)).coerceEBV())throw N;return(0,n.bool)(!0)}},applySynchronously({args:R,mapping:F,evaluate:D}){const[A,x]=R;try{if(D(A,F).coerceEBV())return(0,n.bool)(!0);const M=D(x,F).coerceEBV();return(0,n.bool)(M)}catch(N){if(!D(x,F).coerceEBV())throw N;return(0,n.bool)(!0)}}},d={arity:2,async applyAsync({args:R,mapping:F,evaluate:D}){const[A,x]=R;try{if(!(await D(A,F)).coerceEBV())return(0,n.bool)(!1);const M=(await D(x,F)).coerceEBV();return(0,n.bool)(M)}catch(N){if((await D(x,F)).coerceEBV())throw N;return(0,n.bool)(!1)}},applySynchronously({args:R,mapping:F,evaluate:D}){const[A,x]=R;try{if(!D(A,F).coerceEBV())return(0,n.bool)(!1);const M=D(x,F).coerceEBV();return(0,n.bool)(M)}catch(N){if(D(x,F).coerceEBV())throw N;return(0,n.bool)(!1)}}},f={arity:2,async applyAsync({args:R,mapping:F,evaluate:D}){const[A,x]=R.map(H=>D(H,F)),[N,j]=await Promise.all([A,x]);return(0,n.bool)(N.toRDF().equals(j.toRDF()))},applySynchronously({args:R,mapping:F,evaluate:D}){const[A,x]=R.map(N=>D(N,F));return(0,n.bool)(A.toRDF().equals(x.toRDF()))}},h={arity:Number.POSITIVE_INFINITY,checkArity(R){return R.length>0},async applyAsync(R){const{args:F,mapping:D,evaluate:A}=R,[x,...N]=F,j=await A(x,D);return p(j,{...R,args:N},[])},applySynchronously(R){const{args:F,mapping:D,evaluate:A}=R,[x,...N]=F,j=A(x,D);return g(j,{...R,args:N},[])}};async function p(R,F,D){const{args:A,mapping:x,evaluate:N}=F;if(A.length===0)return D.every(H=>!H)?(0,n.bool)(!1):Promise.reject(new r.InError(D));try{const j=A.shift(),H=await N(j,x);return a.regularFunctions[i.RegularOperator.EQUAL].apply([R,H],F).typedValue?(0,n.bool)(!0):p(R,F,[...D,!1])}catch(j){return p(R,F,[...D,j])}}function g(R,F,D){const{args:A,mapping:x,evaluate:N}=F;if(A.length===0){if(D.every(H=>!H))return(0,n.bool)(!1);throw new r.InError(D)}try{const j=A.shift(),H=N(j,x);return a.regularFunctions[i.RegularOperator.EQUAL].apply([R,H],F).typedValue?(0,n.bool)(!0):g(R,F,[...D,!1])}catch(j){return g(R,F,[...D,j])}}const m={arity:Number.POSITIVE_INFINITY,checkArity(R){return R.length>0},async applyAsync(R){const D=await a.specialFunctions[i.SpecialOperator.IN].applyAsync(R);return(0,n.bool)(!D.typedValue)},applySynchronously(R){const D=a.specialFunctions[i.SpecialOperator.IN].applySynchronously(R);return(0,n.bool)(!D.typedValue)}},y=(0,n.declare)(i.SpecialOperator.CONCAT).onStringly1(()=>R=>R).collect(),v={arity:Number.POSITIVE_INFINITY,async applyAsync(R){const{args:F,mapping:D,evaluate:A,functionArgumentsCache:x,superTypeProvider:N}=R,j=F.map(async re=>A(re,D)).map(async re=>{const oe=y.search([await re],N,x);if(!oe)throw new r.InvalidArgumentTypes(F,i.SpecialOperator.CONCAT);return oe(R)([await re])}),H=await Promise.all(j),$=H.map(re=>re.typedValue).join(""),te=b(H)?H[0].language:void 0;return te?(0,n.langString)($,te):(0,n.string)($)},applySynchronously(R){const{args:F,mapping:D,evaluate:A,superTypeProvider:x,functionArgumentsCache:N}=R,j=F.map(te=>A(te,D)).map(te=>{const re=y.search([te],x,N);if(!re)throw new r.InvalidArgumentTypes(F,i.SpecialOperator.CONCAT);return re(R)([te])}),M=j.map(te=>te.typedValue).join(""),$=b(j)?j[0].language:void 0;return $?(0,n.langString)(M,$):(0,n.string)(M)}};function b(R){return R.length>0&&R.every(F=>F.language===R[0].language)}const _=(0,n.declare)(i.SpecialOperator.BNODE).onString1(()=>R=>R).collect(),w={arity:Number.POSITIVE_INFINITY,checkArity(R){return R.length===0||R.length===1},async applyAsync(R){const{args:F,mapping:D,evaluate:A,superTypeProvider:x,functionArgumentsCache:N}=R,j=F.length===1?await A(F[0],D):void 0;let H;if(j){const M=_.search([j],x,N);if(!M)throw new r.InvalidArgumentTypes(F,i.SpecialOperator.BNODE);H=M(R)([j]).str()}if(R.bnode){const M=await R.bnode(H);return new t.BlankNode(M)}return T(H)},applySynchronously(R){const{args:F,mapping:D,evaluate:A,superTypeProvider:x,functionArgumentsCache:N}=R,j=F.length===1?A(F[0],D):void 0;let H;if(j){const M=_.search([j],x,N);if(!M)throw new r.InvalidArgumentTypes(F,i.SpecialOperator.BNODE);H=M(R)([j]).str()}if(R.bnode){const M=R.bnode(H);return new t.BlankNode(M)}return T(H)}};function T(R){return new t.BlankNode(R??e.v4())}return hw.specialDefinitions={bound:o,if:l,coalesce:u,"&&":d,"||":c,sameterm:f,in:h,notin:m,concat:v,bnode:w},hw}var XH;function $0(){return XH||(XH=1,function(e){var t=wh&&wh.__createBinding||(Object.create?function(l,u,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(u,c);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,d,f)}:function(l,u,c,d){d===void 0&&(d=c),l[d]=u[c]}),i=wh&&wh.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,l,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.OverloadTree=e.namedFunctions=e.specialFunctions=e.regularFunctions=void 0;const r=EI(),n=ISe(),a=QSe(),o=zSe();i(EI(),e),e.regularFunctions=Object.fromEntries(Object.entries(a.definitions).map(([l,u])=>[l,new r.RegularFunction(l,u)])),e.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([l,u])=>[l,new r.SpecialFunction(l,u)])),e.namedFunctions=Object.fromEntries(Object.entries(n.namedDefinitions).map(([l,u])=>[l,new r.NamedFunction(l,u)]));var s=bte();Object.defineProperty(e,"OverloadTree",{enumerable:!0,get:function(){return s.OverloadTree}})}(wh)),wh}var YH;function Tte(){if(YH)return V1;YH=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.AlgebraTransformer=void 0;const e=vr(),t=Za(),i=$0(),r=Ra(),n=Vi(),a=Vi(),o=Gp();let s=class PS extends o.TermTransformer{constructor(u){super(u.superTypeProvider),this.algebraConfig=u,this.creatorConfig={type:u.type,creator:u.creator}}transformAlgebra(u){const c=e.Algebra.expressionTypes;switch(u.expressionType){case c.TERM:return this.transformTerm(u);case c.OPERATOR:return this.transformOperator(u);case c.NAMED:return this.transformNamed(u);case c.EXISTENCE:return PS.transformExistence(u);case c.AGGREGATE:return PS.transformAggregate(u);case c.WILDCARD:return PS.transformWildcard(u)}}static transformWildcard(u){return new t.NamedNode(u.wildcard.value)}transformOperator(u){const c=u.operator.toLowerCase();if(r.SpecialOperators.has(c)){const p=c,g=u.args.map(y=>this.transformAlgebra(y)),m=i.specialFunctions[p];if(!m.checkArity(g))throw new n.InvalidArity(g,p);return new t.SpecialOperator(g,m.applyAsync,m.applySynchronously)}if(!r.Operators.has(c))throw new n.UnknownOperator(u.operator);const d=c,f=u.args.map(p=>this.transformAlgebra(p)),h=i.regularFunctions[d];if(!PS.hasCorrectArity(f,h.arity))throw new n.InvalidArity(f,d);return new t.Operator(f,p=>h.apply(p,this.algebraConfig))}wrapSyncFunction(u,c){return d=>{try{const f=u(d.map(h=>h.toRDF()));return this.transformRDFTermUnsafe(f)}catch(f){throw new a.ExtensionFunctionError(c,f)}}}wrapAsyncFunction(u,c){return async d=>{try{const f=await u(d.map(h=>h.toRDF()));return this.transformRDFTermUnsafe(f)}catch(f){throw new a.ExtensionFunctionError(c,f)}}}transformNamed(u){const c=u.name.value,d=u.args.map(f=>this.transformAlgebra(f));if(r.NamedOperators.has(c)){const f=u.name.value,h=i.namedFunctions[f];return new t.Named(u.name,d,p=>h.apply(p,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const f=this.creatorConfig.creator(u.name);if(f){const h=this.wrapSyncFunction(f,u.name.value);return new t.SyncExtension(u.name,d,h)}}else{const f=this.creatorConfig.creator(u.name);if(f){const h=this.wrapAsyncFunction(f,u.name.value);return new t.AsyncExtension(u.name,d,h)}}throw new n.UnknownNamedOperator(u.name.value)}static hasCorrectArity(u,c){return Array.isArray(c)?c.includes(u.length):u.length===c}static transformAggregate(u){const c=u.aggregator;return new t.Aggregate(c,u)}static transformExistence(u){return new t.Existence(u)}};return V1.AlgebraTransformer=s,V1}var pw={},gw={},ZH;function Ete(){if(ZH)return gw;ZH=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.BaseExpressionEvaluator=void 0;const e=Fs(),t=Vi();let i=class{constructor(n){this.termTransformer=n}term(n){return n}variable(n,a){const o=a.get((0,e.expressionToVar)(n));if(!o)throw new t.UnboundVariableError(n.name,a);return this.termTransformer.transformRDFTermUnsafe(o)}};return gw.BaseExpressionEvaluator=i,gw}var e$;function GSe(){if(e$)return pw;e$=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.AsyncRecursiveEvaluator=void 0;const e=Za(),t=Gp(),i=Vi(),r=Ete();let n=class extends r.BaseExpressionEvaluator{constructor(o,s){super(s??new t.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[e.ExpressionType.Term]:(l,u)=>this.term(l),[e.ExpressionType.Variable]:(l,u)=>this.variable(l,u),[e.ExpressionType.Operator]:(l,u)=>this.evalOperator(l,u),[e.ExpressionType.SpecialOperator]:(l,u)=>this.evalSpecialOperator(l,u),[e.ExpressionType.Named]:(l,u)=>this.evalNamed(l,u),[e.ExpressionType.Existence]:(l,u)=>this.evalExistence(l,u),[e.ExpressionType.Aggregate]:(l,u)=>this.evalAggregate(l),[e.ExpressionType.AsyncExtension]:(l,u)=>this.evalAsyncExtension(l,u)}}async evaluate(o,s){const l=this.subEvaluators[o.expressionType];if(!l)throw new i.InvalidExpressionType(o);return l.bind(this)(o,s)}async evalOperator(o,s){const l=o.args.map(c=>this.evaluate(c,s)),u=await Promise.all(l);return o.apply(u)}async evalSpecialOperator(o,s){const l=this.evaluate.bind(this),u={args:o.args,mapping:s,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applyAsync(u)}async _evalAsyncArgs(o,s){const l=o.map(u=>this.evaluate(u,s));return await Promise.all(l)}async evalNamed(o,s){return o.apply(await this._evalAsyncArgs(o.args,s))}async evalAsyncExtension(o,s){return await o.apply(await this._evalAsyncArgs(o.args,s))}async evalExistence(o,s){if(!this.context.exists)throw new i.NoExistenceHook;return new e.BooleanLiteral(await this.context.exists(o.expression,s))}async evalAggregate(o){if(!this.context.aggregate)throw new i.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(o.expression))}};return pw.AsyncRecursiveEvaluator=n,pw}var t$;function Rte(){if(t$)return q1;t$=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.AsyncEvaluator=void 0;const e=Ol(),t=Tte(),i=H0(),r=GSe();let n=class xte{static completeContext(o){const s=o.now??new Date(Date.now());return{now:s,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new e.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,i.extractTimeZone)(s)}}constructor(o,s={}){this.algExpr=o;const l=s.extensionFunctionCreator??(()=>{}),u=xte.completeContext(s),c=new t.AlgebraTransformer({type:"async",creator:l,...u});this.expr=c.transformAlgebra(o),this.evaluator=new r.AsyncRecursiveEvaluator(u,c)}async evaluate(o){return(await this.evaluator.evaluate(this.expr,o)).toRDF()}async evaluateAsEBV(o){return(await this.evaluator.evaluate(this.expr,o)).coerceEBV()}async evaluateAsInternal(o){return await this.evaluator.evaluate(this.expr,o)}};return q1.AsyncEvaluator=n,q1}var mw={},yw={},r$;function WSe(){if(r$)return yw;r$=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.SyncRecursiveEvaluator=void 0;const e=Za(),t=Gp(),i=Vi(),r=Ete();let n=class extends r.BaseExpressionEvaluator{constructor(o,s){super(s??new t.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[e.ExpressionType.Term]:(l,u)=>this.term(l),[e.ExpressionType.Variable]:(l,u)=>this.variable(l,u),[e.ExpressionType.Operator]:(l,u)=>this.evalOperator(l,u),[e.ExpressionType.SpecialOperator]:(l,u)=>this.evalSpecialOperator(l,u),[e.ExpressionType.Named]:(l,u)=>this.evalNamed(l,u),[e.ExpressionType.Existence]:(l,u)=>this.evalExistence(l,u),[e.ExpressionType.Aggregate]:(l,u)=>this.evalAggregate(l),[e.ExpressionType.SyncExtension]:(l,u)=>this.evalSyncExtension(l,u)}}evaluate(o,s){const l=this.subEvaluators[o.expressionType];if(!l)throw new i.InvalidExpressionType(o);return l.bind(this)(o,s)}evalOperator(o,s){const l=o.args.map(u=>this.evaluate(u,s));return o.apply(l)}evalSpecialOperator(o,s){const l=this.evaluate.bind(this),u={args:o.args,mapping:s,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applySynchronously(u)}evalNamed(o,s){const l=o.args.map(u=>this.evaluate(u,s));return o.apply(l)}evalSyncExtension(o,s){const l=o.args.map(u=>this.evaluate(u,s));return o.apply(l)}evalExistence(o,s){if(!this.context.exists)throw new i.NoExistenceHook;return new e.BooleanLiteral(this.context.exists(o.expression,s))}evalAggregate(o){if(!this.context.aggregate)throw new i.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(o.expression))}};return yw.SyncRecursiveEvaluator=n,yw}var n$;function Pte(){if(n$)return mw;n$=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.SyncEvaluator=void 0;const e=Ol(),t=Tte(),i=H0(),r=WSe();let n=class Ote{static completeContext(o){const s=o.now??new Date(Date.now());return{now:s,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new e.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,i.extractTimeZone)(s)}}constructor(o,s={}){this.algExpr=o,this.context=s;const l=s.extensionFunctionCreator??(()=>{}),u=Ote.completeContext(s),c=new t.AlgebraTransformer({type:"sync",creator:l,...u});this.expr=c.transformAlgebra(o),this.evaluator=new r.SyncRecursiveEvaluator(u,c)}evaluate(o){return this.evaluator.evaluate(this.expr,o).toRDF()}evaluateAsEBV(o){return this.evaluator.evaluate(this.expr,o).coerceEBV()}evaluateAsInternal(o){return this.evaluator.evaluate(this.expr,o)}};return mw.SyncEvaluator=n,mw}var vw={},bw={},_w={},ww={},Sh={},i$;function Il(){if(i$)return Sh;i$=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.Aggregator=Sh.AggregatorComponent=void 0;const e=nn(),t=Gp(),i=Ra(),r=v3();class n{static emptyValue(){}constructor(s,l){this.sharedContext=l,this.separator=s.separator||" ",this.termTransformer=new t.TermTransformer(l.superTypeProvider)}termToNumericOrError(s){if(s.termType!=="Literal")throw new Error(`Term with value ${s.value} has type ${s.termType} and is not a numeric literal`);if(!(0,r.isSubTypeOf)(s.datatype.value,i.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${s.datatype.value} with value ${s.value} has type ${s.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(s)}}Sh.AggregatorComponent=n;let a=class{constructor(s,l){this.aggregatorComponent=l,this.variableValues=new Map,this.distinct=s.distinct}static emptyValue(s){return s.emptyValue()}result(){return this.aggregatorComponent.result()}put(s,l=""){this.canSkip(s,l)||(this.aggregatorComponent.put(s),this.addSeen(s,l))}canSkip(s,l){const u=this.variableValues.get(l);return this.distinct&&u!==void 0&&u.has(e.termToString(s))}addSeen(s,l){this.distinct&&(this.variableValues.has(l)||this.variableValues.set(l,new Set),this.variableValues.get(l).add(e.termToString(s)))}};return Sh.Aggregator=a,Sh}var a$;function KSe(){if(a$)return ww;a$=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.Average=void 0;const e=Za(),t=$0(),i=Fs(),r=Ra(),n=Il();let a=class Ite extends n.AggregatorComponent{constructor(){super(...arguments),this.summer=t.regularFunctions[r.RegularOperator.ADDITION],this.divider=t.regularFunctions[r.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,i.integer)(0).toRDF()}put(s){if(this.state===void 0){const l=this.termToNumericOrError(s);this.state={sum:l,count:1}}else{const l=this.termToNumericOrError(s);this.state.sum=this.summer.apply([this.state.sum,l],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return Ite.emptyValue();const s=new e.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,s],this.sharedContext).toRDF()}};return ww.Average=a,ww}var Sw={},o$;function JSe(){if(o$)return Sw;o$=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.Count=void 0;const e=Fs(),t=Il();let i=class Cte extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,e.integer)(0).toRDF()}put(){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?Cte.emptyValue():(0,e.integer)(this.state).toRDF()}};return Sw.Count=i,Sw}var Aw={},s$;function XSe(){if(s$)return Aw;s$=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.GroupConcat=void 0;const e=Fs(),t=Il();let i=class Dte extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0}static emptyValue(){return(0,e.string)("").toRDF()}put(n){this.state===void 0?(this.state=n.value,n.termType==="Literal"&&(this.lastLanguage=n.language)):(this.state+=this.separator+n.value,this.lastLanguageValid&&n.termType==="Literal"&&this.lastLanguage!==n.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}result(){return this.state===void 0?Dte.emptyValue():this.lastLanguageValid&&this.lastLanguage?(0,e.langString)(this.state,this.lastLanguage).toRDF():(0,e.string)(this.state).toRDF()}};return Aw.GroupConcat=i,Aw}var Tw={},u$;function YSe(){if(u$)return Tw;u$=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.Max=void 0;const e=w3(),t=Il();let i=class Nte extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:(0,e.orderTypes)(this.state,n)===-1&&(this.state=n)}result(){return this.state===void 0?Nte.emptyValue():this.state}};return Tw.Max=i,Tw}var Ew={},l$;function ZSe(){if(l$)return Ew;l$=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.Min=void 0;const e=w3(),t=Il();let i=class Fte extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:(0,e.orderTypes)(this.state,n)===1&&(this.state=n)}result(){return this.state===void 0?Fte.emptyValue():this.state}};return Ew.Min=i,Ew}var xw={},c$;function e2e(){if(c$)return xw;c$=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.Sample=void 0;const e=Il();let t=class Lte extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(r){this.state===void 0&&(this.state=r)}result(){return this.state===void 0?Lte.emptyValue():this.state}};return xw.Sample=t,xw}var Rw={},d$;function t2e(){if(d$)return Rw;d$=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.Sum=void 0;const e=$0(),t=Fs(),i=Ra(),r=Il();let n=class Mte extends r.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=e.regularFunctions[i.RegularOperator.ADDITION]}static emptyValue(){return(0,t.integer)(0).toRDF()}put(o){if(this.state===void 0)this.state=this.termToNumericOrError(o);else{const s=this.termToNumericOrError(o);this.state=this.summer.apply([this.state,s],this.sharedContext)}}result(){return this.state===void 0?Mte.emptyValue():this.state.toRDF()}};return Rw.Sum=n,Rw}var f$;function r2e(){if(f$)return _w;f$=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.aggregators=void 0;const e=KSe(),t=JSe(),i=XSe(),r=YSe(),n=ZSe(),a=e2e(),o=t2e();return _w.aggregators={count:t.Count,sum:o.Sum,min:n.Min,max:r.Max,avg:e.Average,group_concat:i.GroupConcat,sample:a.Sample},_w}var Ow={},h$;function n2e(){if(h$)return Ow;h$=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.WildcardCountAggregator=void 0;const e=nn(),t=Fs();let i=class{constructor(n){this.bindingValues=new Map,this.counter=0,this.distinct=n.distinct}putBindings(n){this.handleDistinct(n)||(this.counter+=1)}static emptyValue(){return(0,t.integer)(0).toRDF()}result(){return(0,t.integer)(this.counter).toRDF()}handleDistinct(n){if(this.distinct){const a=[...n];a.sort((c,d)=>c[0].value.localeCompare(d[0].value));const o=a.map(([c])=>c.value).join(","),s=a.map(([,c])=>e.termToString(c)).join(","),l=this.bindingValues.get(o),u=l!==void 0&&l.has(s);return l||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(s),u}return!1}};return Ow.WildcardCountAggregator=i,Ow}var p$;function jte(){if(p$)return bw;p$=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.BaseAggregateEvaluator=void 0;const e=vr(),t=r2e(),i=Il(),r=n2e(),n=Vi();let a=class{constructor(s,l,u){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=s,this.aggregator=new i.Aggregator(s,new t.aggregators[s.aggregator](s,l)),this.throwError=u??!1,this.isWildcard=s.expression.expressionType===e.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new r.WildcardCountAggregator(s))}static emptyValue(s,l=!1){let u;if(s.expression.expressionType===e.Algebra.expressionTypes.WILDCARD?u=r.WildcardCountAggregator.emptyValue():u=i.Aggregator.emptyValue(t.aggregators[s.aggregator]),u===void 0&&l)throw new n.EmptyAggregateError;return u}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}};return bw.BaseAggregateEvaluator=a,bw}var g$;function i2e(){if(g$)return vw;g$=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.AggregateEvaluator=void 0;const e=jte(),t=Pte();let i=class extends e.BaseAggregateEvaluator{constructor(n,a,o){super(n,t.SyncEvaluator.completeContext(a??{}),o),this.evaluator=new t.SyncEvaluator(n.expression,a)}put(n){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(n);else try{const a=this.evaluator.evaluate(n);this.aggregator.put(a)}catch(a){this.safeThrow(a)}}safeThrow(n){if(this.throwError)throw n;this.errorOccurred=!0}};return vw.AggregateEvaluator=i,vw}var Pw={},m$;function a2e(){if(m$)return Pw;m$=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.AsyncAggregateEvaluator=void 0;const e=Rte(),t=jte();let i=class extends t.BaseAggregateEvaluator{constructor(n,a,o){super(n,e.AsyncEvaluator.completeContext(a??{}),o),this.evaluator=new e.AsyncEvaluator(n.expression,a),this.errorOccurred=!1}async put(n){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(n);else try{const a=await this.evaluator.evaluate(n);if(!a||this.errorOccurred)return;this.aggregator.put(a)}catch(a){this.safeThrow(a)}}safeThrow(n){if(this.throwError)throw n;this.errorOccurred=!0}};return Pw.AsyncAggregateEvaluator=i,Pw}var y$;function Q0(){return y$||(y$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAggregateEvaluator=e.orderTypes=e.isExpressionError=e.ExpressionError=e.AggregateEvaluator=e.SyncEvaluator=e.AsyncEvaluator=void 0;var t=Rte();Object.defineProperty(e,"AsyncEvaluator",{enumerable:!0,get:function(){return t.AsyncEvaluator}});var i=Pte();Object.defineProperty(e,"SyncEvaluator",{enumerable:!0,get:function(){return i.SyncEvaluator}});var r=i2e();Object.defineProperty(e,"AggregateEvaluator",{enumerable:!0,get:function(){return r.AggregateEvaluator}});var n=Vi();Object.defineProperty(e,"ExpressionError",{enumerable:!0,get:function(){return n.ExpressionError}}),Object.defineProperty(e,"isExpressionError",{enumerable:!0,get:function(){return n.isExpressionError}});var a=w3();Object.defineProperty(e,"orderTypes",{enumerable:!0,get:function(){return a.orderTypes}});var o=a2e();Object.defineProperty(e,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})}(aP)),aP}var v$;function o2e(){if(v$)return B1;v$=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.ActorQueryOperationExtend=void 0;const e=Gn(),t=hr(),i=Q0();let r=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"extend")}async testOperation(a,o){const s=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o);return new i.AsyncEvaluator(a.expression,t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,s)),!0}async runOperation(a,o){const{expression:s,input:l,variable:u}=a,c=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:o}));if((await c.metadata()).variables.some(m=>m.equals(u)))throw new Error(`Illegal binding to variable '${u.value}' that has already been bound`);const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),f={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,d)},h=new i.AsyncEvaluator(s,f),p=async(m,y,v)=>{try{const b=await h.evaluate(m),_=m.set(u,b);v(_)}catch(b){(0,i.isExpressionError)(b)?(v(m),this.logWarn(o,`Expression error for extend operation (${b.message})with bindings '${(0,e.bindingsToString)(m)}'`)):g.emit("error",b)}y()},g=c.bindingsStream.transform({autoStart:!1,transform:p});return{type:"bindings",bindingsStream:g,async metadata(){const m=await c.metadata();return{...m,variables:[...m.variables,u]}}}}};return B1.ActorQueryOperationExtend=r,B1}var b$;function kte(){return b$||(b$=1,function(e){var t=vh&&vh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=vh&&vh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(o2e(),e)}(vh)),vh}var Ah={},Iw={},_$;function s2e(){if(_$)return Iw;_$=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.ActorQueryOperationFilter=void 0;const e=Gn(),t=hr(),i=Q0();let r=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"filter")}async testOperation(a,o){const s=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),l={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,s)};return new i.AsyncEvaluator(a.expression,l),!0}async runOperation(a,o){const s=await this.mediatorQueryOperation.mediate({operation:a.input,context:o}),l=t.ActorQueryOperation.getSafeBindings(s);t.ActorQueryOperation.validateQueryOutput(l,"bindings");const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),c={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)},d=new i.AsyncEvaluator(a.expression,c),f=async(p,g,m)=>{try{await d.evaluateAsEBV(p)&&m(p)}catch(y){(0,i.isExpressionError)(y)?this.logWarn(o,"Error occurred while filtering.",()=>({error:y,bindings:(0,e.bindingsToString)(p)})):h.emit("error",y)}g()},h=l.bindingsStream.transform({transform:f,autoStart:!1});return{type:"bindings",bindingsStream:h,metadata:l.metadata}}};return Iw.ActorQueryOperationFilter=r,Iw}var w$;function Bte(){return w$||(w$=1,function(e){var t=Ah&&Ah.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ah&&Ah.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(s2e(),e)}(Ah)),Ah}var Th={},Cw={},Dw={},S$;function u2e(){if(S$)return Dw;S$=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.GroupsState=void 0;const e=Q0(),t=yr(),i=new t.DataFactory;let r=class{constructor(a,o,s,l){this.hashFunction=a,this.pattern=o,this.sparqleeConfig=s,this.bindingsFactory=l,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(u=>u.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(a){const o=this.resultCheck();if(o)return o;this.waitCounter++;const s=a.filter((d,f)=>this.groupVariables.has(f.value)),l=this.hashBindings(s);let u=this.groupsInitializer.get(l),c;if(u){const d=u;c=(async()=>{const f=await d;await Promise.all(this.pattern.aggregates.map(async h=>{const p=h.variable.value;await f.aggregators[p].put(a)}))})().then(async()=>{this.subtractWaitCounterAndCollect()})}else u=(async()=>{const d={};await Promise.all(this.pattern.aggregates.map(async h=>{const p=h.variable.value;d[p]=new e.AsyncAggregateEvaluator(h,this.sparqleeConfig),await d[p].put(a)}));const f={aggregators:d,bindings:s};return this.groups.set(l,f),this.subtractWaitCounterAndCollect(),f})(),this.groupsInitializer.set(l,u),c=u;return c}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let a=[...this.groups].map(([o,s])=>{const{bindings:l,aggregators:u}=s;let c=l;for(const d in u){const f=u[d].result();f&&(c=c.set(i.variable(d),f))}return c});if(a.length===0&&this.groupVariables.size===0){const o=[];for(const s of this.pattern.aggregates){const l=s.variable,u=e.AsyncAggregateEvaluator.emptyValue(s);u!==void 0&&o.push([l,u])}a=[this.bindingsFactory.bindings(o)]}this.waitResolver(a)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const a=this.resultCheck();if(a)return a;this.resultHasBeenCalled=!0;const o=new Promise(s=>{this.waitResolver=s});return this.subtractWaitCounterAndCollect(),o}hashBindings(a){return this.hashFunction(a)}};return Dw.GroupsState=r,Dw}var A$;function l2e(){if(A$)return Cw;A$=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.ActorQueryOperationGroup=void 0;const e=Gn(),t=hr(),i=Q0(),r=Rr(),n=u2e();let a=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"group")}async testOperation(s,l){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(const c of s.aggregates)new i.AsyncEvaluator(c.expression,t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,u));return!0}async runOperation(s,l){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),{hashFunction:c}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:l}),{input:d,aggregates:f}=s,h=await this.mediatorQueryOperation.mediate({operation:d,context:l}),p=t.ActorQueryOperation.getSafeBindings(h),g=[...s.variables,...f.map(v=>v.variable)],m=t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,u);return{type:"bindings",bindingsStream:new r.TransformIterator(()=>new Promise((v,b)=>{const _=new n.GroupsState(c,s,m,u);p.bindingsStream.on("end",async()=>{try{const w=new r.ArrayIterator(await _.collectResults(),{autoStart:!1});v(w)}catch(w){b(w)}}),p.bindingsStream.on("error",b),p.bindingsStream.on("data",w=>{_.consumeBindings(w).catch(b)})}),{autoStart:!1}),metadata:async()=>({...await p.metadata(),variables:g})}}};return Cw.ActorQueryOperationGroup=a,Cw}var T$;function qte(){return T$||(T$=1,function(e){var t=Th&&Th.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Th&&Th.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(l2e(),e)}(Th)),Th}var Eh={},Nw={},E$;function c2e(){if(E$)return Nw;E$=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.ActorQueryOperationLeftJoin=void 0;const e=Gn(),t=hr(),i=Q0();let r=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"leftjoin")}async testOperation(a,o){return!0}async runOperation(a,o){const s=(await Promise.all(a.input.map(async u=>({output:await this.mediatorQueryOperation.mediate({operation:u,context:o}),operation:u})))).map(({output:u,operation:c})=>({output:t.ActorQueryOperation.getSafeBindings(u),operation:c})),l=await this.mediatorJoin.mediate({type:"optional",entries:s,context:o});if(a.expression){const c=(await s[1].output.metadata()).variables,d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),f={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,d)},h=new i.AsyncEvaluator(a.expression,f),p=l.bindingsStream.transform({autoStart:!1,transform:async(g,m,y)=>{if(!c.every(v=>g.has(v.value)))return y(g),m();try{await h.evaluateAsEBV(g)&&y(g)}catch(v){(0,i.isExpressionError)(v)?this.logWarn(o,"Error occurred while filtering.",()=>({error:v,bindings:g})):p.emit("error",v)}m()}});l.bindingsStream=p}return l}};return Nw.ActorQueryOperationLeftJoin=r,Nw}var x$;function Vte(){return x$||(x$=1,function(e){var t=Eh&&Eh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Eh&&Eh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(c2e(),e)}(Eh)),Eh}var xh={},Fw={},Lw={},R$;function d2e(){if(R$)return Lw;R$=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.SortIterator=void 0;const e=Rr();let t=class extends e.TransformIterator{constructor(r,n,a){super(r,a);const o=a&&a.window;this.windowLength=Number.isFinite(o)&&o>0?o:Number.POSITIVE_INFINITY,this.sort=n,this.sorted=[]}_read(r,n){let a,{length:o}=this.sorted;for(;o!==this.windowLength&&(a=this.source.read(),a!==null);){let s=0,l=o-1,u,c;for(;s<=l;)u=Math.trunc((s+l)/2),c=this.sort(a,this.sorted[u]),c<0?s=u+1:c>0?l=u-1:(s=u,l=-1);this.sorted.splice(s,0,a),o++}o===this.windowLength&&this._push(this.sorted.pop()),n()}_flush(r){let{length:n}=this.sorted;for(;n--;)this._push(this.sorted.pop());r()}};return Lw.SortIterator=t,Lw}var O$;function f2e(){if(O$)return Fw;O$=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.ActorQueryOperationOrderBy=void 0;const e=Gn(),t=hr(),i=Q0(),r=vr(),n=d2e();let a=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"orderby"),this.window=s.window??Number.POSITIVE_INFINITY}async testOperation(s,l){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(let c of s.expressions)c=this.extractSortExpression(c),new i.AsyncEvaluator(c,t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,u));return!0}async runOperation(s,l){const u=await this.mediatorQueryOperation.mediate({operation:s.input,context:l}),c=t.ActorQueryOperation.getSafeBindings(u),d={window:this.window},f=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),h={...t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,f)};let{bindingsStream:p}=c;for(let g=s.expressions.length-1;g>=0;g--){let m=s.expressions[g];const y=this.isAscending(m);m=this.extractSortExpression(m);const v=new i.AsyncEvaluator(m,h),b=async(T,R,F)=>{try{const D=await v.evaluate(T);F({bindings:T,result:D})}catch(D){(0,i.isExpressionError)(D)||p.emit("error",D),F({bindings:T,result:void 0})}R()},_=p.transform({transform:b});p=new n.SortIterator(_,(T,R)=>{let F=(0,i.orderTypes)(T.result,R.result);return y||(F*=-1),F},d).map(({bindings:T})=>T)}return{type:"bindings",bindingsStream:p,metadata:c.metadata}}extractSortExpression(s){const{expressionType:l,operator:u}=s;return l!==r.Algebra.expressionTypes.OPERATOR?s:u==="desc"?s.args[0]:s}isAscending(s){const{expressionType:l,operator:u}=s;return l!==r.Algebra.expressionTypes.OPERATOR?!0:u!=="desc"}};return Fw.ActorQueryOperationOrderBy=a,Fw}var P$;function Ute(){return P$||(P$=1,function(e){var t=xh&&xh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=xh&&xh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(f2e(),e)}(xh)),xh}var Rh={},Mw={},I$;function h2e(){if(I$)return Mw;I$=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.ActorQueryOperationNop=void 0;const e=Gn(),t=hr(),i=zi(),r=Rr();let n=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"nop")}async testOperation(o,s){return!0}async runOperation(o,s){const l=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,s);return{bindingsStream:new r.SingletonIterator(l.bindings()),metadata:()=>Promise.resolve({state:new i.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}};return Mw.ActorQueryOperationNop=n,Mw}var C$;function Hte(){return C$||(C$=1,function(e){var t=Rh&&Rh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Rh&&Rh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(h2e(),e)}(Rh)),Rh}var Oh={},jw={},D$;function p2e(){if(D$)return jw;D$=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.ActorQueryOperationService=void 0;const e=Gn(),t=hr(),i=zi(),r=Rr();let n=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"service")}async testOperation(o,s){if(o.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${o.name.termType} was given.`);return!0}async runOperation(o,s){const{querySource:l}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:o.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:s});let u;try{u=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t.ActorQueryOperation.assignOperationSource(o.input,l),context:s}))}catch(c){if(o.silent){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,s);u={bindingsStream:new r.SingletonIterator(d.bindings()),type:"bindings",metadata:async()=>({state:new i.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})},this.logWarn(s,`An error occurred when executing a SERVICE clause: ${c.message}`)}else throw c}return u}};return jw.ActorQueryOperationService=n,jw}var N$;function $te(){return N$||(N$=1,function(e){var t=Oh&&Oh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Oh&&Oh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(p2e(),e)}(Oh)),Oh}var Ph={},kw={},F$;function g2e(){if(F$)return kw;F$=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.ActorQueryOperationValues=void 0;const e=Gn(),t=hr(),i=zi(),r=Rr(),n=yr(),a=new n.DataFactory;let o=class extends t.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,u){return!0}async runOperation(l,u){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u),d=new r.ArrayIterator(l.bindings.map(p=>c.bindings(Object.entries(p).map(([g,m])=>[a.variable(g.slice(1)),m])))),f=l.variables;return{type:"bindings",bindingsStream:d,metadata:()=>Promise.resolve({state:new i.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},canContainUndefs:l.bindings.some(p=>f.some(g=>!(`?${g.value}`in p))),variables:f})}}};return kw.ActorQueryOperationValues=o,kw}var L$;function Qte(){return L$||(L$=1,function(e){var t=Ph&&Ph.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ph&&Ph.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(g2e(),e)}(Ph)),Ph}var Ih={},Bw={},M$;function m2e(){if(M$)return Bw;M$=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.ActorQueryOperationPathOneOrMore=void 0;const e=Pl(),t=Gn(),i=hr(),r=Rr(),n=vr();let a=class extends e.ActorAbstractPath{constructor(s){super(s,n.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(s,l){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l),c=await this.isPathArbitraryLengthDistinct(l,s);if(c.operation)return c.operation;l=c.context;const d=s.predicate;if(s.subject.termType!=="Variable"&&s.object.termType==="Variable"){const g=s.object,m=await this.getObjectsPredicateStarEval(s.subject,d.path,g,s.graph,l,!1,u),y=s.graph.termType==="Variable"?[g,s.graph]:[g];return{type:"bindings",bindingsStream:m.bindingsStream,metadata:async()=>({...await m.metadata(),variables:y})}}if(s.subject.termType==="Variable"&&s.object.termType==="Variable"){const g=e.ActorAbstractPath.FACTORY.createDistinct(e.ActorAbstractPath.FACTORY.createPath(s.subject,s.predicate.path,s.object,s.graph)),m=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:g})),y=s.subject,v=s.object,b={},_=new r.MultiTransformIterator(m.bindingsStream,{multiTransform:T=>{const R=T.get(y),F=T.get(v),D=s.graph.termType==="Variable"?T.get(s.graph):s.graph;return new r.TransformIterator(async()=>{const A=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(y,v,R,F,d.path,D,l,b,{},A,{count:0},u),A.transform({transform(x,N,j){s.graph.termType==="Variable"&&(x=x.set(s.graph,D)),j(x),N()}})},{maxBufferSize:128})},autoStart:!1}),w=s.graph.termType==="Variable"?[y,v,s.graph]:[y,v];return{type:"bindings",bindingsStream:_,metadata:async()=>({...await m.metadata(),variables:w})}}if(s.subject.termType==="Variable"&&s.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(s.object,e.ActorAbstractPath.FACTORY.createOneOrMorePath(e.ActorAbstractPath.FACTORY.createInv(d.path)),s.subject,s.graph)});const f=this.generateVariable(),h=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(s.subject,d,f,s.graph)}));return{type:"bindings",bindingsStream:h.bindingsStream.transform({filter:g=>s.object.equals(g.get(f)),transform(g,m,y){const v=s.graph.termType==="Variable"?u.bindings([[s.graph,g.get(s.graph)]]):u.bindings();y(v),m()}}),metadata:async()=>({...await h.metadata(),variables:s.graph.termType==="Variable"?[s.graph]:[]})}}};return Bw.ActorQueryOperationPathOneOrMore=a,Bw}var j$;function zte(){return j$||(j$=1,function(e){var t=Ih&&Ih.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ih&&Ih.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(m2e(),e)}(Ih)),Ih}var Ch={},qw={},k$;function y2e(){if(k$)return qw;k$=1,Object.defineProperty(qw,"__esModule",{value:!0}),qw.ActorQueryOperationPathZeroOrMore=void 0;const e=Pl(),t=Gn(),i=hr(),r=Rr(),n=nn(),a=vr();let o=class extends e.ActorAbstractPath{constructor(l){super(l,a.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(l,u){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u),d=await this.isPathArbitraryLengthDistinct(u,l);if(d.operation)return d.operation;u=d.context;const f=l.predicate,h=this.getPathSources(f),p=l.subject.termType==="Variable",g=l.object.termType==="Variable";if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const w=this.generateVariable(l),T=this.assignPatternSources(e.ActorAbstractPath.FACTORY.createPattern(l.subject,w,l.object,l.graph),h),R=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:u,operation:T})),F=l.subject,D=l.object,A=new Set,x={},N=new r.MultiTransformIterator(R.bindingsStream,{multiTransform:H=>{const M=H.get(F),$=H.get(D),te=l.graph.termType==="Variable"?H.get(l.graph):l.graph,re=(0,n.termToString)(M)+(0,n.termToString)(te),oe=(0,n.termToString)($)+(0,n.termToString)(te);return new r.TransformIterator(async()=>{if(A.has(re)&&A.has(oe))return new r.EmptyIterator;const J=new r.BufferedIterator,fe={count:0};return A.has(re)||(A.add(re),await this.getSubjectAndObjectBindingsPredicateStar(F,D,M,M,f.path,te,u,x,{},J,fe,c)),A.has(oe)||(A.add(oe),await this.getSubjectAndObjectBindingsPredicateStar(F,D,$,$,f.path,te,u,x,{},J,fe,c)),J.transform({transform(xe,de,ae){l.graph.termType==="Variable"&&(xe=xe.set(l.graph,te)),ae(xe),de()}})})}}),j=l.graph.termType==="Variable"?[F,l.object,l.graph]:[F,l.object];return{type:"bindings",bindingsStream:N,metadata:async()=>({...await R.metadata(),variables:j})}}if(!p&&!g){const w=this.generateVariable(),T=await this.getObjectsPredicateStarEval(l.subject,f.path,w,l.graph,u,!0,c);return{type:"bindings",bindingsStream:T.bindingsStream.transform({filter:F=>l.object.equals(F.get(w)),transform(F,D,A){const x=l.graph.termType==="Variable"?c.bindings([[l.graph,F.get(l.graph)]]):c.bindings();A(x),D()}}),metadata:async()=>({...await T.metadata(),variables:l.graph.termType==="Variable"?[l.graph]:[]})}}const m=p?l.object:l.subject,y=p?l.subject:l.object,v=p?e.ActorAbstractPath.FACTORY.createInv(f.path):f.path,b=await this.getObjectsPredicateStarEval(m,v,y,l.graph,u,!0,c),_=l.graph.termType==="Variable"?[y,l.graph]:[y];return{type:"bindings",bindingsStream:b.bindingsStream,metadata:async()=>({...await b.metadata(),variables:_})}}};return qw.ActorQueryOperationPathZeroOrMore=o,qw}var B$;function Gte(){return B$||(B$=1,function(e){var t=Ch&&Ch.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Ch&&Ch.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(y2e(),e)}(Ch)),Ch}var Dh={},Vw={},q$;function v2e(){if(q$)return Vw;q$=1,Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.ActorQueryOperationPathZeroOrOne=void 0;const e=Pl(),t=Gn(),i=hr(),r=zi(),n=Rr(),a=vr();let o=class extends e.ActorAbstractPath{constructor(l){super(l,a.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(l,u){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u),d=l.predicate,f=this.getPathSources(d),h=[];if(l.subject.termType!=="Variable"&&l.object.termType!=="Variable"&&l.subject.equals(l.object))return{type:"bindings",bindingsStream:new n.SingletonIterator(c.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const p=await this.isPathArbitraryLengthDistinct(u,l);if(p.operation)return p.operation;u=p.context;const g=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:u,operation:e.ActorAbstractPath.FACTORY.createPath(l.subject,d.path,l.object,l.graph)}));let m;if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const y=this.generateVariable(l),v=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:u,operation:e.ActorAbstractPath.FACTORY.createFilter(this.assignPatternSources(e.ActorAbstractPath.FACTORY.createPattern(l.subject,y,l.object,l.graph),f),e.ActorAbstractPath.FACTORY.createOperatorExpression("=",[e.ActorAbstractPath.FACTORY.createTermExpression(l.subject),e.ActorAbstractPath.FACTORY.createTermExpression(l.object)]))})).bindingsStream.map(b=>b.delete(y));m=new n.UnionIterator([v,g.bindingsStream],{autoStart:!1})}else l.subject.termType==="Variable"&&h.push(c.bindings([[l.subject,l.object]])),l.object.termType==="Variable"&&h.push(c.bindings([[l.object,l.subject]])),m=g.bindingsStream.prepend(h);return{type:"bindings",bindingsStream:m,metadata:g.metadata}}};return Vw.ActorQueryOperationPathZeroOrOne=o,Vw}var V$;function Wte(){return V$||(V$=1,function(e){var t=Dh&&Dh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Dh&&Dh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(v2e(),e)}(Dh)),Dh}var Nh={},Uw={},U$;function b2e(){if(U$)return Uw;U$=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.ActorQueryOperationUpdateDeleteInsert=void 0;const e=mN(),t=Gn(),i=hr(),r=Rr();let n=class extends i.ActorQueryOperationTypedMediated{constructor(o){super(o,"deleteinsert"),this.blankNodeCounter=0}async testOperation(o,s){return i.ActorQueryOperation.throwOnReadOnly(s),!0}async runOperation(o,s){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,s),u=o.where?i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.where,context:s})).bindingsStream:new r.ArrayIterator([l.bindings()],{autoStart:!1});let c,d;o.insert&&(c=new e.BindingsToQuadsIterator(o.insert.map(e.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),u.clone()),this.blankNodeCounter++),o.delete&&(d=new e.BindingsToQuadsIterator(o.delete.map(e.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),u.clone()),this.blankNodeCounter++);const{execute:f}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:c,quadStreamDelete:d,context:s});return{type:"void",execute:f}}};return Uw.ActorQueryOperationUpdateDeleteInsert=n,Uw}var H$;function Kte(){return H$||(H$=1,function(e){var t=Nh&&Nh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Nh&&Nh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(b2e(),e)}(Nh)),Nh}var Fh={},Hw={},Lh={},$w={},$$;function _2e(){if($$)return $w;$$=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.ActorQueryProcess=void 0;const e=_t();let t=class extends e.Actor{constructor(r){super(r)}};return $w.ActorQueryProcess=t,$w}var Q$;function S3(){return Q$||(Q$=1,function(e){var t=Lh&&Lh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Lh&&Lh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(_2e(),e)}(Lh)),Lh}var z$;function w2e(){if(z$)return Hw;z$=1,Object.defineProperty(Hw,"__esModule",{value:!0}),Hw.ActorQueryProcessSequential=void 0;const e=Gn(),t=hr(),i=S3(),r=Ir(),n=_t();let a=class extends i.ActorQueryProcess{constructor(s){super(s)}async test(s){if(s.context.get(r.KeysInitQuery.explain)||s.context.get(new n.ActionContextKey("explain")))throw new Error(`${this.name} is not able to explain queries.`);return!0}async run(s){let{operation:l,context:u}=await this.parse(s.query,s.context);return{operation:l,context:u}=await this.optimize(l,u),{result:await this.evaluate(l,u)}}async parse(s,l){l=(await this.mediatorContextPreprocess.mediate({context:l,initialize:!0})).context;let u;if(typeof s=="string"){l=l.set(r.KeysInitQuery.queryString,s);const c=l.get(r.KeysInitQuery.baseIRI),d=l.get(r.KeysInitQuery.queryFormat),f=await this.mediatorQueryParse.mediate({context:l,query:s,queryFormat:d,baseIRI:c});u=f.operation,f.baseIRI&&(l=l.set(r.KeysInitQuery.baseIRI,f.baseIRI))}else u=s;if(l.has(r.KeysInitQuery.initialBindings)){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);u=(0,t.materializeOperation)(u,l.get(r.KeysInitQuery.initialBindings),c),l=l.delete(r.KeysInitQuery.queryString)}return{operation:u,context:l}}async optimize(s,l){return l=l.set(r.KeysInitQuery.query,s),{operation:s,context:l}=await this.mediatorOptimizeQueryOperation.mediate({context:l,operation:s}),l=l.set(r.KeysInitQuery.query,s),{operation:s,context:l}}async evaluate(s,l){const u=await this.mediatorQueryOperation.mediate({context:l,operation:s});return u.context=l,u}};return Hw.ActorQueryProcessSequential=a,Hw}var G$;function Jte(){return G$||(G$=1,function(e){var t=Fh&&Fh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Fh&&Fh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(w2e(),e)}(Fh)),Fh}var Mh={},Qw={},zw={},Gw={},Ww={},W$;function S2e(){if(W$)return Ww;W$=1,Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.LinkedRdfSourcesAsyncRdfIterator=void 0;const e=Ir(),t=zi(),i=Rr();let r=class extends i.BufferedIterator{constructor(a,o,s,l,u,c,d,f){if(super({autoStart:!1,...f}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=a,this.operation=o,this.queryBindingsOptions=s,this.context=l,this.firstUrl=u,this.maxIterators=c,this.sourceStateGetter=d,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(a,o){return a==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((s,l)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(u=>{const c=u.source.queryBindings(this.operation,this.context);c.getProperty("metadata",d=>{d.state=new t.MetadataValidationState,c.destroy(),this.accumulateMetadata(u.metadata,d).then(f=>{const h={...u.metadata,...d,...f};s(h)}).catch(()=>{s({...u.metadata,state:new t.MetadataValidationState})})})}).catch(l)})),this.preflightMetadata.then(s=>this.setProperty("metadata",s)).catch(()=>{})),super.getProperty(a,o)}_end(a){for(const o of this.currentIterators)o.destroy();super._end(a)}_read(a,o){if(this.started){for(const s of this.currentIterators){for(;a>0;){const l=s.read();if(l===null)break;a--,this._push(l)}if(a<=0)break}a>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{this.startIteratorsForNextUrls(s.handledDatasets,!1),o()}):o()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{this.startIterator(s),o()}).catch(s=>setTimeout(()=>this.destroy(s)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(a){try{const o=a.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(o);let s=!1,l=!1;o._destination=this,o.on("error",u=>this.destroy(u)),o.on("readable",()=>this._fillBuffer()),o.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(o),1),s=!0,l||this.iteratorsPendingTermination++,l&&this.startIteratorsForNextUrls(a.handledDatasets,!0)}),o.getProperty("metadata",u=>{this.accumulatedMetadata=this.accumulatedMetadata.then(c=>(async()=>(c||(c=a.metadata),this.accumulateMetadata(c,u)))().then(d=>{const f={...a.metadata,...u,...d};return f.state=new t.MetadataValidationState,this.updateMetadata(f),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(f,a).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const g of h)p.push(g,a.link);l=!0,s&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(a.handledDatasets,!0)}).catch(h=>this.destroy(h)),f})).catch(c=>(this.destroy(c),{}))})}catch(o){this.destroy(o)}}updateMetadata(a){const o=this.getProperty("metadata");this.setProperty("metadata",a),o==null||o.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(a,o){this.getLinkQueue().then(s=>{for(;this.canStartNewIterator()&&this.isRunning();){const l=s.pop();if(l)this.iteratorsPendingCreation++,this.sourceStateGetter(l,a).then(u=>{const c=this.context.get(e.KeysStatistics.dereferencedLinks);c&&c.updateStatistic({url:u.link.url,metadata:{...u.metadata,...u.link.metadata}},u.source),this.iteratorsPendingCreation--,this.startIterator(u)}).catch(u=>this.emit("error",u));else break}o&&this.isCloseable(s,!0)&&this.close()}).catch(s=>this.destroy(s))}isCloseable(a,o){return a.isEmpty()&&!this.areIteratorsRunning()}};return Ww.LinkedRdfSourcesAsyncRdfIterator=r,Ww}var K$;function A2e(){if(K$)return Gw;K$=1,Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const e=Ir(),t=yr(),i=vr(),r=S2e(),n=new t.DataFactory,a=new i.Factory;let o=class extends r.LinkedRdfSourcesAsyncRdfIterator{constructor(l,u,c,d,f,h,p,g,m,y,v,b){super(l,u,c,d,h,p,g,m?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=f,this.mediatorMetadataAccumulate=y,this.mediatorRdfResolveHypermediaLinks=v,this.mediatorRdfResolveHypermediaLinksQueue=b,this.handledUrls={[h]:!0},this.aggregatedStore=m}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(l=>{this.isCloseable(l,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(l=>super.destroy(l))}destroy(l){if(!this.aggregatedStore){super.destroy(l);return}this.getLinkQueue().then(u=>{l??this.isCloseable(u,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(l)):this.wasForcefullyClosed=!0}).catch(u=>super.destroy(u))}isCloseable(l,u){return(u?l.isEmpty():this.wasForcefullyClosed||l.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(l=>l.linkQueue)),this.linkQueue}async getSourceLinks(l,u){try{const{links:c}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:l}),d=this.context.get(e.KeysStatistics.discoveredLinks);if(d)for(const f of c)d.updateStatistic({url:f.url,metadata:{...f.metadata}},u.link);return c.filter(f=>this.handledUrls[f.url]?!1:(this.handledUrls[f.url]=!0,!0))}catch{return[]}}startIterator(l){var u;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(l.link.url)){(u=this.aggregatedStore)==null||u.containedSources.add(l.link.url);const c=l.source.queryBindings(a.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),n.variable("g")),this.context.set(e.KeysQueryOperation.unionDefaultGraph,!0)).map(d=>n.quad(d.get("s"),d.get("p"),d.get("o"),d.get("g")));this.aggregatedStore.import(c).on("end",()=>{super.startIterator(l)})}else super.startIterator(l)}async accumulateMetadata(l,u){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:l,appendingMetadata:u,context:this.context})).metadata}updateMetadata(l){var u;super.updateMetadata(l),(u=this.aggregatedStore)==null||u.setBaseMetadata(l,!0)}};return Gw.MediatedLinkedRdfSourcesAsyncRdfIterator=o,Gw}var Kw={},jh={},Jw={},J$;function Xte(){if(J$)return Jw;J$=1,Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.PendingStreamsIndex=void 0;const e=nn(),t=Qi();let i=class cp{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(n){return n&&n.termType!=="Variable"?(0,e.termToString)(n):cp.ID_VARIABLE}addPatternListener(n,a,o,s,l){this.allStreams.push(n);const u=`${this.termToString(a)}${cp.ID_SEPARATOR}${this.termToString(o)}${cp.ID_SEPARATOR}${this.termToString(s)}${cp.ID_SEPARATOR}${this.termToString(l)}`;let c=this.indexedStreams.get(u);c||(c=[],this.indexedStreams.set(u,c)),c.push(n)}getPendingStreamsForQuad(n){let a=[(0,t.getTerms)(n).map(s=>(0,e.termToString)(s))];for(let s=0;s<t.QUAD_TERM_NAMES.length;s++){const l=a;a=[];for(const u of l){a.push(u);const c=[...u];c[s]=cp.ID_VARIABLE,a.push(c)}}const o=[];for(const s of a){const l=this.indexedStreams.get(s.join(cp.ID_SEPARATOR));l&&o.push(...l)}return o}};return i.ID_VARIABLE="?",i.ID_SEPARATOR=":",Jw.PendingStreamsIndex=i,Jw}var jo={},X$;function T2e(){if(X$)return jo;X$=1;var e=jo&&jo.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s[Symbol.asyncIterator],u;return l?l.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),u={},c("next"),c("throw"),c("return"),u[Symbol.asyncIterator]=function(){return this},u);function c(f){u[f]=s[f]&&function(h){return new Promise(function(p,g){h=s[f](h),d(p,g,h.done,h.value)})}}function d(f,h,p,g){Promise.resolve(g).then(function(m){f({value:m,done:p})},h)}},t=jo&&jo.__await||function(s){return this instanceof t?(this.v=s,this):new t(s)},i=jo&&jo.__asyncGenerator||function(s,l,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=u.apply(s,l||[]),d,f=[];return d={},h("next"),h("throw"),h("return"),d[Symbol.asyncIterator]=function(){return this},d;function h(b){c[b]&&(d[b]=function(_){return new Promise(function(w,T){f.push([b,_,w,T])>1||p(b,_)})})}function p(b,_){try{g(c[b](_))}catch(w){v(f[0][3],w)}}function g(b){b.value instanceof t?Promise.resolve(b.value.v).then(m,y):v(f[0][2],b)}function m(b){p("next",b)}function y(b){p("throw",b)}function v(b,_){b(_),f.shift(),f.length&&p(f[0][0],f[0][1])}};Object.defineProperty(jo,"__esModule",{value:!0}),jo.StreamingStore=void 0;const r=xl,n=Xr(),a=Xte();let o=class Yte{constructor(l=new r.Store){this.pendingStreams=new a.PendingStreamsIndex,this.ended=!1,this.store=l}end(){this.ended=!0;for(const l of this.pendingStreams.allStreams)l.push(null)}importToListeners(l){l.on("data",u=>{if(!this.ended&&!this.store.countQuads(u.subject,u.predicate,u.object,u.graph))for(const c of this.pendingStreams.getPendingStreamsForQuad(u))c.isInitialized&&(c.push(u),c.emit("quad",u))})}static concatStreams(l){return i(this,arguments,function*(){var c,d,f,h;for(const y of l)try{for(var p=!0,g=(d=void 0,e(y)),m;m=yield t(g.next()),c=m.done,!c;){h=m.value,p=!1;try{yield yield t(h)}finally{p=!0}}}catch(v){d={error:v}}finally{try{!p&&!c&&(f=g.return)&&(yield t(f.call(g)))}finally{if(d)throw d.error}}})}import(l){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(l),this.store.import(l)}match(l,u,c,d){const f=this.store.match(l,u,c,d);let h=f;if(!this.ended){const p=new n.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(p,l,u,c,d),h=n.Readable.from(Yte.concatStreams([f,p])),h._pipeSource=f;const g=f._read;f._read=m=>{p.isInitialized=!0,g.call(f,m)}}return h}getStore(){return this.store}};return jo.StreamingStore=o,jo}var Y$;function E2e(){return Y$||(Y$=1,function(e){var t=jh&&jh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=jh&&jh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(Xte(),e),i(T2e(),e)}(jh)),jh}var Z$;function x2e(){if(Z$)return Kw;Z$=1,Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.StreamingStoreMetadata=void 0;const e=hr(),t=zi(),i=E2e();let r=class extends i.StreamingStore{constructor(a,o){super(a),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]},this.metadataAccumulator=o}import(a){return this.ended||super.import(a),a}hasRunningIterators(){return this.runningIterators.size>0}match(a,o,s,l){const u=super.match(a,o,s,l),c=new e.ClosableTransformIterator(u,{autoStart:!1,onClose:()=>{this.runningIterators.delete(c)}});let d=this.getStore().countQuads(a,o,s,l);const f={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:d},canContainUndefs:!1};c.setProperty("metadata",f),c.setProperty("lastCount",d),u.on("quad",()=>{c.setProperty("lastCount",++d),this.updateMetadataState(c,d)}),this.runningIterators.add(c);for(const h of this.iteratorCreatedListeners)h();return c}setBaseMetadata(a,o){if(this.baseMetadata={...a},this.baseMetadata.cardinality={type:"exact",value:0},o)for(const s of this.runningIterators){const l=s.getProperty("lastCount");this.updateMetadataState(s,l)}}updateMetadataState(a,o){const s={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:o},canContainUndefs:!1,variables:[]};this.metadataAccumulator(this.baseMetadata,s).then(l=>{l.state=new t.MetadataValidationState;const u=a.getProperty("metadata");a.setProperty("metadata",l),u==null||u.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(a){this.iteratorCreatedListeners.add(a)}removeIteratorCreatedListener(a){this.iteratorCreatedListeners.delete(a)}};return Kw.StreamingStoreMetadata=r,Kw}var eQ;function Zte(){if(eQ)return zw;eQ=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.QuerySourceHypermedia=void 0;const e=y3(),t=Ir(),i=Rr(),r=Ol(),n=Xr(),a=A2e(),o=x2e();let s=class{constructor(u,c,d,f,h,p,g,m){this.referenceValue=c,this.cacheSize=u,this.firstUrl=c,this.forceSourceType=d,this.maxIterators=f,this.mediators=p,this.aggregateStore=h,this.logWarning=g,this.bindingsFactory=m,this.sourcesState=new r.LRUCache({max:this.cacheSize})}async getSelectorShape(u){return(await this.getSourceCached({url:this.firstUrl},{},u,this.getAggregateStore(u))).source.getSelectorShape(u)}queryBindings(u,c,d){const f=this.getAggregateStore(c);if(f&&u.type==="pattern"&&f.started)return new e.QuerySourceRdfJs(f,this.bindingsFactory).queryBindings(u,c);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},c,f).catch(p=>h.destroy(p));const h=new a.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,u,d,c,this.forceSourceType,this.firstUrl,this.maxIterators,(p,g)=>this.getSourceCached(p,g,c,f),f,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue);if(f){f.started=!0;const p=()=>h.kickstart();f.addIteratorCreatedListener(p),h.on("end",()=>f.removeIteratorCreatedListener(p))}return h}queryQuads(u,c){return new i.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.queryQuads(u,c))}async queryBoolean(u,c){return await(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.queryBoolean(u,c)}async queryVoid(u,c){return await(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.queryVoid(u,c)}async getSource(u,c,d,f){var v;u.context&&(d=d.merge(u.context));let h=u.url,p,g;try{const b=await this.mediators.mediatorDereferenceRdf.mediate({context:d,url:h});h=b.url;const _=await this.mediators.mediatorMetadata.mediate({context:d,url:h,quads:b.data,triples:(v=b.metadata)==null?void 0:v.triples});_.data.on("error",()=>{}),g=(await this.mediators.mediatorMetadataExtract.mediate({context:d,url:h,metadata:_.metadata,headers:b.headers,requestTime:b.requestTime})).metadata,p=_.data,u.transform&&(p=await u.transform(p))}catch(b){p=new n.Readable,p.read=()=>(setTimeout(()=>p.emit("error",b)),null),{metadata:g}=await this.mediators.mediatorMetadataAccumulate.mediate({context:d,mode:"initialize"}),this.logWarning(`Metadata extraction for ${h} failed: ${b.message}`)}f==null||f.setBaseMetadata(g,!1),f==null||f.containedSources.add(u.url),f==null||f.import(p);const{source:m,dataset:y}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:d,forceSourceType:u.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:c,metadata:g,quads:p,url:h});return y&&(c[y]=!0),{link:u,source:m,metadata:g,handledDatasets:c}}getSourceCached(u,c,d,f){let h=this.sourcesState.get(u.url);return h||(h=this.getSource(u,c,d,f),(u.url===this.firstUrl||f===void 0)&&this.sourcesState.set(u.url,h),h)}getAggregateStore(u){let c;if(this.aggregateStore){const d=u.get(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(d)return c=d.get(this.firstUrl),c||(c=new o.StreamingStoreMetadata(void 0,async(f,h)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:h,context:u})).metadata),d.set(this.firstUrl,c)),c}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return zw.QuerySourceHypermedia=s,zw}var tQ;function R2e(){if(tQ)return Qw;tQ=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.ActorQuerySourceIdentifyHypermedia=void 0;const e=Gn(),t=iA(),i=Ir(),r=_t(),n=Zte();let a=class extends t.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){if(typeof s.querySourceUnidentified.value!="string")throw new TypeError(`${this.name} requires a single query source with a URL value to be present in the context.`);return!0}async run(s){var l;return{querySource:{source:new n.QuerySourceHypermedia(this.cacheSize,s.querySourceUnidentified.value,s.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((l=s.querySourceUnidentified.context)!=null&&l.get(i.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},u=>this.logWarn(s.context,u),await e.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context)),context:s.querySourceUnidentified.context??new r.ActionContext}}}};return Qw.ActorQuerySourceIdentifyHypermedia=a,Qw}var rQ;function ere(){return rQ||(rQ=1,function(e){var t=Mh&&Mh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Mh&&Mh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(R2e(),e),i(Zte(),e)}(Mh)),Mh}var kh={},Xw={},nQ;function O2e(){if(nQ)return Xw;nQ=1,Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.ActorRdfJoinNone=void 0;const e=Gn(),t=Ia(),i=zi(),r=Rr();let n=class extends t.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(o){if(o.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(o){const s=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context);return{result:{bindingsStream:new r.ArrayIterator([s.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new i.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Xw.ActorRdfJoinNone=n,Xw}var iQ;function tre(){return iQ||(iQ=1,function(e){var t=kh&&kh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=kh&&kh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(O2e(),e)}(kh)),kh}var Bh={},Yw={},qh={},Zw={},aQ;function P2e(){if(aQ)return Zw;aQ=1,Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.ActorRdfJoinMultiBind=void 0;const e=Gn(),t=hr(),i=Ia(),r=Ir(),n=Rr(),a=vr();let o=class xI extends i.ActorRdfJoin{constructor(l){l.minMaxCardinalityRatio===void 0&&(l.minMaxCardinalityRatio=60),super(l,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(l,u,c,d,f,h){const p=l==="depth-first",g=m=>{const y=c.map(b=>(0,t.materializeOperation)(b,m,h,{bindFilter:!0})),v=b=>b.merge(m);return new n.TransformIterator(async()=>(await d(y,m)).transform({map:v}),{maxBufferSize:128,autoStart:p})};switch(l){case"depth-first":return new n.MultiTransformIterator(u,{autoStart:!1,multiTransform:g,optional:f});case"breadth-first":return new n.UnionIterator(u.transform({map:g,optional:f}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${l}`)}}async getOutput(l){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context),c=await i.ActorRdfJoin.getEntriesWithMetadatas(l.entries),d=await i.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,c,l.context);this.logDebug(l.context,"First entry for Bind Join: ",()=>({entry:d[0].operation,metadata:d[0].metadata}));for(const[m,y]of d.entries())m!==0&&y.output.bindingsStream.close();const f=d[0].output,h=[...d];h.splice(0,1);const p=l.context.set(r.KeysQueryOperation.joinLeftMetadata,d[0].metadata).set(r.KeysQueryOperation.joinRightMetadatas,h.map(m=>m.metadata));return{result:{type:"bindings",bindingsStream:xI.createBindStream(this.bindOrder,f.bindingsStream,h.map(m=>m.operation),async(m,y)=>{const v=m.length===1?m[0]:xI.FACTORY.createJoin(m);return t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:v,context:p==null?void 0:p.set(r.KeysQueryOperation.joinBindings,y)})).bindingsStream},!1,u),metadata:()=>this.constructResultMetadata(d,d.map(m=>m.metadata),l.context)},physicalPlanMetadata:{bindIndex:c.indexOf(d[0]),bindOperation:d[0].operation,bindOperationCardinality:d[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(l){let u=!0;return a.Util.recurseOperation(l,{[a.Algebra.types.EXTEND](){return u=!1,!1},[a.Algebra.types.GROUP](){return u=!1,!1}}),u}async getJoinCoefficients(l,u){const c=await i.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,l.entries.map((_,w)=>({..._,metadata:u[w]})),l.context);u=c.map(_=>_.metadata);const d=i.ActorRdfJoin.getRequestInitialTimes(u),f=i.ActorRdfJoin.getRequestItemTimes(u),h=[...c],p=[...d],g=[...f];if(h.splice(0,1),p.splice(0,1),g.splice(0,1),h.some(_=>!this.canBindWithOperation(_.operation)))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);if(h.some(_=>_.operationModified))throw new Error(`Actor ${this.name} can not be used over remaining entries with modified operations`);if(u[0].cardinality.value*this.minMaxCardinalityRatio>Math.max(...u.map(_=>_.cardinality.value)))throw new Error(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const m=await Promise.all(h.map(async _=>(await this.mediatorJoinSelectivity.mediate({entries:[c[0],_],context:l.context})).selectivity*this.selectivityModifier)),y=h.map((_,w)=>_.metadata.cardinality.value*m[w]).reduce((_,w)=>_+w,0),v=p.reduce((_,w)=>_+w,0),b=g.reduce((_,w)=>_+w,0);return{iterations:u[0].cardinality.value*y,persistedItems:0,blockingItems:0,requestTime:d[0]+u[0].cardinality.value*(f[0]+v+y*b)}}};return Zw.ActorRdfJoinMultiBind=o,o.FACTORY=new a.Factory,Zw}var oQ;function _N(){return oQ||(oQ=1,function(e){var t=qh&&qh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=qh&&qh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(P2e(),e)}(qh)),qh}var sQ;function I2e(){if(sQ)return Yw;sQ=1,Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.ActorRdfJoinOptionalBind=void 0;const e=_N(),t=Gn(),i=hr(),r=Ia(),n=Ir(),a=vr();let o=class extends r.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1})}async getOutput(l){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context);l.entries[1].output.bindingsStream.close();const c=l.context.set(n.KeysQueryOperation.joinLeftMetadata,await l.entries[0].output.metadata()).set(n.KeysQueryOperation.joinRightMetadatas,[await l.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:e.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,l.entries[0].output.bindingsStream,[l.entries[1].operation],async(f,h)=>{const p=f[0];return i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:p,context:c==null?void 0:c.set(n.KeysQueryOperation.joinBindings,h)})).bindingsStream},!0,u),metadata:async()=>await this.constructResultMetadata(l.entries,await r.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0},!0)}}}async getJoinCoefficients(l,u){if(r.ActorRdfJoin.overlappingVariables(u).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const c=r.ActorRdfJoin.getRequestInitialTimes(u),d=r.ActorRdfJoin.getRequestItemTimes(u);if(l.entries[1].operation.type===a.Algebra.types.EXTEND||l.entries[1].operation.type===a.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const f=(await this.mediatorJoinSelectivity.mediate({entries:l.entries,context:l.context})).selectivity*this.selectivityModifier;return{iterations:u[0].cardinality.value*u[1].cardinality.value*f,persistedItems:0,blockingItems:0,requestTime:c[0]+u[0].cardinality.value*(d[0]+c[1]+f*u[1].cardinality.value*d[1])}}};return Yw.ActorRdfJoinOptionalBind=o,Yw}var uQ;function rre(){return uQ||(uQ=1,function(e){var t=Bh&&Bh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Bh&&Bh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(I2e(),e)}(Bh)),Bh}var Vh={},eS={},lQ;function C2e(){if(lQ)return eS;lQ=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.ActorRdfJoinMultiSmallestFilterBindings=void 0;const e=Gn(),t=hr(),i=Ia(),r=Ir(),n=Rr(),a=vr();let o=class nre extends i.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(l,u){let{entries:c}=await this.mediatorJoinEntriesSort.mediate({entries:l,context:u});c=c.sort((m,y)=>m.operationModified&&!y.operationModified?-1:0);const d=c.splice(0,1)[0];let f,h=-1,p=0;for(const[m,y]of c.entries()){const v=d.metadata.variables.filter(b=>y.metadata.variables.some(_=>b.equals(_))).length;(!f||v>p||v===p&&(y.metadata.variables.length<f.metadata.variables.length||y.metadata.variables.length===f.metadata.variables.length&&y.metadata.cardinality.value<f.metadata.cardinality.value))&&(f=y,h=m,p=v)}if(p===0)throw new Error(`Actor ${this.name} can only join with common variables`);const g=c;return g.splice(h,1),{first:d,second:f,remaining:g}}async getOutput(l){const u=await i.ActorRdfJoin.getEntriesWithMetadatas([...l.entries]),{first:c,second:d,remaining:f}=await this.sortJoinEntries(u,l.context),h=c.output.bindingsStream;c.output.bindingsStream=h.clone();const p=c.metadata.variables.filter(R=>d.metadata.variables.some(F=>R.equals(F))),g={},m=h.clone().map(R=>R.filter((F,D)=>p.some(A=>A.equals(D)))).filter(R=>{const F=(0,e.bindingsToString)(R);return!(F in g)&&(g[F]=!0)}),y=new i.ChunkedIterator(m,this.blockSize,{autoStart:!1}),v=t.ActorQueryOperation.getOperationSource(d.operation),_={output:{type:"bindings",bindingsStream:new n.UnionIterator(y.map(R=>v.source.queryBindings(d.operation,v.context?l.context.merge(v.context):l.context,{filterBindings:{bindings:R,metadata:c.metadata}}))),metadata:d.output.metadata},operation:d.operation,operationModified:!0};d.output.bindingsStream.destroy();const w={output:t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:l.type,entries:[c,_],context:l.context.set(r.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:nre.FACTORY.createJoin([c.operation,_.operation],!1),operationModified:!0},T=f;return T.unshift(w),{result:await this.mediatorJoin.mediate({type:l.type,entries:T,context:l.context}),physicalPlanMetadata:{firstIndex:u.indexOf(c),secondIndex:u.indexOf(d)}}}async getJoinCoefficients(l,u){if(l.context.get(r.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)throw new Error(`Actor ${this.name} can not be called recursively`);u=[...u];const{first:c,second:d,remaining:f}=await this.sortJoinEntries(l.entries.map((_,w)=>({..._,metadata:u[w]})),l.context),h=t.ActorQueryOperation.getOperationSource(d.operation);if(!h)throw new Error(`Actor ${this.name} can only process if entries[1] has a source`);const p=d.operation,g=await h.source.getSelectorShape(l.context);if(!t.ActorQueryOperation.doesShapeAcceptOperation(g,p,{filterBindings:!0}))throw new Error(`Actor ${this.name} can only process if entries[1] accept filterBindings`);u=[c.metadata,d.metadata,...f.map(_=>_.metadata)];const m=i.ActorRdfJoin.getRequestInitialTimes(u),y=i.ActorRdfJoin.getRequestItemTimes(u),{selectivity:v}=await this.mediatorJoinSelectivity.mediate({entries:[c,d],context:l.context}),b=f.reduce((_,w)=>_*w.metadata.cardinality.value*this.selectivityModifier,1);return{iterations:v*this.selectivityModifier*d.metadata.cardinality.value*b,persistedItems:c.metadata.cardinality.value,blockingItems:c.metadata.cardinality.value,requestTime:m[0]+u[0].cardinality.value*y[0]+m[1]+b*y[1]}}};return eS.ActorRdfJoinMultiSmallestFilterBindings=o,o.FACTORY=new a.Factory,eS}var cQ;function ire(){return cQ||(cQ=1,function(e){var t=Vh&&Vh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Vh&&Vh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(C2e(),e)}(Vh)),Vh}var Uh={},tS={},dQ;function D2e(){if(dQ)return tS;dQ=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.ActorQueryProcessExplainParsed=void 0;const e=S3(),t=Ir(),i=_t();let r=class extends e.ActorQueryProcess{constructor(a){super(a)}async test(a){if((a.context.get(t.KeysInitQuery.explain)||a.context.get(new i.ActionContextKey("explain")))!=="parsed")throw new Error(`${this.name} can only explain in 'parsed' mode.`);return!0}async run(a){const{operation:o}=await this.queryProcessor.parse(a.query,a.context);return{result:{explain:!0,type:"parsed",data:o}}}};return tS.ActorQueryProcessExplainParsed=r,tS}var fQ;function are(){return fQ||(fQ=1,function(e){var t=Uh&&Uh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Uh&&Uh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(D2e(),e)}(Uh)),Uh}var Hh={},rS={},$h={},hQ;function ore(){if(hQ)return $h;hQ=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.numberToString=$h.MemoryPhysicalQueryPlanLogger=void 0;const e=nn();let t=class{constructor(){this.planNodes=new Map}logOperation(n,a,o,s,l,u){const c={actor:l,logicalOperator:n,physicalOperator:a,rawNode:o,children:[],metadata:u};if(this.planNodes.set(o,c),this.rootNode){if(!s)throw new Error("Detected more than one parent-less node");const d=this.planNodes.get(s);if(!d)throw new Error("Could not find parent node");d.children.push(c)}else{if(s)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=c}}stashChildren(n,a){const o=this.planNodes.get(n);if(!o)throw new Error("Could not find plan node");o.children=a?o.children.filter(a):[]}unstashChild(n,a){const o=this.planNodes.get(n);if(o){const s=this.planNodes.get(a);if(!s)throw new Error("Could not find plan parent node");s.children.push(o)}}appendMetadata(n,a){const o=this.planNodes.get(n);o&&(o.metadata={...o.metadata,...a})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(n){var o;const a={logical:n.logicalOperator,physical:n.physicalOperator,...this.getLogicalMetadata(n.rawNode),...this.compactMetadata(n.metadata)};if(n.children.length>0&&(a.children=n.children.map(s=>this.planNodeToJson(s))),a.physical==="bind"&&a.children){const s={};for(const u of a.children){const c=((o=u.children)==null?void 0:o.at(-1))??u,d=this.getPlanHash(c).join(",");s[d]||(s[d]=[]),s[d].push(u)}const l=[];for(const u of Object.values(s))l.push({occurrences:u.length,firstOccurrence:u[0]});a.childrenCompact=l,delete a.children}return a}getPlanHash(n){let a=[`${n.logical}-${n.physical}`];return n.children?a=[...a,...n.children.flatMap(o=>this.getPlanHash(o))]:n.childrenCompact&&(a=[...a,...n.childrenCompact.flatMap(o=>this.getPlanHash(o.firstOccurrence))]),a}compactMetadata(n){return Object.fromEntries(Object.entries(n).map(([a,o])=>[a,this.compactMetadataValue(o)]))}compactMetadataValue(n){return n&&typeof n=="object"&&"termType"in n?this.getLogicalMetadata(n):n}getLogicalMetadata(n){var o;const a={};if("type"in n){const s=n;switch((o=s.metadata)!=null&&o.scopedSource&&(a.source=s.metadata.scopedSource.source.toString()),s.type){case"pattern":a.pattern=this.quadToString(s);break;case"project":a.variables=s.variables.map(l=>l.value);break}}return a}quadToString(n){return`${(0,e.termToString)(n.subject)} ${(0,e.termToString)(n.predicate)} ${(0,e.termToString)(n.object)}${n.graph.termType==="DefaultGraph"?"":` ${(0,e.termToString)(n.graph)}`}`}toCompactString(){const n=this.toJson(),a=[],o=new Map;if("logical"in n?this.nodeToCompactString(a,o,"",n):a.push("Empty"),o.size>0){a.push(""),a.push("sources:");for(const[s,l]of o.entries())a.push(`  ${l}: ${s}`)}return a.join(`
`)}nodeToCompactString(n,a,o,s,l){let u;s.source&&(u=a.get(s.source),u===void 0&&(u=a.size,a.set(s.source,u))),n.push(`${o}${s.logical}${s.physical?`(${s.physical})`:""}${s.pattern?` (${s.pattern})`:""}${s.variables?` (${s.variables.join(",")})`:""}${s.bindOperation?` bindOperation:(${s.bindOperation.pattern}) bindCardEst:${s.bindOperationCardinality.type==="estimate"?"~":""}${i(s.bindOperationCardinality.value)}`:""}${s.cardinality?` cardEst:${s.cardinality.type==="estimate"?"~":""}${i(s.cardinality.value)}`:""}${s.source?` src:${u}`:""}${s.cardinalityReal?` cardReal:${s.cardinalityReal}`:""}${s.timeSelf?` timeSelf:${i(s.timeSelf)}ms`:""}${s.timeLife?` timeLife:${i(s.timeLife)}ms`:""}${l?` ${l}`:""}`);for(const c of s.children??[])this.nodeToCompactString(n,a,`${o}  `,c);for(const c of s.childrenCompact??[])this.nodeToCompactString(n,a,`${o}  `,c.firstOccurrence,`compacted-occurrences:${c.occurrences}`)}};$h.MemoryPhysicalQueryPlanLogger=t;function i(r){return r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return $h.numberToString=i,$h}var pQ;function N2e(){if(pQ)return rS;pQ=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.ActorQueryProcessExplainPhysical=void 0;const e=S3(),t=Ir(),i=_t(),r=ore();let n=class extends e.ActorQueryProcess{constructor(o){super(o)}async test(o){const s=o.context.get(t.KeysInitQuery.explain)||o.context.get(new i.ActionContextKey("explain"));if(s!=="physical"&&s!=="physical-json")throw new Error(`${this.name} can only explain in 'physical' or 'physical-json' mode.`);return!0}async run(o){let{operation:s,context:l}=await this.queryProcessor.parse(o.query,o.context);({operation:s,context:l}=await this.queryProcessor.optimize(s,l));const u=new r.MemoryPhysicalQueryPlanLogger;l=l.set(t.KeysInitQuery.physicalQueryPlanLogger,u);const c=await this.queryProcessor.evaluate(s,l);switch(c.type){case"bindings":await c.bindingsStream.toArray();break;case"quads":await c.quadStream.toArray();break;case"boolean":await c.execute();break;case"void":await c.execute();break}const d=o.context.get(t.KeysInitQuery.explain)??o.context.getSafe(new i.ActionContextKey("explain"));return{result:{explain:!0,type:d,data:d==="physical"?u.toCompactString():u.toJson()}}}};return rS.ActorQueryProcessExplainPhysical=n,rS}var gQ;function sre(){return gQ||(gQ=1,function(e){var t=Hh&&Hh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Hh&&Hh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(N2e(),e),i(ore(),e)}(Hh)),Hh}var Qh={},nS={},mQ;function F2e(){if(mQ)return nS;mQ=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.ActorQueryProcessExplainLogical=void 0;const e=S3(),t=Ir(),i=_t();let r=class extends e.ActorQueryProcess{constructor(a){super(a)}async test(a){if((a.context.get(t.KeysInitQuery.explain)||a.context.get(new i.ActionContextKey("explain")))!=="logical")throw new Error(`${this.name} can only explain in 'logical' mode.`);return!0}async run(a){let{operation:o,context:s}=await this.queryProcessor.parse(a.query,a.context);return{operation:o,context:s}=await this.queryProcessor.optimize(o,s),{result:{explain:!0,type:"logical",data:o}}}};return nS.ActorQueryProcessExplainLogical=r,nS}var yQ;function ure(){return yQ||(yQ=1,function(e){var t=Qh&&Qh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Qh&&Qh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(F2e(),e)}(Qh)),Qh}var zh={},iS={},vQ;function L2e(){if(vQ)return iS;vQ=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const e=wo(),t=hr(),i=Ir(),r=yr(),n=vr(),a=new n.Factory,o=new r.DataFactory;let s=class IS extends e.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){if(t.ActorQueryOperation.getOperationSource(u.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(u){let c=u.operation;const d=[],f=this;n.Util.recurseOperation(c,{[n.Algebra.types.UNION](p){return f.collectMultiOperationInputs(p.input,d,n.Algebra.types.PATTERN),!0},[n.Algebra.types.ALT](p){return f.collectMultiOperationInputs(p.input,d,n.Algebra.types.LINK),!1},[n.Algebra.types.SERVICE](){return!1}});const h=new Set;return await Promise.all(d.map(async p=>{const g=p.type==="link"?a.createPattern(o.variable("?s"),p.iri,o.variable("?o")):p;await this.hasSourceResults(t.ActorQueryOperation.getOperationSource(p),g,u.context)||h.add(p)})),h.size>0&&(this.logDebug(u.context,`Pruning ${h.size} source-specific operations`),c=n.Util.mapOperation(c,{[n.Algebra.types.UNION](p,g){return f.mapMultiOperation(p,h,m=>g.createUnion(m))},[n.Algebra.types.ALT](p,g){return f.mapMultiOperation(p,h,m=>g.createAlt(m))}}),c=n.Util.mapOperation(c,{[n.Algebra.types.PROJECT](p,g){return IS.hasEmptyOperation(p)?{recurse:!1,result:g.createUnion([])}:{recurse:!0,result:p}},[n.Algebra.types.LEFT_JOIN](p){return IS.hasEmptyOperation(p.input[1])?{recurse:!0,result:p.input[0]}:{recurse:!0,result:p}}})),{operation:c,context:u.context}}static hasEmptyOperation(u){let c=!1;return n.Util.recurseOperation(u,{[n.Algebra.types.UNION](d){return d.input.every(f=>IS.hasEmptyOperation(f))&&(c=!0),!1},[n.Algebra.types.ALT](d){return d.input.length===0&&(c=!0),!1},[n.Algebra.types.LEFT_JOIN](d){return IS.hasEmptyOperation(d.input[0])&&(c=!0),!1}}),c}collectMultiOperationInputs(u,c,d){for(const f of u)t.ActorQueryOperation.getOperationSource(f)&&f.type===d&&c.push(f)}mapMultiOperation(u,c,d){const f=u.input.filter(h=>!c.has(h));return f.length===u.input.length?{result:u,recurse:!0}:f.length===0?{result:d([]),recurse:!1}:f.length===1?{result:f[0],recurse:!0}:{result:d(f),recurse:!0}}async hasSourceResults(u,c,d){var h;if((h=u.context)!=null&&h.get(i.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const p=a.createAsk(c);if(t.ActorQueryOperation.doesShapeAcceptOperation(await u.source.getSelectorShape(d),p))return u.source.queryBoolean(p,d)}const f=u.source.queryBindings(c,d);return new Promise((p,g)=>{f.on("error",g),f.getProperty("metadata",m=>{f.destroy(),p(m.cardinality.value>0)})})}};return iS.ActorOptimizeQueryOperationPruneEmptySourceOperations=s,iS}var bQ;function lre(){return bQ||(bQ=1,function(e){var t=zh&&zh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=zh&&zh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(L2e(),e)}(zh)),zh}var Gh={},aS={},_Q;function M2e(){if(_Q)return aS;_Q=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.ActorQuerySourceIdentifySerialized=void 0;const e=iA(),t=mte(),i=Xr();let r=class extends e.ActorQuerySourceIdentify{constructor(a){super(a)}async test(a){if(!this.isStringSource(a.querySourceUnidentified))throw new Error(`${this.name} requires a single query source with serialized type to be present in the context.`);return!0}async run(a){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(a.context,a.querySourceUnidentified),context:a.querySourceUnidentified.context},context:a.context})}async getRdfSource(a,o){const s=new i.Readable({objectMode:!0});s._read=()=>{},s.push(o.value),s.push(null);const l={context:a,handle:{metadata:{baseIRI:o.baseIRI},data:s,context:a},handleMediaType:o.mediaType},u=await this.mediatorRdfParse.mediate(l);return await(0,t.storeStream)(u.handle.data)}isStringSource(a){return"type"in a?a.type==="serialized":typeof a.value!="string"?!1:"mediaType"in a}};return aS.ActorQuerySourceIdentifySerialized=r,aS}var wQ;function cre(){return wQ||(wQ=1,function(e){var t=Gh&&Gh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Gh&&Gh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(M2e(),e)}(Gh)),Gh}var Wh={},oS={},SQ;function j2e(){if(SQ)return oS;SQ=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.ActorRdfJoinMultiBindSource=void 0;const e=hr(),t=Ia(),i=Rr(),r=vr(),n=new r.Factory;let a=class extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(s){const l=await t.ActorRdfJoin.getEntriesWithMetadatas(s.entries),u=await this.sortJoinEntries(l,s.context);this.logDebug(s.context,"First entry for Bind Join Source: ",()=>({entry:u[0].operation,metadata:u[0].metadata}));for(const[y,v]of u.entries())y!==0&&v.output.bindingsStream.close();const c=u[0].output,d=u[0].metadata,f=[...u];f.splice(0,1);const h=e.ActorQueryOperation.getOperationSource(f[0].operation),p=this.createOperationFromEntries(f),g=new t.ChunkedIterator(c.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new i.UnionIterator(g.map(y=>h.source.queryBindings(p,h.context?s.context.merge(h.context):s.context,{joinBindings:{bindings:y,metadata:d}}))),metadata:()=>this.constructResultMetadata(u,u.map(y=>y.metadata),s.context)},physicalPlanMetadata:{bindIndex:l.indexOf(u[0])}}}async sortJoinEntries(s,l){return s=await t.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,s,l),s=s.sort((u,c)=>u.operationModified&&!c.operationModified?-1:0),s}async getJoinCoefficients(s,l){const u=await this.sortJoinEntries(s.entries.map((b,_)=>({...b,metadata:l[_]})),s.context);l=u.map(b=>b.metadata);const c=t.ActorRdfJoin.getRequestInitialTimes(l),d=t.ActorRdfJoin.getRequestItemTimes(l),f=[...u];[...c],[...d],f.splice(0,1);const h=f.map(b=>e.ActorQueryOperation.getOperationSource(b.operation));if(h.some(b=>!b))throw new Error(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(h.some(b=>b!==h[0]))throw new Error(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const p=h[0],g=this.createOperationFromEntries(f),m=await p.source.getSelectorShape(s.context);if(!e.ActorQueryOperation.doesShapeAcceptOperation(m,g,{joinBindings:!0}))throw new Error(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const y=await Promise.all(f.map(async b=>(await this.mediatorJoinSelectivity.mediate({entries:[u[0],b],context:s.context})).selectivity*this.selectivityModifier)),v=f.map((b,_)=>b.metadata.cardinality.value*y[_]).reduce((b,_)=>b+_,0);return{iterations:1,persistedItems:l[0].cardinality.value,blockingItems:l[0].cardinality.value,requestTime:c[0]+l[0].cardinality.value*d[0]+c[1]+v*d[1]}}createOperationFromEntries(s){return s.length===1?s[0].operation:n.createJoin(s.map(l=>l.operation),!0)}};return oS.ActorRdfJoinMultiBindSource=a,oS}var AQ;function dre(){return AQ||(AQ=1,function(e){var t=Wh&&Wh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Wh&&Wh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(j2e(),e)}(Wh)),Wh}var Kh={},sS={},TQ;function k2e(){if(TQ)return sS;TQ=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.ActorOptimizeQueryOperationJoinConnected=void 0;const e=wo(),t=vr();let i=class jT extends e.ActorOptimizeQueryOperation{async test(n){return!0}async run(n){return{operation:t.Util.mapOperation(n.operation,{join(o,s){return{recurse:!1,result:jT.cluster(o,s)}}}),context:n.context}}static cluster(n,a){const o=n.input.map(c=>({inScopeVariables:Object.fromEntries(t.Util.inScopeVariables(c).map(d=>[d.value,!0])),entries:[c]}));let s,l=o;do s=l,l=jT.clusterIteration(s);while(s.length!==l.length);const u=l.map(c=>c.entries.length===1?c.entries[0]:a.createJoin(c.entries));return u.length===1?u[0]:a.createJoin(u,!1)}static clusterIteration(n){const a=[];for(const o of n){let s=!1;for(const l of a)if(jT.haveOverlappingVariables(o.inScopeVariables,l.inScopeVariables)){l.entries=[...l.entries,...o.entries],l.inScopeVariables={...l.inScopeVariables,...o.inScopeVariables},s=!0;break}s||a.push({inScopeVariables:o.inScopeVariables,entries:o.entries})}return a}static haveOverlappingVariables(n,a){for(const o of Object.keys(n))if(a[o])return!0;return!1}};return sS.ActorOptimizeQueryOperationJoinConnected=i,sS}var EQ;function fre(){return EQ||(EQ=1,function(e){var t=Kh&&Kh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Kh&&Kh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(k2e(),e)}(Kh)),Kh}var Jh={},uS={},xQ;function B2e(){if(xQ)return uS;xQ=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.ActorOptimizeQueryOperationBgpToJoin=void 0;const e=wo(),t=vr();let i=class extends e.ActorOptimizeQueryOperation{async test(n){return!0}async run(n){return{operation:t.Util.mapOperation(n.operation,{bgp(o,s){return{recurse:!1,result:s.createJoin(o.patterns)}}}),context:n.context}}};return uS.ActorOptimizeQueryOperationBgpToJoin=i,uS}var RQ;function hre(){return RQ||(RQ=1,function(e){var t=Jh&&Jh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Jh&&Jh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(B2e(),e)}(Jh)),Jh}var Xh={},lS={},OQ;function q2e(){if(OQ)return lS;OQ=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.ActorOptimizeQueryOperationJoinBgp=void 0;const e=wo(),t=vr();let i=class extends e.ActorOptimizeQueryOperation{async test(n){return!0}async run(n){return{operation:t.Util.mapOperation(n.operation,{join(o,s){return o.input.every(l=>l.type==="bgp")?{recurse:!1,result:s.createBgp(o.input.flatMap(l=>l.patterns))}:{recurse:!1,result:o}}}),context:n.context}}};return lS.ActorOptimizeQueryOperationJoinBgp=i,lS}var PQ;function pre(){return PQ||(PQ=1,function(e){var t=Xh&&Xh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Xh&&Xh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(q2e(),e)}(Xh)),Xh}var Yh={},cS={},IQ;function V2e(){if(IQ)return cS;IQ=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const e=wo(),t=hr(),i=hN(),r=Ir(),n=vr();let a=class extends e.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return!0}async run(s){const l=s.context.get(r.KeysQueryOperation.querySources)??[];if(l.length===0)return{operation:s.operation,context:s.context};if(l.length===1){const u=l[0],c=s.context.get(r.KeysRdfUpdateQuads.destination);if(!c||u.source.referenceValue===(0,i.getDataDestinationValue)(c))try{const d=await u.source.getSelectorShape(s.context);if(t.ActorQueryOperation.doesShapeAcceptOperation(d,s.operation))return{operation:t.ActorQueryOperation.assignOperationSource(s.operation,u),context:s.context}}catch{}}return{operation:this.assignExhaustive(s.operation,l),context:s.context.delete(r.KeysInitQuery.queryString)}}assignExhaustive(s,l){const u=this;return n.Util.mapOperation(s,{[n.Algebra.types.PATTERN](c,d){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(c,l[0]),recurse:!1}:{result:d.createUnion(l.map(f=>t.ActorQueryOperation.assignOperationSource(c,f))),recurse:!1}},[n.Algebra.types.LINK](c,d){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(c,l[0]),recurse:!1}:{result:d.createAlt(l.map(f=>t.ActorQueryOperation.assignOperationSource(c,f))),recurse:!1}},[n.Algebra.types.NPS](c,d){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(c,l[0]),recurse:!1}:{result:d.createAlt(l.map(f=>t.ActorQueryOperation.assignOperationSource(c,f))),recurse:!1}},[n.Algebra.types.SERVICE](c){return{result:c,recurse:!1}},[n.Algebra.types.CONSTRUCT](c,d){return{result:d.createConstruct(u.assignExhaustive(c.input,l),c.template),recurse:!1}},[n.Algebra.types.DELETE_INSERT](c,d){return{result:d.createDeleteInsert(c.delete,c.insert,c.where?u.assignExhaustive(c.where,l):void 0),recurse:!1}}})}};return cS.ActorOptimizeQueryOperationAssignSourcesExhaustive=a,cS}var CQ;function gre(){return CQ||(CQ=1,function(e){var t=Yh&&Yh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Yh&&Yh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(V2e(),e)}(Yh)),Yh}var Zh={},dS={},DQ;function U2e(){if(DQ)return dS;DQ=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const e=wo(),t=yr(),i=vr(),r=new t.DataFactory,n=new i.Factory;let a=class extends e.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){if(s.operation.type!==i.Algebra.types.DESCRIBE)throw new Error(`Actor ${this.name} only supports describe operations, but got ${s.operation.type}`);return!0}async run(s){const l=s.operation,u=l.terms.filter(d=>d.termType!=="Variable").map(d=>{const f=[r.quad(d,r.variable("__predicate"),r.variable("__object"))];return f.forEach(p=>p.type="pattern"),{input:{type:i.Algebra.types.BGP,patterns:f},template:f,type:"construct"}});if(u.length!==l.terms.length){let d=[];l.terms.filter(f=>f.termType==="Variable").forEach((f,h)=>{const p=[r.quad(f,r.variable(`__predicate${h}`),r.variable(`__object${h}`))];p.forEach(g=>g.type="pattern"),d=[...d,...p]}),u.push({input:{type:i.Algebra.types.JOIN,input:[l.input,{type:i.Algebra.types.BGP,patterns:d}]},template:d,type:i.Algebra.types.CONSTRUCT})}return{operation:n.createUnion(u,!1),context:s.context}}};return dS.ActorOptimizeQueryOperationDescribeToConstructsSubject=a,dS}var NQ;function mre(){return NQ||(NQ=1,function(e){var t=Zh&&Zh.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Zh&&Zh.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(U2e(),e)}(Zh)),Zh}var cP,FQ;function H2e(){return FQ||(FQ=1,cP=function(e){const t=new(LX()).LoggerVoid,i=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^3.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),r=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^3.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),n=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^3.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),a=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^3.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),o=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^3.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),s=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^3.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),l=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^3.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),u=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^3.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),c=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^3.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),d=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^3.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),f=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^3.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^3.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^3.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),g=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^3.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),m=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^3.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),y=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^3.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),v=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^3.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),b=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^3.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),_=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^3.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),w=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^3.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),T=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^3.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),R=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^3.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),F=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),D=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),A=new(hr()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^3.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),x=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^3.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),N=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^3.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),j=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^3.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),H=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^3.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),M=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^3.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(QX()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",noCache:"@comunica/actor-init-query:noCache",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:r}),new(zX()).ActorContextPreprocessSetDefaults({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:r}),new(GX()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:r});const $=new(tN()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:r}),te=new(dE()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:r});new(KX()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:n});const re=new(Gr()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:n});new(JX()).ActorHashQuadsSha1({name:"urn:comunica:default:hash-quads/actors#sha1",bus:a});const oe=new(Gr()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:a});new(XX()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:o}),new(YX()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:o}),new(ZX()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:o});const J=new(eY()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:o});new(tY()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:o});const fe=new(dE()).MediatorCombinePipeline({filterErrors:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:o});new(nY()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:s}),new(xY()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:s});const xe=new(Gr()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:s});new(OY()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:l}),new(PY()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:l}),new(IY()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:l}),new(DY()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:l}),new(FY()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:l}),new(LY()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:l}),new(qY()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:l});const de=new(Gr()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:l}),ae=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:l}),Fe=new(Ki()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:l}),Le=new(ys()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:u}),me=new(VY()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:c}),pe=new(Gr()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:c}),_e=new(Gr()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:d});new(UY()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f});const X=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f});new(HY()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h});const C=new(ys()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(QY()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p}),new(zY()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p});const E=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(GY()).ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:g}),new(WY()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:g}),new(KY()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:g}),new(JY()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:g});const S=new(Ki()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:g});new(XY()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:m}),new(YY()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:m}),new(ZY()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:m}),new(eZ()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:m}),new(tZ()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:m}),new(rZ()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:m}),new(nZ()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:m}),new(iZ()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:m});const I=new(Ki()).MediatorCombineUnion({filterErrors:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:m});new(aZ()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:y}),new(sZ()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:y}),new(mZ()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:y}),new(vZ()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:y});const k=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:y}),Q=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:y});new(_Z()).ActorRdfParseHtml({busRdfParseHtml:v,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:y}),new(xZ()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:v}),new(RZ()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:v}),new(OZ()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:b});const G=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:b});new(IZ()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:_});const ne=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:_});new(CZ()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:w}),new(FZ()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:w}),new(LZ()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:w});const ee=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:w}),se=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:w}),ge=new(Ki()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:w}),Ae=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:T});new(jZ()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:R});const Ve=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:R}),Ge=new(VZ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:F}),qe=new(ys()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:F}),Ee=new(ys()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:D});new(UZ()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:A});const W=new(ys()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:A}),V=new(Gr()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:x}),K=new(Gr()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:N}),z=new(HZ()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:j}),be=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^3.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:H}),ke=new(QZ()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:H}),Pe=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^3.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:H}),dt=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:H}),pt=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:H}),tt=new(Ki()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:M});new(zZ()).ActorRdfJoinSingle({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:j}),new(GZ()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:j});const At=new(WZ()).ActorRdfJoinHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:j}),ve=new(JZ()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:j}),et=new(XZ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:j});new(YZ()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:j}),new(ZZ()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:j}),new(eee()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:j}),new(tee()).ActorDereferenceRdfParse({mediatorDereference:pe,mediatorParse:k,mediatorParseMediatypes:Q,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:d}),new(ree()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:Q,mediatorRdfParseHandle:k,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:v}),new(nee()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:ee,mediatorMediaTypeCombiner:se,mediatorMediaTypeFormatCombiner:ge,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:l}),new(iee()).ActorHttpWayback({mediatorHttp:qe,name:"urn:comunica:default:http/actors#wayback",bus:D}),new(hee()).ActorRdfParseJsonLd({mediatorHttp:Ee,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:y}),new(gee()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ee,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:T}),new(yee()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ee,mediatorRdfSerializeMediatypes:se,mediatorRdfSerialize:ee,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:T}),new(_ee()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ee,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:T}),new(wee()).ActorQueryOperationAsk({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#ask",bus:A}),new(Aee()).ActorQueryOperationBgpJoin({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#bgp",bus:A}),new(mN()).ActorQueryOperationConstruct({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#construct",bus:A}),new(xee()).ActorQueryOperationDistinctHash({mediatorHashBindings:re,mediatorHashQuads:oe,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#distinct",bus:A}),new(Ree()).ActorQueryOperationFromQuad({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#from",bus:A}),new(Oee()).ActorQueryOperationProject({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#project",bus:A}),new(Iee()).ActorQueryOperationReducedHash({mediatorHashBindings:re,cacheSize:100,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#reduced",bus:A}),new(Cee()).ActorQueryOperationSlice({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#slice",bus:A}),new(yN()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:S,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#union",bus:A}),new(Nee()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:S,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-alt",bus:A}),new(Fee()).ActorQueryOperationPathInv({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-inv",bus:A}),new(Lee()).ActorQueryOperationPathLink({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-link",bus:A}),new(Mee()).ActorQueryOperationPathNps({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-nps",bus:A}),new(jee()).ActorQueryOperationClear({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-clear",bus:A}),new(kee()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-composite",bus:A}),new(Bee()).ActorQueryOperationCreate({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-create",bus:A}),new(qee()).ActorQueryOperationDrop({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-drop",bus:A}),new(Uee()).ActorQueryOperationLoad({mediatorUpdateQuads:Ve,mediatorQuerySourceIdentify:K,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-load",bus:A}),new(Hee()).ActorQueryOperationJoin({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#join",bus:A}),new($ee()).ActorQueryOperationMinus({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#minus",bus:A}),new(Qee()).ActorQueryOperationPathSeq({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-seq",bus:A});const Ze=new(Gee()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:X,mediatorJoin:z,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:j}),st=new(Wee()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:o,beforeActors:[J]});new(Jee()).ActorDereferenceHttp({mediatorHttp:Ee,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:c,beforeActors:[me]}),new(Xee()).ActorHttpProxy({mediatorHttp:Ee,name:"urn:comunica:default:http/actors#proxy",bus:F,beforeActors:[Ge]}),new(Yee()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:be,mediatorQuerySourceIdentify:K,mediatorContextPreprocess:te,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:r,beforeActors:[$]});const ut=new(s3()).ActorInitQuery({mediatorQueryProcess:V,mediatorQueryResultSerialize:de,mediatorQueryResultSerializeMediaTypeCombiner:ae,mediatorQueryResultSerializeMediaTypeFormatCombiner:Fe,mediatorHttpInvalidate:ke,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:i});new(Zee()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:Pe,mediatorDereferenceRdf:_e,mediatorMetadata:E,mediatorMetadataExtract:I,mediatorRdfUpdateHypermedia:Ae,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:R});const xt=new(pE()).ActionObserverHttp({httpInvalidator:dt,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:F}),Nt=new(gE()).ActionObserverHttp({httpInvalidator:pt,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:F});new(ite()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:E,mediatorMetadataExtract:I,mediatorDereferenceRdf:_e,mediatorMergeBindingsContext:tt,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:u}),new(ote()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ee,mediatorMergeBindingsContext:tt,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:u}),new(yte()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:u}),new(kte()).ActorQueryOperationExtend({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#extend",bus:A}),new(Bte()).ActorQueryOperationFilter({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#filter",bus:A}),new(qte()).ActorQueryOperationGroup({mediatorHashBindings:re,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#group",bus:A}),new(Vte()).ActorQueryOperationLeftJoin({mediatorJoin:z,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:A}),new(Ute()).ActorQueryOperationOrderBy({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#orderby",bus:A}),new(Hte()).ActorQueryOperationNop({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#nop",bus:A}),new($te()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:tt,mediatorQuerySourceIdentify:K,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#service",bus:A}),new(Qte()).ActorQueryOperationValues({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-operation/actors#values",bus:A}),new(zte()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:A}),new(Gte()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:A}),new(Wte()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:A}),new(Kte()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Ve,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:A});const Lt=new(Jte()).ActorQueryProcessSequential({mediatorContextPreprocess:te,mediatorQueryParse:xe,mediatorOptimizeQueryOperation:fe,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-process/actors#sequential",bus:x}),er=new(ere()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:_e,mediatorMetadata:E,mediatorMetadataExtract:I,mediatorMetadataAccumulate:S,mediatorQuerySourceIdentifyHypermedia:Le,mediatorRdfResolveHypermediaLinks:G,mediatorRdfResolveHypermediaLinksQueue:ne,mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:N});new(tre()).ActorRdfJoinNone({mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:j}),new(rre()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:j});const Ie=new(_N()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:X,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:j,beforeActors:[Ze,At,ve,et]});new(ire()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:X,mediatorJoin:z,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:j,beforeActors:[Ze,At,ve,et]}),new(pE()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:xt,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:l}),new(gE()).ActorQueryResultSerializeStats({httpObserver:Nt,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:l}),new(are()).ActorQueryProcessExplainParsed({queryProcessor:Lt,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:x}),new(sre()).ActorQueryProcessExplainPhysical({queryProcessor:Lt,name:"urn:comunica:default:query-process/actors#explain-physical",bus:x}),new(ure()).ActorQueryProcessExplainLogical({queryProcessor:Lt,name:"urn:comunica:default:query-process/actors#explain-logical",bus:x});const U=new(lre()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:o,beforeActors:[st]});new(y3()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:N,beforeActors:[er]}),new(cre()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:k,mediatorQuerySourceIdentify:K,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:N,beforeActors:[er]}),new(dre()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:X,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:j,beforeActors:[Ze,Ie,At,ve,et]});const he=new(fre()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:o,beforeActors:[U]}),je=new(hre()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:o,beforeActors:[he]}),Ke=new(pre()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:o,beforeActors:[je]}),Et=new(gre()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:o,beforeActors:[Ke]});return new(mre()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:o,beforeActors:[Et]}),ut}),cP}var LQ;function $2e(){if(LQ)return bm;LQ=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.QueryEngine=void 0;const e=s3(),t=H2e();class i extends e.QueryEngineBase{constructor(n=t()){super(n)}}return bm.QueryEngine=i,bm}var MQ;function Q2e(){return MQ||(MQ=1,function(e){var t=Gl&&Gl.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=Gl&&Gl.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i($2e(),e)}(Gl)),Gl}var z2e=Q2e(),ep={},fS={},tp={},hS={},jQ;function G2e(){if(jQ)return hS;jQ=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.ActorHttpInruptSolidClientAuthn=void 0;const e=Eu(),t=Ir(),i=_t();let r=class Ng extends e.ActorHttp{constructor(a){super(a)}async test(a){if(!a.context||!a.context.has(Ng.CONTEXT_KEY_SESSION))throw new Error(`Unable to find Solid authn session in context with key '${Ng.CONTEXT_KEY_SESSION.name}'`);if(a.context.has(t.KeysHttp.fetch))throw new Error("Unable to run when a custom fetch function has been configured");if(!a.context.get(Ng.CONTEXT_KEY_SESSION).info.isLoggedIn)throw new Error("The provided Solid authn session is not in a logged in state, make sure to call session.login() first");return!0}async run(a){const o=a.context.get(Ng.CONTEXT_KEY_SESSION);return this.logInfo(a.context,`Handling request to ${typeof a.input=="string"?a.input:a.input.url} as authenticated request for ${o.info.webId}`),this.mediatorHttp.mediate({...a,context:a.context.delete(Ng.CONTEXT_KEY_SESSION).set(t.KeysHttp.fetch,o.fetch)})}};return hS.ActorHttpInruptSolidClientAuthn=r,r.CONTEXT_KEY_SESSION=new i.ActionContextKey("@comunica/actor-http-inrupt-solid-client-authn:session"),hS}var kQ;function W2e(){return kQ||(kQ=1,function(e){var t=tp&&tp.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=tp&&tp.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(G2e(),e)}(tp)),tp}var dP,BQ;function K2e(){return BQ||(BQ=1,dP=function(e){const t=new(LX()).LoggerVoid,i=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^3.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),r=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^3.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),n=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^3.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),a=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^3.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),o=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^3.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),s=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^3.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),l=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^3.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),u=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^3.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),c=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^3.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),d=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^3.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),f=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^3.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^3.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^3.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),g=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^3.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),m=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^3.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),y=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^3.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),v=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^3.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),b=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^3.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),_=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^3.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),w=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^3.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),T=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^3.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),R=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^3.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),F=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),D=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),A=new(hr()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^3.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),x=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^3.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),N=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^3.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),j=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^3.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),H=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^3.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),M=new(_t()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^3.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(KX()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:r});const $=new(Gr()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:r});new(QX()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",noCache:"@comunica/actor-init-query:noCache",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:n}),new(zX()).ActorContextPreprocessSetDefaults({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:n}),new(GX()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:n});const te=new(tN()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:n}),re=new(dE()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:n});new(JX()).ActorHashQuadsSha1({name:"urn:comunica:default:hash-quads/actors#sha1",bus:a});const oe=new(Gr()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:a});new(nY()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:o}),new(xY()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:o});const J=new(Gr()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:o});new(XX()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:s}),new(YX()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:s}),new(ZX()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:s});const fe=new(eY()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:s});new(tY()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:s});const xe=new(dE()).MediatorCombinePipeline({filterErrors:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:s});new(OY()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:l}),new(PY()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:l}),new(IY()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:l}),new(DY()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:l}),new(FY()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:l}),new(LY()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:l}),new(qY()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:l});const de=new(Gr()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:l}),ae=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:l}),Fe=new(Ki()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:l}),Le=new(VY()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:u}),me=new(Gr()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:u}),pe=new(Gr()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:c}),_e=new(ys()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:d});new(UY()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f});const X=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f});new(HY()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h});const C=new(ys()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(QY()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p}),new(zY()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p});const E=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(XY()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:g}),new(YY()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:g}),new(ZY()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:g}),new(eZ()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:g}),new(tZ()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:g}),new(rZ()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:g}),new(nZ()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:g}),new(iZ()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:g});const S=new(Ki()).MediatorCombineUnion({filterErrors:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:g});new(GY()).ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:m}),new(WY()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m}),new(KY()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m}),new(JY()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m});const I=new(Ki()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(aZ()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:y}),new(sZ()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:y}),new(mZ()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:y}),new(vZ()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:y});const k=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:y}),Q=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:y});new(_Z()).ActorRdfParseHtml({busRdfParseHtml:v,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:y}),new(xZ()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:v}),new(RZ()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:v}),new(OZ()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:b});const G=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:b});new(CZ()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:_}),new(FZ()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:_}),new(LZ()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:_});const ne=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:_}),ee=new(Ki()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:_}),se=new(Ki()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:_});new(IZ()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:w});const ge=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:w}),Ae=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:T});new(jZ()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:R});const Ve=new(Gr()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:R}),Ge=new(VZ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:F}),qe=new(ys()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:F}),Ee=new(ys()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:D});new(UZ()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:A});const W=new(ys()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:A}),V=new(Gr()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:x}),K=new(Gr()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:N}),z=new(HZ()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:j}),be=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^3.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:H}),ke=new(QZ()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:H}),Pe=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^3.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:H}),dt=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:H}),pt=new(nl()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:H}),tt=new(Ki()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:M});new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:j}),new(il()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:j}),new(eee()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:j}),new(zZ()).ActorRdfJoinSingle({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:j}),new(GZ()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:j}),new(dre()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:X,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:j}),new(WZ()).ActorRdfJoinHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:j}),new(JZ()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:j}),new(XZ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:j}),new(YZ()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:j}),new(ZZ()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:j}),new(tee()).ActorDereferenceRdfParse({mediatorDereference:me,mediatorParse:k,mediatorParseMediatypes:Q,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:c}),new(ree()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:Q,mediatorRdfParseHandle:k,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:v}),new(nee()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:ne,mediatorMediaTypeCombiner:ee,mediatorMediaTypeFormatCombiner:se,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:l}),new(iee()).ActorHttpWayback({mediatorHttp:qe,name:"urn:comunica:default:http/actors#wayback",bus:D}),new(hee()).ActorRdfParseJsonLd({mediatorHttp:Ee,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:y}),new(gee()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ee,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:T}),new(yee()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ee,mediatorRdfSerializeMediatypes:ee,mediatorRdfSerialize:ne,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:T}),new(_ee()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ee,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:T}),new(wee()).ActorQueryOperationAsk({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#ask",bus:A}),new(Aee()).ActorQueryOperationBgpJoin({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#bgp",bus:A}),new(xee()).ActorQueryOperationDistinctHash({mediatorHashBindings:$,mediatorHashQuads:oe,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#distinct",bus:A}),new(mN()).ActorQueryOperationConstruct({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#construct",bus:A}),new(Ree()).ActorQueryOperationFromQuad({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#from",bus:A}),new(Oee()).ActorQueryOperationProject({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#project",bus:A}),new(Cee()).ActorQueryOperationSlice({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#slice",bus:A}),new(Iee()).ActorQueryOperationReducedHash({mediatorHashBindings:$,cacheSize:100,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#reduced",bus:A}),new(yN()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:I,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#union",bus:A}),new(Fee()).ActorQueryOperationPathInv({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-inv",bus:A}),new(Nee()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:I,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-alt",bus:A}),new(Lee()).ActorQueryOperationPathLink({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-link",bus:A}),new(Mee()).ActorQueryOperationPathNps({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-nps",bus:A}),new(kee()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-composite",bus:A}),new(jee()).ActorQueryOperationClear({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-clear",bus:A}),new(Bee()).ActorQueryOperationCreate({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-create",bus:A}),new(qee()).ActorQueryOperationDrop({mediatorUpdateQuads:Ve,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-drop",bus:A}),new(Uee()).ActorQueryOperationLoad({mediatorUpdateQuads:Ve,mediatorQuerySourceIdentify:K,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-load",bus:A}),new(Hee()).ActorQueryOperationJoin({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#join",bus:A}),new($ee()).ActorQueryOperationMinus({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#minus",bus:A}),new(Qee()).ActorQueryOperationPathSeq({mediatorJoin:z,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-seq",bus:A}),new(Gee()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:X,mediatorJoin:z,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:j}),new(ire()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:X,mediatorJoin:z,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:j});const At=new(Wee()).ActorOptimizeQueryOperationFilterPushdown({name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:s,beforeActors:[fe]});new(Jee()).ActorDereferenceHttp({mediatorHttp:Ee,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:u,beforeActors:[Le]});const ve=new(W2e()).ActorHttpInruptSolidClientAuthn({mediatorHttp:Ee,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:F,beforeActors:[Ge]});new(Yee()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:be,mediatorQuerySourceIdentify:K,mediatorContextPreprocess:re,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:n,beforeActors:[te]});const et=new(s3()).ActorInitQuery({mediatorQueryProcess:V,mediatorQueryResultSerialize:de,mediatorQueryResultSerializeMediaTypeCombiner:ae,mediatorQueryResultSerializeMediaTypeFormatCombiner:Fe,mediatorHttpInvalidate:ke,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:i});new(Zee()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:Pe,mediatorDereferenceRdf:pe,mediatorMetadata:E,mediatorMetadataExtract:S,mediatorRdfUpdateHypermedia:Ae,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:R});const Ze=new(pE()).ActionObserverHttp({httpInvalidator:dt,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:F}),st=new(gE()).ActionObserverHttp({httpInvalidator:pt,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:F});new(ite()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:E,mediatorMetadataExtract:S,mediatorDereferenceRdf:pe,mediatorMergeBindingsContext:tt,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:d}),new(ote()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ee,mediatorMergeBindingsContext:tt,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:d}),new(yte()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:d}),new(Bte()).ActorQueryOperationFilter({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#filter",bus:A}),new(kte()).ActorQueryOperationExtend({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#extend",bus:A}),new(qte()).ActorQueryOperationGroup({mediatorHashBindings:$,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#group",bus:A}),new(Vte()).ActorQueryOperationLeftJoin({mediatorJoin:z,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:A}),new(Ute()).ActorQueryOperationOrderBy({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#orderby",bus:A}),new(Hte()).ActorQueryOperationNop({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#nop",bus:A}),new($te()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:tt,mediatorQuerySourceIdentify:K,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#service",bus:A}),new(Qte()).ActorQueryOperationValues({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-operation/actors#values",bus:A}),new(Gte()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:A}),new(zte()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:A}),new(Wte()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:A}),new(Kte()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Ve,mediatorMergeBindingsContext:tt,mediatorQueryOperation:W,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:A});const ut=new(Jte()).ActorQueryProcessSequential({mediatorContextPreprocess:re,mediatorQueryParse:J,mediatorOptimizeQueryOperation:xe,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-process/actors#sequential",bus:x}),xt=new(ere()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:pe,mediatorMetadata:E,mediatorMetadataExtract:S,mediatorMetadataAccumulate:I,mediatorQuerySourceIdentifyHypermedia:_e,mediatorRdfResolveHypermediaLinks:G,mediatorRdfResolveHypermediaLinksQueue:ge,mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:N});new(rre()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:j}),new(tre()).ActorRdfJoinNone({mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:j}),new(_N()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:X,mediatorQueryOperation:W,mediatorMergeBindingsContext:tt,mediatorJoinSelectivity:C,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:j}),new(pE()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Ze,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:l}),new(gE()).ActorQueryResultSerializeStats({httpObserver:st,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:l}),new(ure()).ActorQueryProcessExplainLogical({queryProcessor:ut,name:"urn:comunica:default:query-process/actors#explain-logical",bus:x}),new(sre()).ActorQueryProcessExplainPhysical({queryProcessor:ut,name:"urn:comunica:default:query-process/actors#explain-physical",bus:x}),new(are()).ActorQueryProcessExplainParsed({queryProcessor:ut,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:x});const Nt=new(lre()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:s,beforeActors:[At]});new(Xee()).ActorHttpProxy({mediatorHttp:Ee,name:"urn:comunica:default:http/actors#proxy",bus:F,beforeActors:[Ge,ve]}),new(y3()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:tt,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:N,beforeActors:[xt]}),new(cre()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:k,mediatorQuerySourceIdentify:K,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:N,beforeActors:[xt]});const Lt=new(fre()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:s,beforeActors:[Nt]}),er=new(hre()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:s,beforeActors:[Lt]}),Ie=new(pre()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:s,beforeActors:[er]}),U=new(gre()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:s,beforeActors:[Ie]});return new(mre()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:s,beforeActors:[U]}),et}),dP}var qQ;function J2e(){if(qQ)return fS;qQ=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.QueryEngine=void 0;const e=s3(),t=K2e();let i=class extends e.QueryEngineBase{constructor(n=t()){super(n)}};return fS.QueryEngine=i,fS}var VQ;function X2e(){return VQ||(VQ=1,function(e){var t=ep&&ep.__createBinding||(Object.create?function(r,n,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(n,a);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(r,o,s)}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]}),i=ep&&ep.__exportStar||function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),i(J2e(),e)}(ep)),ep}var Y2e=X2e(),Z2e=j0();function yre(e){const t=[];return e.forEach(i=>{i.startsWith("<")&&i.endsWith(">")?t.push(i.slice(1,-1)):t.push(i)}),t}async function UQ(e,t){const i=yre(t),r=[],n=[];let a=0;for(const s of i)s.includes("sparql")?r.push(s):n.push(s);console.log("SPARQL Sources: ",r),console.log("Solid Sources: ",n);let o=null;return n.length<1&&(o=await eAe(e,r),a+=1),n.length>0&&r.length<1&&(o=await HQ(e,i),a+=10),n.length>0&&r.length>0&&(o=await HQ(e,i),a+=11),a==1?(console.log("Results displayed are from ONLY SPARQL sources."),o):a==10?(console.log("Results displayed are from ONLY SOLID Pod sources."),o):(console.log("Results displayed are from BOTH SPARQL and SOLID sources."),o)}async function eAe(e,t){const i=new z2e.QueryEngine;try{const r=await i.queryBindings(e,{sources:t}),n=[];let a;for await(const s of r){a||(a=s);const l={};s.forEach((u,c)=>{let d;switch(u.termType){case"Literal":d="literal";break;case"NamedNode":d="uri";break;case"BlankNode":d="bnode";break;default:d=u.termType.toLowerCase()}l[c.value]={type:d,value:u.value}}),n.push(l)}return{head:{vars:a?Array.from(a.keys()).map(s=>s.value):[]},results:{bindings:n}}}catch{return null}}async function HQ(e,t){const i=new Y2e.QueryEngine;try{const r=await i.queryBindings(e,{sources:t,fetch:Lr}),n=[];let a;for await(const s of r){a||(a=s);const l={};s.forEach((u,c)=>{let d;switch(u.termType){case"Literal":d="literal";break;case"NamedNode":d="uri";break;case"BlankNode":d="bnode";break;default:d=u.termType.toLowerCase()}l[c.value]={type:d,value:u.value}}),n.push(l)}return{head:{vars:a?Array.from(a.keys()).map(s=>s.value):[]},results:{bindings:n}}}catch(r){return console.error("Error querying specified sources:",r),null}}function vre(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let r=0;r<e;r++){const n=Math.floor(Math.random()*t.length);i+=t.charAt(n)}return i}async function tAe(e){const t=e+"querycache/";try{return await Ta(t,{fetch:Lr}),console.log(`Query Cache container exists at ${t}`),t}catch{return await dD(t,{fetch:Lr}),console.log(`Query Cache container was created at ${t}`),t}}function bre(e){const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",i="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";if(e.length===0)return{head:hu({url:r}),nodes:[]};let n=hu();n=cl(n).addIri(t,e[0]).build();const a=bre(e.slice(1));return n=cl(n).addIri(i,a.head.url).build(),{head:n,nodes:[n,...a.nodes]}}async function rAe(e,t,i,r="queries.ttl"){const n=vre(6),a=`${n}.rq`,o=`${n}.json`,s="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",l="http://purl.org/dc/terms/created",u="http://www.w3.org/2001/sw/DataAccess/tests/test-query#query",c="http://www.w3.org/ns/shacl#",d="http://www.w3.org/2001/sw/DataAccess/tests/test-query#QueryForm",f="http://www.w3.org/2001/sw/DataAccess/tests/test-query#QuerySelect",h="http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#result",p="http://www.w3.org/ns/sparql-service-description#endpoint",g="https://purl.expasy.org/sparql-examples/ontology#";let m=yre(i);const y=iAe(t);let v,b;try{v=await Ta(e+r,{fetch:Lr}),b=`UPDATED queries.ttl which now includes: ${n}`}catch{v=L2(),b=`CREATED queries.ttl with first query: ${n}`}const{head:_,nodes:w}=bre(m),T=`${e+r}#${n}`;let R=hu({url:T});return R=cl(R).addUrl(`${s}`,`${d}`).addUrl(`${s}`,`${f}`).addIri(`${s}`,`${c}SPARQLExecutable`).addUrl(`${u}`,`${e}${a}`).addStringNoLocale(`${c}select`,t).addUrl(`${h}`,`${e}${o}`).addIri(`${p}`,_.url).addDatetime(`${l}`,new Date).build(),y.length>0&&y.forEach(F=>{R=cl(R).addUrl(`${g}federatesWith`,F).build()}),v=Ss(v,R),w.forEach(F=>{v=Ss(v,F)}),await pu(e+r,v,{fetch:Lr}),console.log(b),n}async function nAe(e,t,i){const r=i+".rq",n=new Blob([t],{type:"application/sparql-query"});try{const a=await lD(e,n,{slug:r,contentType:"application/sparql-query",fetch:Lr});return console.log(`Uploaded ${r} to ${a.internal_resourceInfo.sourceIri}`),a.internal_resourceInfo.sourceIri}catch(a){throw console.error(`Error uploading ${r}:`,a),a}}function iAe(e){const t=new Z2e.Parser;try{let i=function(a){a.type==="service"||a.type==="SERVICE"?n.push(a.name.value):a.type==="group"||a.type==="union"?a.patterns.forEach(i):a.type==="optional"&&i(a.pattern)};const r=t.parse(e),n=[];return r.type==="query"&&r.where&&r.where.forEach(i),n}catch(i){return console.error("Error parsing SPARQL query for SERVICE clauses:",i),[]}}async function aAe(e,t,i){const r=i+".json",n=new Blob([t],{type:"application/sparql-results+json"});try{const a=await lD(e,n,{slug:r,contentType:"application/json",fetch:Lr});return console.log(`Uploaded ${r} to ${a.internal_resourceInfo.sourceIri}`),a.internal_resourceInfo.sourceIri}catch(a){throw console.error(`Error uploading ${r}:`,a),a}}async function oAe(e){try{return await Ta(e+"queries.ttl",{fetch:Lr}),!0}catch{return!1}}async function sAe(e){const t=await Ta(e,{fetch:Lr}),i=N2(t),r=[];let n=0;return i.forEach(a=>{var l;n+=1;const o=a.url,s=o.includes("#")?o.split("#")[1]:"";if(s.length<7){const u=((l=the(a,"http://purl.org/dc/terms/created"))==null?void 0:l.toISOString())||"N/A",c=zg(a,"http://www.w3.org/2001/sw/DataAccess/tests/test-query#query")||"N/A",d=zg(a,"http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#result")||"N/A",f=zg(a,"http://www.w3.org/ns/sparql-service-description#endpoint");let h=[];if(f){const p=f.includes("#")?f.split("#")[1]:"";h=uAe(p,i,n)}r.push({hash:s,queryFile:c,resultsFile:d,sourceUrls:h,created:u})}}),r}function uAe(e,t,i){const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",a="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",o=[];let s=`#${e}`;for(;i<t.length&&!(s.length<8);){const l=zg(t[i],r);l&&o.push(l);const u=zg(t[i],n);if(!u||u===a)break;s=u,i+=1}return o}async function lAe(e){return await(await zK(e,{fetch:Lr})).text()}async function cAe(e){var r,n;const i=await(await zK(e,{fetch:Lr})).text();try{const a=JSON.parse(i);return{head:{vars:((r=a.head)==null?void 0:r.vars)||[]},results:{bindings:((n=a.results)==null?void 0:n.bindings)||[]}}}catch(a){return console.error(`Error parsing JSON from file at ${e}: ${a}`),null}}const{freeze:dAe}=Object;function kT(e,t){try{return new URL(e),e===t}catch{return!0}}async function wN(e,t){if(!WE(e))throw new Error(`Could not determine the location of the ACL for the Resource at [${Sn(e)}];`);return{...await pu(e.internal_resourceInfo.aclUrl,t,{fetch:Lr}),internal_accessTo:Sn(e)}}async function fAe(e,t,i){const r=await M2(e,{fetch:Lr}),n=GE(r),a=mJ(n,t,i);await wN(r,a)}async function hAe(e,t){const i=await M2(e,{fetch:Lr}),r=GE(i),n=bJ(r,t);await wN(i,n)}function pAe(e){return dAe({...L2(),internal_accessTo:Sn(e),internal_resourceInfo:{sourceIri:e.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}async function _re(e,t){const i=await Op(e),r=pAe(i),a=mJ(r,t,{read:!0,append:!0,write:!0,control:!0});return{...await pu(i.internal_resourceInfo.aclUrl,a,{fetch:Lr}),internal_accessTo:Sn(i)}}async function $Q(e,t){const i=`${e}inbox/`;try{await Ta(i,{fetch:Lr});return}catch{console.log(`No ${i} container found, creating a new one...`)}try{const r=`${e}inbox/`;await dD(r,{fetch:Lr}),console.log(`Inbox container created at: ${r}`);let n=await yD(r);n==null&&(console.warn("Initializing an ACL for your inbox/ container..."),n=await _re(r,t));let a=await Ta(t,{fetch:Lr}),o=R0(a,t);if(!o)throw new Error("WebID Thing not found in profile document.");o=Rp(o,"http://www.w3.org/ns/ldp#inbox",r),a=Ss(a,o),await pu(t,a,{fetch:Lr}),console.log(`Added ldp:inbox (${r}) to ${t}`);const s=await M2(r,{fetch:Lr}),l=bJ(n,{read:!1,append:!0,write:!1,control:!1});await wN(s,l),console.log(`ACL set: Public append access granted to ${r}`)}catch(r){console.error("Error creating inbox container or setting ACL:",r)}}async function gAe(e){const t=`${e}inbox/`,i="sharedWithMe.ttl";let r;try{r=await Ta(t+i,{fetch:Lr});return}catch{console.log(`No ${i} found, creating a new one...`)}try{console.log("Creating new sharedWithMe.ttl file..."),r=L2();const n=vre(10),a=`${t}${i}#${n}`;let o=hu({url:a});o=cl(o).addIri("http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/ns/iana/media-types/example").addStringNoLocale("http://www.w3.org/ns/iana/media-types/example#placeholder","empty").build(),r=Ss(r,o),await pu(t+i,r,{fetch:Lr}),console.log("CREATED sharedWithMe.ttl with a placeholder message")}catch{console.error("Something went wrong ...");return}}async function mAe(e,t,i,r){const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",a="http://www.w3.org/ns/auth/acl#",o="http://purl.org/dc/terms/",s="http://www.w3.org/ns/ldp#",l="http://purl.org/dc/terms/created",u=`${e}inbox/`,c="sharedWithOthers.ttl";let d=!1,f,h;try{f=await Ta(u+c,{fetch:Lr}),d=!0}catch{console.log(`No ${c} found, creating a new one...`)}const p=[];r.read&&p.push("Read"),r.write&&p.push("Write"),r.append&&p.push("Append"),r.control&&p.push("Control");let g=cl(hu({url:t})).addUrl(o+"sharedWith",i).addIri(n,s+"Resource").addUrl(a+"accessTo",t).addDatetime(`${l}`,new Date);p.forEach(y=>{g=g.addIri(a+"mode",a+y)});const m=g.build();if(d){f=Ss(f,m);try{f=await pu(u,f,{fetch:Lr}),h=`UPDATED sharedWithOthers.ttl which now includes: ${t}`}catch{h="Encountered an error ..."}}else{f=L2();try{f=await pu(u,f,{fetch:Lr}),h=`CREATED sharedWithOthers.ttl which now includes: ${t}`}catch{h="Encountered an error ..."}}return h}const yAe={name:"PodRegistration",data:()=>({loggedIn:!1,menu:!1,message:!1,podAccess:!1,podList:null,customPodUrl:"",currentPod:"",showFormIndex:!1,podSuccess:!1,user:{webId:"",fullName:"John Doe",email:"john.doe@doe.com"},rules:[e=>kT(e,(void 0).currentPod)?"Invalid URL":""]}),methods:{logIn(){this.loggedIn=rl(),this.user.webId=_l()},async addToWebIdData(){console.log(kT(this.customPodUrl,this.currentPod)),this.customPodUrl===""?await i5(this.user.webId,this.customPodUrl):kT(this.customPodUrl,this.currentPod)?console.log("Not a valid URL ... "):(console.log(this.customPodUrl),await i5(this.user.webId,this.customPodUrl))},async findPodList(){if(this.podList=await _J(),this.podList!==null){this.currentPod=this.podList[0];try{this.podAccess=this.podList.length!==0?!0:this.podAccess}catch(e){console.log(e)}}},toggleForm(){this.showFormIndex=!this.showFormIndex},successfulSelection(){this.podSuccess=!0},selectPod(){const e=this.currentPod;this.$emit("pod-selected",e),this.successfulSelection()}},mounted(){setTimeout(()=>{this.logIn()},200),setTimeout(()=>{this.findPodList()},500)}},vAe={key:0,class:"pod-register"},bAe={key:0},_Ae={id:"addAccess"},wAe={key:0,class:"material-icons right"},SAe={key:1,class:"material-icons right"},AAe={class:"input-podURL"},TAe={key:0,id:"shareBox",class:"form-container"},EAe={key:1,class:"select-pod"},xAe={class:"horizontal-list"},RAe={class:"sel-pod"};function OAe(e,t,i,r,n,a){const o=Xt("v-tooltip"),s=Xt("v-text-field"),l=Xt("v-btn"),u=Xt("v-alert"),c=Xt("v-select"),d=Xt("v-icon");return e.loggedIn?(wt(),Ct("div",vAe,[e.podAccess?nr("",!0):(wt(),Ct("div",bAe,[B(u,{density:"compact",title:"No Pod Registered to your WebId",type:"warning"},{default:zt(()=>[Me("div",_Ae,[Me("button",{onClick:t[0]||(t[0]=(...f)=>a.toggleForm&&a.toggleForm(...f)),class:"icon-button"},[t[6]||(t[6]=Me("span",null,"Input your Pod URL (optional)",-1)),e.showFormIndex?nr("",!0):(wt(),Ct("i",wAe,"add")),e.showFormIndex?(wt(),Ct("i",SAe," remove ")):nr("",!0),e.showFormIndex?(wt(),ja(o,{key:2,activator:"parent",location:"end"},{default:zt(()=>t[5]||(t[5]=[$t("Close Pod URL input ")])),_:1})):nr("",!0)]),Me("button",{onClick:t[1]||(t[1]=(...f)=>a.findPodList&&a.findPodList(...f)),class:"refresh icon-button right"},[t[8]||(t[8]=Me("i",{class:"material-icons right"},"refresh",-1)),B(o,{activator:"parent",location:"end"},{default:zt(()=>t[7]||(t[7]=[$t("Refresh to check if Pod has been added ")])),_:1})])]),Me("form",{onSubmit:t[3]||(t[3]=Fg((...f)=>a.addToWebIdData&&a.addToWebIdData(...f),["prevent"]))},[Me("div",AAe,[e.showFormIndex?(wt(),Ct("div",TAe,[B(s,{modelValue:e.customPodUrl,"onUpdate:modelValue":t[2]||(t[2]=f=>e.customPodUrl=f),density:"compact",rules:e.rules},null,8,["modelValue","rules"])])):nr("",!0),B(l,{class:"pod-registerButton",variant:"tonal",rounded:"xs",type:"submit"},{default:zt(()=>[t[10]||(t[10]=$t(" Register Pod ")),B(o,{activator:"parent",location:"end"},{default:zt(()=>t[9]||(t[9]=[$t("Click to (attempt) to add your pod to your WebId card ")])),_:1})]),_:1})])],32)]),_:1})])),e.podAccess?(wt(),Ct("div",EAe,[Me("ul",xAe,[t[14]||(t[14]=Me("li",null,[Me("span",null,"Select Pod:")],-1)),Me("li",null,[Me("div",RAe,[B(c,{variant:"outlined",modelValue:e.currentPod,"onUpdate:modelValue":t[4]||(t[4]=f=>e.currentPod=f),items:e.podList},null,8,["modelValue","items"]),B(l,{class:"pod-selectButton",variant:"tonal",rounded:"xs",onClick:a.selectPod},{default:zt(()=>[t[12]||(t[12]=$t(" Select Pod ")),B(o,{activator:"parent",location:"end"},{default:zt(()=>t[11]||(t[11]=[$t("Click to select this pod ")])),_:1})]),_:1},8,["onClick"]),e.podSuccess?(wt(),ja(d,{key:0,class:"check-mark",color:"green"},{default:zt(()=>t[13]||(t[13]=[$t("mdi-check")])),_:1})):nr("",!0)])])])])):nr("",!0)])):nr("",!0)}const aA=ro(yAe,[["render",OAe],["__scopeId","data-v-6c1deeed"]]),PAe={components:{PodLogin:LJ,PodRegistration:aA},props:{currPod:String},data:()=>({login_status:!0,visualUrl:new URL(""+new URL("full-sc-logo-nb-3DgFU8A7.png",import.meta.url).href,import.meta.url).href}),methods:{async credentials(){wJ()},loggedIn(){return rl()},mounted(){this.credentials(),setTimeout(()=>{this.login_status=this.loggedIn()},200)}}},IAe={class:"logo-container"},CAe=["src"],DAe={class:"login-container"},NAe={class:"pod-reg"};function FAe(e,t,i,r,n,a){const o=Xt("v-col"),s=Xt("v-container"),l=Xt("pod-login"),u=Xt("pod-registration");return wt(),Ct(Ot,null,[B(s,{class:"content-container"},{default:zt(()=>[B(o,{cols:"12"},{default:zt(()=>[Me("div",IAe,[Me("img",{src:e.visualUrl,alt:"Full Solid Cockpit logo"},null,8,CAe)])]),_:1})]),_:1}),Me("div",DAe,[B(l)]),Me("div",NAe,[B(u)]),t[0]||(t[0]=ul('<body data-v-cbc8dcbb><div class="container" data-v-cbc8dcbb><h2 class="guide" data-v-cbc8dcbb>What can this application do?</h2><hr data-v-cbc8dcbb><h3 class="req" data-v-cbc8dcbb>1. Connect to your <a href="https://solidproject.org/" data-v-cbc8dcbb>Solid Pod</a></h3><p data-v-cbc8dcbb>Login to your pod via your pod provider + personal credentials.</p><hr data-v-cbc8dcbb><h3 class="req" data-v-cbc8dcbb>2. Manage files in your pod</h3><p data-v-cbc8dcbb>Upload, delete, and move files in your Solid Pod.</p><hr data-v-cbc8dcbb><h3 class="req" data-v-cbc8dcbb>3. Query your pod (and SPARQL endpoints you specify)</h3><p data-v-cbc8dcbb> Execute SPARQL queries over your pod and other accessible Solid Pods or SPARQL Endpoints. </p><hr data-v-cbc8dcbb><h3 class="req" data-v-cbc8dcbb>4. Edit the privacy of files in your pod</h3><p data-v-cbc8dcbb> Modify access controls for files and containers in your pod + notify others of the changes. </p><hr data-v-cbc8dcbb><h3 class="req" data-v-cbc8dcbb> 5. Coming soon: edit the profile information associated with your Pod/webId </h3><p data-v-cbc8dcbb> Edit the personal data incorporated with your Solid Pod and/or your WebID. </p></div></body>',1))],64)}const LAe=ro(PAe,[["render",FAe],["__scopeId","data-v-cbc8dcbb"]]),MAe={".aac":"audio/aac",".abw":"application/x-abiword",".arc":"application/x-freearc",".avi":"video/x-msvideo",".azw":"application/vnd.amazon.ebook",".bin":"application/octet-stream",".bmp":"image/bmp",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".csh":"application/x-csh",".css":"text/css",".csv":"text/csv",".doc":"application/msword",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/gzip",".gif":"image/gif",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"text/javascript",".json":"application/json",".jsonld":"application/ld+json",".mid":"audio/midi",".midi":"audio/midi",".mjs":"text/javascript",".mp3":"audio/mpeg",".mpeg":"video/mpeg",".mpkg":"application/vnd.apple.installer+xml",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".opus":"audio/opus",".otf":"font/otf",".png":"image/png",".pdf":"application/pdf",".php":"application/x-httpd-php",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".rar":"application/vnd.rar",".rtf":"application/rtf",".sh":"application/x-sh",".svg":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tif":"image/tiff",".tiff":"image/tiff",".ts":"video/mp2t",".ttf":"font/ttf",".txt":"text/plain",".vsd":"application/vnd.visio",".wav":"audio/wav",".weba":"audio/webm",".webm":"video/webm",".webp":"image/webp",".woff":"font/woff",".woff2":"font/woff2",".xhtml":"application/xhtml+xml",".xls":"application/vnd.ms-excel",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xml":"application/xml",".xul":"application/vnd.mozilla.xul+xml",".zip":"application/zip",".3gp":"video/3gpp",".3g2":"video/3gpp2",".7z":"application/x-7z-compressed",".rdf":"application/rdf+xml",".owl":"application/rdf+xml",".n3":"text/n3",".nt":"application/n-triples",".ttl":"text/turtle",".trig":"application/trig"};async function jAe(e,t,i){const r=[];await UAe(i,t,Lr);for(let n=0;n<e.length;n++)if(await HAe(e[n],t))r.push("already exists");else{const a=await VAe(`${t}`,e[n],Lr);r.push(a)}return r}function kAe(e){return MAe[e.toLowerCase()]||"application/octet-stream"}async function BAe(e){try{return await Ufe(e,{fetch:Lr}),console.log(`${e} deleted successfully`),!0}catch(t){return console.error(`Error deleting ${e}:`,t),!1}}async function qAe(e){try{return await hhe(e,{fetch:Lr}),console.log(`${e} deleted successfully`),!0}catch(t){return console.error(`Error deleting ${e}:`,t),!1}}async function VAe(e,t,i){try{return(await lD(e,t,{contentType:kAe("."+t.name.split(".")[t.name.split(".").length-1]),fetch:i})).internal_resourceInfo.sourceIri}catch(r){return console.error(r),"error"}}async function UAe(e,t,i){const r=new URL(e),n=new URL(t);if(!n.href.startsWith(r.href)){console.error("Input URL must be inside the base pod URL.");return}if(n.href==r.href)return;const o=t.split(e)[1].split("/").slice(0,-1);let s=e;for(let l=0;l<o.length;l++){try{const u=await wK(`${s}${o[l]}/`,{fetch:i})}catch(u){u.statusCode===404?(console.log(`Creating directory: ${o[l]}`),await dD(`${s}${o[l]}/`,{fetch:i})):console.error(`Error creating directory ${o[l]}:`,u)}s=`${s}${o[l]}/`}}async function HAe(e,t){try{const i=await Ta(t,{fetch:Lr}),r=R0(i,`${t}${e.name}`);return console.log(`The file ${r.url} already exists...`),!0}catch{return console.log(`${t}${e.name} does not yet exist, uploading now.`),!1}}function $Ae(e){return e=="already exists"}function QAe(e){let t=!1;return e.forEach(i=>{i!==void 0||i!=="error"?t=!0:t=!1}),t}const zAe=E2({name:"ContainerNav",props:{currentPod:String},data(){return{webId:"",dirContents:null,currentLocation:"",currentUrl:"",urls:[],containerUrls:[],resourceUrls:[]}},methods:{childContainers(e,t){const i=t.filter(r=>r!==e).map(r=>{const n=r.split("/").filter(a=>a.length>0);return n[n.length-1]+"/"});return e!==this.currentPod&&i.push("/.."),i.sort((r,n)=>r.length-n.length)},async changeCurrentLocation(e){const t=this.currentLocation.split("//"),i=t[1].split("/").filter(r=>r.length>0);if(e==="/.."){i.pop();const r=t[0]+"//"+i.join("/")+"/";this.currentLocation=r,await this.getSpecificData(r),this.currentUrl=null,this.selectPath()}else{const r=t[0]+"//"+i.join("/")+"/"+e;this.currentLocation=r,await this.getSpecificData(r),this.currentUrl=null,this.selectPath()}},async getGeneralData(){try{this.dirContents=await Op(this.currentPod),this.urls=ZS(this.dirContents),this.separateUrls()}catch(e){console.log(e)}},async getSpecificData(e){this.dirContents=await Op(e),this.urls=ZS(this.dirContents),this.separateUrls()},async podURL(){this.webId=_l(),this.currentLocation=this.currentPod},separateUrls(){this.containerUrls=this.urls.filter(e=>e.endsWith("/")),this.resourceUrls=this.urls.filter(e=>!e.endsWith("/")),this.currentLocation===this.currentPod&&!this.urls.includes(this.currentPod)&&(this.urls.push(this.currentPod),this.containerUrls.push(this.currentPod)),this.urls=this.urls.sort((e,t)=>e.length-t.length),this.containerUrls=this.containerUrls.sort((e,t)=>e.length-t.length),this.resourceUrls=this.resourceUrls.sort((e,t)=>e.length-t.length)},selectPath(){const e=this.currentLocation;this.$emit("path-selected",e)}},mounted(){this.podURL(),setTimeout(()=>{try{this.getGeneralData()}catch(e){console.log(e)}},500)}}),GAe={class:"dir-nav"},WAe={class:"directory-nav"},KAe={class:"horizontal-list"},JAe={class:"current-location"},XAe={class:"select-dir"};function YAe(e,t,i,r,n,a){const o=Xt("v-select"),s=Xt("v-btn");return wt(),Ct("nav",GAe,[Me("div",WAe,[Me("ul",KAe,[Me("li",null,[Me("span",JAe,ir(e.currentLocation),1)]),Me("li",null,[Me("div",XAe,[B(o,{clearable:"",variant:"outlined",modelValue:e.currentUrl,"onUpdate:modelValue":t[0]||(t[0]=l=>e.currentUrl=l),items:e.childContainers(e.currentLocation,e.containerUrls)},null,8,["modelValue","items"]),B(s,{class:"navigate-btn",disabled:e.currentUrl===null,onClick:t[1]||(t[1]=l=>e.changeCurrentLocation(e.currentUrl))},{default:zt(()=>t[2]||(t[2]=[$t("Go")])),_:1},8,["disabled"])])])])])])}const SN=ro(zAe,[["render",YAe],["__scopeId","data-v-657054ea"]]),ZAe={components:{ContainerNav:SN,PodRegistration:aA},data(){return{webId:"",currentPod:"",uploadPath:"",filesUploaded:[],files:FileList,uploadDone:!1,alreadyPresent:!1,inputType:"newPath",urlRules:[e=>!!e||"URL is required",e=>this.validUrlCheck(e)?!0:"Invalid URL Path"],vaildURL:null}},methods:{async getWebId(){this.webId=_l()},checkExists(e){this.alreadyPresent=$Ae(e)},validUrlCheck(e){try{return new URL(e),!0}catch{return!1}},validPathCheck(){this.vaildURL=this.validUrlCheck(this.uploadPath)},uploadFile(e){this.files=e.target.files},async submitUpload(){this.uploadPath.endsWith("/")||(this.uploadPath=this.uploadPath+"/"),this.filesUploaded=await jAe(this.files,this.uploadPath,this.currentPod),this.uploadDone=QAe(this.filesUploaded)},handlePodSelected(e){this.currentPod=e,this.uploadPath=this.currentPod},handleSelectedContainer(e){this.uploadPath=e}},mounted(){setTimeout(()=>{this.getWebId()},200)}},eTe={class:"pod-chooseContainer"},tTe={class:"container-location"},rTe={class:"nav-container"},nTe={class:"path-selection"},iTe={key:0,class:"user-list"},aTe={key:1,class:"existing-list"},oTe={key:2},sTe={key:3},uTe={class:"sel-pod"},lTe={key:0,class:"displayPath-container"},cTe={class:"upload-container"},dTe={key:0},fTe={id:"writeForm"},hTe={key:1,class:"text-overline text-grey-darken-3 mx-2"},pTe={key:0},gTe={key:1},mTe={key:0},yTe={key:1};function vTe(e,t,i,r,n,a){const o=Xt("PodRegistration"),s=Xt("v-text-field"),l=Xt("container-nav"),u=Xt("v-tooltip"),c=Xt("v-btn"),d=Xt("v-icon"),f=Xt("v-chip"),h=Xt("v-file-input"),p=Xt("v-alert"),g=Xt("v-card");return wt(),Ct(Ot,null,[t[18]||(t[18]=Me("div",{class:"title-container"},[Me("span",null,"Data Upload")],-1)),Me("div",eTe,[B(o,{onPodSelected:a.handlePodSelected},null,8,["onPodSelected"])]),$r(Me("div",tTe,[Me("div",rTe,[Me("ul",null,[t[4]||(t[4]=Me("li",null,[Me("span",null,"Location")],-1)),Me("li",null,[Me("button",{id:"top-button",class:Na({highlight:n.inputType==="newPath"}),onClick:t[0]||(t[0]=m=>n.inputType="newPath")}," New Input Path ",2)]),Me("li",null,[Me("button",{class:Na({highlight:n.inputType==="existingPath"}),onClick:t[1]||(t[1]=m=>n.inputType="existingPath")}," Use Existing Path ",2)])])]),Me("ul",nTe,[t[9]||(t[9]=Me("li",null,[Me("span",null,[Me("b",null,"Upload location:")])],-1)),n.inputType=="newPath"?(wt(),Ct("li",iTe,[B(s,{class:"input-path",modelValue:n.uploadPath,"onUpdate:modelValue":t[2]||(t[2]=m=>n.uploadPath=m),rules:n.urlRules,label:"Pod Path",outlined:"",clearable:""},null,8,["modelValue","rules"])])):nr("",!0),n.inputType=="existingPath"?(wt(),Ct("li",aTe,[B(l,{currentPod:n.currentPod,onPathSelected:a.handleSelectedContainer},null,8,["currentPod","onPathSelected"])])):nr("",!0),n.inputType=="newPath"?(wt(),Ct("li",oTe,[B(c,{class:"path-registerButton",variant:"tonal",rounded:"xs",onClick:a.validPathCheck},{default:zt(()=>[t[6]||(t[6]=$t(" Check Path ")),B(u,{activator:"parent",location:"top"},{default:zt(()=>t[5]||(t[5]=[$t("Click to check if this path is a valid URL ")])),_:1})]),_:1},8,["onClick"])])):nr("",!0),n.inputType=="newPath"?(wt(),Ct("li",sTe,[Me("div",uTe,[n.vaildURL?(wt(),ja(d,{key:0,class:"check-mark",color:"green"},{default:zt(()=>t[7]||(t[7]=[$t(" mdi-check ")])),_:1})):nr("",!0),n.vaildURL==!1?(wt(),ja(d,{key:1,class:"check-mark",color:"red"},{default:zt(()=>t[8]||(t[8]=[$t(" mdi-close ")])),_:1})):nr("",!0)])])):nr("",!0)])],512),[[to,n.currentPod!==""]]),n.currentPod!==""?(wt(),Ct("div",lTe,[Me("ul",null,[t[10]||(t[10]=Me("li",null,[Me("span",null,"Current upload path:")],-1)),Me("li",null,[Me("i",null,ir(n.uploadPath),1)])])])):nr("",!0),Me("div",cTe,[n.currentPod!==""&&n.currentPod!==void 0?(wt(),Ct("div",dTe,[B(g,{class:"mx-auto upload-section",title:"Add Files to Pod",variant:"tonal",background:"#28353e",justify:"center"},{default:zt(()=>[Me("form",fTe,[B(h,{clearable:"",label:"Click to select file(s) OR drag and drop file(s) here",placeholder:"Select your files","show-size":"",type:"file",onChange:t[3]||(t[3]=m=>a.uploadFile(m)),ref:"file",counter:"",multiple:""},{selection:zt(({fileNames:m})=>[(wt(!0),Ct(Ot,null,ya(m,(y,v)=>(wt(),Ct(Ot,{key:y},[v<2?(wt(),ja(f,{key:0,class:"me-2",color:"deep-purple-accent-4",size:"small",label:""},{default:zt(()=>[$t(ir(y),1)]),_:2},1024)):v===2?(wt(),Ct("span",hTe," +"+ir(n.files.length-2)+" File(s) ",1)):nr("",!0)],64))),128))]),_:1},512),B(c,{variant:"tonal",rounded:"xs",onClick:a.submitUpload},{default:zt(()=>t[11]||(t[11]=[$t(" Upload ")])),_:1},8,["onClick"])]),n.currentPod==="Error: probably not logged in"?(wt(),Ct("div",pTe,[B(p,{class:"mx-auto",title:"There was an error with the file(s) upload!",type:"error",icon:"$error"},{default:zt(()=>t[12]||(t[12]=[Me("b",null,"There is an error here somewhere. Try logging out and logging back in?",-1),$t("(also could try clearing your browser cookies if problem reoccurs)")])),_:1})])):n.uploadDone?(wt(),Ct("div",gTe,[(wt(!0),Ct(Ot,null,ya(n.filesUploaded,(m,y)=>(wt(),Ct("li",{class:"check-exists",key:y},[Me("template",null,[$t(ir(a.checkExists(m)),1)]),n.alreadyPresent?(wt(),Ct("div",mTe,[B(p,{class:"mx-auto",title:"There was an error with the file(s) upload!",type:"error",icon:"$error"},{default:zt(()=>[t[13]||(t[13]=$t("The file ")),Me("i",null,[Me("b",null,ir(n.files[y].name),1)]),t[14]||(t[14]=$t(" already exists in the container ")),Me("b",null,ir(n.uploadPath),1)]),_:2},1024)])):(wt(),Ct("div",yTe,[B(p,{class:"mx-auto",title:"File(s) successfully uploaded!",type:"success",icon:"$success"},{default:zt(()=>[t[15]||(t[15]=$t("(Your file(s) ")),Me("i",null,[Me("b",null,ir(n.files[y].name),1)]),t[16]||(t[16]=$t(" can be found in your pod at ")),Me("b",null,ir(n.uploadPath),1),t[17]||(t[17]=$t(")"))]),_:2},1024)]))]))),128))])):nr("",!0)]),_:1})])):nr("",!0)]),t[19]||(t[19]=ul('<div class="use-guide" data-v-ea1ba8cd><div class="guide-container" data-v-ea1ba8cd><h2 class="guide" data-v-ea1ba8cd>Data Upload Guide</h2><hr class="line" data-v-ea1ba8cd><ol class="list-container" data-v-ea1ba8cd><li class="req" data-v-ea1ba8cd>Select the pod you want to upload your file(s) to</li><li class="req" data-v-ea1ba8cd> Select or input the directory you want to upload the file(s) to </li><li class="req" data-v-ea1ba8cd> Click the <b data-v-ea1ba8cd>&quot;File Input&quot;</b> bar or drag and drop a file from your local machine </li><li class="req" data-v-ea1ba8cd>Click the <b data-v-ea1ba8cd>&quot;Upload&quot;</b> button</li></ol></div></div>',1))],64)}const bTe=ro(ZAe,[["render",vTe],["__scopeId","data-v-ea1ba8cd"]]),_Te={components:{ContainerNav:SN,PodRegistration:aA},data(){return{loggedIn:!1,webId:"",currentPod:"",displayPath:"",currentLocation:"",showInfoIndex:null,showEditIndex:null,podData:null,urls:[],dirContents:null,containerContents:null,info:null,containerUrls:[],resourceUrls:[],container:[],queryItems:null,deletionSuccess:!1}},methods:{async getPodURL(){this.webId=_l()},async podContentsQuery(){this.queryItems=null},filteredItems(){},confirmAndDelete(e){window.confirm("Are you sure you want to delete this resource? This action cannot be undone.")?this.deleteResource(e):console.log("Deletion canceled by the user.")},async deleteResource(e){this.deletionSuccess=!0;try{e.endsWith("/")?(this.deletionSuccess=await qAe(e),this.urls=this.urls.filter(t=>t!==e),await this.getItems(this.displayPath)):this.deletionSuccess=await BAe(e),this.deletionSuccess?(this.urls=this.urls.filter(t=>t!==e),await this.getItems(this.displayPath)):(this.deletionSuccess=!1,console.error(`Failed to delete resource: ${e}`))}catch(t){this.deletionSuccess=!1,console.error(`Error deleting resource: ${e}`,t)}finally{this.deletionSuccess=!1}},async getItems(e){try{this.dirContents=await Op(e),this.urls=ZS(this.dirContents),this.separateUrls()}catch{console.error("Could not fetch data info from the URL provided...")}},async getItemInfo(e){this.dirContents=await Op(e),this.info=this.dirContents.internal_resourceInfo},containerCheck(e){return e.endsWith("/")},separateUrls(){this.containerUrls=this.urls.filter(e=>e.endsWith("/")),this.resourceUrls=this.urls.filter(e=>!e.endsWith("/")),this.currentLocation===this.currentPod&&!this.urls.includes(this.currentPod)&&(this.urls.push(this.currentPod),this.containerUrls.push(this.currentPod)),this.urls=this.urls.sort((e,t)=>e.length-t.length),this.container=this.urls.sort((e,t)=>e.length-t.length),this.resourceUrls=this.urls.sort((e,t)=>e.length-t.length)},toggleForm(e){this.showEditIndex===e?this.showEditIndex=null:this.showEditIndex=e},toggleInfo(e){this.showInfoIndex===e?this.showInfoIndex=null:this.showInfoIndex=e},handlePodSelected(e){this.currentPod=e,this.displayPath=this.currentPod,this.getItems(this.displayPath)},handleSelectedContainer(e){this.displayPath=e,this.getItems(this.displayPath)}},mounted(){}},wTe={class:"pod-chooseContainer"},STe={class:"content-body"},ATe={key:0,class:"container-location"},TTe={class:"nav-container"},ETe={class:"path-selection"},xTe={class:"current-location"},RTe={class:"container-choose"},OTe={class:"pod-directories"},PTe={class:"container-fluid"},ITe={class:"card-panel folder"},CTe={class:"material-icons not-colored left"},DTe=["onClick"],NTe={class:"material-icons not-colored right"},FTe={key:0,class:"form-container"},LTe={class:"info-display"},MTe={class:"edit-delete"},jTe=["disabled"],kTe=["onClick"];function BTe(e,t,i,r,n,a){const o=Xt("PodRegistration"),s=Xt("container-nav"),l=Xt("v-tooltip");return wt(),Ct(Ot,null,[t[6]||(t[6]=Me("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css",rel:"stylesheet"},null,-1)),t[7]||(t[7]=Me("div",{class:"title-container"},[Me("span",null,"Pod Data Browser")],-1)),Me("div",wTe,[B(o,{onPodSelected:a.handlePodSelected},null,8,["onPodSelected"])]),Me("body",STe,[n.currentPod!==""?(wt(),Ct("div",ATe,[Me("div",TTe,[Me("div",ETe,[Me("ul",null,[t[4]||(t[4]=Me("li",null,[Me("span",null,[Me("b",null,"Current location:")])],-1)),Me("li",null,[Me("span",xTe,ir(n.currentLocation),1)]),Me("li",RTe,[B(s,{currentPod:n.currentPod,onPathSelected:a.handleSelectedContainer},null,8,["currentPod","onPathSelected"])]),Me("li",null,[Me("button",{onClick:t[0]||(t[0]=u=>a.getItems(n.displayPath)),class:"icon-button right"},[t[3]||(t[3]=Me("i",{class:"material-icons not-colored right"},"refresh",-1)),B(l,{activator:"parent",location:"end"},{default:zt(()=>t[2]||(t[2]=[$t("Refresh directory contents ")])),_:1})])])])])]),Me("div",OTe,[Me("div",PTe,[t[5]||(t[5]=Me("div",{class:"items-label"},[Me("span",null,[Me("b",null,"Items:")])],-1)),Me("ul",null,[(wt(!0),Ct(Ot,null,ya(n.urls,(u,c)=>(wt(),Ct("li",{key:c},[Me("div",ITe,[Me("i",CTe,ir(a.containerCheck(u)?"folder":"description"),1),$t(" "+ir(u)+" ",1),Me("button",{onClick:d=>(a.toggleInfo(c),a.getItemInfo(u)),class:"icon-button right"},[Me("i",NTe,ir(n.showInfoIndex===null?"chevron_right":"keyboard_arrow_down"),1)],8,DTe),n.showInfoIndex===c?(wt(),Ct("div",FTe,[Me("div",LTe,[Me("li",null,"Source IRI: "+ir(n.info.sourceIri),1),Me("li",null,"Type: "+ir(n.info.linkedResources.type),1),Me("li",null," Described By: "+ir(n.info.linkedResources.describedby),1)]),Me("div",MTe,[Me("button",{onClick:t[1]||(t[1]=d=>a.confirmAndDelete(n.info.sourceIri)),class:"delete-button",disabled:n.deletionSuccess}," Delete ",8,jTe),Me("button",{onClick:d=>a.toggleForm(c),class:"edit-button"}," Edit ... ",8,kTe)])])):nr("",!0)])]))),128))])])])])):nr("",!0)]),t[8]||(t[8]=ul('<div class="use-guide" data-v-39e8965f><div class="guide-container" data-v-39e8965f><h2 class="guide" data-v-39e8965f>Pod Browser Guide</h2><hr class="line" data-v-39e8965f><ol class="list-container" data-v-39e8965f><li class="req" data-v-39e8965f>Select the Pod you want to Browse.</li><li class="req" data-v-39e8965f>Navigate to the directory you want to browse.</li><li class="req" data-v-39e8965f> Click the <i class="material-icons not-colored" data-v-39e8965f>chevron_right</i> to see resource information. </li><li class="req" data-v-39e8965f> Future work: Graphical browser (as an interactive knowledge graph) / Data Deletion / RDF data + Metadata editing (with syntax checking) / View filtering / Search bar (for quick searching) </li></ol></div></div>',1))],64)}const qTe=ro(_Te,[["render",BTe],["__scopeId","data-v-39e8965f"]]),VTe={components:{PodRegistration:aA},data(){return{currentPod:"",currentView:"newQuery",exampleQueries:[{name:"Example 1",sources:["<https://sparql.rhea-db.org/sparql/>"],query:`SELECT DISTINCT ?p WHERE {
	?s ?p ?o .
}LIMIT 10`},{name:"Rhea 13",sources:["<https://sparql.rhea-db.org/sparql/>"],query:`PREFIX rh: <http://rdf.rhea-db.org/>
PREFIX taxon: <http://purl.uniprot.org/taxonomy/>
PREFIX up: <http://purl.uniprot.org/core/>
SELECT ?uniprot ?mnemo ?rhea ?accession ?equation 
WHERE {
	SERVICE <https://sparql.uniprot.org/sparql> {
		VALUES (?taxid) { (taxon:83333) }
		GRAPH <http://sparql.uniprot.org/uniprot> {
			?uniprot up:reviewed true .
			?uniprot up:mnemonic ?mnemo .
			?uniprot up:organism ?taxid .
			?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .
		}
	}
	?rhea rh:accession ?accession .
	?rhea rh:equation ?equation .
}`}],possibleSources:["<https://www.bgee.org/sparql/>","<https://glyconnect.expasy.org/sparql>","<https://hamap.expasy.org/sparql/>","<https://rdf.metanetx.org/sparql/>","<https://sparql.omabrowser.org/sparql>","<https://sparql.orthodb.org/sparql/>","<https://sparql.rhea-db.org/sparql>","<https://sparql.swisslipids.org/sparql/>","<https://biosoda.unil.ch/emi/sparql/>","<https://sparql.uniprot.org/sparql>","<https://query.wikidata.org/sparql>"],currentQuery:{name:"",sources:[],query:"",results:null},resolvedQueryResults:Object,saveQuery:!1,cachePath:"",currHash:"",queryFile:"",resultsFile:"",retrievedQuery:null,retrievedResults:null,showRetrievedQuery:!1,showRetrievedResults:!1,showQueryIndex:null,queriesCacheExists:!1,inputType:"",cachedQueries:Object,queries:[],loading:!1}},methods:{toggleQuery(e){this.showQueryIndex=this.showQueryIndex===e?null:e},itemPropsSources(e){return{title:e.url}},itemPropsExampleQueries(e){return{title:e.name}},isValidSPARQL(e){return!(!/^(SELECT|ASK|CONSTRUCT|DESCRIBE|PREFIX|BASE)\s+/i.test(e.trim())||!/WHERE\s*\{/.test(e)||!((e.match(/\{/g)||[]).length===(e.match(/\}/g)||[]).length)||!((e.match(/</g)||[]).length===(e.match(/>/g)||[]).length))},clearQueryInput(){this.currentQuery.query=""},async getPodURL(){this.webId=_l(),this.podURLs=await _J()},handlePodSelected(e){this.currentPod=e,this.possibleSources.unshift(`<${this.currentPod}>`)},async runExecuteQuery(){if(this.loading=!0,this.currentQuery.query.trim()===""){alert("Please enter a valid SPARQL query before executing.");return}this.saveQuery?(this.cachePath=await tAe(this.currentPod),this.currHash=await rAe(this.cachePath,this.currentQuery.query,this.currentQuery.sources),this.queryFile=await nAe(this.cachePath,this.currentQuery.query,this.currHash),this.currentQuery.results=await UQ(this.currentQuery.query,this.currentQuery.sources),(!this.currentQuery.results||!this.currentQuery.results.results)&&(this.currentQuery.results={head:{vars:[]},results:{bindings:[]}}),this.resultsFile=await aAe(this.cachePath,JSON.stringify(this.currentQuery.results,null,2),this.currHash)):(this.currentQuery.results=await UQ(this.currentQuery.query,this.currentQuery.sources),(!this.currentQuery.results||!this.currentQuery.results.results)&&(this.currentQuery.results={head:{vars:[]},results:{bindings:[]}}),this.resolvedQueryResults=rr(this.currentQuery.results)),this.loading=!1},async loadCache(){if(this.currentView="previousQueries",this.queriesCacheExists=await oAe(this.currentPod+"querycache/"),this.queriesCacheExists)try{const e=await sAe(this.currentPod+"querycache/queries.ttl");this.cachedQueries=await rr(e)}catch(e){console.error("Error fetching queries:",e)}},togglRetrievedResults(){this.showRetrievedResults=!this.showRetrievedResults},togglRetrievedQuery(){this.showRetrievedQuery=!this.showRetrievedQuery},async fetchResults(e){const t=await cAe(`${this.currentPod}querycache/${e}.json`);this.retrievedResults=rr(t),this.togglRetrievedResults()},async fetchQuery(e){this.retrievedQuery=await lAe(`${this.currentPod}querycache/${e}.rq`),this.togglRetrievedQuery()}},mounted(){const e=this.$refs.codeEditor;e.addEventListener("keydown",function(t){if(t.key==="Tab"){t.preventDefault();const i=this.selectionStart,r=this.selectionEnd;this.value=this.value.substring(0,i)+"    "+this.value.substring(r),this.selectionStart=this.selectionEnd=i+4}}),e.addEventListener("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"})}},UTe={class:"pod-chooseContainer"},HTe={class:"general-container"},$Te={class:"nav-container"},QTe={class:"query-container"},zTe={key:0},GTe={class:"top-container"},WTe={class:"source-selection"},KTe={class:"bottom-container"},JTe=["disabled"],XTe={key:0,class:"save-query"},YTe={class:"save-info"},ZTe={key:1},eEe={key:0,class:"no-pod"},tEe={key:0,class:"cached-container"},rEe={class:"card-panel folder"},nEe={class:"folder-header"},iEe=["onClick"],aEe={class:"icon-hash"},oEe={class:"query-hash"},sEe={class:"material-icons not-colored info-icon"},uEe={key:0,class:"specific-query"},lEe={class:"query-time"},cEe={class:"the-user"},dEe={class:"query-file-container"},fEe={class:"query-file"},hEe={class:"the-user"},pEe=["onClick"],gEe={class:"material-icons not-colored right"},mEe={key:0,class:"sparql-box"},yEe={class:"query-results-container"},vEe={class:"query-results"},bEe={class:"the-user"},_Ee=["onClick"],wEe={class:"material-icons not-colored right"},SEe={key:0,class:"table-container"},AEe={class:"scroll-wrapper"},TEe={class:"result-table"},EEe={key:1,class:"null-results"},xEe={class:"query-sources"},REe={key:0,class:"results-container"},OEe={key:0,class:"spinner-container"},PEe={key:1,class:"results-header"},IEe={class:"result-count"},CEe={key:2,class:"table-container"},DEe={class:"scroll-wrapper"},NEe={class:"result-table"};function FEe(e,t,i,r,n,a){const o=Xt("PodRegistration"),s=Xt("v-select"),l=Xt("v-combobox"),u=Xt("v-checkbox"),c=Xt("v-icon"),d=Xt("v-tooltip");return wt(),Ct(Ot,null,[t[22]||(t[22]=Me("div",{class:"title-container"},[Me("span",null,"Data Query")],-1)),Me("div",UTe,[B(o,{onPodSelected:a.handlePodSelected},null,8,["onPodSelected"])]),Me("div",HTe,[Me("div",$Te,[Me("ul",null,[t[7]||(t[7]=Me("li",null,[Me("span",null,"Query Views")],-1)),Me("li",null,[Me("button",{id:"top-button",class:Na({highlight:n.currentView==="newQuery"}),onClick:t[0]||(t[0]=f=>n.currentView="newQuery")}," New Query ",2)]),Me("li",null,[Me("button",{class:Na({highlight:n.currentView==="previousQueries"}),onClick:t[1]||(t[1]=(...f)=>a.loadCache&&a.loadCache(...f))}," Past Queries ",2)])])]),Me("div",QTe,[n.currentView==="newQuery"?(wt(),Ct("div",zTe,[Me("ul",null,[Me("div",GTe,[t[8]||(t[8]=Me("span",{class:"top-label"},"Input a New Query",-1)),B(s,{class:"example-queries","item-props":a.itemPropsExampleQueries,items:n.exampleQueries,modelValue:n.currentQuery,"onUpdate:modelValue":t[2]||(t[2]=f=>n.currentQuery=f),density:"compact",rounded:"",flat:"",label:"Sample Queries"},null,8,["item-props","items","modelValue"])]),t[12]||(t[12]=Me("div",{id:"yasgui-container"},null,-1)),Me("div",WTe,[t[9]||(t[9]=Me("span",null,"Datasources: ",-1)),B(l,{class:"autocomplete",modelValue:n.currentQuery.sources,"onUpdate:modelValue":t[3]||(t[3]=f=>n.currentQuery.sources=f),items:n.possibleSources,label:"Source(s)",variant:"plain",chips:"","closable-chips":"","hide-details":"","hide-no-data":"","hide-selected":"",multiple:"","single-line":"",clearable:""},null,8,["modelValue","items"])]),Me("li",null,[$r(Me("textarea",{ref:"codeEditor","onUpdate:modelValue":t[4]||(t[4]=f=>n.currentQuery.query=f),placeholder:"Enter your SPARQL query here...",class:"input-box"},null,512),[[FC,n.currentQuery.query]])]),Me("li",null,[Me("p",{class:Na(["valid-text",a.isValidSPARQL(n.currentQuery.query)?"text-green-600":"text-red-600"])},ir(a.isValidSPARQL(n.currentQuery.query)?"Looks like a valid SPARQL query.":"Invalid SPARQL query. Please check syntax."),3)]),Me("div",KTe,[Me("button",{class:"execute-button",onClick:t[5]||(t[5]=(...f)=>a.runExecuteQuery&&a.runExecuteQuery(...f)),disabled:n.loading}," Execute Query ",8,JTe),n.currentPod!==""?(wt(),Ct("div",XTe,[B(u,{class:"save-checkbox",modelValue:n.saveQuery,"onUpdate:modelValue":t[6]||(t[6]=f=>n.saveQuery=f),color:"#EDE7F6",label:"Save Query?","hide-details":""},null,8,["modelValue"]),Me("div",YTe,[B(c,null,{default:zt(()=>t[10]||(t[10]=[$t("mdi-information")])),_:1}),B(d,{activator:"parent",location:"right"},{default:zt(()=>t[11]||(t[11]=[$t("Check this box if you would like to save the query and any results to your pod")])),_:1})])])):nr("",!0)])])])):nr("",!0),n.currentView==="previousQueries"?(wt(),Ct("div",ZTe,[n.currentPod==""?(wt(),Ct("span",eEe,"Please connect your pod if you wish to look at your Query Cache...")):nr("",!0),Me("ul",null,[n.currentPod!=""?(wt(),Ct("div",tEe,[t[19]||(t[19]=Me("span",{class:"cached-title"},"Cached Queries",-1)),(wt(!0),Ct(Ot,null,ya(n.cachedQueries,(f,h)=>(wt(),Ct("li",{key:h},[Me("div",rEe,[Me("div",nEe,[Me("button",{onClick:p=>a.toggleQuery(h),class:"icon-button full-width"},[Me("div",aEe,[t[13]||(t[13]=Me("i",{class:"material-icons not-colored left"},ir("search"),-1)),Me("span",oEe,ir(f.hash),1)]),Me("i",sEe,ir(n.showQueryIndex===null?"chevron_right info":"keyboard_arrow_down info"),1)],8,iEe)]),n.showQueryIndex===h?(wt(),Ct("div",uEe,[Me("div",lEe,[t[14]||(t[14]=Me("span",{class:"user-tag"},[$t("Date: "),Me("br")],-1)),Me("span",cEe,[Me("i",null,ir(f.created),1)])]),Me("div",dEe,[t[15]||(t[15]=Me("span",{class:"user-tag"},[$t("Query File: "),Me("br")],-1)),Me("div",fEe,[Me("span",hEe,[Me("i",null,ir(f.queryFile),1)]),Me("button",{onClick:p=>a.fetchQuery(n.cachedQueries[h].hash),class:"drop-down"},[Me("i",gEe,ir(n.showRetrievedQuery?"keyboard_arrow_down":"chevron_right"),1)],8,pEe)]),n.showRetrievedQuery&&n.retrievedQuery!=null?(wt(),Ct("div",mEe,[Me("pre",null,[Me("code",null,ir(n.retrievedQuery),1)])])):nr("",!0)]),Me("div",yEe,[t[17]||(t[17]=Me("span",{class:"user-tag"},[$t("Results File: "),Me("br")],-1)),Me("div",vEe,[Me("span",bEe,[Me("i",null,ir(f.resultsFile),1)]),Me("button",{onClick:p=>a.fetchResults(n.cachedQueries[h].hash),class:"drop-down"},[Me("i",wEe,ir(n.showRetrievedResults?"keyboard_arrow_down":"chevron_right"),1)],8,_Ee)]),n.showRetrievedResults&&n.retrievedResults!=null?(wt(),Ct("div",SEe,[Me("div",AEe,[Me("table",TEe,[Me("thead",null,[Me("tr",null,[(wt(!0),Ct(Ot,null,ya(n.retrievedResults.head.vars,(p,g)=>(wt(),Ct("th",{key:g},ir(p),1))),128))])]),Me("tbody",null,[(wt(!0),Ct(Ot,null,ya(n.retrievedResults.results.bindings,(p,g)=>(wt(),Ct("tr",{key:g},[(wt(!0),Ct(Ot,null,ya(n.retrievedResults.head.vars,(m,y)=>{var v;return wt(),Ct("td",{key:y},ir(((v=p[m])==null?void 0:v.value)||"0"),1)}),128))]))),128))])])])])):nr("",!0),n.showRetrievedResults&&n.retrievedResults==null?(wt(),Ct("div",EEe,t[16]||(t[16]=[Me("span",null,"This query had no results 🙃",-1)]))):nr("",!0)]),Me("div",xEe,[t[18]||(t[18]=Me("span",{class:"user-tag"},[$t("Sources: "),Me("br")],-1)),Me("ul",null,[(wt(!0),Ct(Ot,null,ya(f.sourceUrls,(p,g)=>(wt(),Ct("li",{key:g},[Me("a",null,ir(p),1)]))),128))])])])):nr("",!0)])]))),128))])):nr("",!0)])])):nr("",!0)])]),n.loading||n.currentQuery.results!=null?(wt(),Ct("div",REe,[n.loading?(wt(),Ct("div",OEe,t[20]||(t[20]=[Me("div",{class:"spinner"},null,-1),Me("p",null,"Loading query results...",-1)]))):nr("",!0),!n.loading&&n.currentQuery.results!=null?(wt(),Ct("div",PEe,[t[21]||(t[21]=Me("span",null,"Query Results",-1)),Me("p",IEe," (n = "+ir(n.resolvedQueryResults.results.bindings.length)+") ",1)])):nr("",!0),!n.loading&&n.resolvedQueryResults.results!=null?(wt(),Ct("div",CEe,[Me("div",DEe,[Me("table",NEe,[Me("thead",null,[Me("tr",null,[(wt(!0),Ct(Ot,null,ya(n.resolvedQueryResults.head.vars,(f,h)=>(wt(),Ct("th",{key:h},ir(f),1))),128))])]),Me("tbody",null,[(wt(!0),Ct(Ot,null,ya(n.resolvedQueryResults.results.bindings,(f,h)=>(wt(),Ct("tr",{key:h},[(wt(!0),Ct(Ot,null,ya(n.resolvedQueryResults.head.vars,(p,g)=>{var m;return wt(),Ct("td",{key:g},ir(((m=f[p])==null?void 0:m.value)||"0"),1)}),128))]))),128))])])])])):nr("",!0)])):nr("",!0),t[23]||(t[23]=ul('<div class="use-guide" data-v-93ea25f3><div class="guide-container" data-v-93ea25f3><h2 class="guide" data-v-93ea25f3>Data Query Guide</h2><hr class="line" data-v-93ea25f3><ol class="list-container" data-v-93ea25f3><li class="req" data-v-93ea25f3><b data-v-93ea25f3>OPTIONAL:</b> Select a pod (if you want to save/share queries and results) </li><li class="req" data-v-93ea25f3> Select or input the URL(s) of the SPARQL Endpoint(s) and/or Solid Pod(s) to query in <b data-v-93ea25f3>&quot;Datasources&quot;</b> (Solid pod querying not available yet) </li><li class="req" data-v-93ea25f3>Enter a SPARQL query in the input box</li><li class="req" data-v-93ea25f3> Click the <b data-v-93ea25f3>&quot;Save Query&quot;</b> button if you wish to save the query and results </li><li class="req" data-v-93ea25f3> Click the <b data-v-93ea25f3>&quot;Execute Query&quot;</b> button to execute the query </li><li class="req" data-v-93ea25f3> Results will be displayed below once the query has finished </li></ol></div></div>',1))],64)}const LEe=ro(VTe,[["render",FEe],["__scopeId","data-v-93ea25f3"]]),MEe={components:{PodRegistration:aA,ContainerNav:SN},name:"PrivacyComponent",data(){return{currentPod:"",filters:["containers","resources"],filterValues:[!0,!0],filterMenuOpen:!1,showSharedIndex:null,showFormIndex:null,userUrl:"",userUrlInvalid:!1,submissionDone:!1,recorded:"",permissions:{read:!1,append:!1,write:!1,control:!1},navValue:0,permissionsString:"",webId:"",dirContents:null,containerContents:null,hasAcl:null,cannotMakeAcl:!1,accessType:"Agent",currentLocation:"",currentUrl:null,urls:[],containerUrls:[],resourceUrls:[],inContainer:null,newUrls:[],aclUrl:"",hasAccess:{},publicAccess:{},uploadedSharingDoc:"",container:[]}},methods:{containerCheck(e){return e.endsWith("/")},changeAccess(e){this.accessType=e},childContainers(e,t){const i=t.filter(r=>r!==e).map(r=>{const n=r.split("/").filter(a=>a.length>0);return n[n.length-1]+"/"});return e!==this.currentPod&&i.push("/.."),i.sort((r,n)=>r.length-n.length)},childResources(e,t){return t.filter(r=>r!==e).map(r=>{const n=r.split("/").filter(a=>a.length>0);return n[n.length-1]}).sort((r,n)=>r.length-n.length)},async changeCurrentLocation(e){const t=this.currentLocation.split("//"),i=t[1].split("/").filter(r=>r.length>0);if(e==="/.."){i.pop();const r=t[0]+"//"+i.join("/")+"/";this.currentLocation=r,await this.getSpecificData(r),this.currentUrl=null}else{const r=t[0]+"//"+i.join("/")+"/"+e;this.currentLocation=r,await this.getSpecificData(r),this.currentUrl=null}},copyText(e){navigator.clipboard.writeText(e)},toggleShared(e){this.showSharedIndex===e?this.showSharedIndex=null:this.showSharedIndex=e},toggleForm(e){this.showFormIndex===e?this.showFormIndex=null:this.showFormIndex=e},toggleNavValue(e){this.navValue=e},createInbox(){$Q(this.currentPod,this.webId)},createSharingDoc(e){e||console.log("make file")},async submitForm(e){this.permissions.read&&(this.permissionsString+="Read / "),this.permissions.write&&(this.permissions.append=!0,this.permissionsString+="Write / "),this.permissions.append&&!this.permissions.write&&(this.permissionsString+="Append / "),this.permissions.control&&(this.permissions.control=!0,this.permissionsString="Control / "),this.permissionsString===""&&(this.permissionsString="No / "),this.accessType==="Agent"&&(this.userUrlInvalid=kT(this.userUrl,this.webId),this.userUrlInvalid||await fAe(e,this.userUrl,this.permissions)),this.accessType==="Public"&&await hAe(e,this.permissions),this.recorded=await mAe(this.currentPod,e,this.userUrl,this.permissions);const t=[this.permissionsString.length-3,this.permissionsString.length-2,this.permissionsString.length-1];this.permissionsString=this.permissionsString.split("").filter((i,r)=>!t.includes(r)).join(""),this.submissionDone=!0},clearForm(){this.userUrl="",this.permissionsString="",this.permissions={read:!1,write:!1,append:!1,control:!1},this.submissionDone=!1},clearPermissionString(){this.permissionsString="",this.submissionDone=!1},separateUrls(){this.containerUrls=this.urls.filter(e=>e.endsWith("/")),this.resourceUrls=this.urls.filter(e=>!e.endsWith("/")),this.currentLocation===this.currentPod&&!this.urls.includes(this.currentPod)&&(this.urls.push(this.currentPod),this.containerUrls.push(this.currentPod)),this.urls=this.urls.sort((e,t)=>e.length-t.length),this.container=this.urls.sort((e,t)=>e.length-t.length),this.resourceUrls=this.urls.sort((e,t)=>e.length-t.length)},async podURL(){this.webId=_l()},async getGeneralData(){this.dirContents=await Op(this.currentPod),this.urls=ZS(this.dirContents),this.separateUrls()},async getSpecificData(e){this.dirContents=await Op(e),this.urls=ZS(this.dirContents),this.separateUrls(),this.hasAccess=await a5(e),this.publicAccess=await o5(e),this.hasAccess={Public:this.publicAccess,...this.hasAccess}},async getSpecificAclData(e){this.hasAcl=await yD(e),this.hasAcl!==null&&(this.hasAccess=await a5(e),this.publicAccess=await o5(e),this.hasAccess={Public:this.publicAccess,...this.hasAccess},this.cannotMakeAcl=!1)},async makeNewAcl(e){try{await _re(e,this.webId),await this.getSpecificAclData(e)}catch(t){console.error(t),this.cannotMakeAcl=!0}},handlePodSelected(e){this.currentPod=e,this.currentLocation=this.currentPod,this.getGeneralData(),this.createStuff()},async createStuff(){await $Q(this.currentPod,this.webId),await gAe(this.currentPod)},handleSelectedContainer(e){this.currentLocation=e,this.getSpecificData(this.currentLocation)}},mounted(){this.podURL()}},jEe={class:"content-container"},kEe={class:"pod-chooseContainer"},BEe={key:0,class:"body-container"},qEe={class:"side-nav fixed floating #28353e z-depth-0"},VEe={key:0,class:"pod-directories"},UEe={class:"container-fluid"},HEe={class:"nav-container"},$Ee={class:"path-selection"},QEe={class:"container-choose"},zEe={class:"card-panel folder"},GEe={class:"material-icons not-colored left"},WEe=["onClick"],KEe={class:"material-icons not-colored right"},JEe={key:0,id:"permissionsBox",class:"form-container"},XEe={key:0,id:"aclExists"},YEe={id:"permissionsInstructions"},ZEe=["onClick"],e3e={id:"currentPermissions"},t3e={class:"user-id"},r3e={class:"left-content"},n3e={class:"the-user"},i3e=["onClick"],a3e={class:"permission-label"},o3e={class:"permission-value"},s3e={class:"material-icons right"},u3e={id:"addAccess"},l3e=["onClick"],c3e={key:0,class:"material-icons not-colored right"},d3e={key:1,class:"material-icons not-colored right"},f3e={key:0,id:"shareBox",class:"form-container"},h3e=["onSubmit"],p3e={class:"check-boxes",id:"checkBoxes"},g3e={class:"access-who"},m3e={class:"access-choose"},y3e={key:0,class:"mt-2"},v3e={id:"submitButton"},b3e={key:0,id:"errorIndicator"},_3e={key:1,id:"errorIndicator"},w3e={key:2,id:"successIndicator"},S3e={id:"resetButton"},A3e={key:1,id:"noAclExists"},T3e=["onClick"],E3e={key:2,id:"noAclMade"},x3e={key:1,class:"shared-with-me"},R3e={key:0},O3e={key:2,class:"shared-with-others"};function P3e(e,t,i,r,n,a){const o=Xt("PodRegistration"),s=Xt("container-nav"),l=Xt("v-tooltip"),u=Xt("v-alert");return wt(),Ct(Ot,null,[t[61]||(t[61]=Me("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css",rel:"stylesheet"},null,-1)),Me("div",jEe,[t[60]||(t[60]=ul('<div class="title-container" data-v-ec985958><nav class="title-nav" data-v-ec985958><div class="nav-wrapper" data-v-ec985958><ul data-v-ec985958><span data-v-ec985958>Privacy Editing</span><div class="right" data-v-ec985958><li data-v-ec985958><a href="#!" data-v-ec985958><i class="material-icons" data-v-ec985958>info</i></a></li><li data-v-ec985958><a href="#!" data-v-ec985958><i class="material-icons" data-v-ec985958>notifications</i></a></li></div></ul></div></nav></div>',1)),Me("div",kEe,[B(o,{onPodSelected:a.handlePodSelected},null,8,["onPodSelected"])]),n.currentPod!==""?(wt(),Ct("div",BEe,[Me("div",null,[Me("ul",qEe,[Me("li",null,[Me("button",{class:Na({highlight:n.navValue===0}),onClick:t[0]||(t[0]=c=>a.toggleNavValue(0))},t[14]||(t[14]=[Me("a",{class:"nav-text"},[Me("i",{class:"material-icons"},"dashboard"),$t("My Pod")],-1)]),2)]),t[17]||(t[17]=Me("li",null,[Me("div",{class:"divider"})],-1)),Me("li",null,[Me("button",{class:Na({highlight:n.navValue===1}),onClick:t[1]||(t[1]=c=>a.toggleNavValue(1))},t[15]||(t[15]=[Me("a",{class:"nav-text"},[Me("i",{class:"material-icons"},"people"),$t("Shared with me")],-1)]),2)]),t[18]||(t[18]=Me("li",null,[Me("div",{class:"divider"})],-1)),Me("li",null,[Me("button",{class:Na([{highlight:n.navValue===2},"nav-button"]),onClick:t[2]||(t[2]=c=>a.toggleNavValue(2))},t[16]||(t[16]=[Me("a",{class:"nav-text"},[Me("i",{class:"material-icons"},"star"),$t("Shared with others")],-1)]),2)]),t[19]||(t[19]=Me("li",null,[Me("div",{class:"divider"})],-1))])]),n.navValue===0?(wt(),Ct("div",VEe,[Me("div",UEe,[Me("div",HEe,[Me("div",$Ee,[Me("ul",null,[t[20]||(t[20]=Me("li",null,[Me("span",null,[Me("b",null,"Current location:")])],-1)),Me("li",QEe,[B(s,{currentPod:n.currentPod,onPathSelected:a.handleSelectedContainer},null,8,["currentPod","onPathSelected"])])])])]),Me("ul",null,[(wt(!0),Ct(Ot,null,ya(n.urls,(c,d)=>(wt(),Ct("li",{key:d},[Me("div",zEe,[Me("i",GEe,ir(a.containerCheck(c)?"folder":"description"),1),$t(" "+ir(c)+" ",1),Me("button",{onClick:f=>(a.toggleShared(d),a.getSpecificAclData(c)),class:"icon-button right"},[Me("i",KEe,ir(n.showSharedIndex===null?"chevron_right lock":"keyboard_arrow_down lock"),1)],8,WEe),n.showSharedIndex===d?(wt(),Ct("div",JEe,[n.hasAcl!==null?(wt(),Ct("div",XEe,[Me("div",null,[Me("span",YEe,[t[23]||(t[23]=$t("Current Access Rights ")),Me("button",{onClick:f=>a.getSpecificAclData(c),class:"icon-button right"},[t[22]||(t[22]=Me("i",{class:"material-icons not-colored right"},"refresh",-1)),B(l,{activator:"parent",location:"end"},{default:zt(()=>t[21]||(t[21]=[$t("Refresh access rights ")])),_:1})],8,ZEe)])]),Me("div",e3e,[(wt(!0),Ct(Ot,null,ya(n.hasAccess,(f,h)=>(wt(),Ct("li",{class:"access-item",key:h},[Me("div",t3e,[Me("div",r3e,[t[24]||(t[24]=Me("span",{class:"user-tag"},[$t("Agent:"),Me("br")],-1)),Me("span",n3e,[Me("i",null,ir(h),1)])]),Me("button",{onClick:p=>a.copyText(h),class:"icon-button right"},t[25]||(t[25]=[Me("i",{class:"material-icons not-colored right"},"content_copy",-1)]),8,i3e)]),t[26]||(t[26]=Me("span",{class:"permissions-tag"},[$t("Permissions:"),Me("br")],-1)),(wt(!0),Ct(Ot,null,ya(n.hasAccess[h],(p,g)=>(wt(),Ct("ul",{key:g},[Me("div",{class:Na(["permission-item",{"true-color":p,"false-color":!p}])},[Me("span",a3e,ir(g),1),Me("span",o3e,[Me("i",null,"("+ir(p)+")",1),Me("i",s3e,ir(p?"check":"dangerous"),1)])],2)]))),128))]))),128)),t[27]||(t[27]=Me("span",{id:"withPermissions"},null,-1))]),Me("div",u3e,[Me("button",{onClick:f=>a.toggleForm(d),class:"icon-button"},[t[29]||(t[29]=Me("span",null,"Add access rights ",-1)),n.showFormIndex===null?(wt(),Ct("i",c3e,"add")):nr("",!0),n.showFormIndex===d?(wt(),Ct("i",d3e," remove ")):nr("",!0),n.showFormIndex===d?(wt(),ja(l,{key:2,activator:"parent",location:"end"},{default:zt(()=>t[28]||(t[28]=[$t('Click to hide "Add access rights" field ')])),_:1})):nr("",!0)],8,l3e)]),n.showFormIndex===d?(wt(),Ct("div",f3e,[Me("form",{onSubmit:Fg(f=>a.submitForm(c),["prevent"])},[Me("div",p3e,[t[38]||(t[38]=Me("span",{id:"permissionsInstructions"},"Select access rights:",-1)),Me("label",null,[$r(Me("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=f=>n.permissions.read=f)},null,512),[[DA,n.permissions.read]]),t[31]||(t[31]=Me("span",null,"Read",-1)),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[30]||(t[30]=[$t("Observe existing content ")])),_:1})]),Me("label",null,[$r(Me("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=f=>n.permissions.append=f)},null,512),[[DA,n.permissions.append]]),t[33]||(t[33]=Me("span",null,"Append",-1)),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[32]||(t[32]=[$t("Add to to existing content ")])),_:1})]),Me("label",null,[$r(Me("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=f=>n.permissions.write=f)},null,512),[[DA,n.permissions.write]]),t[35]||(t[35]=Me("span",null,"Write",-1)),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[34]||(t[34]=[$t("Change existing content + create new content ")])),_:1})]),Me("label",null,[$r(Me("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=f=>n.permissions.control=f)},null,512),[[DA,n.permissions.control]]),t[37]||(t[37]=Me("span",null,"Control",-1)),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[36]||(t[36]=[$t("Change .acl permissions for the resource ")])),_:1})])]),Me("div",g3e,[Me("div",m3e,[Me("button",{id:"agent",type:"button",onClick:t[7]||(t[7]=f=>a.changeAccess("Agent")),class:Na(["agent-button",{highlight:n.accessType==="Agent"}])},[t[40]||(t[40]=$t(" Agent ")),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[39]||(t[39]=[$t("Change access for a specific WebId ")])),_:1})],2),Me("button",{id:"public",type:"button",onClick:t[8]||(t[8]=f=>a.changeAccess("Public")),class:Na(["public-button",{highlight:n.accessType==="Public"}])},[t[42]||(t[42]=$t(" Public ")),B(l,{activator:"parent",location:"top"},{default:zt(()=>t[41]||(t[41]=[$t("Change access for anyone ")])),_:1})],2)]),n.accessType==="Agent"?(wt(),Ct("div",y3e,[$r(Me("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=f=>n.userUrl=f),placeholder:"Enter user's WebID:",class:"border p-2 w-full"},null,512),[[FC,n.userUrl]])])):nr("",!0)]),Me("div",v3e,[Me("button",{onClick:t[10]||(t[10]=(...f)=>a.clearPermissionString&&a.clearPermissionString(...f)),type:"submit"}," Submit ")]),n.userUrlInvalid&&n.webId===n.userUrl&&n.accessType==="Agent"?(wt(),Ct("div",b3e,[B(u,{modelValue:n.userUrlInvalid,"onUpdate:modelValue":t[11]||(t[11]=f=>n.userUrlInvalid=f),closable:"",title:"Not a valid WebID URL",type:"error",icon:"$error"},{default:zt(()=>t[43]||(t[43]=[$t("Please follow format: "),Me("i",null,"http://example.com/something/card#someone",-1)])),_:1},8,["modelValue"])])):nr("",!0),n.userUrlInvalid&&n.webId===n.userUrl&&n.accessType==="Agent"?(wt(),Ct("div",_3e,[B(u,{modelValue:n.userUrlInvalid,"onUpdate:modelValue":t[12]||(t[12]=f=>n.userUrlInvalid=f),closable:"",title:"Caution",type:"error",icon:"$error"},{default:zt(()=>t[44]||(t[44]=[$t("That is your current user WebID. Please provide a different WebID to proceed.")])),_:1},8,["modelValue"])])):nr("",!0),n.submissionDone?(wt(),Ct("div",w3e,[n.accessType==="Agent"?(wt(),ja(u,{key:0,closable:"",title:"Success",type:"success",icon:"$success"},{default:zt(()=>[t[45]||(t[45]=$t(" WebId: ")),Me("i",null,ir(n.userUrl),1),t[46]||(t[46]=Me("br",null,null,-1)),t[47]||(t[47]=$t(" Was given: ")),Me("i",null,ir(n.permissionsString),1),t[48]||(t[48]=$t(" rights")),t[49]||(t[49]=Me("br",null,null,-1)),t[50]||(t[50]=$t(" To resources in the container: ")),Me("i",null,ir(c),1),t[51]||(t[51]=Me("br",null,null,-1)),$t(" "+ir(n.recorded),1)]),_:2},1024)):nr("",!0),n.accessType==="Public"?(wt(),ja(u,{key:1,closable:"",title:"Success",type:"success",icon:"$success"},{default:zt(()=>[Me("i",null,ir(n.accessType),1),t[52]||(t[52]=Me("br",null,null,-1)),t[53]||(t[53]=$t(" Was given: ")),Me("i",null,ir(n.permissionsString),1),t[54]||(t[54]=$t(" rights")),t[55]||(t[55]=Me("br",null,null,-1)),t[56]||(t[56]=$t(" To resources in the container: ")),Me("i",null,ir(c),1)]),_:2},1024)):nr("",!0),Me("div",S3e,[Me("button",{onClick:t[13]||(t[13]=(...f)=>a.clearForm&&a.clearForm(...f))},"Reset Form")])])):nr("",!0)],40,h3e)])):nr("",!0)])):nr("",!0),n.hasAcl===null&&!n.cannotMakeAcl?(wt(),Ct("div",A3e,[B(u,{type:"warning",title:"There is no .acl (permissions file) for this resource"},{default:zt(()=>t[57]||(t[57]=[$t("Click the button below to create and initalize one.")])),_:1}),Me("button",{onClick:f=>a.makeNewAcl(c),class:"new-acl"},t[58]||(t[58]=[Me("span",null,"Generate .acl",-1)]),8,T3e)])):nr("",!0),n.hasAcl===null&&n.cannotMakeAcl?(wt(),Ct("div",E3e,[B(u,{type:"error",title:"Cannot initialize an .acl for this item",closable:""},{default:zt(()=>t[59]||(t[59]=[$t("The .acl of the container this file is located within will be used for access controls.")])),_:1})])):nr("",!0)])):nr("",!0)])]))),128))])])])):nr("",!0),n.navValue===1?(wt(),Ct("div",x3e,[e.selectedPod?(wt(),Ct("div",R3e)):nr("",!0)])):nr("",!0),n.navValue===2?(wt(),Ct("div",O3e)):nr("",!0)])):nr("",!0)]),t[62]||(t[62]=ul('<div class="use-guide" data-v-ec985958><div class="guide-container" data-v-ec985958><h2 class="guide" data-v-ec985958>Privacy Editing Guide</h2><hr class="line" data-v-ec985958><ol class="list-container" data-v-ec985958><li class="req" data-v-ec985958>Select the Pod you want to Browse.</li><li class="req" data-v-ec985958> Use the nav bar above the container/resource list to navigate between containers </li><li class="req" data-v-ec985958> Click the <i class="material-icons" data-v-ec985958>lock</i> next to a container or resource to see current access rights </li><li class="req" data-v-ec985958> Select the <b data-v-ec985958>&quot;Add access rights +&quot;</b> section to adjust access for a provided WebID </li><li class="req" data-v-ec985958> Future work: The left nav bar pages, add filter functionality, and functionality to the info/notifications icons </li></ol></div></div>',1))],64)}const I3e=ro(MEe,[["render",P3e],["__scopeId","data-v-ec985958"]]),C3e={};function D3e(e,t){const i=Xt("router-link");return wt(),Ct("h2",null,[t[1]||(t[1]=$t(" Page not found... Please return ")),B(i,{to:"/"},{default:zt(()=>t[0]||(t[0]=[$t("Home")])),_:1})])}const N3e=ro(C3e,[["render",D3e]]),wre=Vge({history:mge("/solid-cockpit/"),routes:[{name:"root",path:"/",redirect:{name:"Home"}},{name:"Home",path:"/home",components:{default:LAe}},{name:"Login Page",path:"/login",components:{default:LJ}},{name:"Data Upload",path:"/dataUpload",components:{default:bTe}},{name:"Pod Browser",path:"/podBrowser",components:{default:qTe}},{name:"Query",path:"/dataQuery",components:{default:LEe}},{name:"Data Privacy",path:"/privacy",components:{default:I3e}},{name:"CatchAll",path:"/:notFound(.*)",components:N3e}]});setTimeout(()=>{wre.beforeEach(async(e,t)=>{if(!rl()&&e.name!=="Login Page"&&t.name==="Home")return{name:"Login Page"};if(!rl()&&e.name==="Home"&&t.name!=="Login Page")return{name:"Home"};if(!rl()&&e.name!=="Home"&&t.name==="Login Page")return{name:"Login Page"};if(rl()&&e.name==="Login Page")return{name:"Home"}})},100);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const F3e=Symbol();var QQ;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(QQ||(QQ={}));function L3e(){const e=PE(!0),t=e.run(()=>vt({}));let i=[],r=[];const n=_C({install(a){n._a=a,a.provide(F3e,n),a.config.globalProperties.$pinia=n,r.forEach(o=>i.push(o)),r=[]},use(a){return this._a?i.push(a):r.push(a),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return n}function Aa(e,t){let i;function r(){i=PE(),i.run(()=>t.length?t(()=>{i==null||i.stop(),r()}):t())}Pt(e,n=>{n&&!i?r():n||(i==null||i.stop(),i=void 0)},{immediate:!0}),ia(()=>{i==null||i.stop()})}const kr=typeof window<"u",AN=kr&&"IntersectionObserver"in window,M3e=kr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),zQ=kr&&"EyeDropper"in window;function GQ(e,t,i){j3e(e,t),t.set(e,i)}function j3e(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function k3e(e,t,i){return e.set(Sre(e,t),i),i}function rp(e,t){return e.get(Sre(e,t))}function Sre(e,t,i){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}function Are(e,t,i){const r=t.length-1;if(r<0)return e===void 0?i:e;for(let n=0;n<r;n++){if(e==null)return i;e=e[t[n]]}return e==null||e[t[r]]===void 0?i:e[t[r]]}function ea(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const i=Object.keys(e);return i.length!==Object.keys(t).length?!1:i.every(r=>ea(e[r],t[r]))}function Dp(e,t,i){return e==null||!t||typeof t!="string"?i:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),Are(e,t.split("."),i))}function oi(e,t,i){if(t===!0)return e===void 0?i:e;if(t==null||typeof t=="boolean")return i;if(e!==Object(e)){if(typeof t!="function")return i;const n=t(e,i);return typeof n>"u"?i:n}if(typeof t=="string")return Dp(e,t,i);if(Array.isArray(t))return Are(e,t,i);if(typeof t!="function")return i;const r=t(e,i);return typeof r>"u"?i:r}function _s(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(i,r)=>t+r)}function Ft(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const i=Number(e);return isNaN(i)?String(e):isFinite(i)?`${i}${t}`:void 0}function A3(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function WQ(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function TN(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const KQ=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),RI=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Tre(e){return Object.keys(e)}function yp(e,t){return t.every(i=>e.hasOwnProperty(i))}function Cl(e,t){const i={};for(const r of t)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}function OI(e,t,i){const r=Object.create(null),n=Object.create(null);for(const a in e)t.some(o=>o instanceof RegExp?o.test(a):o===a)?r[a]=e[a]:n[a]=e[a];return[r,n]}function zn(e,t){const i={...e};return t.forEach(r=>delete i[r]),i}const Ere=/^on[^a-z]/,EN=e=>Ere.test(e),B3e=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],q3e=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function V3e(e){return e.isComposing&&q3e.includes(e.key)}function Dl(e){const[t,i]=OI(e,[Ere]),r=zn(t,B3e),[n,a]=OI(i,["class","style","id",/^data-/]);return Object.assign(n,t),Object.assign(a,r),[n,a]}function En(e){return e==null?[]:Array.isArray(e)?e:[e]}function U3e(e,t){let i=0;const r=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];clearTimeout(i),i=setTimeout(()=>e(...a),ti(t))};return r.clear=()=>{clearTimeout(i)},r.immediate=e,r}function Qn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(i,e))}function JQ(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function XQ(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+i.repeat(Math.max(0,t-e.length))}function YQ(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function H3e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let r=0;for(;r<e.length;)i.push(e.substr(r,t)),r+=t;return i}function ZQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const i=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<i.length-1;)e/=t,++r;return`${e.toFixed(1)} ${i[r]}B`}function Yi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const r={};for(const n in e)r[n]=e[n];for(const n in t){const a=e[n],o=t[n];if(WQ(a)&&WQ(o)){r[n]=Yi(a,o,i);continue}if(i&&Array.isArray(a)&&Array.isArray(o)){r[n]=i(a,o);continue}r[n]=o}return r}function xre(e){return e.map(t=>t.type===Ot?xre(t.children):t).flat()}function wp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(wp.cache.has(e))return wp.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return wp.cache.set(e,t),t}wp.cache=new Map;function kg(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(i=>kg(e,i)).flat(1);if(t.suspense)return kg(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(i=>kg(e,i)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return kg(e,t.component.subTree).flat(1)}return[]}var cT=new WeakMap,Sg=new WeakMap;class $3e{constructor(t){GQ(this,cT,[]),GQ(this,Sg,0),this.size=t}push(t){rp(cT,this)[rp(Sg,this)]=t,k3e(Sg,this,(rp(Sg,this)+1)%this.size)}values(){return rp(cT,this).slice(rp(Sg,this)).concat(rp(cT,this).slice(0,rp(Sg,this)))}}function Q3e(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function xN(e){const t=wi({}),i=ue(e);return Vn(()=>{for(const r in i.value)t[r]=i.value[r]},{flush:"sync"}),Vp(t)}function mE(e,t){return e.includes(t)}function Rre(e){return e[2].toLowerCase()+e.slice(3)}const Si=()=>[Function,Array];function ez(e,t){return t="on"+xs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function T3(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];if(Array.isArray(e))for(const n of e)n(...i);else typeof e=="function"&&e(...i)}function c2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(i)]}function Ore(e,t,i){let r,n=e.indexOf(document.activeElement);const a=t==="next"?1:-1;do n+=a,r=e[n];while((!r||r.offsetParent==null||!((i==null?void 0:i(r))??!0))&&n<e.length&&n>=0);return r}function Sp(e,t){var r,n,a,o;const i=c2(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=i[0])==null||r.focus());else if(t==="first")(n=i[0])==null||n.focus();else if(t==="last")(a=i.at(-1))==null||a.focus();else if(typeof t=="number")(o=i[t])==null||o.focus();else{const s=Ore(i,t);s?s.focus():Sp(e,t==="next"?"first":"last")}}function dT(e){return e==null||typeof e=="string"&&e.trim()===""}function Pre(){}function f0(e,t){if(!(kr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function E3(e){return e.some(t=>KS(t)?t.type===_a?!1:t.type!==Ot||E3(t.children):!0)?e:null}function z3e(e,t){if(!kr||e===0)return t(),()=>{};const i=window.setTimeout(t,e);return()=>window.clearTimeout(i)}function G3e(e,t){const i=e.clientX,r=e.clientY,n=t.getBoundingClientRect(),a=n.left,o=n.top,s=n.right,l=n.bottom;return i>=a&&i<=s&&r>=o&&r<=l}function yE(){const e=Tt(),t=i=>{e.value=i};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:i=>e.value=i}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>TN(e.value)}),t}function h0(e){const t=e.key.length===1,i=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&i}function Ire(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}const Cre=["top","bottom"],W3e=["start","end","left","right"];function PI(e,t){let[i,r]=e.split(" ");return r||(r=mE(Cre,i)?"start":mE(W3e,i)?"top":"center"),{side:II(i,t),align:II(r,t)}}function II(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function fP(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function hP(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function tz(e){return{side:e.align,align:e.side}}function rz(e){return mE(Cre,e.side)?"y":"x"}class Ap{constructor(t){let{x:i,y:r,width:n,height:a}=t;this.x=i,this.y=r,this.width=n,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function nz(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Dre(e){return Array.isArray(e)?new Ap({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function RN(e){const t=e.getBoundingClientRect(),i=getComputedStyle(e),r=i.transform;if(r){let n,a,o,s,l;if(r.startsWith("matrix3d("))n=r.slice(9,-1).split(/, /),a=Number(n[0]),o=Number(n[5]),s=Number(n[12]),l=Number(n[13]);else if(r.startsWith("matrix("))n=r.slice(7,-1).split(/, /),a=Number(n[0]),o=Number(n[3]),s=Number(n[4]),l=Number(n[5]);else return new Ap(t);const u=i.transformOrigin,c=t.x-s-(1-a)*parseFloat(u),d=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),f=a?t.width/a:e.offsetWidth+1,h=o?t.height/o:e.offsetHeight+1;return new Ap({x:c,y:d,width:f,height:h})}else return new Ap(t)}function vp(e,t,i){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,i)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(n=>{r.onfinish=()=>{n(r)}})),r}const BT=new WeakMap;function K3e(e,t){Object.keys(t).forEach(i=>{if(EN(i)){const r=Rre(i),n=BT.get(e);if(t[i]==null)n==null||n.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),n.delete(a))});else if(!n||![...n].some(a=>a[0]===r&&a[1]===t[i])){e.addEventListener(r,t[i]);const a=n||new Set;a.add([r,t[i]]),BT.has(e)||BT.set(e,a)}}else t[i]==null?e.removeAttribute(i):e.setAttribute(i,t[i])})}function J3e(e,t){Object.keys(t).forEach(i=>{if(EN(i)){const r=Rre(i),n=BT.get(e);n==null||n.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),n.delete(a))})}else e.removeAttribute(i)})}const Ag=2.4,iz=.2126729,az=.7151522,oz=.072175,X3e=.55,Y3e=.58,Z3e=.57,exe=.62,fT=.03,sz=1.45,txe=5e-4,rxe=1.25,nxe=1.25,ixe=.078,uz=12.82051282051282,hT=.06,axe=.001;function lz(e,t){const i=(e.r/255)**Ag,r=(e.g/255)**Ag,n=(e.b/255)**Ag,a=(t.r/255)**Ag,o=(t.g/255)**Ag,s=(t.b/255)**Ag;let l=i*iz+r*az+n*oz,u=a*iz+o*az+s*oz;if(l<=fT&&(l+=(fT-l)**sz),u<=fT&&(u+=(fT-u)**sz),Math.abs(u-l)<txe)return 0;let c;if(u>l){const d=(u**X3e-l**Y3e)*rxe;c=d<axe?0:d<ixe?d-d*uz*hT:d-hT}else{const d=(u**exe-l**Z3e)*nxe;c=d>-.001?0:d>-.078?d-d*uz*hT:d+hT}return c*100}function oxe(e,t){t=Array.isArray(t)?t.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const vE=.20689655172413793,sxe=e=>e>vE**3?Math.cbrt(e):e/(3*vE**2)+4/29,uxe=e=>e>vE?e**3:3*vE**2*(e-4/29);function Nre(e){const t=sxe,i=t(e[1]);return[116*i-16,500*(t(e[0]/.95047)-i),200*(i-t(e[2]/1.08883))]}function Fre(e){const t=uxe,i=(e[0]+16)/116;return[t(i+e[1]/500)*.95047,t(i),t(i-e[2]/200)*1.08883]}const lxe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],cxe=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,dxe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],fxe=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function Lre(e){const t=Array(3),i=cxe,r=lxe;for(let n=0;n<3;++n)t[n]=Math.round(Qn(i(r[n][0]*e[0]+r[n][1]*e[1]+r[n][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function ON(e){let{r:t,g:i,b:r}=e;const n=[0,0,0],a=fxe,o=dxe;t=a(t/255),i=a(i/255),r=a(r/255);for(let s=0;s<3;++s)n[s]=o[s][0]*t+o[s][1]*i+o[s][2]*r;return n}function CI(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function hxe(e){return CI(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const cz=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,pxe={rgb:(e,t,i,r)=>({r:e,g:t,b:i,a:r}),rgba:(e,t,i,r)=>({r:e,g:t,b:i,a:r}),hsl:(e,t,i,r)=>dz({h:e,s:t,l:i,a:r}),hsla:(e,t,i,r)=>dz({h:e,s:t,l:i,a:r}),hsv:(e,t,i,r)=>mu({h:e,s:t,v:i,a:r}),hsva:(e,t,i,r)=>mu({h:e,s:t,v:i,a:r})};function Xa(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&cz.test(e)){const{groups:t}=e.match(cz),{fn:i,values:r}=t,n=r.split(/,\s*/).map(a=>a.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(a)/100:parseFloat(a));return pxe[i](...n)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(i=>i+i).join(""):[6,8].includes(t.length),qre(t)}else if(typeof e=="object"){if(yp(e,["r","g","b"]))return e;if(yp(e,["h","s","l"]))return mu(PN(e));if(yp(e,["h","s","v"]))return mu(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function mu(e){const{h:t,s:i,v:r,a:n}=e,a=s=>{const l=(s+t/60)%6;return r-r*i*Math.max(Math.min(l,4-l,1),0)},o=[a(5),a(3),a(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a:n}}function dz(e){return mu(PN(e))}function oA(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,i=e.g/255,r=e.b/255,n=Math.max(t,i,r),a=Math.min(t,i,r);let o=0;n!==a&&(n===t?o=60*(0+(i-r)/(n-a)):n===i?o=60*(2+(r-t)/(n-a)):n===r&&(o=60*(4+(t-i)/(n-a)))),o<0&&(o=o+360);const s=n===0?0:(n-a)/n,l=[o,s,n];return{h:l[0],s:l[1],v:l[2],a:e.a}}function Mre(e){const{h:t,s:i,v:r,a:n}=e,a=r-r*i/2,o=a===1||a===0?0:(r-a)/Math.min(a,1-a);return{h:t,s:o,l:a,a:n}}function PN(e){const{h:t,s:i,l:r,a:n}=e,a=r+i*Math.min(r,1-r),o=a===0?0:2-2*r/a;return{h:t,s:o,v:a,a:n}}function jre(e){let{r:t,g:i,b:r,a:n}=e;return n===void 0?`rgb(${t}, ${i}, ${r})`:`rgba(${t}, ${i}, ${r}, ${n})`}function kre(e){return jre(mu(e))}function pT(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function Bre(e){let{r:t,g:i,b:r,a:n}=e;return`#${[pT(t),pT(i),pT(r),n!==void 0?pT(Math.round(n*255)):""].join("")}`}function qre(e){e=mxe(e);let[t,i,r,n]=H3e(e,2).map(a=>parseInt(a,16));return n=n===void 0?n:n/255,{r:t,g:i,b:r,a:n}}function gxe(e){const t=qre(e);return oA(t)}function Vre(e){return Bre(mu(e))}function mxe(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=XQ(XQ(e,6),8,"F")),e}function yxe(e,t){const i=Nre(ON(e));return i[0]=i[0]+t*10,Lre(Fre(i))}function vxe(e,t){const i=Nre(ON(e));return i[0]=i[0]-t*10,Lre(Fre(i))}function DI(e){const t=Xa(e);return ON(t)[1]}function bxe(e,t){const i=DI(e),r=DI(t),n=Math.max(i,r),a=Math.min(i,r);return(n+.05)/(a+.05)}function Ure(e){const t=Math.abs(lz(Xa(0),Xa(e)));return Math.abs(lz(Xa(16777215),Xa(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return i=>Object.keys(e).reduce((r,n)=>{const o=typeof e[n]=="object"&&e[n]!=null&&!Array.isArray(e[n])?e[n]:{type:e[n]};return i&&n in i?r[n]={...o,default:i[n]}:r[n]=o,t&&!r[n].source&&(r[n].source=t),r},{})}const Mt=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Cn(e,t){const i=DC();if(!i)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return i}function Ls(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Cn(e).type;return wp((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let Hre=0,qT=new WeakMap;function Ti(){const e=Cn("getUid");if(qT.has(e))return qT.get(e);{const t=Hre++;return qT.set(e,t),t}}Ti.reset=()=>{Hre=0,qT=new WeakMap};function _xe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cn("injectSelf");const{provides:i}=t;if(i&&e in i)return i[e]}const p0=Symbol.for("vuetify:defaults");function wxe(e){return vt(e)}function IN(){const e=_r(p0);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function In(e,t){const i=IN(),r=vt(e),n=ue(()=>{if(ti(t==null?void 0:t.disabled))return i.value;const o=ti(t==null?void 0:t.scoped),s=ti(t==null?void 0:t.reset),l=ti(t==null?void 0:t.root);if(r.value==null&&!(o||s||l))return i.value;let u=Yi(r.value,{prev:i.value});if(o)return u;if(s||l){const c=Number(s||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Yi(Yi(u,{prev:u}),u[l])),u}return u.prev?Yi(u.prev,u):u});return Jr(p0,n),n}function Sxe(e,t){var i,r;return typeof((i=e.props)==null?void 0:i[t])<"u"||typeof((r=e.props)==null?void 0:r[wp(t)])<"u"}function Axe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IN();const r=Cn("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const n=ue(()=>{var l;return(l=i.value)==null?void 0:l[e._as??t]}),a=new Proxy(e,{get(l,u){var d,f,h,p,g,m,y;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(d=n.value)==null?void 0:d[u],c].filter(v=>v!=null):typeof u=="string"&&!Sxe(r.vnode,u)?((f=n.value)==null?void 0:f[u])!==void 0?(h=n.value)==null?void 0:h[u]:((g=(p=i.value)==null?void 0:p.global)==null?void 0:g[u])!==void 0?(y=(m=i.value)==null?void 0:m.global)==null?void 0:y[u]:c:c}}),o=Tt();Vn(()=>{if(n.value){const l=Object.entries(n.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function s(){const l=_xe(p0,r);Jr(p0,ue(()=>o.value?Yi((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:a,provideSubDefaults:s}}function io(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(i=>i!=="class"&&i!=="style");e.filterProps=function(r){return Cl(r,t)},e.props._as=String,e.setup=function(r,n){const a=IN();if(!a.value)return e._setup(r,n);const{props:o,provideSubDefaults:s}=Axe(r,r._as??e.name,a),l=e._setup(o,n);return s(),l}}return e}function ot(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?io:E2)(t)}function Txe(e,t){return t.props=e,t}function Ms(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return ot()({name:i??xs(Ba(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Mt()},setup(r,n){let{slots:a}=n;return()=>{var o;return Wo(r.tag,{class:[e,r.class],style:r.style},(o=a.default)==null?void 0:o.call(a))}}})}function $re(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const d2="cubic-bezier(0.4, 0, 0.2, 1)",Exe="cubic-bezier(0.0, 0, 0.2, 1)",xxe="cubic-bezier(0.4, 0, 1, 1)";function fz(e,t,i){return Object.keys(e).filter(r=>EN(r)&&r.endsWith(t)).reduce((r,n)=>(r[n.slice(0,-t.length)]=a=>e[n](a,i(a)),r),{})}function CN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Rxe(e):DN(e))return e;e=e.parentElement}return document.scrollingElement}function bE(e,t){const i=[];if(t&&e&&!t.contains(e))return i;for(;e&&(DN(e)&&i.push(e),e!==t);)e=e.parentElement;return i}function DN(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Rxe(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function Oxe(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ht(e){const t=Cn("useRender");t.render=e}function Gt(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const a=Cn("useProxiedModel"),o=vt(e[t]!==void 0?e[t]:i),s=wp(t),u=ue(s!==t?()=>{var d,f,h,p;return e[t],!!(((d=a.vnode.props)!=null&&d.hasOwnProperty(t)||(f=a.vnode.props)!=null&&f.hasOwnProperty(s))&&((h=a.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(p=a.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var d,f;return e[t],!!((d=a.vnode.props)!=null&&d.hasOwnProperty(t)&&((f=a.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)))});Aa(()=>!u.value,()=>{Pt(()=>e[t],d=>{o.value=d})});const c=ue({get(){const d=e[t];return r(u.value?d:o.value)},set(d){const f=n(d),h=rr(u.value?e[t]:o.value);h===f||r(h)===d||(o.value=f,a==null||a.emit(`update:${t}`,f))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const Pxe={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},hz="$vuetify.",pz=(e,t)=>e.replace(/\{(\d+)\}/g,(i,r)=>String(t[Number(r)])),Qre=(e,t,i)=>function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(!r.startsWith(hz))return pz(r,a);const s=r.replace(hz,""),l=e.value&&i.value[e.value],u=t.value&&i.value[t.value];let c=Dp(l,s,null);return c||(`${r}${e.value}`,c=Dp(u,s,null)),c||(c=r),typeof c!="string"&&(c=r),pz(c,a)};function zre(e,t){return(i,r)=>new Intl.NumberFormat([e.value,t.value],r).format(i)}function pP(e,t,i){const r=Gt(e,t,e[t]??i.value);return r.value=e[t]??i.value,Pt(i,n=>{e[t]==null&&(r.value=i.value)}),r}function Gre(e){return t=>{const i=pP(t,"locale",e.current),r=pP(t,"fallback",e.fallback),n=pP(t,"messages",e.messages);return{name:"vuetify",current:i,fallback:r,messages:n,t:Qre(i,r,n),n:zre(i,r),provide:Gre({current:i,fallback:r,messages:n})}}}function Ixe(e){const t=Tt((e==null?void 0:e.locale)??"en"),i=Tt((e==null?void 0:e.fallback)??"en"),r=vt({en:Pxe,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:i,messages:r,t:Qre(t,i,r),n:zre(t,i),provide:Gre({current:t,fallback:i,messages:r})}}const g0=Symbol.for("vuetify:locale");function Cxe(e){return e.name!=null}function Dxe(e){const t=e!=null&&e.adapter&&Cxe(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:Ixe(e),i=Lxe(t,e);return{...t,...i}}function Un(){const e=_r(g0);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function Nxe(e){const t=_r(g0);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const i=t.provide(e),r=Mxe(i,t.rtl,e),n={...i,...r};return Jr(g0,n),n}function Fxe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Lxe(e,t){const i=vt((t==null?void 0:t.rtl)??Fxe()),r=ue(()=>i.value[e.current.value]??!1);return{isRtl:r,rtl:i,rtlClasses:ue(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Mxe(e,t,i){const r=ue(()=>i.rtl??t.value[e.current.value]??!1);return{isRtl:r,rtl:t,rtlClasses:ue(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function ci(){const e=_r(g0);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const x3={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function jxe(e,t,i){const r=[];let n=[];const a=Wre(e),o=Kre(e),s=i??x3[t.slice(-2).toUpperCase()]??0,l=(a.getDay()-s+7)%7,u=(o.getDay()-s+7)%7;for(let c=0;c<l;c++){const d=new Date(a);d.setDate(d.getDate()-(l-c)),n.push(d)}for(let c=1;c<=o.getDate();c++){const d=new Date(e.getFullYear(),e.getMonth(),c);n.push(d),n.length===7&&(r.push(n),n=[])}for(let c=1;c<7-u;c++){const d=new Date(o);d.setDate(d.getDate()+c),n.push(d)}return n.length>0&&r.push(n),r}function kxe(e,t,i){const r=i??x3[t.slice(-2).toUpperCase()]??0,n=new Date(e);for(;n.getDay()!==r;)n.setDate(n.getDate()-1);return n}function Bxe(e,t){const i=new Date(e),r=((x3[t.slice(-2).toUpperCase()]??0)+6)%7;for(;i.getDay()!==r;)i.setDate(i.getDate()+1);return i}function Wre(e){return new Date(e.getFullYear(),e.getMonth(),1)}function Kre(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function qxe(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Vxe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Jre(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(Vxe.test(e))return qxe(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const gz=new Date(2e3,0,2);function Uxe(e,t){const i=t??x3[e.slice(-2).toUpperCase()]??0;return _s(7).map(r=>{const n=new Date(gz);return n.setDate(gz.getDate()+i+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(n)})}function Hxe(e,t,i,r){const n=Jre(e)??new Date,a=r==null?void 0:r[t];if(typeof a=="function")return a(n,t,i);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const s=n.getDate(),l=new Intl.DateTimeFormat(i,{month:"long"}).format(n);return`${s} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(n.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,o).format(n).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,o).format(n).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,o).format(n).replace(/, /g," ");default:o=a??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,o).format(n)}function $xe(e,t){const i=e.toJsDate(t),r=i.getFullYear(),n=YQ(String(i.getMonth()+1),2,"0"),a=YQ(String(i.getDate()),2,"0");return`${r}-${n}-${a}`}function Qxe(e){const[t,i,r]=e.split("-").map(Number);return new Date(t,i-1,r)}function zxe(e,t){const i=new Date(e);return i.setMinutes(i.getMinutes()+t),i}function Gxe(e,t){const i=new Date(e);return i.setHours(i.getHours()+t),i}function Wxe(e,t){const i=new Date(e);return i.setDate(i.getDate()+t),i}function Kxe(e,t){const i=new Date(e);return i.setDate(i.getDate()+t*7),i}function Jxe(e,t){const i=new Date(e);return i.setDate(1),i.setMonth(i.getMonth()+t),i}function Xxe(e){return e.getFullYear()}function Yxe(e){return e.getMonth()}function Zxe(e){return e.getDate()}function eRe(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function tRe(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function rRe(e){return e.getHours()}function nRe(e){return e.getMinutes()}function iRe(e){return new Date(e.getFullYear(),0,1)}function aRe(e){return new Date(e.getFullYear(),11,31)}function oRe(e,t){return _E(e,t[0])&&lRe(e,t[1])}function sRe(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function _E(e,t){return e.getTime()>t.getTime()}function uRe(e,t){return _E(NI(e),NI(t))}function lRe(e,t){return e.getTime()<t.getTime()}function mz(e,t){return e.getTime()===t.getTime()}function cRe(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function dRe(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function fRe(e,t){return e.getFullYear()===t.getFullYear()}function hRe(e,t,i){const r=new Date(e),n=new Date(t);switch(i){case"years":return r.getFullYear()-n.getFullYear();case"quarters":return Math.floor((r.getMonth()-n.getMonth()+(r.getFullYear()-n.getFullYear())*12)/4);case"months":return r.getMonth()-n.getMonth()+(r.getFullYear()-n.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-n.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-n.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-n.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-n.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-n.getTime())/1e3);default:return r.getTime()-n.getTime()}}function pRe(e,t){const i=new Date(e);return i.setHours(t),i}function gRe(e,t){const i=new Date(e);return i.setMinutes(t),i}function mRe(e,t){const i=new Date(e);return i.setMonth(t),i}function yRe(e,t){const i=new Date(e);return i.setDate(t),i}function vRe(e,t){const i=new Date(e);return i.setFullYear(t),i}function NI(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function bRe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class _Re{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return Jre(t)}toJsDate(t){return t}toISO(t){return $xe(this,t)}parseISO(t){return Qxe(t)}addMinutes(t,i){return zxe(t,i)}addHours(t,i){return Gxe(t,i)}addDays(t,i){return Wxe(t,i)}addWeeks(t,i){return Kxe(t,i)}addMonths(t,i){return Jxe(t,i)}getWeekArray(t,i){return jxe(t,this.locale,i?Number(i):void 0)}startOfWeek(t,i){return kxe(t,this.locale,i?Number(i):void 0)}endOfWeek(t){return Bxe(t,this.locale)}startOfMonth(t){return Wre(t)}endOfMonth(t){return Kre(t)}format(t,i){return Hxe(t,i,this.locale,this.formats)}isEqual(t,i){return mz(t,i)}isValid(t){return sRe(t)}isWithinRange(t,i){return oRe(t,i)}isAfter(t,i){return _E(t,i)}isAfterDay(t,i){return uRe(t,i)}isBefore(t,i){return!_E(t,i)&&!mz(t,i)}isSameDay(t,i){return cRe(t,i)}isSameMonth(t,i){return dRe(t,i)}isSameYear(t,i){return fRe(t,i)}setMinutes(t,i){return gRe(t,i)}setHours(t,i){return pRe(t,i)}setMonth(t,i){return mRe(t,i)}setDate(t,i){return yRe(t,i)}setYear(t,i){return vRe(t,i)}getDiff(t,i,r){return hRe(t,i,r)}getWeekdays(t){return Uxe(this.locale,t?Number(t):void 0)}getYear(t){return Xxe(t)}getMonth(t){return Yxe(t)}getDate(t){return Zxe(t)}getNextMonth(t){return eRe(t)}getPreviousMonth(t){return tRe(t)}getHours(t){return rRe(t)}getMinutes(t){return nRe(t)}startOfDay(t){return NI(t)}endOfDay(t){return bRe(t)}startOfYear(t){return iRe(t)}endOfYear(t){return aRe(t)}}const Xre=Symbol.for("vuetify:date-options"),yz=Symbol.for("vuetify:date-adapter");function wRe(e,t){const i=Yi({adapter:_Re,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:i,instance:Yre(i,t)}}function Yre(e,t){const i=wi(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Pt(t.current,r=>{i.locale=e.locale[r]??r??i.locale}),i}function sA(){const e=_r(Xre);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=Un();return Yre(e,t)}function SRe(e,t){const i=e.toJsDate(t);let r=i.getFullYear(),n=new Date(r,0,1);if(i<n)r=r-1,n=new Date(r,0,1);else{const s=new Date(r+1,0,1);i>=s&&(r=r+1,n=s)}const a=Math.abs(i.getTime()-n.getTime()),o=Math.ceil(a/(1e3*60*60*24));return Math.floor(o/7)+1}const R3=["sm","md","lg","xl","xxl"],FI=Symbol.for("vuetify:display"),vz={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},ARe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vz;return Yi(vz,e)};function bz(e){return kr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function _z(e){return kr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function wz(e){const t=kr&&!e?window.navigator.userAgent:"ssr";function i(p){return!!t.match(p)}const r=i(/android/i),n=i(/iphone|ipad|ipod/i),a=i(/cordova/i),o=i(/electron/i),s=i(/chrome/i),l=i(/edge/i),u=i(/firefox/i),c=i(/opera/i),d=i(/win/i),f=i(/mac/i),h=i(/linux/i);return{android:r,ios:n,cordova:a,electron:o,chrome:s,edge:l,firefox:u,opera:c,win:d,mac:f,linux:h,touch:M3e,ssr:t==="ssr"}}function TRe(e,t){const{thresholds:i,mobileBreakpoint:r}=ARe(e),n=Tt(_z(t)),a=Tt(wz(t)),o=wi({}),s=Tt(bz(t));function l(){n.value=_z(),s.value=bz()}function u(){l(),a.value=wz()}return Vn(()=>{const c=s.value<i.sm,d=s.value<i.md&&!c,f=s.value<i.lg&&!(d||c),h=s.value<i.xl&&!(f||d||c),p=s.value<i.xxl&&!(h||f||d||c),g=s.value>=i.xxl,m=c?"xs":d?"sm":f?"md":h?"lg":p?"xl":"xxl",y=typeof r=="number"?r:i[r],v=s.value<y;o.xs=c,o.sm=d,o.md=f,o.lg=h,o.xl=p,o.xxl=g,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||f),o.xlAndUp=!(c||d||f||h),o.smAndDown=!(f||h||p||g),o.mdAndDown=!(h||p||g),o.lgAndDown=!(p||g),o.xlAndDown=!g,o.name=m,o.height=n.value,o.width=s.value,o.mobile=v,o.mobileBreakpoint=r,o.platform=a.value,o.thresholds=i}),kr&&window.addEventListener("resize",l,{passive:!0}),{...Vp(o),update:u,ssr:!!t}}const Wp=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function So(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();const i=_r(FI);if(!i)throw new Error("Could not find Vuetify display injection");const r=ue(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?i.width.value<e.mobileBreakpoint:e.mobileBreakpoint?i.width.value<i.thresholds.value[e.mobileBreakpoint]:e.mobile===null?i.mobile.value:!1),n=ue(()=>t?{[`${t}--mobile`]:r.value}:{});return{...i,displayClasses:n,mobile:r}}const Zre=Symbol.for("vuetify:goto");function ene(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function ERe(e){return NN(e)??(document.scrollingElement||document.body)}function NN(e){return typeof e=="string"?document.querySelector(e):TN(e)}function gP(e,t,i){if(typeof e=="number")return t&&i?-e:e;let r=NN(e),n=0;for(;r;)n+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return n}function xRe(e,t){return{rtl:t.isRtl,options:Yi(ene(),e)}}async function Sz(e,t,i,r){const n=i?"scrollLeft":"scrollTop",a=Yi((r==null?void 0:r.options)??ene(),t),o=r==null?void 0:r.rtl.value,s=(typeof e=="number"?e:NN(e))??0,l=a.container==="parent"&&s instanceof HTMLElement?s.parentElement:ERe(a.container),u=typeof a.easing=="function"?a.easing:a.patterns[a.easing];if(!u)throw new TypeError(`Easing function "${a.easing}" not found.`);let c;if(typeof s=="number")c=gP(s,i,o);else if(c=gP(s,i,o)-gP(l,i,o),a.layout){const p=window.getComputedStyle(s).getPropertyValue("--v-layout-top");p&&(c-=parseInt(p,10))}c+=a.offset,c=ORe(l,c,!!o,!!i);const d=l[n]??0;if(c===d)return Promise.resolve(c);const f=performance.now();return new Promise(h=>requestAnimationFrame(function p(g){const y=(g-f)/a.duration,v=Math.floor(d+(c-d)*u(Qn(y,0,1)));if(l[n]=v,y>=1&&Math.abs(v-l[n])<10)return h(c);if(y>2)return h(l[n]);requestAnimationFrame(p)}))}function RRe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=_r(Zre),{isRtl:i}=ci();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:ue(()=>t.rtl.value||i.value)};async function n(a,o){return Sz(a,Yi(e,o),!1,r)}return n.horizontal=async(a,o)=>Sz(a,Yi(e,o),!0,r),n}function ORe(e,t,i,r){const{scrollWidth:n,scrollHeight:a}=e,[o,s]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return r?i?(l=-(n-o),u=0):(l=0,u=n-o):(l=0,u=a+-s),Math.max(Math.min(t,u),l)}const tne={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},rne={component:e=>Wo(LN,{...e,class:"mdi"})},Kt=[String,Function,Object,Array],LI=Symbol.for("vuetify:icons"),O3=We({icon:{type:Kt},tag:{type:String,required:!0}},"icon"),MI=ot()({name:"VComponentIcon",props:O3(),setup(e,t){let{slots:i}=t;return()=>{const r=e.icon;return B(e.tag,null,{default:()=>{var n;return[e.icon?B(r,null,null):(n=i.default)==null?void 0:n.call(i)]}})}}}),FN=io({name:"VSvgIcon",inheritAttrs:!1,props:O3(),setup(e,t){let{attrs:i}=t;return()=>B(e.tag,ct(i,{style:null}),{default:()=>[B("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?B("path",{d:r[0],"fill-opacity":r[1]},null):B("path",{d:r},null)):B("path",{d:e.icon},null)])]})}}),PRe=io({name:"VLigatureIcon",props:O3(),setup(e){return()=>B(e.tag,null,{default:()=>[e.icon]})}}),LN=io({name:"VClassIcon",props:O3(),setup(e){return()=>B(e.tag,{class:e.icon},null)}});function IRe(){return{svg:{component:FN},class:{component:LN}}}function CRe(e){const t=IRe(),i=(e==null?void 0:e.defaultSet)??"mdi";return i==="mdi"&&!t.mdi&&(t.mdi=rne),Yi({defaultSet:i,sets:t,aliases:{...tne,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const DRe=e=>{const t=_r(LI);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:ue(()=>{var l;const r=ti(e);if(!r)return{component:MI};let n=r;if(typeof n=="string"&&(n=n.trim(),n.startsWith("$")&&(n=(l=t.aliases)==null?void 0:l[n.slice(1)])),Array.isArray(n))return{component:FN,icon:n};if(typeof n!="string")return{component:MI,icon:n};const a=Object.keys(t.sets).find(u=>typeof n=="string"&&n.startsWith(`${u}:`)),o=a?n.slice(a.length+1):n;return{component:t.sets[a??t.defaultSet].component,icon:o}})}},f2=Symbol.for("vuetify:theme"),Nr=We({theme:String},"theme");function Az(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function NRe(){var r,n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Az();const t=Az();if(!e)return{...t,isDisabled:!0};const i={};for(const[a,o]of Object.entries(e.themes??{})){const s=o.dark||a==="dark"?(r=t.themes)==null?void 0:r.dark:(n=t.themes)==null?void 0:n.light;i[a]=Yi(s,o)}return Yi(t,{...e,themes:i})}function FRe(e){const t=NRe(e),i=vt(t.defaultTheme),r=vt(t.themes),n=ue(()=>{const c={};for(const[d,f]of Object.entries(r.value)){const h=c[d]={...f,colors:{...f.colors}};if(t.variations)for(const p of t.variations.colors){const g=h.colors[p];if(g)for(const m of["lighten","darken"]){const y=m==="lighten"?yxe:vxe;for(const v of _s(t.variations[m],1))h.colors[`${p}-${m}-${v}`]=Bre(y(Xa(g),v))}}for(const p of Object.keys(h.colors)){if(/^on-[a-z]/.test(p)||h.colors[`on-${p}`])continue;const g=`on-${p}`,m=Xa(h.colors[p]);h.colors[g]=Ure(m)}}return c}),a=ue(()=>n.value[i.value]),o=ue(()=>{var p;const c=[];(p=a.value)!=null&&p.dark&&np(c,":root",["color-scheme: dark"]),np(c,":root",Tz(a.value));for(const[g,m]of Object.entries(n.value))np(c,`.v-theme--${g}`,[`color-scheme: ${m.dark?"dark":"normal"}`,...Tz(m)]);const d=[],f=[],h=new Set(Object.values(n.value).flatMap(g=>Object.keys(g.colors)));for(const g of h)/^on-[a-z]/.test(g)?np(f,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(np(d,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),np(f,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),np(f,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return c.push(...d,...f),c.map((g,m)=>m===0?g:`    ${g}`).join("")});function s(){return{style:[{textContent:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const d=c._context.provides.usehead;if(d)if(d.push){const f=d.push(s);kr&&Pt(o,()=>{f.patch(s)})}else kr?(d.addHeadObjs(ue(s)),Vn(()=>d.updateDOM())):d.addHeadObjs(s());else{let h=function(){if(typeof document<"u"&&!f){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",t.cspNonce&&p.setAttribute("nonce",t.cspNonce),f=p,document.head.appendChild(f)}f&&(f.innerHTML=o.value)},f=kr?document.getElementById("vuetify-theme-stylesheet"):null;kr?Pt(o,h,{immediate:!0}):h()}}const u=ue(()=>t.isDisabled?void 0:`v-theme--${i.value}`);return{install:l,isDisabled:t.isDisabled,name:i,themes:r,current:a,computedThemes:n,themeClasses:u,styles:o,global:{name:i,current:a}}}function zr(e){Cn("provideTheme");const t=_r(f2,null);if(!t)throw new Error("Could not find Vuetify theme injection");const i=ue(()=>e.theme??t.name.value),r=ue(()=>t.themes.value[i.value]),n=ue(()=>t.isDisabled?void 0:`v-theme--${i.value}`),a={...t,name:i,current:r,themeClasses:n};return Jr(f2,a),a}function MN(){Cn("useTheme");const e=_r(f2,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function np(e,t,i){e.push(`${t} {
`,...i.map(r=>`  ${r};
`),`}
`)}function Tz(e){const t=e.dark?2:1,i=e.dark?1:2,r=[];for(const[n,a]of Object.entries(e.colors)){const o=Xa(a);r.push(`--v-theme-${n}: ${o.r},${o.g},${o.b}`),n.startsWith("on-")||r.push(`--v-theme-${n}-overlay-multiplier: ${DI(a)>.18?t:i}`)}for(const[n,a]of Object.entries(e.variables)){const o=typeof a=="string"&&a.startsWith("#")?Xa(a):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${n}: ${s??a}`)}return r}function Go(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=yE(),r=vt();if(kr){const n=new ResizeObserver(a=>{e==null||e(a,n),a.length&&(t==="content"?r.value=a[0].contentRect:r.value=a[0].target.getBoundingClientRect())});yi(()=>{n.disconnect()}),Pt(()=>i.el,(a,o)=>{o&&(n.unobserve(o),r.value=void 0),a&&n.observe(a)},{flush:"post"})}return{resizeRef:i,contentRect:A2(r)}}const h2=Symbol.for("vuetify:layout"),nne=Symbol.for("vuetify:layout-item"),Ez=1e3,ine=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Kp=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ane(){const e=_r(h2);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Jp(e){const t=_r(h2);if(!t)throw new Error("[Vuetify] Could not find injected layout");const i=e.id??`layout-item-${Ti()}`,r=Cn("useLayoutItem");Jr(nne,{id:i});const n=Tt(!1);AC(()=>n.value=!0),BG(()=>n.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:o}=t.register(r,{...e,active:ue(()=>n.value?!1:e.active.value),id:i});return yi(()=>t.unregister(i)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const LRe=(e,t,i,r)=>{let n={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...n}}];for(const o of e){const s=t.get(o),l=i.get(o),u=r.get(o);if(!s||!l||!u)continue;const c={...n,[s.value]:parseInt(n[s.value],10)+(u.value?parseInt(l.value,10):0)};a.push({id:o,layer:c}),n=c}return a};function one(e){const t=_r(h2,null),i=ue(()=>t?t.rootZIndex.value-100:Ez),r=vt([]),n=wi(new Map),a=wi(new Map),o=wi(new Map),s=wi(new Map),l=wi(new Map),{resizeRef:u,contentRect:c}=Go(),d=ue(()=>{const T=new Map,R=e.overlaps??[];for(const F of R.filter(D=>D.includes(":"))){const[D,A]=F.split(":");if(!r.value.includes(D)||!r.value.includes(A))continue;const x=n.get(D),N=n.get(A),j=a.get(D),H=a.get(A);!x||!N||!j||!H||(T.set(A,{position:x.value,amount:parseInt(j.value,10)}),T.set(D,{position:N.value,amount:-parseInt(H.value,10)}))}return T}),f=ue(()=>{const T=[...new Set([...o.values()].map(F=>F.value))].sort((F,D)=>F-D),R=[];for(const F of T){const D=r.value.filter(A=>{var x;return((x=o.get(A))==null?void 0:x.value)===F});R.push(...D)}return LRe(R,n,a,s)}),h=ue(()=>!Array.from(l.values()).some(T=>T.value)),p=ue(()=>f.value[f.value.length-1].layer),g=ue(()=>({"--v-layout-left":Ft(p.value.left),"--v-layout-right":Ft(p.value.right),"--v-layout-top":Ft(p.value.top),"--v-layout-bottom":Ft(p.value.bottom),...h.value?void 0:{transition:"none"}})),m=ue(()=>f.value.slice(1).map((T,R)=>{let{id:F}=T;const{layer:D}=f.value[R],A=a.get(F),x=n.get(F);return{id:F,...D,size:Number(A.value),position:x.value}})),y=T=>m.value.find(R=>R.id===T),v=Cn("createLayout"),b=Tt(!1);$i(()=>{b.value=!0}),Jr(h2,{register:(T,R)=>{let{id:F,order:D,position:A,layoutSize:x,elementSize:N,active:j,disableTransitions:H,absolute:M}=R;o.set(F,D),n.set(F,A),a.set(F,x),s.set(F,j),H&&l.set(F,H);const te=kg(nne,v==null?void 0:v.vnode).indexOf(T);te>-1?r.value.splice(te,0,F):r.value.push(F);const re=ue(()=>m.value.findIndex(xe=>xe.id===F)),oe=ue(()=>i.value+f.value.length*2-re.value*2),J=ue(()=>{const xe=A.value==="left"||A.value==="right",de=A.value==="right",ae=A.value==="bottom",Fe=N.value??x.value,Le=Fe===0?"%":"px",me={[A.value]:0,zIndex:oe.value,transform:`translate${xe?"X":"Y"}(${(j.value?0:-(Fe===0?100:Fe))*(de||ae?-1:1)}${Le})`,position:M.value||i.value!==Ez?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!b.value)return me;const pe=m.value[re.value];if(!pe)throw new Error(`[Vuetify] Could not find layout item "${F}"`);const _e=d.value.get(F);return _e&&(pe[_e.position]+=_e.amount),{...me,height:xe?`calc(100% - ${pe.top}px - ${pe.bottom}px)`:N.value?`${N.value}px`:void 0,left:de?void 0:`${pe.left}px`,right:de?`${pe.right}px`:void 0,top:A.value!=="bottom"?`${pe.top}px`:void 0,bottom:A.value!=="top"?`${pe.bottom}px`:void 0,width:xe?N.value?`${N.value}px`:void 0:`calc(100% - ${pe.left}px - ${pe.right}px)`}}),fe=ue(()=>({zIndex:oe.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:fe,zIndex:oe}},unregister:T=>{o.delete(T),n.delete(T),a.delete(T),s.delete(T),l.delete(T),r.value=r.value.filter(R=>R!==T)},mainRect:p,mainStyles:g,getLayoutItem:y,items:m,layoutRect:c,rootZIndex:i});const _=ue(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),w=ue(()=>({zIndex:t?i.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:_,layoutStyles:w,getLayoutItem:y,items:m,layoutRect:c,layoutRef:u}}function sne(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...i}=e,r=Yi(t,i),{aliases:n={},components:a={},directives:o={}}=r,s=wxe(r.defaults),l=TRe(r.display,r.ssr),u=FRe(r.theme),c=CRe(r.icons),d=Dxe(r.locale),f=wRe(r.date,d),h=xRe(r.goTo,d);return{install:g=>{for(const m in o)g.directive(m,o[m]);for(const m in a)g.component(m,a[m]);for(const m in n)g.component(m,io({...n[m],name:m,aliasName:n[m].name}));if(u.install(g),g.provide(p0,s),g.provide(FI,l),g.provide(f2,u),g.provide(LI,c),g.provide(g0,d),g.provide(Xre,f.options),g.provide(yz,f.instance),g.provide(Zre,h),kr&&r.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:m}=g;g.mount=function(){const y=m(...arguments);return Mr(()=>l.update()),g.mount=m,y}}Ti.reset(),g.mixin({computed:{$vuetify(){return wi({defaults:Tg.call(this,p0),display:Tg.call(this,FI),theme:Tg.call(this,f2),icons:Tg.call(this,LI),locale:Tg.call(this,g0),date:Tg.call(this,yz)})}}})},defaults:s,display:l,theme:u,icons:c,locale:d,date:f,goTo:h}}const MRe="3.7.19";sne.version=MRe;function Tg(e){var r,n;const t=this.$,i=((r=t.parent)==null?void 0:r.provides)??((n=t.vnode.appContext)==null?void 0:n.provides);if(i&&e in i)return i[e]}const jRe=We({...Mt(),...ine({fullHeight:!0}),...Nr()},"VApp"),kRe=ot()({name:"VApp",props:jRe(),setup(e,t){let{slots:i}=t;const r=zr(e),{layoutClasses:n,getLayoutItem:a,items:o,layoutRef:s}=one(e),{rtlClasses:l}=ci();return ht(()=>{var u;return B("div",{ref:s,class:["v-application",r.themeClasses.value,n.value,l.value,e.class],style:[e.style]},[B("div",{class:"v-application__wrap"},[(u=i.default)==null?void 0:u.call(i)])])}),{getLayoutItem:a,items:o,theme:r}}}),pr=We({tag:{type:String,default:"div"}},"tag"),une=We({text:String,...Mt(),...pr()},"VToolbarTitle"),jN=ot()({name:"VToolbarTitle",props:une(),setup(e,t){let{slots:i}=t;return ht(()=>{const r=!!(i.default||i.text||e.text);return B(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[r&&B("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():e.text,(n=i.default)==null?void 0:n.call(i)])]}})}),{}}}),BRe=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ao(e,t,i){return ot()({name:e,props:BRe({mode:i,origin:t}),setup(r,n){let{slots:a}=n;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${d}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:f}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=d||"",s.style.height=f||""}}};return()=>{const s=r.group?NC:ll;return Wo(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},a.default)}}})}function lne(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ot()({name:e,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(r,n){let{slots:a}=n;const o=r.group?NC:ll;return()=>Wo(o,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},a.default)}})}function cne(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Ba(`offset-${i}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[i]:o.style[i]}},onEnter(o){const s=o._initialStyle;if(!s)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[i]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[i]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[i]:o.style[i]},o.style.overflow="hidden",o.style[i]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[i]="0")},onAfterLeave:n,onLeaveCancelled:n};function n(o){e&&o._parent&&o._parent.classList.remove(e),a(o)}function a(o){if(!o._initialStyle)return;const s=o._initialStyle[i];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[i]=s),delete o._initialStyle}}const qRe=We({target:[Object,Array]},"v-dialog-transition"),P3=ot()({name:"VDialogTransition",props:qRe(),setup(e,t){let{slots:i}=t;const r={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,a){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),n.style.visibility="";const{x:o,y:s,sx:l,sy:u,speed:c}=Rz(e.target,n),d=vp(n,[{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:Exe});(f=xz(n))==null||f.forEach(h=>{vp(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:d2})}),d.finished.then(()=>a())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,a){var f;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:s,sx:l,sy:u,speed:c}=Rz(e.target,n);vp(n,[{},{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:xxe}).finished.then(()=>a()),(f=xz(n))==null||f.forEach(h=>{vp(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:d2})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?B(ll,ct({name:"dialog-transition"},r,{css:!1}),i):B(ll,{name:"dialog-transition"},i)}});function xz(e){var i;const t=(i=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return t&&[...t]}function Rz(e,t){const i=Dre(e),r=RN(t),[n,a]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=i.left+i.width/2;o==="left"||s==="left"?l-=i.width/2:(o==="right"||s==="right")&&(l+=i.width/2);let u=i.top+i.height/2;o==="top"||s==="top"?u-=i.height/2:(o==="bottom"||s==="bottom")&&(u+=i.height/2);const c=i.width/r.width,d=i.height/r.height,f=Math.max(1,c,d),h=c/f||0,p=d/f||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),m=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(n+r.left),y:u-(a+r.top),sx:h,sy:p,speed:m}}const VRe=ao("fab-transition","center center","out-in"),URe=ao("dialog-bottom-transition"),HRe=ao("dialog-top-transition"),p2=ao("fade-transition"),kN=ao("scale-transition"),$Re=ao("scroll-x-transition"),QRe=ao("scroll-x-reverse-transition"),zRe=ao("scroll-y-transition"),GRe=ao("scroll-y-reverse-transition"),WRe=ao("slide-x-transition"),KRe=ao("slide-x-reverse-transition"),BN=ao("slide-y-transition"),JRe=ao("slide-y-reverse-transition"),I3=lne("expand-transition",cne()),qN=lne("expand-x-transition",cne("",!0)),XRe=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Sr=ot(!1)({name:"VDefaultsProvider",props:XRe(),setup(e,t){let{slots:i}=t;const{defaults:r,disabled:n,reset:a,root:o,scoped:s}=Vp(e);return In(r,{reset:a,root:o,scoped:s,disabled:n}),()=>{var l;return(l=i.default)==null?void 0:l.call(i)}}}),ni=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ii(e){return{dimensionStyles:ue(()=>{const i={},r=Ft(e.height),n=Ft(e.maxHeight),a=Ft(e.maxWidth),o=Ft(e.minHeight),s=Ft(e.minWidth),l=Ft(e.width);return r!=null&&(i.height=r),n!=null&&(i.maxHeight=n),a!=null&&(i.maxWidth=a),o!=null&&(i.minHeight=o),s!=null&&(i.minWidth=s),l!=null&&(i.width=l),i})}}function YRe(e){return{aspectStyles:ue(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const dne=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Mt(),...ni()},"VResponsive"),jI=ot()({name:"VResponsive",props:dne(),setup(e,t){let{slots:i}=t;const{aspectStyles:r}=YRe(e),{dimensionStyles:n}=ii(e);return ht(()=>{var a;return B("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[n.value,e.style]},[B("div",{class:"v-responsive__sizer",style:r.value},null),(a=i.additional)==null?void 0:a.call(i),i.default&&B("div",{class:["v-responsive__content",e.contentClass]},[i.default()])])}),{}}});function VN(e){return xN(()=>{const t=[],i={};if(e.value.background)if(CI(e.value.background)){if(i.backgroundColor=e.value.background,!e.value.text&&hxe(e.value.background)){const r=Xa(e.value.background);if(r.a==null||r.a===1){const n=Ure(r);i.color=n,i.caretColor=n}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(CI(e.value.text)?(i.color=e.value.text,i.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:i}})}function Ui(e,t){const i=ue(()=>({text:Pn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:n}=VN(i);return{textColorClasses:r,textColorStyles:n}}function rn(e,t){const i=ue(()=>({background:Pn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:n}=VN(i);return{backgroundColorClasses:r,backgroundColorStyles:n}}const yn=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Dn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return{roundedClasses:ue(()=>{const r=Pn(e)?e.value:e.rounded,n=Pn(e)?e.value:e.tile,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))a.push(`rounded-${o}`);else(n||r===!1)&&a.push("rounded-0");return a})}}const Xo=We({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Zi=(e,t)=>{let{slots:i}=t;const{transition:r,disabled:n,group:a,...o}=e,{component:s=a?NC:ll,...l}=typeof r=="object"?r:{};return Wo(s,ct(typeof r=="string"?{name:n?"":r}:l,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:n,group:a}).filter(u=>{let[c,d]=u;return d!==void 0})),o),i)};function ZRe(e,t){if(!AN)return;const i=t.modifiers||{},r=t.value,{handler:n,options:a}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var d;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=e._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=s.some(f=>f.isIntersecting);n&&(!i.quiet||u.init)&&(!i.once||c||u.init)&&n(c,s,l),c&&i.once?fne(e,t):u.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function fne(e,t){var r;const i=(r=e._observe)==null?void 0:r[t.instance.$.uid];i&&(i.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const uA={mounted:ZRe,unmounted:fne},hne=We({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...dne(),...Mt(),...yn(),...Xo()},"VImg"),yu=ot()({name:"VImg",directives:{intersect:uA},props:hne(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:i,slots:r}=t;const{backgroundColorClasses:n,backgroundColorStyles:a}=rn(nt(e,"color")),{roundedClasses:o}=Dn(e),s=Cn("VImg"),l=Tt(""),u=vt(),c=Tt(e.eager?"loading":"idle"),d=Tt(),f=Tt(),h=ue(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),p=ue(()=>h.value.aspect||d.value/f.value||0);Pt(()=>e.src,()=>{g(c.value!=="idle")}),Pt(p,(N,j)=>{!N&&j&&u.value&&_(u.value)}),v0(()=>g());function g(N){if(!(e.eager&&N)&&!(AN&&!N&&!e.eager)){if(c.value="loading",h.value.lazySrc){const j=new Image;j.src=h.value.lazySrc,_(j,null)}h.value.src&&Mr(()=>{var j;i("loadstart",((j=u.value)==null?void 0:j.currentSrc)||h.value.src),setTimeout(()=>{var H;if(!s.isUnmounted)if((H=u.value)!=null&&H.complete){if(u.value.naturalWidth||y(),c.value==="error")return;p.value||_(u.value,null),c.value==="loading"&&m()}else p.value||_(u.value),v()})})}}function m(){var N;s.isUnmounted||(v(),_(u.value),c.value="loaded",i("load",((N=u.value)==null?void 0:N.currentSrc)||h.value.src))}function y(){var N;s.isUnmounted||(c.value="error",i("error",((N=u.value)==null?void 0:N.currentSrc)||h.value.src))}function v(){const N=u.value;N&&(l.value=N.currentSrc||N.src)}let b=-1;yi(()=>{clearTimeout(b)});function _(N){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const H=()=>{if(clearTimeout(b),s.isUnmounted)return;const{naturalHeight:M,naturalWidth:$}=N;M||$?(d.value=$,f.value=M):!N.complete&&c.value==="loading"&&j!=null?b=window.setTimeout(H,j):(N.currentSrc.endsWith(".svg")||N.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};H()}const w=ue(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),T=()=>{var H;if(!h.value.src||c.value==="idle")return null;const N=B("img",{class:["v-img__img",w.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:m,onError:y},null),j=(H=r.sources)==null?void 0:H.call(r);return B(Zi,{transition:e.transition,appear:!0},{default:()=>[$r(j?B("picture",{class:"v-img__picture"},[j,N]):N,[[to,c.value==="loaded"]])]})},R=()=>B(Zi,{transition:e.transition},{default:()=>[h.value.lazySrc&&c.value!=="loaded"&&B("img",{class:["v-img__img","v-img__img--preload",w.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),F=()=>r.placeholder?B(Zi,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&B("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,D=()=>r.error?B(Zi,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&B("div",{class:"v-img__error"},[r.error()])]}):null,A=()=>e.gradient?B("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,x=Tt(!1);{const N=Pt(p,j=>{j&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{x.value=!0})}),N())})}return ht(()=>{const N=jI.filterProps(e);return $r(B(jI,ct({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!x.value},n.value,o.value,e.class],style:[{width:Ft(e.width==="auto"?d.value:e.width)},a.value,e.style]},N,{aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>B(Ot,null,[B(T,null,null),B(R,null,null),B(A,null,null),B(F,null,null),B(D,null,null)]),default:r.default}),[[eo("intersect"),{handler:g,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:f}}}),Va=We({border:[Boolean,Number,String]},"border");function oo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return{borderClasses:ue(()=>{const r=Pn(e)?e.value:e.border,n=[];if(r===!0||r==="")n.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))n.push(`border-${a}`);return n})}}const di=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ei(e){return{elevationClasses:ue(()=>{const i=Pn(e)?e.value:e.elevation,r=[];return i==null||r.push(`elevation-${i}`),r})}}const eOe=[null,"prominent","default","comfortable","compact"],pne=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>eOe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Va(),...Mt(),...di(),...yn(),...pr({tag:"header"}),...Nr()},"VToolbar"),kI=ot()({name:"VToolbar",props:pne(),setup(e,t){var h;let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=rn(nt(e,"color")),{borderClasses:a}=oo(e),{elevationClasses:o}=Ei(e),{roundedClasses:s}=Dn(e),{themeClasses:l}=zr(e),{rtlClasses:u}=ci(),c=Tt(!!(e.extended||(h=i.extension)!=null&&h.call(i))),d=ue(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=ue(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return In({VBtn:{variant:"text"}}),ht(()=>{var y;const p=!!(e.title||i.title),g=!!(i.image||e.image),m=(y=i.extension)==null?void 0:y.call(i);return c.value=!!(e.extended||m),B(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,a.value,o.value,s.value,l.value,u.value,e.class],style:[n.value,e.style]},{default:()=>[g&&B("div",{key:"image",class:"v-toolbar__image"},[i.image?B(Sr,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):B(yu,{key:"image-img",cover:!0,src:e.image},null)]),B(Sr,{defaults:{VTabs:{height:Ft(d.value)}}},{default:()=>{var v,b,_;return[B("div",{class:"v-toolbar__content",style:{height:Ft(d.value)}},[i.prepend&&B("div",{class:"v-toolbar__prepend"},[(v=i.prepend)==null?void 0:v.call(i)]),p&&B(jN,{key:"title",text:e.title},{text:i.title}),(b=i.default)==null?void 0:b.call(i),i.append&&B("div",{class:"v-toolbar__append"},[(_=i.append)==null?void 0:_.call(i)])])]}}),B(Sr,{defaults:{VTabs:{height:Ft(f.value)}}},{default:()=>[B(I3,null,{default:()=>[c.value&&B("div",{class:"v-toolbar__extension",style:{height:Ft(f.value)}},[m])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),tOe=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function rOe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=t;let r=0,n=0;const a=vt(null),o=Tt(0),s=Tt(0),l=Tt(0),u=Tt(!1),c=Tt(!1),d=ue(()=>Number(e.scrollThreshold)),f=ue(()=>Qn((d.value-o.value)/d.value||0)),h=()=>{const p=a.value;if(!p||i&&!i.value)return;r=o.value,o.value="window"in p?p.pageYOffset:p.scrollTop;const g=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(n!==g){n=g;return}c.value=o.value<r,l.value=Math.abs(o.value-d.value)};return Pt(c,()=>{s.value=s.value||o.value}),Pt(u,()=>{s.value=0}),$i(()=>{Pt(()=>e.scrollTarget,p=>{var m;const g=p?document.querySelector(p):window;g&&g!==a.value&&((m=a.value)==null||m.removeEventListener("scroll",h),a.value=g,a.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),yi(()=>{var p;(p=a.value)==null||p.removeEventListener("scroll",h)}),i&&Pt(i,h,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:c,savedScroll:s}}function Xp(){const e=Tt(!1);return $i(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:ue(()=>e.value?void 0:{transition:"none !important"}),isBooted:A2(e)}}const nOe=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...pne(),...Kp(),...tOe(),height:{type:[Number,String],default:64}},"VAppBar"),iOe=ot()({name:"VAppBar",props:nOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=vt(),n=Gt(e,"modelValue"),a=ue(()=>{var b;const v=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:v.has("hide"),fullyHide:v.has("fully-hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),o=ue(()=>{const v=a.value;return v.hide||v.fullyHide||v.inverted||v.collapse||v.elevate||v.fadeImage||!n.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=rOe(e,{canScroll:o}),d=ue(()=>a.value.hide||a.value.fullyHide),f=ue(()=>e.collapse||a.value.collapse&&(a.value.inverted?c.value>0:c.value===0)),h=ue(()=>e.flat||a.value.fullyHide&&!n.value||a.value.elevate&&(a.value.inverted?s.value>0:s.value===0)),p=ue(()=>a.value.fadeImage?a.value.inverted?1-c.value:c.value:void 0),g=ue(()=>{var _,w;if(a.value.hide&&a.value.inverted)return 0;const v=((_=r.value)==null?void 0:_.contentHeight)??0,b=((w=r.value)==null?void 0:w.extensionHeight)??0;return d.value?s.value<l.value||a.value.fullyHide?v+b:v:v+b});Aa(ue(()=>!!e.scrollBehavior),()=>{Vn(()=>{d.value?a.value.inverted?n.value=s.value>l.value:n.value=u.value||s.value<l.value:n.value=!0})});const{ssrBootStyles:m}=Xp(),{layoutItemStyles:y}=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:nt(e,"location"),layoutSize:g,elementSize:Tt(void 0),active:n,absolute:nt(e,"absolute")});return ht(()=>{const v=kI.filterProps(e);return B(kI,ct({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":p.value,height:void 0,...m.value},e.style]},v,{collapse:f.value,flat:h.value}),i)}),{}}}),aOe=[null,"default","comfortable","compact"],vi=We({density:{type:String,default:"default",validator:e=>aOe.includes(e)}},"density");function oa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return{densityClasses:ue(()=>`${t}--density-${e.density}`)}}const oOe=["elevated","flat","tonal","outlined","text","plain"];function Nl(e,t){return B(Ot,null,[e&&B("span",{key:"overlay",class:`${t}__overlay`},null),B("span",{key:"underlay",class:`${t}__underlay`},null)])}const Ao=We({color:String,variant:{type:String,default:"elevated",validator:e=>oOe.includes(e)}},"variant");function Yp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();const i=ue(()=>{const{variant:a}=ti(e);return`${t}--variant-${a}`}),{colorClasses:r,colorStyles:n}=VN(ue(()=>{const{variant:a,color:o}=ti(e);return{[["elevated","flat"].includes(a)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:n,variantClasses:i}}const gne=We({baseColor:String,divided:Boolean,...Va(),...Mt(),...vi(),...di(),...yn(),...pr(),...Nr(),...Ao()},"VBtnGroup"),BI=ot()({name:"VBtnGroup",props:gne(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{densityClasses:n}=oa(e),{borderClasses:a}=oo(e),{elevationClasses:o}=Ei(e),{roundedClasses:s}=Dn(e);In({VBtn:{height:"auto",baseColor:nt(e,"baseColor"),color:nt(e,"color"),density:nt(e,"density"),flat:!0,variant:nt(e,"variant")}}),ht(()=>B(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,a.value,n.value,o.value,s.value,e.class],style:e.style},i))}}),Zp=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),eg=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function tg(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Cn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=Ti();Jr(Symbol.for(`${t.description}:id`),n);const a=_r(t,null);if(!a){if(!i)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=nt(e,"value"),s=ue(()=>!!(a.disabled.value||e.disabled));a.register({id:n,value:o,disabled:s},r),yi(()=>{a.unregister(n)});const l=ue(()=>a.isSelected(n)),u=ue(()=>a.items.value[0].id===n),c=ue(()=>a.items.value[a.items.value.length-1].id===n),d=ue(()=>l.value&&[a.selectedClass.value,e.selectedClass]);return Pt(l,f=>{r.emit("group:selected",{value:f})},{flush:"sync"}),{id:n,isSelected:l,isFirst:u,isLast:c,toggle:()=>a.select(n,!l.value),select:f=>a.select(n,f),selectedClass:d,value:o,disabled:s,group:a}}function Fl(e,t){let i=!1;const r=wi([]),n=Gt(e,"modelValue",[],f=>f==null?[]:mne(r,En(f)),f=>{const h=uOe(r,f);return e.multiple?h:h[0]}),a=Cn("useGroup");function o(f,h){const p=f,g=Symbol.for(`${t.description}:id`),y=kg(g,a==null?void 0:a.vnode).indexOf(h);ti(p.value)==null&&(p.value=y,p.useIndexAsValue=!0),y>-1?r.splice(y,0,p):r.push(p)}function s(f){if(i)return;l();const h=r.findIndex(p=>p.id===f);r.splice(h,1)}function l(){const f=r.find(h=>!h.disabled);f&&e.mandatory==="force"&&!n.value.length&&(n.value=[f.id])}$i(()=>{l()}),yi(()=>{i=!0}),TC(()=>{for(let f=0;f<r.length;f++)r[f].useIndexAsValue&&(r[f].value=f)});function u(f,h){const p=r.find(g=>g.id===f);if(!(h&&(p!=null&&p.disabled)))if(e.multiple){const g=n.value.slice(),m=g.findIndex(v=>v===f),y=~m;if(h=h??!y,y&&e.mandatory&&g.length<=1||!y&&e.max!=null&&g.length+1>e.max)return;m<0&&h?g.push(f):m>=0&&!h&&g.splice(m,1),n.value=g}else{const g=n.value.includes(f);if(e.mandatory&&g)return;n.value=h??!g?[f]:[]}}function c(f){if(e.multiple,n.value.length){const h=n.value[0],p=r.findIndex(y=>y.id===h);let g=(p+f)%r.length,m=r[g];for(;m.disabled&&g!==p;)g=(g+f)%r.length,m=r[g];if(m.disabled)return;n.value=[r[g].id]}else{const h=r.find(p=>!p.disabled);h&&(n.value=[h.id])}}const d={register:o,unregister:s,selected:n,select:u,disabled:nt(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:f=>n.value.includes(f),selectedClass:ue(()=>e.selectedClass),items:ue(()=>r),getItemIndex:f=>sOe(r,f)};return Jr(t,d),d}function sOe(e,t){const i=mne(e,[t]);return i.length?e.findIndex(r=>r.id===i[0]):-1}function mne(e,t){const i=[];return t.forEach(r=>{const n=e.find(o=>ea(r,o.value)),a=e[r];(n==null?void 0:n.value)!=null?i.push(n.id):a!=null&&i.push(a.id)}),i}function uOe(e,t){const i=[];return t.forEach(r=>{const n=e.findIndex(a=>a.id===r);if(~n){const a=e[n];i.push(a.value!=null?a.value:n)}}),i}const UN=Symbol.for("vuetify:v-btn-toggle"),lOe=We({...gne(),...Zp()},"VBtnToggle"),cOe=ot()({name:"VBtnToggle",props:lOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{isSelected:r,next:n,prev:a,select:o,selected:s}=Fl(e,UN);return ht(()=>{const l=BI.filterProps(e);return B(BI,ct({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=i.default)==null?void 0:u.call(i,{isSelected:r,next:n,prev:a,select:o,selected:s})]}})}),{next:n,prev:a,select:o}}}),dOe=["x-small","small","default","large","x-large"],js=We({size:{type:[String,Number],default:"default"}},"size");function z0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return xN(()=>{let i,r;return mE(dOe,e.size)?i=`${t}--size-${e.size}`:e.size&&(r={width:Ft(e.size),height:Ft(e.size)}),{sizeClasses:i,sizeStyles:r}})}const fOe=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Kt,...Mt(),...js(),...pr({tag:"i"}),...Nr()},"VIcon"),Vr=ot()({name:"VIcon",props:fOe(),setup(e,t){let{attrs:i,slots:r}=t;const n=vt(),{themeClasses:a}=MN(),{iconData:o}=DRe(ue(()=>n.value||e.icon)),{sizeClasses:s}=z0(e),{textColorClasses:l,textColorStyles:u}=Ui(nt(e,"color"));return ht(()=>{var f,h;const c=(f=r.default)==null?void 0:f.call(r);c&&(n.value=(h=xre(c).filter(p=>p.type===x2&&p.children&&typeof p.children=="string")[0])==null?void 0:h.children);const d=!!(i.onClick||i.onClickOnce);return B(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",a.value,s.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:Ft(e.size),height:Ft(e.size),width:Ft(e.size)},u.value,e.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function C3(e,t){const i=vt(),r=Tt(!1);if(AN){const n=new IntersectionObserver(a=>{r.value=!!a.find(o=>o.isIntersecting)},t);yi(()=>{n.disconnect()}),Pt(i,(a,o)=>{o&&(n.unobserve(o),r.value=!1),a&&n.observe(a)},{flush:"post"})}return{intersectionRef:i,isIntersecting:r}}const hOe=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Mt(),...js(),...pr({tag:"div"}),...Nr()},"VProgressCircular"),m0=ot()({name:"VProgressCircular",props:hOe(),setup(e,t){let{slots:i}=t;const r=20,n=2*Math.PI*r,a=vt(),{themeClasses:o}=zr(e),{sizeClasses:s,sizeStyles:l}=z0(e),{textColorClasses:u,textColorStyles:c}=Ui(nt(e,"color")),{textColorClasses:d,textColorStyles:f}=Ui(nt(e,"bgColor")),{intersectionRef:h,isIntersecting:p}=C3(),{resizeRef:g,contentRect:m}=Go(),y=ue(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),v=ue(()=>Number(e.width)),b=ue(()=>l.value?Number(e.size):m.value?m.value.width:Math.max(v.value,32)),_=ue(()=>r/(1-v.value/b.value)*2),w=ue(()=>v.value/b.value*_.value),T=ue(()=>Ft((100-y.value)/100*n));return Vn(()=>{h.value=a.value,g.value=a.value}),ht(()=>B(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[B("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[B("circle",{class:["v-progress-circular__underlay",d.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":n,"stroke-dashoffset":0},null),B("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":n,"stroke-dashoffset":T.value},null)]),i.default&&B("div",{class:"v-progress-circular__content"},[i.default({value:y.value})])]})),{}}}),Oz={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},xu=We({location:String},"location");function rg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=ci();return{locationStyles:ue(()=>{if(!e.location)return{};const{side:a,align:o}=PI(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(u){return i?i(u):0}const l={};return a!=="center"&&(t?l[Oz[a]]=`calc(100% - ${s(a)}px)`:l[a]=0),o!=="center"?t?l[Oz[o]]=`calc(100% - ${s(o)}px)`:l[o]=0:(a==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),l})}}const pOe=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Mt(),...xu({location:"top"}),...yn(),...pr(),...Nr()},"VProgressLinear"),D3=ot()({name:"VProgressLinear",props:pOe(),emits:{"update:modelValue":e=>!0},setup(e,t){var x;let{slots:i}=t;const r=Gt(e,"modelValue"),{isRtl:n,rtlClasses:a}=ci(),{themeClasses:o}=zr(e),{locationStyles:s}=rg(e),{textColorClasses:l,textColorStyles:u}=Ui(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:d}=rn(ue(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=rn(ue(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:p,backgroundColorStyles:g}=rn(e,"color"),{roundedClasses:m}=Dn(e),{intersectionRef:y,isIntersecting:v}=C3(),b=ue(()=>parseFloat(e.max)),_=ue(()=>parseFloat(e.height)),w=ue(()=>Qn(parseFloat(e.bufferValue)/b.value*100,0,100)),T=ue(()=>Qn(parseFloat(r.value)/b.value*100,0,100)),R=ue(()=>n.value!==e.reverse),F=ue(()=>e.indeterminate?"fade-transition":"slide-x-transition"),D=kr&&((x=window.matchMedia)==null?void 0:x.call(window,"(forced-colors: active)").matches);function A(N){if(!y.value)return;const{left:j,right:H,width:M}=y.value.getBoundingClientRect(),$=R.value?M-N.clientX+(H-M):N.clientX-j;r.value=Math.round($/M*b.value)}return ht(()=>B(e.tag,{ref:y,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&v.value,"v-progress-linear--reverse":R.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},m.value,o.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ft(_.value):0,"--v-progress-linear-height":Ft(_.value),...e.absolute?s.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(r.value),b.value),onClick:e.clickable&&A},{default:()=>[e.stream&&B("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[R.value?"left":"right"]:Ft(-_.value),borderTop:`${Ft(_.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ft(_.value/4)})`,width:Ft(100-w.value,"%"),"--v-progress-linear-stream-to":Ft(_.value*(R.value?1:-1))}},null),B("div",{class:["v-progress-linear__background",D?void 0:c.value],style:[d.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),B("div",{class:["v-progress-linear__buffer",D?void 0:f.value],style:[h.value,{opacity:parseFloat(e.bufferOpacity),width:Ft(w.value,"%")}]},null),B(ll,{name:F.value},{default:()=>[e.indeterminate?B("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(N=>B("div",{key:N,class:["v-progress-linear__indeterminate",N,D?void 0:p.value],style:g.value},null))]):B("div",{class:["v-progress-linear__determinate",D?void 0:p.value],style:[g.value,{width:Ft(T.value,"%")}]},null)]}),i.default&&B("div",{class:"v-progress-linear__content"},[i.default({value:T.value,buffer:w.value})])]})),{}}}),N3=We({loading:[Boolean,String]},"loader");function lA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return{loaderClasses:ue(()=>({[`${t}--loading`]:e.loading}))}}function cA(e,t){var r;let{slots:i}=t;return B("div",{class:`${e.name}__loader`},[((r=i.default)==null?void 0:r.call(i,{color:e.color,isActive:e.active}))||B(D3,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const gOe=["static","relative","fixed","absolute","sticky"],G0=We({position:{type:String,validator:e=>gOe.includes(e)}},"position");function W0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();return{positionClasses:ue(()=>e.position?`${t}--${e.position}`:void 0)}}function mOe(){const e=Cn("useRoute");return ue(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function yne(){var e,t;return(t=(e=Cn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function dA(e,t){var d,f;const i=Qoe("RouterLink"),r=ue(()=>!!(e.href||e.to)),n=ue(()=>(r==null?void 0:r.value)||ez(t,"click")||ez(e,"click"));if(typeof i=="string"||!("useLink"in i)){const h=nt(e,"href");return{isLink:r,isClickable:n,href:h,linkProps:wi({href:h})}}const a=ue(()=>({...e,to:nt(()=>e.to||"")})),o=i.useLink(a.value),s=ue(()=>e.to?o:void 0),l=mOe(),u=ue(()=>{var h,p,g;return s.value?e.exact?l.value?((g=s.value.isExactActive)==null?void 0:g.value)&&ea(s.value.route.value.query,l.value.query):((p=s.value.isExactActive)==null?void 0:p.value)??!1:((h=s.value.isActive)==null?void 0:h.value)??!1:!1}),c=ue(()=>{var h;return e.to?(h=s.value)==null?void 0:h.route.value.href:e.href});return{isLink:r,isClickable:n,isActive:u,route:(d=s.value)==null?void 0:d.route,navigate:(f=s.value)==null?void 0:f.navigate,href:c,linkProps:wi({href:c,"aria-current":ue(()=>u.value?"page":void 0)})}}const fA=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let mP=!1;function yOe(e,t){let i=!1,r,n;kr&&(e!=null&&e.beforeEach)&&(Mr(()=>{window.addEventListener("popstate",a),r=e.beforeEach((o,s,l)=>{mP?i?t(l):l():setTimeout(()=>i?t(l):l()),mP=!0}),n=e==null?void 0:e.afterEach(()=>{mP=!1})}),ia(()=>{window.removeEventListener("popstate",a),r==null||r(),n==null||n()}));function a(o){var s;(s=o.state)!=null&&s.replaced||(i=!0,setTimeout(()=>i=!1))}}function vOe(e,t){Pt(()=>{var i;return(i=e.isActive)==null?void 0:i.value},i=>{e.isLink.value&&i&&t&&Mr(()=>{t(!0)})},{immediate:!0})}const qI=Symbol("rippleStop"),bOe=80;function Pz(e,t){e.style.transform=t,e.style.webkitTransform=t}function VI(e){return e.constructor.name==="TouchEvent"}function vne(e){return e.constructor.name==="KeyboardEvent"}const _Oe=function(e,t){var d;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,n=0;if(!vne(e)){const f=t.getBoundingClientRect(),h=VI(e)?e.touches[e.touches.length-1]:e;r=h.clientX-f.left,n=h.clientY-f.top}let a=0,o=.3;(d=t._ripple)!=null&&d.circle?(o=.15,a=t.clientWidth/2,a=i.center?a:a+Math.sqrt((r-a)**2+(n-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-a*2)/2}px`,l=`${(t.clientHeight-a*2)/2}px`,u=i.center?s:`${r-a}px`,c=i.center?l:`${n-a}px`;return{radius:a,scale:o,x:u,y:c,centerX:s,centerY:l}},wE={show(e,t){var h;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),n=document.createElement("span");r.appendChild(n),r.className="v-ripple__container",i.class&&(r.className+=` ${i.class}`);const{radius:a,scale:o,x:s,y:l,centerX:u,centerY:c}=_Oe(e,t,i),d=`${a*2}px`;n.className="v-ripple__animation",n.style.width=d,n.style.height=d,t.appendChild(r);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),n.classList.add("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--visible"),Pz(n,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),n.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.remove("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--in"),Pz(n,`translate(${u}, ${c}) scale3d(1,1,1)`)})})},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const r=performance.now()-Number(i.dataset.activated),n=Math.max(250-r,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=i.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(i.parentNode)},300)},n)}};function bne(e){return typeof e>"u"||!!e}function g2(e){const t={},i=e.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||e[qI])){if(e[qI]=!0,VI(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||vne(e),i._ripple.class&&(t.class=i._ripple.class),VI(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{wE.show(e,i,t)},i._ripple.showTimer=window.setTimeout(()=>{var r;(r=i==null?void 0:i._ripple)!=null&&r.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},bOe)}else wE.show(e,i,t)}}function Iz(e){e[qI]=!0}function Wa(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Wa(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),wE.hide(t)}}function _ne(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let m2=!1;function wne(e){!m2&&(e.keyCode===KQ.enter||e.keyCode===KQ.space)&&(m2=!0,g2(e))}function Sne(e){m2=!1,Wa(e)}function Ane(e){m2&&(m2=!1,Wa(e))}function Tne(e,t,i){const{value:r,modifiers:n}=t,a=bne(r);if(a||wE.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=n.center,e._ripple.circle=n.circle,A3(r)&&r.class&&(e._ripple.class=r.class),a&&!i){if(n.stop){e.addEventListener("touchstart",Iz,{passive:!0}),e.addEventListener("mousedown",Iz);return}e.addEventListener("touchstart",g2,{passive:!0}),e.addEventListener("touchend",Wa,{passive:!0}),e.addEventListener("touchmove",_ne,{passive:!0}),e.addEventListener("touchcancel",Wa),e.addEventListener("mousedown",g2),e.addEventListener("mouseup",Wa),e.addEventListener("mouseleave",Wa),e.addEventListener("keydown",wne),e.addEventListener("keyup",Sne),e.addEventListener("blur",Ane),e.addEventListener("dragstart",Wa,{passive:!0})}else!a&&i&&Ene(e)}function Ene(e){e.removeEventListener("mousedown",g2),e.removeEventListener("touchstart",g2),e.removeEventListener("touchend",Wa),e.removeEventListener("touchmove",_ne),e.removeEventListener("touchcancel",Wa),e.removeEventListener("mouseup",Wa),e.removeEventListener("mouseleave",Wa),e.removeEventListener("keydown",wne),e.removeEventListener("keyup",Sne),e.removeEventListener("dragstart",Wa),e.removeEventListener("blur",Ane)}function wOe(e,t){Tne(e,t,!1)}function SOe(e){delete e._ripple,Ene(e)}function AOe(e,t){if(t.value===t.oldValue)return;const i=bne(t.oldValue);Tne(e,t,i)}const Ru={mounted:wOe,unmounted:SOe,updated:AOe},F3=We({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:UN},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Kt,appendIcon:Kt,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Va(),...Mt(),...vi(),...ni(),...di(),...eg(),...N3(),...xu(),...G0(),...yn(),...fA(),...js(),...pr({tag:"button"}),...Nr(),...Ao({variant:"elevated"})},"VBtn"),qr=ot()({name:"VBtn",props:F3(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{themeClasses:n}=zr(e),{borderClasses:a}=oo(e),{densityClasses:o}=oa(e),{dimensionStyles:s}=ii(e),{elevationClasses:l}=Ei(e),{loaderClasses:u}=lA(e),{locationStyles:c}=rg(e),{positionClasses:d}=W0(e),{roundedClasses:f}=Dn(e),{sizeClasses:h,sizeStyles:p}=z0(e),g=tg(e,e.symbol,!1),m=dA(e,i),y=ue(()=>{var x;return e.active!==void 0?e.active:m.isLink.value?(x=m.isActive)==null?void 0:x.value:g==null?void 0:g.isSelected.value}),v=ue(()=>y.value?e.activeColor??e.color:e.color),b=ue(()=>{var N,j;return{color:(g==null?void 0:g.isSelected.value)&&(!m.isLink.value||((N=m.isActive)==null?void 0:N.value))||!g||((j=m.isActive)==null?void 0:j.value)?v.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:_,colorStyles:w,variantClasses:T}=Yp(b),R=ue(()=>(g==null?void 0:g.disabled.value)||e.disabled),F=ue(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),D=ue(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function A(x){var N;R.value||m.isLink.value&&(x.metaKey||x.ctrlKey||x.shiftKey||x.button!==0||i.target==="_blank")||((N=m.navigate)==null||N.call(m,x),g==null||g.toggle())}return vOe(m,g==null?void 0:g.select),ht(()=>{const x=m.isLink.value?"a":e.tag,N=!!(e.prependIcon||r.prepend),j=!!(e.appendIcon||r.append),H=!!(e.icon&&e.icon!==!0);return $r(B(x,ct({type:x==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":e.block,"v-btn--disabled":R.value,"v-btn--elevated":F.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},n.value,a.value,_.value,o.value,l.value,u.value,d.value,f.value,h.value,T.value,e.class],style:[w.value,s.value,c.value,p.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:R.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:A,value:D.value},m.linkProps),{default:()=>{var M;return[Nl(!0,"v-btn"),!e.icon&&N&&B("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?B(Sr,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):B(Vr,{key:"prepend-icon",icon:e.prependIcon},null)]),B("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&H?B(Vr,{key:"content-icon",icon:e.icon},null):B(Sr,{key:"content-defaults",disabled:!H,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var $;return[(($=r.default)==null?void 0:$.call(r))??ir(e.text)]}})]),!e.icon&&j&&B("span",{key:"append",class:"v-btn__append"},[r.append?B(Sr,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):B(Vr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&B("span",{key:"loader",class:"v-btn__loader"},[((M=r.loader)==null?void 0:M.call(r))??B(m0,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ru,!R.value&&e.ripple,"",{center:!!e.icon}]])}),{group:g}}}),TOe=We({...F3({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),EOe=ot()({name:"VAppBarNavIcon",props:TOe(),setup(e,t){let{slots:i}=t;return ht(()=>B(qr,ct(e,{class:["v-app-bar-nav-icon"]}),i)),{}}}),xOe=ot()({name:"VAppBarTitle",props:une(),setup(e,t){let{slots:i}=t;return ht(()=>B(jN,ct(e,{class:"v-app-bar-title"}),i)),{}}}),xne=Ms("v-alert-title"),ROe=["success","info","warning","error"],OOe=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Kt,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>ROe.includes(e)},...Mt(),...vi(),...ni(),...di(),...xu(),...G0(),...yn(),...pr(),...Nr(),...Ao({variant:"flat"})},"VAlert"),POe=ot()({name:"VAlert",props:OOe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=Gt(e,"modelValue"),a=ue(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=ue(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:s}=zr(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Yp(o),{densityClasses:d}=oa(e),{dimensionStyles:f}=ii(e),{elevationClasses:h}=Ei(e),{locationStyles:p}=rg(e),{positionClasses:g}=W0(e),{roundedClasses:m}=Dn(e),{textColorClasses:y,textColorStyles:v}=Ui(nt(e,"borderColor")),{t:b}=Un(),_=ue(()=>({"aria-label":b(e.closeLabel),onClick(w){n.value=!1,i("click:close",w)}}));return()=>{const w=!!(r.prepend||a.value),T=!!(r.title||e.title),R=!!(r.close||e.closable);return n.value&&B(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},s.value,l.value,d.value,h.value,g.value,m.value,c.value,e.class],style:[u.value,f.value,p.value,e.style],role:"alert"},{default:()=>{var F,D;return[Nl(!1,"v-alert"),e.border&&B("div",{key:"border",class:["v-alert__border",y.value],style:v.value},null),w&&B("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?B(Sr,{key:"prepend-defaults",disabled:!a.value,defaults:{VIcon:{density:e.density,icon:a.value,size:e.prominent?44:28}}},r.prepend):B(Vr,{key:"prepend-icon",density:e.density,icon:a.value,size:e.prominent?44:28},null)]),B("div",{class:"v-alert__content"},[T&&B(xne,{key:"title"},{default:()=>{var A;return[((A=r.title)==null?void 0:A.call(r))??e.title]}}),((F=r.text)==null?void 0:F.call(r))??e.text,(D=r.default)==null?void 0:D.call(r)]),r.append&&B("div",{key:"append",class:"v-alert__append"},[r.append()]),R&&B("div",{key:"close",class:"v-alert__close"},[r.close?B(Sr,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var A;return[(A=r.close)==null?void 0:A.call(r,{props:_.value})]}}):B(qr,ct({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},_.value),null)])]}})}}}),IOe=We({start:Boolean,end:Boolean,icon:Kt,image:String,text:String,...Va(),...Mt(),...vi(),...yn(),...js(),...pr(),...Nr(),...Ao({variant:"flat"})},"VAvatar"),vo=ot()({name:"VAvatar",props:IOe(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{borderClasses:n}=oo(e),{colorClasses:a,colorStyles:o,variantClasses:s}=Yp(e),{densityClasses:l}=oa(e),{roundedClasses:u}=Dn(e),{sizeClasses:c,sizeStyles:d}=z0(e);return ht(()=>B(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,n.value,a.value,l.value,u.value,c.value,s.value,e.class],style:[o.value,d.value,e.style]},{default:()=>[i.default?B(Sr,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[i.default()]}):e.image?B(yu,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?B(Vr,{key:"icon",icon:e.icon},null):e.text,Nl(!1,"v-avatar")]})),{}}}),COe=We({text:String,onClick:Si(),...Mt(),...Nr()},"VLabel"),K0=ot()({name:"VLabel",props:COe(),setup(e,t){let{slots:i}=t;return ht(()=>{var r;return B("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=i.default)==null?void 0:r.call(i)])}),{}}}),Rne=Symbol.for("vuetify:selection-control-group"),HN=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Kt,trueIcon:Kt,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:ea},...Mt(),...vi(),...Nr()},"SelectionControlGroup"),DOe=We({...HN({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),One=ot()({name:"VSelectionControlGroup",props:DOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),n=Ti(),a=ue(()=>e.id||`v-selection-control-group-${n}`),o=ue(()=>e.name||a.value),s=new Set;return Jr(Rne,{modelValue:r,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),ia(()=>{s.delete(l)})}}),In({[e.defaultsTarget]:{color:nt(e,"color"),disabled:nt(e,"disabled"),density:nt(e,"density"),error:nt(e,"error"),inline:nt(e,"inline"),modelValue:r,multiple:ue(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:nt(e,"falseIcon"),trueIcon:nt(e,"trueIcon"),readonly:nt(e,"readonly"),ripple:nt(e,"ripple"),type:nt(e,"type"),valueComparator:nt(e,"valueComparator")}}),ht(()=>{var l;return B("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=i.default)==null?void 0:l.call(i)])}),{}}}),L3=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Mt(),...HN()},"VSelectionControl");function NOe(e){const t=_r(Rne,void 0),{densityClasses:i}=oa(e),r=Gt(e,"modelValue"),n=ue(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=ue(()=>e.falseValue!==void 0?e.falseValue:!1),o=ue(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),s=ue({get(){const h=t?t.modelValue.value:r.value;return o.value?En(h).some(p=>e.valueComparator(p,n.value)):e.valueComparator(h,n.value)},set(h){if(e.readonly)return;const p=h?n.value:a.value;let g=p;o.value&&(g=h?[...En(r.value),p]:En(r.value).filter(m=>!e.valueComparator(m,n.value))),t?t.modelValue.value=g:r.value=g}}),{textColorClasses:l,textColorStyles:u}=Ui(ue(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=rn(ue(()=>s.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=ue(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:i,trueValue:n,falseValue:a,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:f}}const hl=ot()({name:"VSelectionControl",directives:{Ripple:Ru},inheritAttrs:!1,props:L3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{group:n,densityClasses:a,icon:o,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:f}=NOe(e),h=Ti(),p=Tt(!1),g=Tt(!1),m=vt(),y=ue(()=>e.id||`input-${h}`),v=ue(()=>!e.disabled&&!e.readonly);n==null||n.onForceUpdate(()=>{m.value&&(m.value.checked=s.value)});function b(R){v.value&&(p.value=!0,f0(R.target,":focus-visible")!==!1&&(g.value=!0))}function _(){p.value=!1,g.value=!1}function w(R){R.stopPropagation()}function T(R){if(!v.value){m.value&&(m.value.checked=s.value);return}e.readonly&&n&&Mr(()=>n.forceUpdate()),s.value=R.target.checked}return ht(()=>{var x,N;const R=r.label?r.label({label:e.label,props:{for:y.value}}):e.label,[F,D]=Dl(i),A=B("input",ct({ref:m,checked:s.value,disabled:!!e.disabled,id:y.value,onBlur:_,onFocus:b,onInput:T,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},D),null);return B("div",ct({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":e.inline},a.value,e.class]},F,{style:e.style}),[B("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(x=r.default)==null?void 0:x.call(r,{backgroundColorClasses:c,backgroundColorStyles:d}),$r(B("div",{class:["v-selection-control__input"]},[((N=r.input)==null?void 0:N.call(r,{model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:A,icon:o.value,props:{onFocus:b,onBlur:_,id:y.value}}))??B(Ot,null,[o.value&&B(Vr,{key:"icon",icon:o.value},null),A])]),[[eo("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),R&&B(K0,{for:y.value,onClick:w},{default:()=>[R]})])}),{isFocused:p,input:m}}}),Pne=We({indeterminate:Boolean,indeterminateIcon:{type:Kt,default:"$checkboxIndeterminate"},...L3({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),vu=ot()({name:"VCheckboxBtn",props:Pne(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"indeterminate"),n=Gt(e,"modelValue");function a(l){r.value&&(r.value=!1)}const o=ue(()=>r.value?e.indeterminateIcon:e.falseIcon),s=ue(()=>r.value?e.indeterminateIcon:e.trueIcon);return ht(()=>{const l=zn(hl.filterProps(e),["modelValue"]);return B(hl,ct(l,{modelValue:n.value,"onUpdate:modelValue":[u=>n.value=u,a],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),i)}),{}}});function Ine(e){const{t}=Un();function i(r){let{name:n}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[n],o=e[`onClick:${n}`];function s(u){u.key!=="Enter"&&u.key!==" "||(u.preventDefault(),u.stopPropagation(),T3(o,new PointerEvent("click",u)))}const l=o&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return B(Vr,{icon:e[`${n}Icon`],"aria-label":l,onClick:o,onKeydown:s},null)}return{InputIcon:i}}const FOe=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Mt(),...Xo({transition:{component:BN,leaveAbsolute:!0,group:!0}})},"VMessages"),Cne=ot()({name:"VMessages",props:FOe(),setup(e,t){let{slots:i}=t;const r=ue(()=>En(e.messages)),{textColorClasses:n,textColorStyles:a}=Ui(ue(()=>e.color));return ht(()=>B(Zi,{transition:e.transition,tag:"div",class:["v-messages",n.value,e.class],style:[a.value,e.style]},{default:()=>[e.active&&r.value.map((o,s)=>B("div",{class:"v-messages__message",key:`${s}-${r.value}`},[i.message?i.message({message:o}):o]))]})),{}}}),hA=We({focused:Boolean,"onUpdate:focused":Si()},"focus");function Ou(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls();const i=Gt(e,"focused"),r=ue(()=>({[`${t}--focused`]:i.value}));function n(){i.value=!0}function a(){i.value=!1}return{focusClasses:r,isFocused:i,focus:n,blur:a}}const Dne=Symbol.for("vuetify:form"),LOe=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function MOe(e){const t=Gt(e,"modelValue"),i=ue(()=>e.disabled),r=ue(()=>e.readonly),n=Tt(!1),a=vt([]),o=vt([]);async function s(){const c=[];let d=!0;o.value=[],n.value=!0;for(const f of a.value){const h=await f.validate();if(h.length>0&&(d=!1,c.push({id:f.id,errorMessages:h})),!d&&e.fastFail)break}return o.value=c,n.value=!1,{valid:d,errors:o.value}}function l(){a.value.forEach(c=>c.reset())}function u(){a.value.forEach(c=>c.resetValidation())}return Pt(a,()=>{let c=0,d=0;const f=[];for(const h of a.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;o.value=f,t.value=d>0?!1:c===a.value.length?!0:null},{deep:!0,flush:"post"}),Jr(Dne,{register:c=>{let{id:d,vm:f,validate:h,reset:p,resetValidation:g}=c;a.value.some(m=>m.id===d),a.value.push({id:d,validate:h,reset:p,resetValidation:g,vm:_C(f),isValid:null,errorMessages:[]})},unregister:c=>{a.value=a.value.filter(d=>d.id!==c)},update:(c,d,f)=>{const h=a.value.find(p=>p.id===c);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:i,isReadonly:r,isValidating:n,isValid:t,items:a,validateOn:nt(e,"validateOn")}),{errors:o,isDisabled:i,isReadonly:r,isValidating:n,isValid:t,items:a,validate:s,reset:l,resetValidation:u}}function M3(e){const t=_r(Dne,null);return{...t,isReadonly:ue(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:ue(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const Nne=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...hA()},"validation");function Fne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ls(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ti();const r=Gt(e,"modelValue"),n=ue(()=>e.validationValue===void 0?r.value:e.validationValue),a=M3(e),o=vt([]),s=Tt(!0),l=ue(()=>!!(En(r.value===""?null:r.value).length||En(n.value===""?null:n.value).length)),u=ue(()=>{var b;return(b=e.errorMessages)!=null&&b.length?En(e.errorMessages).concat(o.value).slice(0,Math.max(0,Number(e.maxErrors))):o.value}),c=ue(()=>{var w;let b=(e.validateOn??((w=a.validateOn)==null?void 0:w.value))||"input";b==="lazy"&&(b="input lazy"),b==="eager"&&(b="input eager");const _=new Set((b==null?void 0:b.split(" "))??[]);return{input:_.has("input"),blur:_.has("blur")||_.has("input")||_.has("invalid-input"),invalidInput:_.has("invalid-input"),lazy:_.has("lazy"),eager:_.has("eager")}}),d=ue(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?s.value?o.value.length||c.value.lazy?null:!0:!o.value.length:!0}),f=Tt(!1),h=ue(()=>({[`${t}--error`]:d.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:a.isDisabled.value,[`${t}--readonly`]:a.isReadonly.value})),p=Cn("validation"),g=ue(()=>e.name??ti(i));v0(()=>{var b;(b=a.register)==null||b.call(a,{id:g.value,vm:p,validate:v,reset:m,resetValidation:y})}),yi(()=>{var b;(b=a.unregister)==null||b.call(a,g.value)}),$i(async()=>{var b;c.value.lazy||await v(!c.value.eager),(b=a.update)==null||b.call(a,g.value,d.value,u.value)}),Aa(()=>c.value.input||c.value.invalidInput&&d.value===!1,()=>{Pt(n,()=>{if(n.value!=null)v();else if(e.focused){const b=Pt(()=>e.focused,_=>{_||v(),b()})}})}),Aa(()=>c.value.blur,()=>{Pt(()=>e.focused,b=>{b||v()})}),Pt([d,u],()=>{var b;(b=a.update)==null||b.call(a,g.value,d.value,u.value)});async function m(){r.value=null,await Mr(),await y()}async function y(){s.value=!0,c.value.lazy?o.value=[]:await v(!c.value.eager)}async function v(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const _=[];f.value=!0;for(const w of e.rules){if(_.length>=Number(e.maxErrors??1))break;const R=await(typeof w=="function"?w:()=>w)(n.value);if(R!==!0){if(R!==!1&&typeof R!="string"){console.warn(`${R} is not a valid value. Rule functions must return boolean true or a string.`);continue}_.push(R||"")}}return o.value=_,f.value=!1,s.value=b,o.value}return{errorMessages:u,isDirty:l,isDisabled:a.isDisabled,isReadonly:a.isReadonly,isPristine:s,isValid:d,isValidating:f,reset:m,resetValidation:y,validate:v,validationClasses:h}}const Pu=We({id:String,appendIcon:Kt,centerAffix:{type:Boolean,default:!0},prependIcon:Kt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Si(),"onClick:append":Si(),...Mt(),...vi(),...Cl(ni(),["maxWidth","minWidth","width"]),...Nr(),...Nne()},"VInput"),Hi=ot()({name:"VInput",props:{...Pu()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r,emit:n}=t;const{densityClasses:a}=oa(e),{dimensionStyles:o}=ii(e),{themeClasses:s}=zr(e),{rtlClasses:l}=ci(),{InputIcon:u}=Ine(e),c=Ti(),d=ue(()=>e.id||`input-${c}`),f=ue(()=>`${d.value}-messages`),{errorMessages:h,isDirty:p,isDisabled:g,isReadonly:m,isPristine:y,isValid:v,isValidating:b,reset:_,resetValidation:w,validate:T,validationClasses:R}=Fne(e,"v-input",d),F=ue(()=>({id:d,messagesId:f,isDirty:p,isDisabled:g,isReadonly:m,isPristine:y,isValid:v,isValidating:b,reset:_,resetValidation:w,validate:T})),D=ue(()=>{var A;return(A=e.errorMessages)!=null&&A.length||!y.value&&h.value.length?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return ht(()=>{var H,M,$,te;const A=!!(r.prepend||e.prependIcon),x=!!(r.append||e.appendIcon),N=D.value.length>0,j=!e.hideDetails||e.hideDetails==="auto"&&(N||!!r.details);return B("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,s.value,l.value,R.value,e.class],style:[o.value,e.style]},[A&&B("div",{key:"prepend",class:"v-input__prepend"},[(H=r.prepend)==null?void 0:H.call(r,F.value),e.prependIcon&&B(u,{key:"prepend-icon",name:"prepend"},null)]),r.default&&B("div",{class:"v-input__control"},[(M=r.default)==null?void 0:M.call(r,F.value)]),x&&B("div",{key:"append",class:"v-input__append"},[e.appendIcon&&B(u,{key:"append-icon",name:"append"},null),($=r.append)==null?void 0:$.call(r,F.value)]),j&&B("div",{id:f.value,class:"v-input__details",role:"alert","aria-live":"polite"},[B(Cne,{active:N,messages:D.value},{message:r.message}),(te=r.details)==null?void 0:te.call(r,F.value)])])}),{reset:_,resetValidation:w,validate:T,isValid:v,errorMessages:h}}}),jOe=We({...Pu(),...zn(Pne(),["inline"])},"VCheckbox"),kOe=ot()({name:"VCheckbox",inheritAttrs:!1,props:jOe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const n=Gt(e,"modelValue"),{isFocused:a,focus:o,blur:s}=Ou(e),l=Ti(),u=ue(()=>e.id||`checkbox-${l}`);return ht(()=>{const[c,d]=Dl(i),f=Hi.filterProps(e),h=vu.filterProps(e);return B(Hi,ct({class:["v-checkbox",e.class]},c,f,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,id:u.value,focused:a.value,style:e.style}),{...r,default:p=>{let{id:g,messagesId:m,isDisabled:y,isReadonly:v,isValid:b}=p;return B(vu,ct(h,{id:g.value,"aria-describedby":m.value,disabled:y.value,readonly:v.value},d,{error:b.value===!1,modelValue:n.value,"onUpdate:modelValue":_=>n.value=_,onFocus:o,onBlur:s}),r)}})}),{}}});function BOe(e){let{selectedElement:t,containerElement:i,isRtl:r,isHorizontal:n}=e;const a=y2(n,i),o=Lne(n,r,i),s=y2(n,t),l=Mne(n,t),u=s*.4;return o>l?l-u:o+a<l+s?l-a+s+u:o}function qOe(e){let{selectedElement:t,containerElement:i,isHorizontal:r}=e;const n=y2(r,i),a=Mne(r,t),o=y2(r,t);return a-n/2+o/2}function Cz(e,t){const i=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[i])||0}function VOe(e,t){const i=e?"clientWidth":"clientHeight";return(t==null?void 0:t[i])||0}function Lne(e,t,i){if(!i)return 0;const{scrollLeft:r,offsetWidth:n,scrollWidth:a}=i;return e?t?a-n+r:r:i.scrollTop}function y2(e,t){const i=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[i])||0}function Mne(e,t){const i=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[i])||0}const jne=Symbol.for("vuetify:v-slide-group"),$N=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:jne},nextIcon:{type:Kt,default:"$next"},prevIcon:{type:Kt,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Mt(),...Wp({mobile:null}),...pr(),...Zp({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),v2=ot()({name:"VSlideGroup",props:$N(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{isRtl:r}=ci(),{displayClasses:n,mobile:a}=So(e),o=Fl(e,e.symbol),s=Tt(!1),l=Tt(0),u=Tt(0),c=Tt(0),d=ue(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:h}=Go(),{resizeRef:p,contentRect:g}=Go(),m=RRe(),y=ue(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),v=ue(()=>o.selected.value.length?o.items.value.findIndex(fe=>fe.id===o.selected.value[0]):-1),b=ue(()=>o.selected.value.length?o.items.value.findIndex(fe=>fe.id===o.selected.value[o.selected.value.length-1]):-1);if(kr){let fe=-1;Pt(()=>[o.selected.value,h.value,g.value,d.value],()=>{cancelAnimationFrame(fe),fe=requestAnimationFrame(()=>{if(h.value&&g.value){const xe=d.value?"width":"height";u.value=h.value[xe],c.value=g.value[xe],s.value=u.value+1<c.value}if(v.value>=0&&p.el){const xe=p.el.children[b.value];w(xe,e.centerActive)}})})}const _=Tt(!1);function w(fe,xe){let de=0;xe?de=qOe({containerElement:f.el,isHorizontal:d.value,selectedElement:fe}):de=BOe({containerElement:f.el,isHorizontal:d.value,isRtl:r.value,selectedElement:fe}),T(de)}function T(fe){if(!kr||!f.el)return;const xe=y2(d.value,f.el),de=Lne(d.value,r.value,f.el);if(!(Cz(d.value,f.el)<=xe||Math.abs(fe-de)<16)){if(d.value&&r.value&&f.el){const{scrollWidth:Fe,offsetWidth:Le}=f.el;fe=Fe-Le-fe}d.value?m.horizontal(fe,y.value):m(fe,y.value)}}function R(fe){const{scrollTop:xe,scrollLeft:de}=fe.target;l.value=d.value?de:xe}function F(fe){if(_.value=!0,!(!s.value||!p.el)){for(const xe of fe.composedPath())for(const de of p.el.children)if(de===xe){w(de);return}}}function D(fe){_.value=!1}let A=!1;function x(fe){var xe;!A&&!_.value&&!(fe.relatedTarget&&((xe=p.el)!=null&&xe.contains(fe.relatedTarget)))&&M(),A=!1}function N(){A=!0}function j(fe){if(!p.el)return;function xe(de){fe.preventDefault(),M(de)}d.value?fe.key==="ArrowRight"?xe(r.value?"prev":"next"):fe.key==="ArrowLeft"&&xe(r.value?"next":"prev"):fe.key==="ArrowDown"?xe("next"):fe.key==="ArrowUp"&&xe("prev"),fe.key==="Home"?xe("first"):fe.key==="End"&&xe("last")}function H(fe,xe){if(!fe)return;let de=fe;do de=de==null?void 0:de[xe==="next"?"nextElementSibling":"previousElementSibling"];while(de!=null&&de.hasAttribute("disabled"));return de}function M(fe){if(!p.el)return;let xe;if(!fe)xe=c2(p.el)[0];else if(fe==="next"){if(xe=H(p.el.querySelector(":focus"),fe),!xe)return M("first")}else if(fe==="prev"){if(xe=H(p.el.querySelector(":focus"),fe),!xe)return M("last")}else fe==="first"?(xe=p.el.firstElementChild,xe!=null&&xe.hasAttribute("disabled")&&(xe=H(xe,"next"))):fe==="last"&&(xe=p.el.lastElementChild,xe!=null&&xe.hasAttribute("disabled")&&(xe=H(xe,"prev")));xe&&xe.focus({preventScroll:!0})}function $(fe){const xe=d.value&&r.value?-1:1,de=(fe==="prev"?-xe:xe)*u.value;let ae=l.value+de;if(d.value&&r.value&&f.el){const{scrollWidth:Fe,offsetWidth:Le}=f.el;ae+=Fe-Le}T(ae)}const te=ue(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),re=ue(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return s.value||Math.abs(l.value)>0;case"mobile":return a.value||s.value||Math.abs(l.value)>0;default:return!a.value&&(s.value||Math.abs(l.value)>0)}}),oe=ue(()=>Math.abs(l.value)>1),J=ue(()=>{if(!f.value)return!1;const fe=Cz(d.value,f.el),xe=VOe(d.value,f.el);return fe-xe-Math.abs(l.value)>1});return ht(()=>B(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":re.value,"v-slide-group--is-overflowing":s.value},n.value,e.class],style:e.style,tabindex:_.value||o.selected.value.length?-1:0,onFocus:x},{default:()=>{var fe,xe,de;return[re.value&&B("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!oe.value}],onMousedown:N,onClick:()=>oe.value&&$("prev")},[((fe=i.prev)==null?void 0:fe.call(i,te.value))??B(p2,null,{default:()=>[B(Vr,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),B("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:R},[B("div",{ref:p,class:"v-slide-group__content",onFocusin:F,onFocusout:D,onKeydown:j},[(xe=i.default)==null?void 0:xe.call(i,te.value)])]),re.value&&B("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!J.value}],onMousedown:N,onClick:()=>J.value&&$("next")},[((de=i.next)==null?void 0:de.call(i,te.value))??B(p2,null,{default:()=>[B(Vr,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:$,scrollOffset:l,focus:M,hasPrev:oe,hasNext:J}}}),kne=Symbol.for("vuetify:v-chip-group"),UOe=We({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:ea},...$N(),...Mt(),...Zp({selectedClass:"v-chip--selected"}),...pr(),...Nr(),...Ao({variant:"tonal"})},"VChipGroup"),HOe=ot()({name:"VChipGroup",props:UOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{isSelected:n,select:a,next:o,prev:s,selected:l}=Fl(e,kne);return In({VChip:{color:nt(e,"color"),disabled:nt(e,"disabled"),filter:nt(e,"filter"),variant:nt(e,"variant")}}),ht(()=>{const u=v2.filterProps(e);return B(v2,ct(u,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var c;return[(c=i.default)==null?void 0:c.call(i,{isSelected:n,select:a,next:o,prev:s,selected:l.value})]}})}),{}}}),$Oe=We({activeClass:String,appendAvatar:String,appendIcon:Kt,closable:Boolean,closeIcon:{type:Kt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Kt,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Kt,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Si(),onClickOnce:Si(),...Va(),...Mt(),...vi(),...di(),...eg(),...yn(),...fA(),...js(),...pr({tag:"span"}),...Nr(),...Ao({variant:"tonal"})},"VChip"),J0=ot()({name:"VChip",directives:{Ripple:Ru},props:$Oe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{t:a}=Un(),{borderClasses:o}=oo(e),{colorClasses:s,colorStyles:l,variantClasses:u}=Yp(e),{densityClasses:c}=oa(e),{elevationClasses:d}=Ei(e),{roundedClasses:f}=Dn(e),{sizeClasses:h}=z0(e),{themeClasses:p}=zr(e),g=Gt(e,"modelValue"),m=tg(e,kne,!1),y=dA(e,i),v=ue(()=>e.link!==!1&&y.isLink.value),b=ue(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||y.isClickable.value)),_=ue(()=>({"aria-label":a(e.closeLabel),onClick(R){R.preventDefault(),R.stopPropagation(),g.value=!1,r("click:close",R)}}));function w(R){var F;r("click",R),b.value&&((F=y.navigate)==null||F.call(y,R),m==null||m.toggle())}function T(R){(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),w(R))}return()=>{var M;const R=y.isLink.value?"a":e.tag,F=!!(e.appendIcon||e.appendAvatar),D=!!(F||n.append),A=!!(n.close||e.closable),x=!!(n.filter||e.filter)&&m,N=!!(e.prependIcon||e.prependAvatar),j=!!(N||n.prepend),H=!m||m.isSelected.value;return g.value&&$r(B(R,ct({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":b.value,"v-chip--filter":x,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((M=y.isActive)==null?void 0:M.value)},p.value,o.value,H?s.value:void 0,c.value,d.value,f.value,h.value,u.value,m==null?void 0:m.selectedClass.value,e.class],style:[H?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:b.value?0:void 0,onClick:w,onKeydown:b.value&&!v.value&&T},y.linkProps),{default:()=>{var $;return[Nl(b.value,"v-chip"),x&&B(qN,{key:"filter"},{default:()=>[$r(B("div",{class:"v-chip__filter"},[n.filter?B(Sr,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},n.filter):B(Vr,{key:"filter-icon",icon:e.filterIcon},null)]),[[to,m.isSelected.value]])]}),j&&B("div",{key:"prepend",class:"v-chip__prepend"},[n.prepend?B(Sr,{key:"prepend-defaults",disabled:!N,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},n.prepend):B(Ot,null,[e.prependIcon&&B(Vr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&B(vo,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),B("div",{class:"v-chip__content","data-no-activator":""},[(($=n.default)==null?void 0:$.call(n,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))??ir(e.text)]),D&&B("div",{key:"append",class:"v-chip__append"},[n.append?B(Sr,{key:"append-defaults",disabled:!F,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},n.append):B(Ot,null,[e.appendIcon&&B(Vr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&B(vo,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),A&&B("button",ct({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},_.value),[n.close?B(Sr,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},n.close):B(Vr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[eo("ripple"),b.value&&e.ripple,null]])}}}),UI=Symbol.for("vuetify:list");function Bne(){const e=_r(UI,{hasPrepend:Tt(!1),updateHasPrepend:()=>null}),t={hasPrepend:Tt(!1),updateHasPrepend:i=>{i&&(t.hasPrepend.value=i)}};return Jr(UI,t),e}function qne(){return _r(UI,null)}const QN=e=>{const t={activate:i=>{let{id:r,value:n,activated:a}=i;return r=rr(r),e&&!n&&a.size===1&&a.has(r)||(n?a.add(r):a.delete(r)),a},in:(i,r,n)=>{let a=new Set;if(i!=null)for(const o of En(i))a=t.activate({id:o,value:!0,activated:new Set(a),children:r,parents:n});return a},out:i=>Array.from(i)};return t},Vne=e=>{const t=QN(e);return{activate:r=>{let{activated:n,id:a,...o}=r;a=rr(a);const s=n.has(a)?new Set([a]):new Set;return t.activate({...o,id:a,activated:s})},in:(r,n,a)=>{let o=new Set;if(r!=null){const s=En(r);s.length&&(o=t.in(s.slice(0,1),n,a))}return o},out:(r,n,a)=>t.out(r,n,a)}},QOe=e=>{const t=QN(e);return{activate:r=>{let{id:n,activated:a,children:o,...s}=r;return n=rr(n),o.has(n)?a:t.activate({id:n,activated:a,children:o,...s})},in:t.in,out:t.out}},zOe=e=>{const t=Vne(e);return{activate:r=>{let{id:n,activated:a,children:o,...s}=r;return n=rr(n),o.has(n)?a:t.activate({id:n,activated:a,children:o,...s})},in:t.in,out:t.out}},GOe={open:e=>{let{id:t,value:i,opened:r,parents:n}=e;if(i){const a=new Set;a.add(t);let o=n.get(t);for(;o!=null;)a.add(o),o=n.get(o);return a}else return r.delete(t),r},select:()=>null},Une={open:e=>{let{id:t,value:i,opened:r,parents:n}=e;if(i){let a=n.get(t);for(r.add(t);a!=null&&a!==t;)r.add(a),a=n.get(a);return r}else r.delete(t);return r},select:()=>null},WOe={open:Une.open,select:e=>{let{id:t,value:i,opened:r,parents:n}=e;if(!i)return r;const a=[];let o=n.get(t);for(;o!=null;)a.push(o),o=n.get(o);return new Set(a)}},zN=e=>{const t={select:i=>{let{id:r,value:n,selected:a}=i;if(r=rr(r),e&&!n){const o=Array.from(a.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"&&s.push(u),s},[]);if(o.length===1&&o[0]===r)return a}return a.set(r,n?"on":"off"),a},in:(i,r,n)=>{const a=new Map;for(const o of i||[])t.select({id:o,value:!0,selected:a,children:r,parents:n});return a},out:i=>{const r=[];for(const[n,a]of i.entries())a==="on"&&r.push(n);return r}};return t},Hne=e=>{const t=zN(e);return{select:r=>{let{selected:n,id:a,...o}=r;a=rr(a);const s=n.has(a)?new Map([[a,n.get(a)]]):new Map;return t.select({...o,id:a,selected:s})},in:(r,n,a)=>r!=null&&r.length?t.in(r.slice(0,1),n,a):new Map,out:(r,n,a)=>t.out(r,n,a)}},KOe=e=>{const t=zN(e);return{select:r=>{let{id:n,selected:a,children:o,...s}=r;return n=rr(n),o.has(n)?a:t.select({id:n,selected:a,children:o,...s})},in:t.in,out:t.out}},JOe=e=>{const t=Hne(e);return{select:r=>{let{id:n,selected:a,children:o,...s}=r;return n=rr(n),o.has(n)?a:t.select({id:n,selected:a,children:o,...s})},in:t.in,out:t.out}},XOe=e=>{const t={select:i=>{let{id:r,value:n,selected:a,children:o,parents:s}=i;r=rr(r);const l=new Map(a),u=[r];for(;u.length;){const d=u.shift();a.set(rr(d),n?"on":"off"),o.has(d)&&u.push(...o.get(d))}let c=rr(s.get(r));for(;c;){const d=o.get(c),f=d.every(p=>a.get(rr(p))==="on"),h=d.every(p=>!a.has(rr(p))||a.get(rr(p))==="off");a.set(c,f?"on":h?"off":"indeterminate"),c=rr(s.get(c))}return e&&!n&&Array.from(a.entries()).reduce((f,h)=>{let[p,g]=h;return g==="on"&&f.push(p),f},[]).length===0?l:a},in:(i,r,n)=>{let a=new Map;for(const o of i||[])a=t.select({id:o,value:!0,selected:a,children:r,parents:n});return a},out:(i,r)=>{const n=[];for(const[a,o]of i.entries())o==="on"&&!r.has(a)&&n.push(a);return n}};return t},b2=Symbol.for("vuetify:nested"),$ne={id:Tt(),root:{register:()=>null,unregister:()=>null,parents:vt(new Map),children:vt(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:vt(!1),selectable:vt(!1),opened:vt(new Set),activated:vt(new Set),selected:vt(new Map),selectedValues:vt([]),getPath:()=>[]}},YOe=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ZOe=e=>{let t=!1;const i=vt(new Map),r=vt(new Map),n=Gt(e,"opened",e.opened,p=>new Set(p),p=>[...p.values()]),a=ue(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return QOe(e.mandatory);case"single-leaf":return zOe(e.mandatory);case"independent":return QN(e.mandatory);case"single-independent":default:return Vne(e.mandatory)}}),o=ue(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return JOe(e.mandatory);case"leaf":return KOe(e.mandatory);case"independent":return zN(e.mandatory);case"single-independent":return Hne(e.mandatory);case"classic":default:return XOe(e.mandatory)}}),s=ue(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return WOe;case"single":return GOe;case"multiple":default:return Une}}),l=Gt(e,"activated",e.activated,p=>a.value.in(p,i.value,r.value),p=>a.value.out(p,i.value,r.value)),u=Gt(e,"selected",e.selected,p=>o.value.in(p,i.value,r.value),p=>o.value.out(p,i.value,r.value));yi(()=>{t=!0});function c(p){const g=[];let m=p;for(;m!=null;)g.unshift(m),m=r.value.get(m);return g}const d=Cn("nested"),f=new Set,h={id:Tt(),root:{opened:n,activatable:nt(e,"activatable"),selectable:nt(e,"selectable"),activated:l,selected:u,selectedValues:ue(()=>{const p=[];for(const[g,m]of u.value.entries())m==="on"&&p.push(g);return p}),register:(p,g,m)=>{if(f.has(p)){c(p).map(String).join(" -> "),c(g).concat(p).map(String).join(" -> ");return}else f.add(p);g&&p!==g&&r.value.set(p,g),m&&i.value.set(p,[]),g!=null&&i.value.set(g,[...i.value.get(g)||[],p])},unregister:p=>{if(t)return;f.delete(p),i.value.delete(p);const g=r.value.get(p);if(g){const m=i.value.get(g)??[];i.value.set(g,m.filter(y=>y!==p))}r.value.delete(p)},open:(p,g,m)=>{d.emit("click:open",{id:p,value:g,path:c(p),event:m});const y=s.value.open({id:p,value:g,opened:new Set(n.value),children:i.value,parents:r.value,event:m});y&&(n.value=y)},openOnSelect:(p,g,m)=>{const y=s.value.select({id:p,value:g,selected:new Map(u.value),opened:new Set(n.value),children:i.value,parents:r.value,event:m});y&&(n.value=y)},select:(p,g,m)=>{d.emit("click:select",{id:p,value:g,path:c(p),event:m});const y=o.value.select({id:p,value:g,selected:new Map(u.value),children:i.value,parents:r.value,event:m});y&&(u.value=y),h.root.openOnSelect(p,g,m)},activate:(p,g,m)=>{if(!e.activatable)return h.root.select(p,!0,m);d.emit("click:activate",{id:p,value:g,path:c(p),event:m});const y=a.value.activate({id:p,value:g,activated:new Set(l.value),children:i.value,parents:r.value,event:m});if(y.size!==l.value.size)l.value=y;else{for(const v of y)if(!l.value.has(v)){l.value=y;return}for(const v of l.value)if(!y.has(v)){l.value=y;return}}},children:i,parents:r,getPath:c}};return Jr(b2,h),h.root},Qne=(e,t)=>{const i=_r(b2,$ne),r=Symbol(Ti()),n=ue(()=>e.value!==void 0?e.value:r),a={...i,id:n,open:(o,s)=>i.root.open(n.value,o,s),openOnSelect:(o,s)=>i.root.openOnSelect(n.value,o,s),isOpen:ue(()=>i.root.opened.value.has(n.value)),parent:ue(()=>i.root.parents.value.get(n.value)),activate:(o,s)=>i.root.activate(n.value,o,s),isActivated:ue(()=>i.root.activated.value.has(rr(n.value))),select:(o,s)=>i.root.select(n.value,o,s),isSelected:ue(()=>i.root.selected.value.get(rr(n.value))==="on"),isIndeterminate:ue(()=>i.root.selected.value.get(rr(n.value))==="indeterminate"),isLeaf:ue(()=>!i.root.children.value.get(n.value)),isGroupActivator:i.isGroupActivator};return v0(()=>{!i.isGroupActivator&&i.root.register(n.value,i.id.value,t)}),yi(()=>{!i.isGroupActivator&&i.root.unregister(n.value)}),t&&Jr(b2,a),a},ePe=()=>{const e=_r(b2,$ne);Jr(b2,{...e,isGroupActivator:!0})},tPe=io({name:"VListGroupActivator",setup(e,t){let{slots:i}=t;return ePe(),()=>{var r;return(r=i.default)==null?void 0:r.call(i)}}}),rPe=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Kt,default:"$collapse"},expandIcon:{type:Kt,default:"$expand"},prependIcon:Kt,appendIcon:Kt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Mt(),...pr()},"VListGroup"),HI=ot()({name:"VListGroup",props:rPe(),setup(e,t){let{slots:i}=t;const{isOpen:r,open:n,id:a}=Qne(nt(e,"value"),!0),o=ue(()=>`v-list-group--id-${String(a.value)}`),s=qne(),{isBooted:l}=Xp();function u(h){h.stopPropagation(),n(!r.value,h)}const c=ue(()=>({onClick:u,class:"v-list-group__header",id:o.value})),d=ue(()=>r.value?e.collapseIcon:e.expandIcon),f=ue(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return ht(()=>B(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[i.activator&&B(Sr,{defaults:f.value},{default:()=>[B(tPe,null,{default:()=>[i.activator({props:c.value,isOpen:r.value})]})]}),B(Zi,{transition:{component:I3},disabled:!l.value},{default:()=>{var h;return[$r(B("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(h=i.default)==null?void 0:h.call(i)]),[[to,r.value]])]}})]})),{isOpen:r}}}),nPe=We({opacity:[Number,String],...Mt(),...pr()},"VListItemSubtitle"),zne=ot()({name:"VListItemSubtitle",props:nPe(),setup(e,t){let{slots:i}=t;return ht(()=>B(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},i)),{}}}),Gne=Ms("v-list-item-title"),iPe=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Kt,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Kt,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Si(),onClickOnce:Si(),...Va(),...Mt(),...vi(),...ni(),...di(),...yn(),...fA(),...pr(),...Nr(),...Ao({variant:"text"})},"VListItem"),bu=ot()({name:"VListItem",directives:{Ripple:Ru},props:iPe(),emits:{click:e=>!0},setup(e,t){let{attrs:i,slots:r,emit:n}=t;const a=dA(e,i),o=ue(()=>e.value===void 0?a.href.value:e.value),{activate:s,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:p,parent:g,openOnSelect:m,id:y}=Qne(o,!1),v=qne(),b=ue(()=>{var ae;return e.active!==!1&&(e.active||((ae=a.isActive)==null?void 0:ae.value)||(p.activatable.value?l.value:d.value))}),_=ue(()=>e.link!==!1&&a.isLink.value),w=ue(()=>!!v&&(p.selectable.value||p.activatable.value||e.value!=null)),T=ue(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||w.value)),R=ue(()=>e.rounded||e.nav),F=ue(()=>e.color??e.activeColor),D=ue(()=>({color:b.value?F.value??e.baseColor:e.baseColor,variant:e.variant}));Pt(()=>{var ae;return(ae=a.isActive)==null?void 0:ae.value},ae=>{ae&&A()}),v0(()=>{var ae;(ae=a.isActive)!=null&&ae.value&&A()});function A(){g.value!=null&&p.open(g.value,!0),m(!0)}const{themeClasses:x}=zr(e),{borderClasses:N}=oo(e),{colorClasses:j,colorStyles:H,variantClasses:M}=Yp(D),{densityClasses:$}=oa(e),{dimensionStyles:te}=ii(e),{elevationClasses:re}=Ei(e),{roundedClasses:oe}=Dn(R),J=ue(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),fe=ue(()=>({isActive:b.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:f.value}));function xe(ae){var Fe;n("click",ae),T.value&&((Fe=a.navigate)==null||Fe.call(a,ae),!h&&(p.activatable.value?s(!l.value,ae):(p.selectable.value||e.value!=null)&&u(!d.value,ae)))}function de(ae){const Fe=ae.target;["INPUT","TEXTAREA"].includes(Fe.tagName)||(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),ae.target.dispatchEvent(new MouseEvent("click",ae)))}return ht(()=>{const ae=_.value?"a":e.tag,Fe=r.title||e.title!=null,Le=r.subtitle||e.subtitle!=null,me=!!(e.appendAvatar||e.appendIcon),pe=!!(me||r.append),_e=!!(e.prependAvatar||e.prependIcon),X=!!(_e||r.prepend);return v==null||v.updateHasPrepend(X),e.activeColor&&oxe("active-color",["color","base-color"]),$r(B(ae,ct({class:["v-list-item",{"v-list-item--active":b.value,"v-list-item--disabled":e.disabled,"v-list-item--link":T.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!X&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&b.value},x.value,N.value,j.value,$.value,re.value,J.value,oe.value,M.value,e.class],style:[H.value,te.value,e.style],tabindex:T.value?v?-2:0:void 0,"aria-selected":w.value?p.activatable.value?l.value:p.selectable.value?d.value:b.value:void 0,onClick:xe,onKeydown:T.value&&!_.value&&de},a.linkProps),{default:()=>{var C;return[Nl(T.value||b.value,"v-list-item"),X&&B("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?B(Sr,{key:"prepend-defaults",disabled:!_e,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var E;return[(E=r.prepend)==null?void 0:E.call(r,fe.value)]}}):B(Ot,null,[e.prependAvatar&&B(vo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&B(Vr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),B("div",{class:"v-list-item__spacer"},null)]),B("div",{class:"v-list-item__content","data-no-activator":""},[Fe&&B(Gne,{key:"title"},{default:()=>{var E;return[((E=r.title)==null?void 0:E.call(r,{title:e.title}))??ir(e.title)]}}),Le&&B(zne,{key:"subtitle"},{default:()=>{var E;return[((E=r.subtitle)==null?void 0:E.call(r,{subtitle:e.subtitle}))??ir(e.subtitle)]}}),(C=r.default)==null?void 0:C.call(r,fe.value)]),pe&&B("div",{key:"append",class:"v-list-item__append"},[r.append?B(Sr,{key:"append-defaults",disabled:!me,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var E;return[(E=r.append)==null?void 0:E.call(r,fe.value)]}}):B(Ot,null,[e.appendIcon&&B(Vr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&B(vo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),B("div",{class:"v-list-item__spacer"},null)])]}}),[[eo("ripple"),T.value&&e.ripple]])}),{activate:s,isActivated:l,isGroupActivator:h,isSelected:d,list:v,select:u,root:p,id:y,link:a}}}),aPe=We({color:String,inset:Boolean,sticky:Boolean,title:String,...Mt(),...pr()},"VListSubheader"),Wne=ot()({name:"VListSubheader",props:aPe(),setup(e,t){let{slots:i}=t;const{textColorClasses:r,textColorStyles:n}=Ui(nt(e,"color"));return ht(()=>{const a=!!(i.default||e.title);return B(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:n},e.style]},{default:()=>{var o;return[a&&B("div",{class:"v-list-subheader__text"},[((o=i.default)==null?void 0:o.call(i))??e.title])]}})}),{}}}),oPe=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Mt(),...Nr()},"VDivider"),pA=ot()({name:"VDivider",props:oPe(),setup(e,t){let{attrs:i,slots:r}=t;const{themeClasses:n}=zr(e),{textColorClasses:a,textColorStyles:o}=Ui(nt(e,"color")),s=ue(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Ft(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Ft(e.thickness)),l});return ht(()=>{const l=B("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},n.value,a.value,e.class],style:[s.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!i.role||i.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return r.default?B("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,B("div",{class:"v-divider__content"},[r.default()]),l]):l}),{}}}),sPe=We({items:Array,returnObject:Boolean},"VListChildren"),Kne=ot()({name:"VListChildren",props:sPe(),setup(e,t){let{slots:i}=t;return Bne(),()=>{var r,n;return((r=i.default)==null?void 0:r.call(i))??((n=e.items)==null?void 0:n.map(a=>{var f,h;let{children:o,props:s,type:l,raw:u}=a;if(l==="divider")return((f=i.divider)==null?void 0:f.call(i,{props:s}))??B(pA,s,null);if(l==="subheader")return((h=i.subheader)==null?void 0:h.call(i,{props:s}))??B(Wne,s,null);const c={subtitle:i.subtitle?p=>{var g;return(g=i.subtitle)==null?void 0:g.call(i,{...p,item:u})}:void 0,prepend:i.prepend?p=>{var g;return(g=i.prepend)==null?void 0:g.call(i,{...p,item:u})}:void 0,append:i.append?p=>{var g;return(g=i.append)==null?void 0:g.call(i,{...p,item:u})}:void 0,title:i.title?p=>{var g;return(g=i.title)==null?void 0:g.call(i,{...p,item:u})}:void 0},d=HI.filterProps(s);return o?B(HI,ct({value:s==null?void 0:s.value},d),{activator:p=>{let{props:g}=p;const m={...s,...g,value:e.returnObject?u:s.value};return i.header?i.header({props:m}):B(bu,m,c)},default:()=>B(Kne,{items:o,returnObject:e.returnObject},i)}):i.item?i.item({props:s}):B(bu,ct(s,{value:e.returnObject?u:s.value}),c)}))}}}),Jne=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function el(e,t){const i=oi(t,e.itemTitle,t),r=oi(t,e.itemValue,i),n=oi(t,e.itemChildren),a=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?zn(t,["children"]):t:void 0:oi(t,e.itemProps),o={title:i,value:r,...a};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(n)?Xne(e,n):void 0,raw:t}}function Xne(e,t){const i=Cl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),r=[];for(const n of t)r.push(el(i,n));return r}function GN(e){const t=ue(()=>Xne(e,e.items)),i=ue(()=>t.value.some(s=>s.value===null)),r=Tt(new Map),n=Tt([]);Vn(()=>{const s=t.value,l=new Map,u=[];for(let c=0;c<s.length;c++){const d=s[c];if(Ire(d.value)||d.value===null){let f=l.get(d.value);f||(f=[],l.set(d.value,f)),f.push(d)}else u.push(d)}r.value=l,n.value=u});function a(s){const l=r.value,u=t.value,c=n.value,d=i.value,f=e.returnObject,h=!!e.valueComparator,p=e.valueComparator||ea,g=Cl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),m=[];e:for(const y of s){if(!d&&y===null)continue;if(f&&typeof y=="string"){m.push(el(g,y));continue}const v=l.get(y);if(h||!v){for(const b of h?u:c)if(p(y,b.value)){m.push(b);continue e}m.push(el(g,y));continue}m.push(...v)}return m}function o(s){return e.returnObject?s.map(l=>{let{raw:u}=l;return u}):s.map(l=>{let{value:u}=l;return u})}return{items:t,transformIn:a,transformOut:o}}function uPe(e,t){const i=oi(t,e.itemType,"item"),r=Ire(t)?t:oi(t,e.itemTitle),n=oi(t,e.itemValue,void 0),a=oi(t,e.itemChildren),o=e.itemProps===!0?zn(t,["children"]):oi(t,e.itemProps),s={title:r,value:n,...o};return{type:i,title:s.title,value:s.value,props:s,children:i==="item"&&a?Yne(e,a):void 0,raw:t}}function Yne(e,t){const i=[];for(const r of t)i.push(uPe(e,r));return i}function lPe(e){return{items:ue(()=>Yne(e,e.items))}}const cPe=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Kt,collapseIcon:Kt,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Si(),"onClick:select":Si(),"onUpdate:opened":Si(),...YOe({selectStrategy:"single-leaf",openStrategy:"list"}),...Va(),...Mt(),...vi(),...ni(),...di(),itemType:{type:String,default:"type"},...Jne(),...yn(),...pr(),...Nr(),...Ao({variant:"text"})},"VList"),j3=ot()({name:"VList",props:cPe(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:i}=t;const{items:r}=lPe(e),{themeClasses:n}=zr(e),{backgroundColorClasses:a,backgroundColorStyles:o}=rn(nt(e,"bgColor")),{borderClasses:s}=oo(e),{densityClasses:l}=oa(e),{dimensionStyles:u}=ii(e),{elevationClasses:c}=Ei(e),{roundedClasses:d}=Dn(e),{children:f,open:h,parents:p,select:g,getPath:m}=ZOe(e),y=ue(()=>e.lines?`v-list--${e.lines}-line`:void 0),v=nt(e,"activeColor"),b=nt(e,"baseColor"),_=nt(e,"color");Bne(),In({VListGroup:{activeColor:v,baseColor:b,color:_,expandIcon:nt(e,"expandIcon"),collapseIcon:nt(e,"collapseIcon")},VListItem:{activeClass:nt(e,"activeClass"),activeColor:v,baseColor:b,color:_,density:nt(e,"density"),disabled:nt(e,"disabled"),lines:nt(e,"lines"),nav:nt(e,"nav"),slim:nt(e,"slim"),variant:nt(e,"variant")}});const w=Tt(!1),T=vt();function R(j){w.value=!0}function F(j){w.value=!1}function D(j){var H;!w.value&&!(j.relatedTarget&&((H=T.value)!=null&&H.contains(j.relatedTarget)))&&N()}function A(j){const H=j.target;if(!(!T.value||["INPUT","TEXTAREA"].includes(H.tagName))){if(j.key==="ArrowDown")N("next");else if(j.key==="ArrowUp")N("prev");else if(j.key==="Home")N("first");else if(j.key==="End")N("last");else return;j.preventDefault()}}function x(j){w.value=!0}function N(j){if(T.value)return Sp(T.value,j)}return ht(()=>B(e.tag,{ref:T,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},n.value,a.value,s.value,l.value,c.value,y.value,d.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:R,onFocusout:F,onFocus:D,onKeydown:A,onMousedown:x},{default:()=>[B(Kne,{items:r.value,returnObject:e.returnObject},i)]})),{open:h,select:g,focus:N,children:f,parents:p,getPath:m}}}),dPe=Ms("v-list-img"),fPe=We({start:Boolean,end:Boolean,...Mt(),...pr()},"VListItemAction"),hPe=ot()({name:"VListItemAction",props:fPe(),setup(e,t){let{slots:i}=t;return ht(()=>B(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},i)),{}}}),pPe=We({start:Boolean,end:Boolean,...Mt(),...pr()},"VListItemMedia"),gPe=ot()({name:"VListItemMedia",props:pPe(),setup(e,t){let{slots:i}=t;return ht(()=>B(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},i)),{}}});function yP(e,t){return{x:e.x+t.x,y:e.y+t.y}}function mPe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dz(e,t){if(e.side==="top"||e.side==="bottom"){const{side:i,align:r}=e,n=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,a=i==="top"?0:i==="bottom"?t.height:i;return yP({x:n,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:i,align:r}=e,n=i==="left"?0:i==="right"?t.width:i,a=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return yP({x:n,y:a},t)}return yP({x:t.width/2,y:t.height/2},t)}const Zne={static:bPe,connected:wPe},yPe=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Zne},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function vPe(e,t){const i=vt({}),r=vt();kr&&Aa(()=>!!(t.isActive.value&&e.locationStrategy),a=>{var o,s;Pt(()=>e.locationStrategy,a),ia(()=>{window.removeEventListener("resize",n),r.value=void 0}),window.addEventListener("resize",n,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,i))==null?void 0:o.updateLocation:r.value=(s=Zne[e.locationStrategy](t,e,i))==null?void 0:s.updateLocation});function n(a){var o;(o=r.value)==null||o.call(r,a)}return{contentStyles:i,updateLocation:r}}function bPe(){}function _Pe(e,t){const i=RN(e);return t?i.x+=parseFloat(e.style.right||0):i.x-=parseFloat(e.style.left||0),i.y-=parseFloat(e.style.top||0),i}function wPe(e,t,i){(Array.isArray(e.target.value)||Oxe(e.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:n,preferredOrigin:a}=xN(()=>{const p=PI(t.location,e.isRtl.value),g=t.origin==="overlap"?p:t.origin==="auto"?fP(p):PI(t.origin,e.isRtl.value);return p.side===g.side&&p.align===hP(g).align?{preferredAnchor:tz(p),preferredOrigin:tz(g)}:{preferredAnchor:p,preferredOrigin:g}}),[o,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>ue(()=>{const g=parseFloat(t[p]);return isNaN(g)?1/0:g})),c=ue(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&h()});Pt([e.target,e.contentEl],(p,g)=>{let[m,y]=p,[v,b]=g;v&&!Array.isArray(v)&&f.unobserve(v),m&&!Array.isArray(m)&&f.observe(m),b&&f.unobserve(b),y&&f.observe(y)},{immediate:!0}),ia(()=>{f.disconnect()});function h(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const p=Dre(e.target.value),g=_Pe(e.contentEl.value,e.isRtl.value),m=bE(e.contentEl.value),y=12;m.length||(m.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const v=m.reduce((x,N)=>{const j=N.getBoundingClientRect(),H=new Ap({x:N===document.documentElement?0:j.x,y:N===document.documentElement?0:j.y,width:N.clientWidth,height:N.clientHeight});return x?new Ap({x:Math.max(x.left,H.left),y:Math.max(x.top,H.top),width:Math.min(x.right,H.right)-Math.max(x.left,H.left),height:Math.min(x.bottom,H.bottom)-Math.max(x.top,H.top)}):H},void 0);v.x+=y,v.y+=y,v.width-=y*2,v.height-=y*2;let b={anchor:n.value,origin:a.value};function _(x){const N=new Ap(g),j=Dz(x.anchor,p),H=Dz(x.origin,N);let{x:M,y:$}=mPe(j,H);switch(x.anchor.side){case"top":$-=c.value[0];break;case"bottom":$+=c.value[0];break;case"left":M-=c.value[0];break;case"right":M+=c.value[0];break}switch(x.anchor.align){case"top":$-=c.value[1];break;case"bottom":$+=c.value[1];break;case"left":M-=c.value[1];break;case"right":M+=c.value[1];break}return N.x+=M,N.y+=$,N.width=Math.min(N.width,l.value),N.height=Math.min(N.height,u.value),{overflows:nz(N,v),x:M,y:$}}let w=0,T=0;const R={x:0,y:0},F={x:!1,y:!1};let D=-1;for(;!(D++>10);){const{x,y:N,overflows:j}=_(b);w+=x,T+=N,g.x+=x,g.y+=N;{const H=rz(b.anchor),M=j.x.before||j.x.after,$=j.y.before||j.y.after;let te=!1;if(["x","y"].forEach(re=>{if(re==="x"&&M&&!F.x||re==="y"&&$&&!F.y){const oe={anchor:{...b.anchor},origin:{...b.origin}},J=re==="x"?H==="y"?hP:fP:H==="y"?fP:hP;oe.anchor=J(oe.anchor),oe.origin=J(oe.origin);const{overflows:fe}=_(oe);(fe[re].before<=j[re].before&&fe[re].after<=j[re].after||fe[re].before+fe[re].after<(j[re].before+j[re].after)/2)&&(b=oe,te=F[re]=!0)}}),te)continue}j.x.before&&(w+=j.x.before,g.x+=j.x.before),j.x.after&&(w-=j.x.after,g.x-=j.x.after),j.y.before&&(T+=j.y.before,g.y+=j.y.before),j.y.after&&(T-=j.y.after,g.y-=j.y.after);{const H=nz(g,v);R.x=v.width-H.x.before-H.x.after,R.y=v.height-H.y.before-H.y.after,w+=H.x.before,g.x+=H.x.before,T+=H.y.before,g.y+=H.y.before}break}const A=rz(b.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${b.anchor.side} ${b.anchor.align}`,transformOrigin:`${b.origin.side} ${b.origin.align}`,top:Ft(vP(T)),left:e.isRtl.value?void 0:Ft(vP(w)),right:e.isRtl.value?Ft(vP(-w)):void 0,minWidth:Ft(A==="y"?Math.min(o.value,p.width):o.value),maxWidth:Ft(Nz(Qn(R.x,o.value===1/0?0:o.value,l.value))),maxHeight:Ft(Nz(Qn(R.y,s.value===1/0?0:s.value,u.value)))}),{available:R,contentBox:g}}return Pt(()=>[n.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Mr(()=>{const p=h();if(!p)return;const{available:g,contentBox:m}=p;m.height>g.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function vP(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Nz(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let $I=!0;const SE=[];function SPe(e){!$I||SE.length?(SE.push(e),QI()):($I=!1,e(),QI())}let Fz=-1;function QI(){cancelAnimationFrame(Fz),Fz=requestAnimationFrame(()=>{const e=SE.shift();e&&e(),SE.length?QI():$I=!0})}const VT={none:null,close:EPe,block:xPe,reposition:RPe},APe=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in VT}},"VOverlay-scroll-strategies");function TPe(e,t){if(!kr)return;let i;Vn(async()=>{i==null||i.stop(),t.isActive.value&&e.scrollStrategy&&(i=PE(),await new Promise(r=>setTimeout(r)),i.active&&i.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,i):(r=VT[e.scrollStrategy])==null||r.call(VT,t,e,i)}))}),ia(()=>{i==null||i.stop()})}function EPe(e){function t(i){e.isActive.value=!1}eie(e.targetEl.value??e.contentEl.value,t)}function xPe(e,t){var o;const i=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...bE(e.targetEl.value,t.contained?i:void 0),...bE(e.contentEl.value,t.contained?i:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),n=window.innerWidth-document.documentElement.offsetWidth,a=(s=>DN(s)&&s)(i||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",Ft(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",Ft(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",Ft(n)),s.classList.add("v-overlay-scroll-blocked")}),ia(()=>{r.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),d=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c,s.style.scrollBehavior=d}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function RPe(e,t,i){let r=!1,n=-1,a=-1;function o(s){SPe(()=>{var c,d;const l=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,s),r=(performance.now()-l)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{i.run(()=>{eie(e.targetEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),ia(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(n)})}function eie(e,t){const i=[document,...bE(e)];i.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),ia(()=>{i.forEach(r=>{r.removeEventListener("scroll",t)})})}const zI=Symbol.for("vuetify:v-menu"),WN=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function KN(e,t){let i=()=>{};function r(o){i==null||i();const s=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{i=z3e(s,()=>{t==null||t(o),l(o)})})}function n(){return r(!0)}function a(){return r(!1)}return{clearDelay:i,runOpenDelay:n,runCloseDelay:a}}const OPe=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...WN()},"VOverlay-activator");function PPe(e,t){let{isActive:i,isTop:r,contentEl:n}=t;const a=Cn("useActivator"),o=vt();let s=!1,l=!1,u=!0;const c=ue(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=ue(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:h}=KN(e,F=>{F===(e.openOnHover&&s||c.value&&l)&&!(e.openOnHover&&i.value&&!r.value)&&(i.value!==F&&(u=!0),i.value=F)}),p=vt(),g={onClick:F=>{F.stopPropagation(),o.value=F.currentTarget||F.target,i.value||(p.value=[F.clientX,F.clientY]),i.value=!i.value},onMouseenter:F=>{var D;(D=F.sourceCapabilities)!=null&&D.firesTouchEvents||(s=!0,o.value=F.currentTarget||F.target,f())},onMouseleave:F=>{s=!1,h()},onFocus:F=>{f0(F.target,":focus-visible")!==!1&&(l=!0,F.stopPropagation(),o.value=F.currentTarget||F.target,f())},onBlur:F=>{l=!1,F.stopPropagation(),h()}},m=ue(()=>{const F={};return d.value&&(F.onClick=g.onClick),e.openOnHover&&(F.onMouseenter=g.onMouseenter,F.onMouseleave=g.onMouseleave),c.value&&(F.onFocus=g.onFocus,F.onBlur=g.onBlur),F}),y=ue(()=>{const F={};if(e.openOnHover&&(F.onMouseenter=()=>{s=!0,f()},F.onMouseleave=()=>{s=!1,h()}),c.value&&(F.onFocusin=()=>{l=!0,f()},F.onFocusout=()=>{l=!1,h()}),e.closeOnContentClick){const D=_r(zI,null);F.onClick=()=>{i.value=!1,D==null||D.closeParents()}}return F}),v=ue(()=>{const F={};return e.openOnHover&&(F.onMouseenter=()=>{u&&(s=!0,u=!1,f())},F.onMouseleave=()=>{s=!1,h()}),F});Pt(r,F=>{var D;F&&(e.openOnHover&&!s&&(!c.value||!l)||c.value&&!l&&(!e.openOnHover||!s))&&!((D=n.value)!=null&&D.contains(document.activeElement))&&(i.value=!1)}),Pt(i,F=>{F||setTimeout(()=>{p.value=void 0})},{flush:"post"});const b=yE();Vn(()=>{b.value&&Mr(()=>{o.value=b.el})});const _=yE(),w=ue(()=>e.target==="cursor"&&p.value?p.value:_.value?_.el:tie(e.target,a)||o.value),T=ue(()=>Array.isArray(w.value)?void 0:w.value);let R;return Pt(()=>!!e.activator,F=>{F&&kr?(R=PE(),R.run(()=>{IPe(e,a,{activatorEl:o,activatorEvents:m})})):R&&R.stop()},{flush:"post",immediate:!0}),ia(()=>{R==null||R.stop()}),{activatorEl:o,activatorRef:b,target:w,targetEl:T,targetRef:_,activatorEvents:m,contentEvents:y,scrimEvents:v}}function IPe(e,t,i){let{activatorEl:r,activatorEvents:n}=i;Pt(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&o(c)}l&&Mr(()=>a())},{immediate:!0}),Pt(()=>e.activatorProps,()=>{a()}),ia(()=>{o()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&K3e(l,ct(n.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&J3e(l,ct(n.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=tie(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function tie(e,t){var r,n;if(!e)return;let i;if(e==="parent"){let a=(n=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:n.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;i=a}else typeof e=="string"?i=document.querySelector(e):"$el"in e?i=e.$el:i=e;return i}function rie(){if(!kr)return Tt(!1);const{ssr:e}=So();if(e){const t=Tt(!1);return $i(()=>{t.value=!0}),t}else return Tt(!0)}const JN=We({eager:Boolean},"lazy");function XN(e,t){const i=Tt(!1),r=ue(()=>i.value||e.eager||t.value);Pt(t,()=>i.value=!0);function n(){e.eager||(i.value=!1)}return{isBooted:i,hasContent:r,onAfterLeave:n}}function ng(){const t=Cn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Lz=Symbol.for("vuetify:stack"),pS=wi([]);function CPe(e,t,i){const r=Cn("useStack"),n=!i,a=_r(Lz,void 0),o=wi({activeChildren:new Set});Jr(Lz,o);const s=Tt(Number(t.value));Aa(e,()=>{var d;const c=(d=pS.at(-1))==null?void 0:d[1];s.value=c?c+10:Number(t.value),n&&pS.push([r.uid,s.value]),a==null||a.activeChildren.add(r.uid),ia(()=>{if(n){const f=rr(pS).findIndex(h=>h[0]===r.uid);pS.splice(f,1)}a==null||a.activeChildren.delete(r.uid)})});const l=Tt(!0);n&&Vn(()=>{var d;const c=((d=pS.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=c)});const u=ue(()=>!o.activeChildren.size);return{globalTop:A2(l),localTop:u,stackStyles:ue(()=>({zIndex:s.value}))}}function DPe(e){return{teleportTarget:ue(()=>{const i=e();if(i===!0||!kr)return;const r=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(r==null)return;let n=[...r.children].find(a=>a.matches(".v-overlay-container"));return n||(n=document.createElement("div"),n.className="v-overlay-container",r.appendChild(n)),n})}}function NPe(){return!0}function nie(e,t,i){if(!e||iie(e,i)===!1)return!1;const r=$re(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const n=(typeof i.value=="object"&&i.value.include||(()=>[]))();return n.push(t),!n.some(a=>a==null?void 0:a.contains(e.target))}function iie(e,t){return(typeof t.value=="object"&&t.value.closeConditional||NPe)(e)}function FPe(e,t,i){const r=typeof i.value=="function"?i.value:i.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&nie(e,t,i)&&setTimeout(()=>{iie(e,i)&&r&&r(e)},0)}function Mz(e,t){const i=$re(e);t(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&t(i)}const aie={mounted(e,t){const i=n=>FPe(n,e,t),r=n=>{e._clickOutside.lastMousedownWasOutside=nie(n,e,t)};Mz(e,n=>{n.addEventListener("click",i,!0),n.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:i,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(Mz(e,i=>{var a;if(!i||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:r,onMousedown:n}=e._clickOutside[t.instance.$.uid];i.removeEventListener("click",r,!0),i.removeEventListener("mousedown",n,!0)}),delete e._clickOutside[t.instance.$.uid])}};function LPe(e){const{modelValue:t,color:i,...r}=e;return B(ll,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&B("div",ct({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const gA=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...OPe(),...Mt(),...ni(),...JN(),...yPe(),...APe(),...Nr(),...Xo()},"VOverlay"),Es=ot()({name:"VOverlay",directives:{ClickOutside:aie},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...gA()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:i,attrs:r,emit:n}=t;const a=Cn("VOverlay"),o=vt(),s=vt(),l=vt(),u=Gt(e,"modelValue"),c=ue({get:()=>u.value,set:me=>{me&&e.disabled||(u.value=me)}}),{themeClasses:d}=zr(e),{rtlClasses:f,isRtl:h}=ci(),{hasContent:p,onAfterLeave:g}=XN(e,c),m=rn(ue(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:y,localTop:v,stackStyles:b}=CPe(c,nt(e,"zIndex"),e._disableGlobalStack),{activatorEl:_,activatorRef:w,target:T,targetEl:R,targetRef:F,activatorEvents:D,contentEvents:A,scrimEvents:x}=PPe(e,{isActive:c,isTop:v,contentEl:l}),{teleportTarget:N}=DPe(()=>{var _e,X,C;const me=e.attach||e.contained;if(me)return me;const pe=((_e=_==null?void 0:_.value)==null?void 0:_e.getRootNode())||((C=(X=a.proxy)==null?void 0:X.$el)==null?void 0:C.getRootNode());return pe instanceof ShadowRoot?pe:!1}),{dimensionStyles:j}=ii(e),H=rie(),{scopeId:M}=ng();Pt(()=>e.disabled,me=>{me&&(c.value=!1)});const{contentStyles:$,updateLocation:te}=vPe(e,{isRtl:h,contentEl:l,target:T,isActive:c});TPe(e,{root:o,contentEl:l,targetEl:R,isActive:c,updateLocation:te});function re(me){n("click:outside",me),e.persistent?ae():c.value=!1}function oe(me){return c.value&&y.value&&(!e.scrim||me.target===s.value||me instanceof MouseEvent&&me.shadowTarget===s.value)}kr&&Pt(c,me=>{me?window.addEventListener("keydown",J):window.removeEventListener("keydown",J)},{immediate:!0}),yi(()=>{kr&&window.removeEventListener("keydown",J)});function J(me){var pe,_e,X;me.key==="Escape"&&y.value&&((pe=l.value)!=null&&pe.contains(document.activeElement)||n("keydown",me),e.persistent?ae():(c.value=!1,(_e=l.value)!=null&&_e.contains(document.activeElement)&&((X=_.value)==null||X.focus())))}function fe(me){me.key==="Escape"&&!y.value||n("keydown",me)}const xe=yne();Aa(()=>e.closeOnBack,()=>{yOe(xe,me=>{y.value&&c.value?(me(!1),e.persistent?ae():c.value=!1):me()})});const de=vt();Pt(()=>c.value&&(e.absolute||e.contained)&&N.value==null,me=>{if(me){const pe=CN(o.value);pe&&pe!==document.scrollingElement&&(de.value=pe.scrollTop)}});function ae(){e.noClickAnimation||l.value&&vp(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:d2})}function Fe(){n("afterEnter")}function Le(){g(),n("afterLeave")}return ht(()=>{var me;return B(Ot,null,[(me=i.activator)==null?void 0:me.call(i,{isActive:c.value,targetRef:F,props:ct({ref:w},D.value,e.activatorProps)}),H.value&&p.value&&B(Loe,{disabled:!N.value,to:N.value},{default:()=>[B("div",ct({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,f.value,e.class],style:[b.value,{"--v-overlay-opacity":e.opacity,top:Ft(de.value)},e.style],ref:o,onKeydown:fe},M,r),[B(LPe,ct({color:m,modelValue:c.value&&!!e.scrim,ref:s},x.value),null),B(Zi,{appear:!0,persisted:!0,transition:e.transition,target:T.value,onAfterEnter:Fe,onAfterLeave:Le},{default:()=>{var pe;return[$r(B("div",ct({ref:l,class:["v-overlay__content",e.contentClass],style:[j.value,$.value]},A.value,e.contentProps),[(pe=i.default)==null?void 0:pe.call(i,{isActive:c})]),[[to,c.value],[eo("click-outside"),{handler:re,closeConditional:oe,include:()=>[_.value]}]])]}})])]})])}),{activatorEl:_,scrimEl:s,target:T,animateClick:ae,contentEl:l,globalTop:y,localTop:v,updateLocation:te}}}),bP=Symbol("Forwarded refs");function _P(e,t){let i=e;for(;i;){const r=Reflect.getOwnPropertyDescriptor(i,t);if(r)return r;i=Object.getPrototypeOf(i)}}function To(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e[bP]=i,new Proxy(e,{get(n,a){if(Reflect.has(n,a))return Reflect.get(n,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const o of i)if(o.value&&Reflect.has(o.value,a)){const s=Reflect.get(o.value,a);return typeof s=="function"?s.bind(o.value):s}}},has(n,a){if(Reflect.has(n,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of i)if(o.value&&Reflect.has(o.value,a))return!0;return!1},set(n,a,o){if(Reflect.has(n,a))return Reflect.set(n,a,o);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of i)if(s.value&&Reflect.has(s.value,a))return Reflect.set(s.value,a,o);return!1},getOwnPropertyDescriptor(n,a){var s;const o=Reflect.getOwnPropertyDescriptor(n,a);if(o)return o;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const l of i){if(!l.value)continue;const u=_P(l.value,a)??("_"in l.value?_P((s=l.value._)==null?void 0:s.setupState,a):void 0);if(u)return u}for(const l of i){const u=l.value&&l.value[bP];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),f=_P(d.value,a);if(f)return f;const h=d.value&&d.value[bP];h&&c.push(...h)}}}}})}const oie=We({id:String,submenu:Boolean,...zn(gA({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:P3}}),["absolute"])},"VMenu"),y0=ot()({name:"VMenu",props:oie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),{scopeId:n}=ng(),{isRtl:a}=ci(),o=Ti(),s=ue(()=>e.id||`v-menu-${o}`),l=vt(),u=_r(zI,null),c=Tt(new Set);Jr(zI,{register(){c.value.add(o)},unregister(){c.value.delete(o)},closeParents(m){setTimeout(()=>{var y;!c.value.size&&!e.persistent&&(m==null||(y=l.value)!=null&&y.contentEl&&!G3e(m,l.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}}),yi(()=>{u==null||u.unregister(),document.removeEventListener("focusin",d)}),AC(()=>r.value=!1);async function d(m){var b,_,w;const y=m.relatedTarget,v=m.target;await Mr(),r.value&&y!==v&&((b=l.value)!=null&&b.contentEl)&&((_=l.value)!=null&&_.globalTop)&&![document,l.value.contentEl].includes(v)&&!l.value.contentEl.contains(v)&&((w=c2(l.value.contentEl)[0])==null||w.focus())}Pt(r,m=>{m?(u==null||u.register(),kr&&document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),kr&&document.removeEventListener("focusin",d))},{immediate:!0});function f(m){u==null||u.closeParents(m)}function h(m){var y,v,b,_,w;if(!e.disabled)if(m.key==="Tab"||m.key==="Enter"&&!e.closeOnContentClick){if(m.key==="Enter"&&(m.target instanceof HTMLTextAreaElement||m.target instanceof HTMLInputElement&&m.target.closest("form")))return;m.key==="Enter"&&m.preventDefault(),Ore(c2((y=l.value)==null?void 0:y.contentEl,!1),m.shiftKey?"prev":"next",R=>R.tabIndex>=0)||(r.value=!1,(b=(v=l.value)==null?void 0:v.activatorEl)==null||b.focus())}else e.submenu&&m.key===(a.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(w=(_=l.value)==null?void 0:_.activatorEl)==null||w.focus())}function p(m){var v;if(e.disabled)return;const y=(v=l.value)==null?void 0:v.contentEl;y&&r.value?m.key==="ArrowDown"?(m.preventDefault(),m.stopImmediatePropagation(),Sp(y,"next")):m.key==="ArrowUp"?(m.preventDefault(),m.stopImmediatePropagation(),Sp(y,"prev")):e.submenu&&(m.key===(a.value?"ArrowRight":"ArrowLeft")?r.value=!1:m.key===(a.value?"ArrowLeft":"ArrowRight")&&(m.preventDefault(),Sp(y,"first"))):(e.submenu?m.key===(a.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(m.key))&&(r.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>p(m))))}const g=ue(()=>ct({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":s.value,onKeydown:p},e.activatorProps));return ht(()=>{const m=Es.filterProps(e);return B(Es,ct({ref:l,id:s.value,class:["v-menu",e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,absolute:!0,activatorProps:g.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},n),{activator:i.activator,default:function(){for(var y=arguments.length,v=new Array(y),b=0;b<y;b++)v[b]=arguments[b];return B(Sr,{root:"VMenu"},{default:()=>{var _;return[(_=i.default)==null?void 0:_.call(i,...v)]}})}})}),To({id:s,ΨopenChildren:c},l)}}),MPe=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Mt(),...Xo({transition:{component:BN}})},"VCounter"),k3=ot()({name:"VCounter",functional:!0,props:MPe(),setup(e,t){let{slots:i}=t;const r=ue(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ht(()=>B(Zi,{transition:e.transition},{default:()=>[$r(B("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[i.default?i.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[to,e.active]])]})),{}}}),jPe=We({floating:Boolean,...Mt()},"VFieldLabel"),CS=ot()({name:"VFieldLabel",props:jPe(),setup(e,t){let{slots:i}=t;return ht(()=>B(K0,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),kPe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],mA=We({appendInnerIcon:Kt,bgColor:String,clearable:Boolean,clearIcon:{type:Kt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Kt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>kPe.includes(e)},"onClick:clear":Si(),"onClick:appendInner":Si(),"onClick:prependInner":Si(),...Mt(),...N3(),...yn(),...Nr()},"VField"),pl=ot()({name:"VField",inheritAttrs:!1,props:{id:String,...hA(),...mA()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{themeClasses:a}=zr(e),{loaderClasses:o}=lA(e),{focusClasses:s,isFocused:l,focus:u,blur:c}=Ou(e),{InputIcon:d}=Ine(e),{roundedClasses:f}=Dn(e),{rtlClasses:h}=ci(),p=ue(()=>e.dirty||e.active),g=ue(()=>!!(e.label||n.label)),m=ue(()=>!e.singleLine&&g.value),y=Ti(),v=ue(()=>e.id||`input-${y}`),b=ue(()=>`${v.value}-messages`),_=vt(),w=vt(),T=vt(),R=ue(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:F,backgroundColorStyles:D}=rn(nt(e,"bgColor")),{textColorClasses:A,textColorStyles:x}=Ui(ue(()=>e.error||e.disabled?void 0:p.value&&l.value?e.color:e.baseColor));Pt(p,H=>{if(m.value){const M=_.value.$el,$=w.value.$el;requestAnimationFrame(()=>{const te=RN(M),re=$.getBoundingClientRect(),oe=re.x-te.x,J=re.y-te.y-(te.height/2-re.height/2),fe=re.width/.75,xe=Math.abs(fe-te.width)>1?{maxWidth:Ft(fe)}:void 0,de=getComputedStyle(M),ae=getComputedStyle($),Fe=parseFloat(de.transitionDuration)*1e3||150,Le=parseFloat(ae.getPropertyValue("--v-field-label-scale")),me=ae.getPropertyValue("color");M.style.visibility="visible",$.style.visibility="hidden",vp(M,{transform:`translate(${oe}px, ${J}px) scale(${Le})`,color:me,...xe},{duration:Fe,easing:d2,direction:H?"normal":"reverse"}).finished.then(()=>{M.style.removeProperty("visibility"),$.style.removeProperty("visibility")})})}},{flush:"post"});const N=ue(()=>({isActive:p,isFocused:l,controlRef:T,blur:c,focus:u}));function j(H){H.target!==document.activeElement&&H.preventDefault()}return ht(()=>{var oe,J,fe;const H=e.variant==="outlined",M=!!(n["prepend-inner"]||e.prependInnerIcon),$=!!(e.clearable||n.clear)&&!e.disabled,te=!!(n["append-inner"]||e.appendInnerIcon||$),re=()=>n.label?n.label({...N.value,label:e.label,props:{for:v.value}}):e.label;return B("div",ct({class:["v-field",{"v-field--active":p.value,"v-field--appended":te,"v-field--center-affix":e.centerAffix??!R.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":M,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!re(),[`v-field--variant-${e.variant}`]:!0},a.value,F.value,s.value,o.value,f.value,h.value,e.class],style:[D.value,e.style],onClick:j},i),[B("div",{class:"v-field__overlay"},null),B(cA,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:n.loader}),M&&B("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&B(d,{key:"prepend-icon",name:"prependInner"},null),(oe=n["prepend-inner"])==null?void 0:oe.call(n,N.value)]),B("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&B(CS,{key:"floating-label",ref:w,class:[A.value],floating:!0,for:v.value,style:x.value},{default:()=>[re()]}),g.value&&B(CS,{key:"label",ref:_,for:v.value},{default:()=>[re()]}),(J=n.default)==null?void 0:J.call(n,{...N.value,props:{id:v.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:c})]),$&&B(qN,{key:"clear"},{default:()=>[$r(B("div",{class:"v-field__clearable",onMousedown:xe=>{xe.preventDefault(),xe.stopPropagation()}},[B(Sr,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[n.clear?n.clear({...N.value,props:{onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):B(d,{name:"clear",onFocus:u,onBlur:c},null)]})]),[[to,e.dirty]])]}),te&&B("div",{key:"append",class:"v-field__append-inner"},[(fe=n["append-inner"])==null?void 0:fe.call(n,N.value),e.appendInnerIcon&&B(d,{key:"append-icon",name:"appendInner"},null)]),B("div",{class:["v-field__outline",A.value],style:x.value},[H&&B(Ot,null,[B("div",{class:"v-field__outline__start"},null),m.value&&B("div",{class:"v-field__outline__notch"},[B(CS,{ref:w,floating:!0,for:v.value},{default:()=>[re()]})]),B("div",{class:"v-field__outline__end"},null)]),R.value&&m.value&&B(CS,{ref:w,floating:!0,for:v.value},{default:()=>[re()]})])])}),{controlRef:T}}}),BPe=["color","file","time","date","datetime-local","week","month"],B3=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Pu(),...mA()},"VTextField"),Np=ot()({name:"VTextField",directives:{Intersect:uA},inheritAttrs:!1,props:B3(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const a=Gt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=Ou(e),u=ue(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),c=ue(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=ue(()=>["plain","underlined"].includes(e.variant));function f(T,R){var F,D;!e.autofocus||!T||(D=(F=R[0].target)==null?void 0:F.focus)==null||D.call(F)}const h=vt(),p=vt(),g=vt(),m=ue(()=>BPe.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function y(){var T;g.value!==document.activeElement&&((T=g.value)==null||T.focus()),o.value||s()}function v(T){r("mousedown:control",T),T.target!==g.value&&(y(),T.preventDefault())}function b(T){y(),r("click:control",T)}function _(T){T.stopPropagation(),y(),Mr(()=>{a.value=null,T3(e["onClick:clear"],T)})}function w(T){var F;const R=T.target;if(a.value=R.value,(F=e.modelModifiers)!=null&&F.trim&&["text","search","password","tel","url"].includes(e.type)){const D=[R.selectionStart,R.selectionEnd];Mr(()=>{R.selectionStart=D[0],R.selectionEnd=D[1]})}}return ht(()=>{const T=!!(n.counter||e.counter!==!1&&e.counter!=null),R=!!(T||n.details),[F,D]=Dl(i),{modelValue:A,...x}=Hi.filterProps(e),N=pl.filterProps(e);return B(Hi,ct({ref:h,modelValue:a.value,"onUpdate:modelValue":j=>a.value=j,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},F,x,{centerAffix:!d.value,focused:o.value}),{...n,default:j=>{let{id:H,isDisabled:M,isDirty:$,isReadonly:te,isValid:re}=j;return B(pl,ct({ref:p,onMousedown:v,onClick:b,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},N,{id:H.value,active:m.value||$.value,dirty:$.value||e.dirty,disabled:M.value,focused:o.value,error:re.value===!1}),{...n,default:oe=>{let{props:{class:J,...fe}}=oe;const xe=$r(B("input",ct({ref:g,value:a.value,onInput:w,autofocus:e.autofocus,readonly:te.value,disabled:M.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:l},fe,D),null),[[eo("intersect"),{handler:f},null,{once:!0}]]);return B(Ot,null,[e.prefix&&B("span",{class:"v-text-field__prefix"},[B("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?B("div",{class:J,"data-no-activator":""},[n.default(),xe]):cu(xe,{class:J}),e.suffix&&B("span",{class:"v-text-field__suffix"},[B("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:R?j=>{var H;return B(Ot,null,[(H=n.details)==null?void 0:H.call(n,j),T&&B(Ot,null,[B("span",null,null),B(k3,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},n.counter)])])}:void 0})}),To({},h,p,g)}}),qPe=We({renderless:Boolean,...Mt()},"VVirtualScrollItem"),sie=ot()({name:"VVirtualScrollItem",inheritAttrs:!1,props:qPe(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{resizeRef:a,contentRect:o}=Go(void 0,"border");Pt(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),ht(()=>{var s,l;return e.renderless?B(Ot,null,[(s=n.default)==null?void 0:s.call(n,{itemRef:a})]):B("div",ct({ref:a,class:["v-virtual-scroll__item",e.class],style:e.style},i),[(l=n.default)==null?void 0:l.call(n)])})}}),VPe=-1,UPe=1,wP=100,uie=We({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function lie(e,t){const i=So(),r=Tt(0);Vn(()=>{r.value=parseFloat(e.itemHeight||0)});const n=Tt(0),a=Tt(Math.ceil((parseInt(e.height)||i.height.value)/(r.value||16))||1),o=Tt(0),s=Tt(0),l=vt(),u=vt();let c=0;const{resizeRef:d,contentRect:f}=Go();Vn(()=>{d.value=l.value});const h=ue(()=>{var J;return l.value===document.documentElement?i.height.value:((J=f.value)==null?void 0:J.height)||parseInt(e.height)||0}),p=ue(()=>!!(l.value&&u.value&&h.value&&r.value));let g=Array.from({length:t.value.length}),m=Array.from({length:t.value.length});const y=Tt(0);let v=-1;function b(J){return g[J]||r.value}const _=U3e(()=>{const J=performance.now();m[0]=0;const fe=t.value.length;for(let xe=1;xe<=fe-1;xe++)m[xe]=(m[xe-1]||0)+b(xe-1);y.value=Math.max(y.value,performance.now()-J)},y),w=Pt(p,J=>{J&&(w(),c=u.value.offsetTop,_.immediate(),$(),~v&&Mr(()=>{kr&&window.requestAnimationFrame(()=>{re(v),v=-1})}))});ia(()=>{_.clear()});function T(J,fe){const xe=g[J],de=r.value;r.value=de?Math.min(r.value,fe):fe,(xe!==fe||de!==r.value)&&(g[J]=fe,_())}function R(J){return J=Qn(J,0,t.value.length-1),m[J]||0}function F(J){return HPe(m,J)}let D=0,A=0,x=0;Pt(h,(J,fe)=>{fe&&($(),J<fe&&requestAnimationFrame(()=>{A=0,$()}))});let N=-1;function j(){if(!l.value||!u.value)return;const J=l.value.scrollTop,fe=performance.now();fe-x>500?(A=Math.sign(J-D),c=u.value.offsetTop):A=J-D,D=J,x=fe,window.clearTimeout(N),N=window.setTimeout(H,500),$()}function H(){!l.value||!u.value||(A=0,x=0,window.clearTimeout(N),$())}let M=-1;function $(){cancelAnimationFrame(M),M=requestAnimationFrame(te)}function te(){if(!l.value||!h.value)return;const J=D-c,fe=Math.sign(A),xe=Math.max(0,J-wP),de=Qn(F(xe),0,t.value.length),ae=J+h.value+wP,Fe=Qn(F(ae)+1,de+1,t.value.length);if((fe!==VPe||de<n.value)&&(fe!==UPe||Fe>a.value)){const Le=R(n.value)-R(de),me=R(Fe)-R(a.value);Math.max(Le,me)>wP?(n.value=de,a.value=Fe):(de<=0&&(n.value=de),Fe>=t.value.length&&(a.value=Fe))}o.value=R(n.value),s.value=R(t.value.length)-R(a.value)}function re(J){const fe=R(J);!l.value||J&&!fe?v=J:l.value.scrollTop=fe}const oe=ue(()=>t.value.slice(n.value,a.value).map((J,fe)=>({raw:J,index:fe+n.value,key:A3(J)&&"value"in J?J.value:fe+n.value})));return Pt(t,()=>{g=Array.from({length:t.value.length}),m=Array.from({length:t.value.length}),_.immediate(),$()},{deep:!0}),{calculateVisibleItems:$,containerRef:l,markerRef:u,computedItems:oe,paddingTop:o,paddingBottom:s,scrollToIndex:re,handleScroll:j,handleScrollend:H,handleItemResize:T}}function HPe(e,t){let i=e.length-1,r=0,n=0,a=null,o=-1;if(e[i]<t)return i;for(;r<=i;)if(n=r+i>>1,a=e[n],a>t)i=n-1;else if(a<t)o=n,r=n+1;else return a===t?n:r;return o}const $Pe=We({items:{type:Array,default:()=>[]},renderless:Boolean,...uie(),...Mt(),...ni()},"VVirtualScroll"),q3=ot()({name:"VVirtualScroll",props:$Pe(),setup(e,t){let{slots:i}=t;const r=Cn("VVirtualScroll"),{dimensionStyles:n}=ii(e),{calculateVisibleItems:a,containerRef:o,markerRef:s,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:p}=lie(e,nt(e,"items"));return Aa(()=>e.renderless,()=>{function g(){var v,b;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",u)):((v=o.value)==null||v[y]("scroll",l,{passive:!0}),(b=o.value)==null||b[y]("scrollend",u))}$i(()=>{o.value=CN(r.vnode.el,!0),g(!0)}),ia(g)}),ht(()=>{const g=p.value.map(m=>B(sie,{key:m.key,renderless:e.renderless,"onUpdate:height":y=>c(m.index,y)},{default:y=>{var v;return(v=i.default)==null?void 0:v.call(i,{item:m.raw,index:m.index,...y})}}));return e.renderless?B(Ot,null,[B("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:Ft(f.value)}},null),g,B("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ft(h.value)}},null)]):B("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[n.value,e.style]},[B("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:Ft(f.value),paddingBottom:Ft(h.value)}},[g])])}),{calculateVisibleItems:a,scrollToIndex:d}}});function YN(e,t){const i=Tt(!1);let r;function n(s){cancelAnimationFrame(r),i.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i.value=!1})})}async function a(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(i.value){const l=Pt(i,()=>{l(),s()})}else s()})}async function o(s){var c,d;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(d=e.value)==null?void 0:d.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await a();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:n,onKeydown:o}}const ZN=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Kt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Jne({itemChildren:!1})},"Select"),QPe=We({...ZN(),...zn(B3({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Xo({transition:{component:P3}})},"VSelect"),e4=ot()({name:"VSelect",props:QPe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=Un(),n=vt(),a=vt(),o=vt(),s=Gt(e,"menu"),l=ue({get:()=>s.value,set:oe=>{var J;s.value&&!oe&&((J=a.value)!=null&&J.ΨopenChildren.size)||(s.value=oe)}}),{items:u,transformIn:c,transformOut:d}=GN(e),f=Gt(e,"modelValue",[],oe=>c(oe===null?[null]:En(oe)),oe=>{const J=d(oe);return e.multiple?J:J[0]??null}),h=ue(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),p=M3(e),g=ue(()=>f.value.map(oe=>oe.value)),m=Tt(!1),y=ue(()=>l.value?e.closeText:e.openText);let v="",b;const _=ue(()=>e.hideSelected?u.value.filter(oe=>!f.value.some(J=>(e.valueComparator||ea)(J,oe))):u.value),w=ue(()=>e.hideNoData&&!_.value.length||p.isReadonly.value||p.isDisabled.value),T=ue(()=>{var oe;return{...e.menuProps,activatorProps:{...((oe=e.menuProps)==null?void 0:oe.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=vt(),F=YN(R,n);function D(oe){e.openOnClear&&(l.value=!0)}function A(){w.value||(l.value=!l.value)}function x(oe){h0(oe)&&N(oe)}function N(oe){var de,ae;if(!oe.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(oe.key)&&oe.preventDefault(),["Enter","ArrowDown"," "].includes(oe.key)&&(l.value=!0),["Escape","Tab"].includes(oe.key)&&(l.value=!1),oe.key==="Home"?(de=R.value)==null||de.focus("first"):oe.key==="End"&&((ae=R.value)==null||ae.focus("last"));const J=1e3;if(!h0(oe))return;const fe=performance.now();fe-b>J&&(v=""),v+=oe.key.toLowerCase(),b=fe;const xe=u.value.find(Fe=>Fe.title.toLowerCase().startsWith(v));if(xe!==void 0){f.value=[xe];const Fe=_.value.indexOf(xe);kr&&window.requestAnimationFrame(()=>{var Le;Fe>=0&&((Le=o.value)==null||Le.scrollToIndex(Fe))})}}function j(oe){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!oe.props.disabled)if(e.multiple){const fe=f.value.findIndex(de=>(e.valueComparator||ea)(de.value,oe.value)),xe=J??!~fe;if(~fe){const de=xe?[...f.value,oe]:[...f.value];de.splice(fe,1),f.value=de}else xe&&(f.value=[...f.value,oe])}else{const fe=J!==!1;f.value=fe?[oe]:[],Mr(()=>{l.value=!1})}}function H(oe){var J;(J=R.value)!=null&&J.$el.contains(oe.relatedTarget)||(l.value=!1)}function M(){var oe;e.eager&&((oe=o.value)==null||oe.calculateVisibleItems())}function $(){var oe;m.value&&((oe=n.value)==null||oe.focus())}function te(oe){m.value=!0}function re(oe){if(oe==null)f.value=[];else if(f0(n.value,":autofill")||f0(n.value,":-webkit-autofill")){const J=u.value.find(fe=>fe.title===oe);J&&j(J)}else n.value&&(n.value.value="")}return Pt(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const oe=_.value.findIndex(J=>f.value.some(fe=>(e.valueComparator||ea)(fe.value,J.value)));kr&&window.requestAnimationFrame(()=>{var J;oe>=0&&((J=o.value)==null||J.scrollToIndex(oe))})}}),Pt(()=>e.items,(oe,J)=>{l.value||m.value&&!J.length&&oe.length&&(l.value=!0)}),ht(()=>{const oe=!!(e.chips||i.chip),J=!!(!e.hideNoData||_.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),fe=f.value.length>0,xe=Np.filterProps(e),de=fe||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return B(Np,ct({ref:n},xe,{modelValue:f.value.map(ae=>ae.props.value).join(", "),"onUpdate:modelValue":re,focused:m.value,"onUpdate:focused":ae=>m.value=ae,validationValue:f.externalValue,counterValue:h.value,dirty:fe,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!i.selection},e.class],style:e.style,inputmode:"none",placeholder:de,"onClick:clear":D,"onMousedown:control":A,onBlur:H,onKeydown:N,"aria-label":r(y.value),title:r(y.value)}),{...i,default:()=>B(Ot,null,[B(y0,ct({ref:a,modelValue:l.value,"onUpdate:modelValue":ae=>l.value=ae,activator:"parent",contentClass:"v-select__content",disabled:w.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:$},T.value),{default:()=>[J&&B(j3,ct({ref:R,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:x,onFocusin:te,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},F,e.listProps),{default:()=>{var ae,Fe,Le;return[(ae=i["prepend-item"])==null?void 0:ae.call(i),!_.value.length&&!e.hideNoData&&(((Fe=i["no-data"])==null?void 0:Fe.call(i))??B(bu,{key:"no-data",title:r(e.noDataText)},null)),B(q3,{ref:o,renderless:!0,items:_.value},{default:me=>{var E;let{item:pe,index:_e,itemRef:X}=me;const C=ct(pe.props,{ref:X,key:pe.value,onClick:()=>j(pe,null)});return((E=i.item)==null?void 0:E.call(i,{item:pe,index:_e,props:C}))??B(bu,ct(C,{role:"option"}),{prepend:S=>{let{isSelected:I}=S;return B(Ot,null,[e.multiple&&!e.hideSelected?B(vu,{key:pe.value,modelValue:I,ripple:!1,tabindex:"-1"},null):void 0,pe.props.prependAvatar&&B(vo,{image:pe.props.prependAvatar},null),pe.props.prependIcon&&B(Vr,{icon:pe.props.prependIcon},null)])}})}}),(Le=i["append-item"])==null?void 0:Le.call(i)]}})]}),f.value.map((ae,Fe)=>{function Le(X){X.stopPropagation(),X.preventDefault(),j(ae,!1)}const me={"onClick:close":Le,onKeydown(X){X.key!=="Enter"&&X.key!==" "||(X.preventDefault(),X.stopPropagation(),Le(X))},onMousedown(X){X.preventDefault(),X.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},pe=oe?!!i.chip:!!i.selection,_e=pe?E3(oe?i.chip({item:ae,index:Fe,props:me}):i.selection({item:ae,index:Fe})):void 0;if(!(pe&&!_e))return B("div",{key:ae.value,class:"v-select__selection"},[oe?i.chip?B(Sr,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ae.title}}},{default:()=>[_e]}):B(J0,ct({key:"chip",closable:e.closableChips,size:"small",text:ae.title,disabled:ae.props.disabled},me),null):_e??B("span",{class:"v-select__selection-text"},[ae.title,e.multiple&&Fe<f.value.length-1&&B("span",{class:"v-select__selection-comma"},[$t(",")])])])})]),"append-inner":function(){var me;for(var ae=arguments.length,Fe=new Array(ae),Le=0;Le<ae;Le++)Fe[Le]=arguments[Le];return B(Ot,null,[(me=i["append-inner"])==null?void 0:me.call(i,...Fe),e.menuIcon?B(Vr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),To({isFocused:m,menu:l,select:j},n)}}),zPe=(e,t,i)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),yA=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function GPe(e,t,i){var s;const r=[],n=(i==null?void 0:i.default)??zPe,a=i!=null&&i.filterKeys?En(i.filterKeys):!1,o=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let l=0;l<e.length;l++){const[u,c=u]=En(e[l]),d={},f={};let h=-1;if((t||o>0)&&!(i!=null&&i.noFilter)){if(typeof u=="object"){const m=a||Object.keys(c);for(const y of m){const v=oi(c,y),b=(s=i==null?void 0:i.customKeyFilter)==null?void 0:s[y];if(h=b?b(v,t,u):n(v,t,u),h!==-1&&h!==!1)b?d[y]=h:f[y]=h;else if((i==null?void 0:i.filterMode)==="every")continue e}}else h=n(u,t,u),h!==-1&&h!==!1&&(f.title=h);const p=Object.keys(f).length,g=Object.keys(d).length;if(!p&&!g||(i==null?void 0:i.filterMode)==="union"&&g!==o&&!p||(i==null?void 0:i.filterMode)==="intersection"&&(g!==o||!p))continue}r.push({index:l,matches:{...f,...d}})}return r}function vA(e,t,i,r){const n=Tt([]),a=Tt(new Map),o=ue(()=>r!=null&&r.transform?ti(t).map(l=>[l,r.transform(l)]):ti(t));Vn(()=>{const l=typeof i=="function"?i():ti(i),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=GPe(o.value,u,{customKeyFilter:{...e.customKeyFilter,...ti(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=ti(t),f=[],h=new Map;c.forEach(p=>{let{index:g,matches:m}=p;const y=d[g];f.push(y),h.set(y.value,m)}),n.value=f,a.value=h});function s(l){return a.value.get(l.value)}return{filteredItems:n,filteredMatches:a,getMatches:s}}function WPe(e,t,i){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?B(Ot,null,[B("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),B("span",{class:"v-autocomplete__mask"},[e.substr(t,i)]),B("span",{class:"v-autocomplete__unmask"},[e.substr(t+i)])]):e}const KPe=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...yA({filterKeys:["title"]}),...ZN(),...zn(B3({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Xo({transition:!1})},"VAutocomplete"),JPe=ot()({name:"VAutocomplete",props:KPe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=Un(),n=vt(),a=Tt(!1),o=Tt(!0),s=Tt(!1),l=vt(),u=vt(),c=Gt(e,"menu"),d=ue({get:()=>c.value,set:C=>{var E;c.value&&!C&&((E=l.value)!=null&&E.ΨopenChildren.size)||(c.value=C)}}),f=Tt(-1),h=ue(()=>{var C;return(C=n.value)==null?void 0:C.color}),p=ue(()=>d.value?e.closeText:e.openText),{items:g,transformIn:m,transformOut:y}=GN(e),{textColorClasses:v,textColorStyles:b}=Ui(h),_=Gt(e,"search",""),w=Gt(e,"modelValue",[],C=>m(C===null?[null]:En(C)),C=>{const E=y(C);return e.multiple?E:E[0]??null}),T=ue(()=>typeof e.counterValue=="function"?e.counterValue(w.value):typeof e.counterValue=="number"?e.counterValue:w.value.length),R=M3(e),{filteredItems:F,getMatches:D}=vA(e,g,()=>o.value?"":_.value),A=ue(()=>e.hideSelected?F.value.filter(C=>!w.value.some(E=>E.value===C.value)):F.value),x=ue(()=>!!(e.chips||i.chip)),N=ue(()=>x.value||!!i.selection),j=ue(()=>w.value.map(C=>C.props.value)),H=ue(()=>{var E;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&_.value===((E=A.value[0])==null?void 0:E.title))&&A.value.length>0&&!o.value&&!s.value}),M=ue(()=>e.hideNoData&&!A.value.length||R.isReadonly.value||R.isDisabled.value),$=vt(),te=YN($,n);function re(C){e.openOnClear&&(d.value=!0),_.value=""}function oe(){M.value||(d.value=!0)}function J(C){M.value||(a.value&&(C.preventDefault(),C.stopPropagation()),d.value=!d.value)}function fe(C){var E;C.key!==" "&&h0(C)&&((E=n.value)==null||E.focus())}function xe(C){var I,k,Q;if(R.isReadonly.value)return;const E=n.value.selectionStart,S=w.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(C.key)&&C.preventDefault(),["Enter","ArrowDown"].includes(C.key)&&(d.value=!0),["Escape"].includes(C.key)&&(d.value=!1),H.value&&["Enter","Tab"].includes(C.key)&&!w.value.some(G=>{let{value:ne}=G;return ne===A.value[0].value})&&X(A.value[0]),C.key==="ArrowDown"&&H.value&&((I=$.value)==null||I.focus("next")),["Backspace","Delete"].includes(C.key)){if(!e.multiple&&N.value&&w.value.length>0&&!_.value)return X(w.value[0],!1);if(~f.value){C.preventDefault();const G=f.value;X(w.value[f.value],!1),f.value=G>=S-1?S-2:G}else C.key==="Backspace"&&!_.value&&(f.value=S-1);return}if(e.multiple)if(C.key==="ArrowLeft"){if(f.value<0&&E>0)return;const G=f.value>-1?f.value-1:S-1;w.value[G]?f.value=G:(f.value=-1,n.value.setSelectionRange((k=_.value)==null?void 0:k.length,(Q=_.value)==null?void 0:Q.length))}else if(C.key==="ArrowRight"){if(f.value<0)return;const G=f.value+1;w.value[G]?f.value=G:(f.value=-1,n.value.setSelectionRange(0,0))}else~f.value&&h0(C)&&(f.value=-1)}function de(C){if(f0(n.value,":autofill")||f0(n.value,":-webkit-autofill")){const E=g.value.find(S=>S.title===C.target.value);E&&X(E)}}function ae(){var C;e.eager&&((C=u.value)==null||C.calculateVisibleItems())}function Fe(){var C;a.value&&(o.value=!0,(C=n.value)==null||C.focus())}function Le(C){a.value=!0,setTimeout(()=>{s.value=!0})}function me(C){s.value=!1}function pe(C){(C==null||C===""&&!e.multiple&&!N.value)&&(w.value=[])}const _e=Tt(!1);function X(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!C||C.props.disabled))if(e.multiple){const S=w.value.findIndex(k=>(e.valueComparator||ea)(k.value,C.value)),I=E??!~S;if(~S){const k=I?[...w.value,C]:[...w.value];k.splice(S,1),w.value=k}else I&&(w.value=[...w.value,C]);e.clearOnSelect&&(_.value="")}else{const S=E!==!1;w.value=S?[C]:[],_.value=S&&!N.value?C.title:"",Mr(()=>{d.value=!1,o.value=!0})}}return Pt(a,(C,E)=>{var S;C!==E&&(C?(_e.value=!0,_.value=e.multiple||N.value?"":String(((S=w.value.at(-1))==null?void 0:S.props.title)??""),o.value=!0,Mr(()=>_e.value=!1)):(!e.multiple&&_.value==null&&(w.value=[]),d.value=!1,w.value.some(I=>{let{title:k}=I;return k===_.value})||(_.value=""),f.value=-1))}),Pt(_,C=>{!a.value||_e.value||(C&&(d.value=!0),o.value=!C)}),Pt(d,()=>{if(!e.hideSelected&&d.value&&w.value.length){const C=A.value.findIndex(E=>w.value.some(S=>E.value===S.value));kr&&window.requestAnimationFrame(()=>{var E;C>=0&&((E=u.value)==null||E.scrollToIndex(C))})}}),Pt(()=>e.items,(C,E)=>{d.value||a.value&&!E.length&&C.length&&(d.value=!0)}),ht(()=>{const C=!!(!e.hideNoData||A.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),E=w.value.length>0,S=Np.filterProps(e);return B(Np,ct({ref:n},S,{modelValue:_.value,"onUpdate:modelValue":[I=>_.value=I,pe],focused:a.value,"onUpdate:focused":I=>a.value=I,validationValue:w.externalValue,counterValue:T.value,dirty:E,onChange:de,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!N.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:R.isReadonly.value,placeholder:E?void 0:e.placeholder,"onClick:clear":re,"onMousedown:control":oe,onKeydown:xe}),{...i,default:()=>B(Ot,null,[B(y0,ct({ref:l,modelValue:d.value,"onUpdate:modelValue":I=>d.value=I,activator:"parent",contentClass:"v-autocomplete__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ae,onAfterLeave:Fe},e.menuProps),{default:()=>[C&&B(j3,ct({ref:$,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:fe,onFocusin:Le,onFocusout:me,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},te,e.listProps),{default:()=>{var I,k,Q;return[(I=i["prepend-item"])==null?void 0:I.call(i),!A.value.length&&!e.hideNoData&&(((k=i["no-data"])==null?void 0:k.call(i))??B(bu,{key:"no-data",title:r(e.noDataText)},null)),B(q3,{ref:u,renderless:!0,items:A.value},{default:G=>{var Ae;let{item:ne,index:ee,itemRef:se}=G;const ge=ct(ne.props,{ref:se,key:ne.value,active:H.value&&ee===0?!0:void 0,onClick:()=>X(ne,null)});return((Ae=i.item)==null?void 0:Ae.call(i,{item:ne,index:ee,props:ge}))??B(bu,ct(ge,{role:"option"}),{prepend:Ve=>{let{isSelected:Ge}=Ve;return B(Ot,null,[e.multiple&&!e.hideSelected?B(vu,{key:ne.value,modelValue:Ge,ripple:!1,tabindex:"-1"},null):void 0,ne.props.prependAvatar&&B(vo,{image:ne.props.prependAvatar},null),ne.props.prependIcon&&B(Vr,{icon:ne.props.prependIcon},null)])},title:()=>{var Ve,Ge;return o.value?ne.title:WPe(ne.title,(Ve=D(ne))==null?void 0:Ve.title,((Ge=_.value)==null?void 0:Ge.length)??0)}})}}),(Q=i["append-item"])==null?void 0:Q.call(i)]}})]}),w.value.map((I,k)=>{function Q(se){se.stopPropagation(),se.preventDefault(),X(I,!1)}const G={"onClick:close":Q,onKeydown(se){se.key!=="Enter"&&se.key!==" "||(se.preventDefault(),se.stopPropagation(),Q(se))},onMousedown(se){se.preventDefault(),se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ne=x.value?!!i.chip:!!i.selection,ee=ne?E3(x.value?i.chip({item:I,index:k,props:G}):i.selection({item:I,index:k})):void 0;if(!(ne&&!ee))return B("div",{key:I.value,class:["v-autocomplete__selection",k===f.value&&["v-autocomplete__selection--selected",v.value]],style:k===f.value?b.value:{}},[x.value?i.chip?B(Sr,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:I.title}}},{default:()=>[ee]}):B(J0,ct({key:"chip",closable:e.closableChips,size:"small",text:I.title,disabled:I.props.disabled},G),null):ee??B("span",{class:"v-autocomplete__selection-text"},[I.title,e.multiple&&k<w.value.length-1&&B("span",{class:"v-autocomplete__selection-comma"},[$t(",")])])])})]),"append-inner":function(){var G;for(var I=arguments.length,k=new Array(I),Q=0;Q<I;Q++)k[Q]=arguments[Q];return B(Ot,null,[(G=i["append-inner"])==null?void 0:G.call(i,...k),e.menuIcon?B(Vr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:J,onClick:Pre,"aria-label":r(p.value),title:r(p.value),tabindex:"-1"},null):void 0])}})}),To({isFocused:a,isPristine:o,menu:d,search:_,filteredItems:F,select:X},n)}}),XPe=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Kt,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Mt(),...xu({location:"top end"}),...yn(),...pr(),...Nr(),...Xo({transition:"scale-rotate-transition"})},"VBadge"),YPe=ot()({name:"VBadge",inheritAttrs:!1,props:XPe(),setup(e,t){const{backgroundColorClasses:i,backgroundColorStyles:r}=rn(nt(e,"color")),{roundedClasses:n}=Dn(e),{t:a}=Un(),{textColorClasses:o,textColorStyles:s}=Ui(nt(e,"textColor")),{themeClasses:l}=MN(),{locationStyles:u}=rg(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?Number(e.offsetY??0):["left","right"].includes(c)?Number(e.offsetX??0):0));return ht(()=>{const c=Number(e.content),d=!e.max||isNaN(c)?e.content:c<=Number(e.max)?c:`${e.max}+`,[f,h]=OI(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return B(e.tag,ct({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>{var p,g;return[B("div",{class:"v-badge__wrapper"},[(g=(p=t.slots).default)==null?void 0:g.call(p),B(Zi,{transition:e.transition},{default:()=>{var m,y;return[$r(B("span",ct({class:["v-badge__badge",l.value,i.value,n.value,o.value],style:[r.value,s.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":a(e.label,c),"aria-live":"polite",role:"status"},f),[e.dot?void 0:t.slots.badge?(y=(m=t.slots).badge)==null?void 0:y.call(m):e.icon?B(Vr,{icon:e.icon},null):d]),[[to,e.modelValue]])]}})])]}})}),{}}}),ZPe=We({color:String,density:String,...Mt()},"VBannerActions"),cie=ot()({name:"VBannerActions",props:ZPe(),setup(e,t){let{slots:i}=t;return In({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),ht(()=>{var r;return B("div",{class:["v-banner-actions",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),die=Ms("v-banner-text"),eIe=We({avatar:String,bgColor:String,color:String,icon:Kt,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Va(),...Mt(),...vi(),...ni(),...Wp({mobile:null}),...di(),...xu(),...G0(),...yn(),...pr(),...Nr()},"VBanner"),tIe=ot()({name:"VBanner",props:eIe(),setup(e,t){let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=rn(e,"bgColor"),{borderClasses:a}=oo(e),{densityClasses:o}=oa(e),{displayClasses:s,mobile:l}=So(e),{dimensionStyles:u}=ii(e),{elevationClasses:c}=Ei(e),{locationStyles:d}=rg(e),{positionClasses:f}=W0(e),{roundedClasses:h}=Dn(e),{themeClasses:p}=zr(e),g=nt(e,"color"),m=nt(e,"density");In({VBannerActions:{color:g,density:m}}),ht(()=>{const y=!!(e.text||i.text),v=!!(e.avatar||e.icon),b=!!(v||i.prepend);return B(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},p.value,r.value,a.value,o.value,s.value,c.value,f.value,h.value,e.class],style:[n.value,u.value,d.value,e.style],role:"banner"},{default:()=>{var _;return[b&&B("div",{key:"prepend",class:"v-banner__prepend"},[i.prepend?B(Sr,{key:"prepend-defaults",disabled:!v,defaults:{VAvatar:{color:g.value,density:m.value,icon:e.icon,image:e.avatar}}},i.prepend):B(vo,{key:"prepend-avatar",color:g.value,density:m.value,icon:e.icon,image:e.avatar},null)]),B("div",{class:"v-banner__content"},[y&&B(die,{key:"text"},{default:()=>{var w;return[((w=i.text)==null?void 0:w.call(i))??e.text]}}),(_=i.default)==null?void 0:_.call(i)]),i.actions&&B(cie,{key:"actions"},i.actions)]}})})}}),rIe=We({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Va(),...Mt(),...vi(),...di(),...yn(),...Kp({name:"bottom-navigation"}),...pr({tag:"header"}),...Zp({selectedClass:"v-btn--selected"}),...Nr()},"VBottomNavigation"),nIe=ot()({name:"VBottomNavigation",props:rIe(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=MN(),{borderClasses:n}=oo(e),{backgroundColorClasses:a,backgroundColorStyles:o}=rn(nt(e,"bgColor")),{densityClasses:s}=oa(e),{elevationClasses:l}=Ei(e),{roundedClasses:u}=Dn(e),{ssrBootStyles:c}=Xp(),d=ue(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),f=Gt(e,"active",e.active),{layoutItemStyles:h}=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:ue(()=>"bottom"),layoutSize:ue(()=>f.value?d.value:0),elementSize:d,active:f,absolute:nt(e,"absolute")});return Fl(e,UN),In({VBtn:{baseColor:nt(e,"baseColor"),color:nt(e,"color"),density:nt(e,"density"),stacked:ue(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ht(()=>B(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,a.value,n.value,s.value,l.value,u.value,e.class],style:[o.value,h.value,{height:Ft(d.value)},c.value,e.style]},{default:()=>[i.default&&B("div",{class:"v-bottom-navigation__content"},[i.default()])]})),{}}}),fie=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...gA({origin:"center center",scrollStrategy:"block",transition:{component:P3},zIndex:2400})},"VDialog"),GI=ot()({name:"VDialog",props:fie(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=Gt(e,"modelValue"),{scopeId:a}=ng(),o=vt();function s(c){var h,p;const d=c.relatedTarget,f=c.target;if(d!==f&&((h=o.value)!=null&&h.contentEl)&&((p=o.value)!=null&&p.globalTop)&&![document,o.value.contentEl].includes(f)&&!o.value.contentEl.contains(f)){const g=c2(o.value.contentEl);if(!g.length)return;const m=g[0],y=g[g.length-1];d===m?y.focus():m.focus()}}yi(()=>{document.removeEventListener("focusin",s)}),kr&&Pt(()=>n.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0});function l(){var c;i("afterEnter"),(c=o.value)!=null&&c.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){i("afterLeave")}return Pt(n,async c=>{var d;c||(await Mr(),(d=o.value.activatorEl)==null||d.focus({preventScroll:!0}))}),ht(()=>{const c=Es.filterProps(e),d=ct({"aria-haspopup":"dialog"},e.activatorProps),f=ct({tabindex:-1},e.contentProps);return B(Es,ct({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,"aria-modal":"true",activatorProps:d,contentProps:f,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:u},a),{activator:r.activator,default:function(){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return B(Sr,{root:"VDialog"},{default:()=>{var m;return[(m=r.default)==null?void 0:m.call(r,...p)]}})}})}),To({},o)}}),iIe=We({inset:Boolean,...fie({transition:"bottom-sheet-transition"})},"VBottomSheet"),aIe=ot()({name:"VBottomSheet",props:iIe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue");return ht(()=>{const n=GI.filterProps(e);return B(GI,ct(n,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:r.value,"onUpdate:modelValue":a=>r.value=a,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),i)}),{}}}),oIe=We({divider:[Number,String],...Mt()},"VBreadcrumbsDivider"),hie=ot()({name:"VBreadcrumbsDivider",props:oIe(),setup(e,t){let{slots:i}=t;return ht(()=>{var r;return B("li",{"aria-hidden":"true",class:["v-breadcrumbs-divider",e.class],style:e.style},[((r=i==null?void 0:i.default)==null?void 0:r.call(i))??e.divider])}),{}}}),sIe=We({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Mt(),...fA(),...pr({tag:"li"})},"VBreadcrumbsItem"),pie=ot()({name:"VBreadcrumbsItem",props:sIe(),setup(e,t){let{slots:i,attrs:r}=t;const n=dA(e,r),a=ue(()=>{var u;return e.active||((u=n.isActive)==null?void 0:u.value)}),o=ue(()=>a.value?e.activeColor:e.color),{textColorClasses:s,textColorStyles:l}=Ui(o);return ht(()=>B(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":a.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:a.value&&e.activeClass},s.value,e.class],style:[l.value,e.style],"aria-current":a.value?"page":void 0},{default:()=>{var u,c;return[n.isLink.value?B("a",ct({class:"v-breadcrumbs-item--link",onClick:n.navigate},n.linkProps),[((c=i.default)==null?void 0:c.call(i))??e.title]):((u=i.default)==null?void 0:u.call(i))??e.title]}})),{}}}),uIe=We({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Kt,items:{type:Array,default:()=>[]},...Mt(),...vi(),...yn(),...pr({tag:"ul"})},"VBreadcrumbs"),lIe=ot()({name:"VBreadcrumbs",props:uIe(),setup(e,t){let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=rn(nt(e,"bgColor")),{densityClasses:a}=oa(e),{roundedClasses:o}=Dn(e);In({VBreadcrumbsDivider:{divider:nt(e,"divider")},VBreadcrumbsItem:{activeClass:nt(e,"activeClass"),activeColor:nt(e,"activeColor"),color:nt(e,"color"),disabled:nt(e,"disabled")}});const s=ue(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return ht(()=>{const l=!!(i.prepend||e.icon);return B(e.tag,{class:["v-breadcrumbs",r.value,a.value,o.value,e.class],style:[n.value,e.style]},{default:()=>{var u;return[l&&B("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[i.prepend?B(Sr,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},i.prepend):B(Vr,{key:"prepend-icon",start:!0,icon:e.icon},null)]),s.value.map((c,d,f)=>{var g;let{item:h,raw:p}=c;return B(Ot,null,[((g=i.item)==null?void 0:g.call(i,{item:h,index:d}))??B(pie,ct({key:d,disabled:d>=f.length-1},typeof h=="string"?{title:h}:h),{default:i.title?()=>{var m;return(m=i.title)==null?void 0:m.call(i,{item:h,index:d})}:void 0}),d<f.length-1&&B(hie,null,{default:i.divider?()=>{var m;return(m=i.divider)==null?void 0:m.call(i,{item:p,index:d})}:void 0})])}),(u=i.default)==null?void 0:u.call(i)]}})}),{}}}),gie=ot()({name:"VCardActions",props:Mt(),setup(e,t){let{slots:i}=t;return In({VBtn:{slim:!0,variant:"text"}}),ht(()=>{var r;return B("div",{class:["v-card-actions",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),cIe=We({opacity:[Number,String],...Mt(),...pr()},"VCardSubtitle"),mie=ot()({name:"VCardSubtitle",props:cIe(),setup(e,t){let{slots:i}=t;return ht(()=>B(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},i)),{}}}),yie=Ms("v-card-title"),dIe=We({appendAvatar:String,appendIcon:Kt,prependAvatar:String,prependIcon:Kt,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Mt(),...vi()},"VCardItem"),vie=ot()({name:"VCardItem",props:dIe(),setup(e,t){let{slots:i}=t;return ht(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),n=!!(r||i.prepend),a=!!(e.appendAvatar||e.appendIcon),o=!!(a||i.append),s=!!(e.title!=null||i.title),l=!!(e.subtitle!=null||i.subtitle);return B("div",{class:["v-card-item",e.class],style:e.style},[n&&B("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?B(Sr,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},i.prepend):B(Ot,null,[e.prependAvatar&&B(vo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&B(Vr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),B("div",{class:"v-card-item__content"},[s&&B(yie,{key:"title"},{default:()=>{var c;return[((c=i.title)==null?void 0:c.call(i))??ir(e.title)]}}),l&&B(mie,{key:"subtitle"},{default:()=>{var c;return[((c=i.subtitle)==null?void 0:c.call(i))??ir(e.subtitle)]}}),(u=i.default)==null?void 0:u.call(i)]),o&&B("div",{key:"append",class:"v-card-item__append"},[i.append?B(Sr,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},i.append):B(Ot,null,[e.appendIcon&&B(Vr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&B(vo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),fIe=We({opacity:[Number,String],...Mt(),...pr()},"VCardText"),bie=ot()({name:"VCardText",props:fIe(),setup(e,t){let{slots:i}=t;return ht(()=>B(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},i)),{}}}),hIe=We({appendAvatar:String,appendIcon:Kt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Kt,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Va(),...Mt(),...vi(),...ni(),...di(),...N3(),...xu(),...G0(),...yn(),...fA(),...pr(),...Nr(),...Ao({variant:"elevated"})},"VCard"),pIe=ot()({name:"VCard",directives:{Ripple:Ru},props:hIe(),setup(e,t){let{attrs:i,slots:r}=t;const{themeClasses:n}=zr(e),{borderClasses:a}=oo(e),{colorClasses:o,colorStyles:s,variantClasses:l}=Yp(e),{densityClasses:u}=oa(e),{dimensionStyles:c}=ii(e),{elevationClasses:d}=Ei(e),{loaderClasses:f}=lA(e),{locationStyles:h}=rg(e),{positionClasses:p}=W0(e),{roundedClasses:g}=Dn(e),m=dA(e,i),y=ue(()=>e.link!==!1&&m.isLink.value),v=ue(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value));return ht(()=>{const b=y.value?"a":e.tag,_=!!(r.title||e.title!=null),w=!!(r.subtitle||e.subtitle!=null),T=_||w,R=!!(r.append||e.appendAvatar||e.appendIcon),F=!!(r.prepend||e.prependAvatar||e.prependIcon),D=!!(r.image||e.image),A=T||F||R,x=!!(r.text||e.text!=null);return $r(B(b,ct({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":v.value},n.value,a.value,o.value,u.value,d.value,f.value,p.value,g.value,l.value,e.class],style:[s.value,c.value,h.value,e.style],onClick:v.value&&m.navigate,tabindex:e.disabled?-1:void 0},m.linkProps),{default:()=>{var N;return[D&&B("div",{key:"image",class:"v-card__image"},[r.image?B(Sr,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):B(yu,{key:"image-img",cover:!0,src:e.image},null)]),B(cA,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),A&&B(vie,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),x&&B(bie,{key:"text"},{default:()=>{var j;return[((j=r.text)==null?void 0:j.call(r))??e.text]}}),(N=r.default)==null?void 0:N.call(r),r.actions&&B(gie,null,{default:r.actions}),Nl(v.value,"v-card")]}}),[[eo("ripple"),v.value&&e.ripple]])}),{}}}),gIe=e=>{const{touchstartX:t,touchendX:i,touchstartY:r,touchendY:n}=e,a=.5,o=16;e.offsetX=i-t,e.offsetY=n-r,Math.abs(e.offsetY)<a*Math.abs(e.offsetX)&&(e.left&&i<t-o&&e.left(e),e.right&&i>t+o&&e.right(e)),Math.abs(e.offsetX)<a*Math.abs(e.offsetY)&&(e.up&&n<r-o&&e.up(e),e.down&&n>r+o&&e.down(e))};function mIe(e,t){var r;const i=e.changedTouches[0];t.touchstartX=i.clientX,t.touchstartY=i.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function yIe(e,t){var r;const i=e.changedTouches[0];t.touchendX=i.clientX,t.touchendY=i.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),gIe(t)}function vIe(e,t){var r;const i=e.changedTouches[0];t.touchmoveX=i.clientX,t.touchmoveY=i.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function bIe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:i=>mIe(i,t),touchend:i=>yIe(i,t),touchmove:i=>vIe(i,t)}}function _Ie(e,t){var s;const i=t.value,r=i!=null&&i.parent?e.parentElement:e,n=(i==null?void 0:i.options)??{passive:!0},a=(s=t.instance)==null?void 0:s.$.uid;if(!r||!a)return;const o=bIe(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[a]=o,Tre(o).forEach(l=>{r.addEventListener(l,o[l],n)})}function wIe(e,t){var a,o;const i=(a=t.value)!=null&&a.parent?e.parentElement:e,r=(o=t.instance)==null?void 0:o.$.uid;if(!(i!=null&&i._touchHandlers)||!r)return;const n=i._touchHandlers[r];Tre(n).forEach(s=>{i.removeEventListener(s,n[s])}),delete i._touchHandlers[r]}const t4={mounted:_Ie,unmounted:wIe},_ie=Symbol.for("vuetify:v-window"),wie=Symbol.for("vuetify:v-window-group"),V3=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Mt(),...pr(),...Nr()},"VWindow"),Fp=ot()({name:"VWindow",directives:{Touch:t4},props:V3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{isRtl:n}=ci(),{t:a}=Un(),o=Fl(e,wie),s=vt(),l=ue(()=>n.value?!e.reverse:e.reverse),u=Tt(!1),c=ue(()=>{const _=e.direction==="vertical"?"y":"x",T=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${_}${T}-transition`}),d=Tt(0),f=vt(void 0),h=ue(()=>o.items.value.findIndex(_=>o.selected.value.includes(_.id)));Pt(h,(_,w)=>{const T=o.items.value.length,R=T-1;T<=2?u.value=_<w:_===R&&w===0?u.value=!0:_===0&&w===R?u.value=!1:u.value=_<w}),Jr(_ie,{transition:c,isReversed:u,transitionCount:d,transitionHeight:f,rootRef:s});const p=ue(()=>e.continuous||h.value!==0),g=ue(()=>e.continuous||h.value!==o.items.value.length-1);function m(){p.value&&o.prev()}function y(){g.value&&o.next()}const v=ue(()=>{const _=[],w={icon:n.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":a("$vuetify.carousel.prev")};_.push(p.value?i.prev?i.prev({props:w}):B(qr,w,null):B("div",null,null));const T={icon:n.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":a("$vuetify.carousel.next")};return _.push(g.value?i.next?i.next({props:T}):B(qr,T,null):B("div",null,null)),_}),b=ue(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?m():y()},right:()=>{l.value?y():m()},start:w=>{let{originalEvent:T}=w;T.stopPropagation()}},...e.touch===!0?{}:e.touch});return ht(()=>$r(B(e.tag,{ref:s,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var _,w;return[B("div",{class:"v-window__container",style:{height:f.value}},[(_=i.default)==null?void 0:_.call(i,{group:o}),e.showArrows!==!1&&B("div",{class:"v-window__controls"},[v.value])]),(w=i.additional)==null?void 0:w.call(i,{group:o})]}}),[[eo("touch"),b.value]])),{group:o}}}),SIe=We({color:String,cycle:Boolean,delimiterIcon:{type:Kt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...V3({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),AIe=ot()({name:"VCarousel",props:SIe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),{t:n}=Un(),a=vt();let o=-1;Pt(r,l),Pt(()=>e.interval,l),Pt(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),$i(s);function s(){!e.cycle||!a.value||(o=window.setTimeout(a.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(s)}return ht(()=>{const u=Fp.filterProps(e);return B(Fp,ct({ref:a},u,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Ft(e.height)},e.style]}),{default:i.default,additional:c=>{let{group:d}=c;return B(Ot,null,[!e.hideDelimiters&&B("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&B(Sr,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((f,h)=>{const p={id:`carousel-item-${f.id}`,"aria-label":n("$vuetify.carousel.ariaLabel.delimiter",h+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(f.id)&&"v-btn--active"],onClick:()=>d.select(f.id,!0)};return i.item?i.item({props:p,item:f}):B(qr,ct(f,p),null)})]})]),e.progress&&B(D3,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(d.getItemIndex(r.value)+1)/d.items.value.length*100},null)])},prev:i.prev,next:i.next})}),{}}}),U3=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Mt(),...eg(),...JN()},"VWindowItem"),Lp=ot()({name:"VWindowItem",directives:{Touch:t4},props:U3(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=_r(_ie),n=tg(e,wie),{isBooted:a}=Xp();if(!r||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Tt(!1),s=ue(()=>a.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var p;o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Ft((p=r.rootRef.value)==null?void 0:p.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function d(p){o.value&&Mr(()=>{!s.value||!o.value||!r||(r.transitionHeight.value=Ft(p.clientHeight))})}const f=ue(()=>{const p=r.isReversed.value?e.reverseTransition:e.transition;return s.value?{name:typeof p!="string"?r.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:h}=XN(e,n.isSelected);return ht(()=>B(Zi,{transition:f.value,disabled:!a.value},{default:()=>{var p;return[$r(B("div",{class:["v-window-item",n.selectedClass.value,e.class],style:e.style},[h.value&&((p=i.default)==null?void 0:p.call(i))]),[[to,n.isSelected.value]])]}})),{groupItem:n}}}),TIe=We({...hne(),...U3()},"VCarouselItem"),EIe=ot()({name:"VCarouselItem",inheritAttrs:!1,props:TIe(),setup(e,t){let{slots:i,attrs:r}=t;ht(()=>{const n=yu.filterProps(e),a=Lp.filterProps(e);return B(Lp,ct({class:["v-carousel-item",e.class]},a),{default:()=>[B(yu,ct(r,n),i)]})})}}),xIe=Ms("v-code","code"),RIe=We({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Mt()},"VColorPickerCanvas"),OIe=io({name:"VColorPickerCanvas",props:RIe(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:i}=t;const r=Tt(!1),n=vt(),a=Tt(parseFloat(e.width)),o=Tt(parseFloat(e.height)),s=vt({x:0,y:0}),l=ue({get:()=>s.value,set(m){var b,_;if(!n.value)return;const{x:y,y:v}=m;s.value=m,i("update:color",{h:((b=e.color)==null?void 0:b.h)??0,s:Qn(y,0,a.value)/a.value,v:1-Qn(v,0,o.value)/o.value,a:((_=e.color)==null?void 0:_.a)??1})}}),u=ue(()=>{const{x:m,y}=l.value,v=parseInt(e.dotSize,10)/2;return{width:Ft(e.dotSize),height:Ft(e.dotSize),transform:`translate(${Ft(m-v)}, ${Ft(y-v)})`}}),{resizeRef:c}=Go(m=>{var b;if(!((b=c.el)!=null&&b.offsetParent))return;const{width:y,height:v}=m[0].contentRect;a.value=y,o.value=v});function d(m,y,v){const{left:b,top:_,width:w,height:T}=v;l.value={x:Qn(m-b,0,w),y:Qn(y-_,0,T)}}function f(m){m.type==="mousedown"&&m.preventDefault(),!e.disabled&&(h(m),window.addEventListener("mousemove",h),window.addEventListener("mouseup",p),window.addEventListener("touchmove",h),window.addEventListener("touchend",p))}function h(m){if(e.disabled||!n.value)return;r.value=!0;const y=Q3e(m);d(y.clientX,y.clientY,n.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",p)}function g(){var _;if(!n.value)return;const m=n.value,y=m.getContext("2d");if(!y)return;const v=y.createLinearGradient(0,0,m.width,0);v.addColorStop(0,"hsla(0, 0%, 100%, 1)"),v.addColorStop(1,`hsla(${((_=e.color)==null?void 0:_.h)??0}, 100%, 50%, 1)`),y.fillStyle=v,y.fillRect(0,0,m.width,m.height);const b=y.createLinearGradient(0,0,0,m.height);b.addColorStop(0,"hsla(0, 0%, 0%, 0)"),b.addColorStop(1,"hsla(0, 0%, 0%, 1)"),y.fillStyle=b,y.fillRect(0,0,m.width,m.height)}return Pt(()=>{var m;return(m=e.color)==null?void 0:m.h},g,{immediate:!0}),Pt(()=>[a.value,o.value],(m,y)=>{g(),s.value={x:l.value.x*m[0]/y[0],y:l.value.y*m[1]/y[1]}},{flush:"post"}),Pt(()=>e.color,()=>{if(r.value){r.value=!1;return}s.value=e.color?{x:e.color.s*a.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),$i(()=>g()),ht(()=>B("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:f,onTouchstartPassive:f},[B("canvas",{ref:n,width:a.value,height:o.value},null),e.color&&B("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function PIe(e,t){if(t){const{a:i,...r}=e;return r}return e}function IIe(e,t){if(t==null||typeof t=="string"){const i=Vre(e);return e.a===1?i.slice(0,7):i}if(typeof t=="object"){let i;return yp(t,["r","g","b"])?i=mu(e):yp(t,["h","s","l"])?i=Mre(e):yp(t,["h","s","v"])&&(i=e),PIe(i,!yp(t,["a"])&&e.a===1)}return e}const Bg={h:0,s:0,v:0,a:1},WI={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:mu,from:oA};var Jz;const CIe={...WI,inputs:(Jz=WI.inputs)==null?void 0:Jz.slice(0,3)},KI={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Mre,from:PN},DIe={...KI,inputs:KI.inputs.slice(0,3)},Sie={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:Vre,from:gxe},NIe={...Sie,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},Tp={rgb:CIe,rgba:WI,hsl:DIe,hsla:KI,hex:NIe,hexa:Sie},FIe=e=>{let{label:t,...i}=e;return B("div",{class:"v-color-picker-edit__input"},[B("input",i,null),B("span",null,[t])])},LIe=We({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Tp).includes(e)},modes:{type:Array,default:()=>Object.keys(Tp),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Tp).includes(t))},...Mt()},"VColorPickerEdit"),MIe=io({name:"VColorPickerEdit",props:LIe(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:i}=t;const r=ue(()=>e.modes.map(a=>({...Tp[a],name:a}))),n=ue(()=>{var s;const a=r.value.find(l=>l.name===e.mode);if(!a)return[];const o=e.color?a.to(e.color):null;return(s=a.inputs)==null?void 0:s.map(l=>{let{getValue:u,getColor:c,...d}=l;return{...a.inputProps,...d,disabled:e.disabled,value:o&&u(o),onChange:f=>{const h=f.target;h&&i("update:color",a.from(c(o??a.to(Bg),h.value)))}}})});return ht(()=>{var a;return B("div",{class:["v-color-picker-edit",e.class],style:e.style},[(a=n.value)==null?void 0:a.map(o=>B(FIe,o,null)),r.value.length>1&&B(qr,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=r.value.findIndex(s=>s.name===e.mode);i("update:mode",r.value[(o+1)%r.value.length].name)}},null)])}),{}}}),r4=Symbol.for("vuetify:v-slider");function JI(e,t,i){const r=i==="vertical",n=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return r?a.clientY-(n.top+n.height/2):a.clientX-(n.left+n.width/2)}function jIe(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Aie=We({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...yn(),...di({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Tie=e=>{const t=ue(()=>parseFloat(e.min)),i=ue(()=>parseFloat(e.max)),r=ue(()=>Number(e.step)>0?parseFloat(e.step):0),n=ue(()=>Math.max(JQ(r.value),JQ(t.value)));function a(o){if(o=parseFloat(o),r.value<=0)return o;const s=Qn(o,t.value,i.value),l=t.value%r.value,u=Math.round((s-l)/r.value)*r.value+l;return parseFloat(Math.min(u,i.value).toFixed(n.value))}return{min:t,max:i,step:r,decimals:n,roundValue:a}},Eie=e=>{let{props:t,steps:i,onSliderStart:r,onSliderMove:n,onSliderEnd:a,getActiveThumb:o}=e;const{isRtl:s}=ci(),l=nt(t,"reverse"),u=ue(()=>t.direction==="vertical"),c=ue(()=>u.value!==l.value),{min:d,max:f,step:h,decimals:p,roundValue:g}=i,m=ue(()=>parseInt(t.thumbSize,10)),y=ue(()=>parseInt(t.tickSize,10)),v=ue(()=>parseInt(t.trackSize,10)),b=ue(()=>(f.value-d.value)/h.value),_=nt(t,"disabled"),w=ue(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),T=ue(()=>t.error||t.disabled?void 0:t.trackColor??t.color),R=ue(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),F=Tt(!1),D=Tt(0),A=vt(),x=vt();function N(Le){var Q;const me=(Q=A.value)==null?void 0:Q.$el;if(!me)return;const pe=t.direction==="vertical",_e=pe?"top":"left",X=pe?"height":"width",C=pe?"clientY":"clientX",{[_e]:E,[X]:S}=me.getBoundingClientRect(),I=jIe(Le,C);let k=Math.min(Math.max((I-E-D.value)/S,0),1)||0;return(pe?c.value:c.value!==s.value)&&(k=1-k),g(d.value+k*(f.value-d.value))}const j=Le=>{const me=N(Le);me!=null&&a({value:me}),F.value=!1,D.value=0},H=Le=>{const me=N(Le);x.value=o(Le),x.value&&(F.value=!0,x.value.contains(Le.target)?D.value=JI(Le,x.value,t.direction):(D.value=0,me!=null&&n({value:me})),me!=null&&r({value:me}),Mr(()=>{var pe;return(pe=x.value)==null?void 0:pe.focus()}))},M={passive:!0,capture:!0};function $(Le){const me=N(Le);me!=null&&n({value:me})}function te(Le){Le.stopPropagation(),Le.preventDefault(),j(Le),window.removeEventListener("mousemove",$,M),window.removeEventListener("mouseup",te)}function re(Le){var me;j(Le),window.removeEventListener("touchmove",$,M),(me=Le.target)==null||me.removeEventListener("touchend",re)}function oe(Le){var me;H(Le),window.addEventListener("touchmove",$,M),(me=Le.target)==null||me.addEventListener("touchend",re,{passive:!1})}function J(Le){Le.button===0&&(Le.preventDefault(),H(Le),window.addEventListener("mousemove",$,M),window.addEventListener("mouseup",te,{passive:!1}))}const fe=Le=>{const me=(Le-d.value)/(f.value-d.value)*100;return Qn(isNaN(me)?0:me,0,100)},xe=nt(t,"showTicks"),de=ue(()=>xe.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(Le=>({value:Le,position:fe(Le),label:Le.toString()})):Object.keys(t.ticks).map(Le=>({value:parseFloat(Le),position:fe(parseFloat(Le)),label:t.ticks[Le]})):b.value!==1/0?_s(b.value+1).map(Le=>{const me=d.value+Le*h.value;return{value:me,position:fe(me)}}):[]:[]),ae=ue(()=>de.value.some(Le=>{let{label:me}=Le;return!!me})),Fe={activeThumbRef:x,color:nt(t,"color"),decimals:p,disabled:_,direction:nt(t,"direction"),elevation:nt(t,"elevation"),hasLabels:ae,isReversed:l,indexFromEnd:c,min:d,max:f,mousePressed:F,numTicks:b,onSliderMousedown:J,onSliderTouchstart:oe,parsedTicks:de,parseMouseMove:N,position:fe,readonly:nt(t,"readonly"),rounded:nt(t,"rounded"),roundValue:g,showTicks:xe,startOffset:D,step:h,thumbSize:m,thumbColor:w,thumbLabel:nt(t,"thumbLabel"),ticks:nt(t,"ticks"),tickSize:y,trackColor:T,trackContainerRef:A,trackFillColor:R,trackSize:v,vertical:u};return Jr(r4,Fe),Fe},kIe=We({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Mt()},"VSliderThumb"),XI=ot()({name:"VSliderThumb",directives:{Ripple:Ru},props:kIe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=_r(r4),{isRtl:a,rtlClasses:o}=ci();if(!n)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:l,disabled:u,thumbSize:c,thumbLabel:d,direction:f,isReversed:h,vertical:p,readonly:g,elevation:m,mousePressed:y,decimals:v,indexFromEnd:b}=n,_=ue(()=>u.value?void 0:m.value),{elevationClasses:w}=Ei(_),{textColorClasses:T,textColorStyles:R}=Ui(s),{pageup:F,pagedown:D,end:A,home:x,left:N,right:j,down:H,up:M}=RI,$=[F,D,A,x,N,j,H,M],te=ue(()=>l.value?[1,2,3]:[1,5,10]);function re(J,fe){if(!$.includes(J.key))return;J.preventDefault();const xe=l.value||.1,de=(e.max-e.min)/xe;if([N,j,H,M].includes(J.key)){const Fe=(p.value?[a.value?N:j,h.value?H:M]:b.value!==a.value?[N,M]:[j,M]).includes(J.key)?1:-1,Le=J.shiftKey?2:J.ctrlKey?1:0;fe=fe+Fe*xe*te.value[Le]}else if(J.key===x)fe=e.min;else if(J.key===A)fe=e.max;else{const ae=J.key===D?1:-1;fe=fe-ae*xe*(de>100?de/10:10)}return Math.max(e.min,Math.min(e.max,fe))}function oe(J){const fe=re(J,e.modelValue);fe!=null&&r("update:modelValue",fe)}return ht(()=>{const J=Ft(b.value?100-e.position:e.position,"%");return B("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&y.value},e.class,o.value],style:[{"--v-slider-thumb-position":J,"--v-slider-thumb-size":Ft(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!g.value,"aria-orientation":f.value,onKeydown:g.value?void 0:oe},[B("div",{class:["v-slider-thumb__surface",T.value,w.value],style:{...R.value}},null),$r(B("div",{class:["v-slider-thumb__ripple",T.value],style:R.value},null),[[eo("ripple"),e.ripple,null,{circle:!0,center:!0}]]),B(kN,{origin:"bottom center"},{default:()=>{var fe;return[$r(B("div",{class:"v-slider-thumb__label-container"},[B("div",{class:["v-slider-thumb__label"]},[B("div",null,[((fe=i["thumb-label"])==null?void 0:fe.call(i,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?v.value:1)])])]),[[to,d.value&&e.focused||d.value==="always"]])]}})])}),{}}}),BIe=We({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Mt()},"VSliderTrack"),xie=ot()({name:"VSliderTrack",props:BIe(),emits:{},setup(e,t){let{slots:i}=t;const r=_r(r4);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:n,parsedTicks:a,rounded:o,showTicks:s,tickSize:l,trackColor:u,trackFillColor:c,trackSize:d,vertical:f,min:h,max:p,indexFromEnd:g}=r,{roundedClasses:m}=Dn(o),{backgroundColorClasses:y,backgroundColorStyles:v}=rn(c),{backgroundColorClasses:b,backgroundColorStyles:_}=rn(u),w=ue(()=>`inset-${f.value?"block":"inline"}-${g.value?"end":"start"}`),T=ue(()=>f.value?"height":"width"),R=ue(()=>({[w.value]:"0%",[T.value]:"100%"})),F=ue(()=>e.stop-e.start),D=ue(()=>({[w.value]:Ft(e.start,"%"),[T.value]:Ft(F.value,"%")})),A=ue(()=>s.value?(f.value?a.value.slice().reverse():a.value).map((N,j)=>{var M;const H=N.value!==h.value&&N.value!==p.value?Ft(N.position,"%"):void 0;return B("div",{key:N.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":N.position>=e.start&&N.position<=e.stop,"v-slider-track__tick--first":N.value===h.value,"v-slider-track__tick--last":N.value===p.value}],style:{[w.value]:H}},[(N.label||i["tick-label"])&&B("div",{class:"v-slider-track__tick-label"},[((M=i["tick-label"])==null?void 0:M.call(i,{tick:N,index:j}))??N.label])])}):[]);return ht(()=>B("div",{class:["v-slider-track",m.value,e.class],style:[{"--v-slider-track-size":Ft(d.value),"--v-slider-tick-size":Ft(l.value)},e.style]},[B("div",{class:["v-slider-track__background",b.value,{"v-slider-track__background--opacity":!!n.value||!c.value}],style:{...R.value,..._.value}},null),B("div",{class:["v-slider-track__fill",y.value],style:{...D.value,...v.value}},null),s.value&&B("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[A.value])])),{}}}),qIe=We({...hA(),...Aie(),...Pu(),modelValue:{type:[Number,String],default:0}},"VSlider"),YI=ot()({name:"VSlider",props:qIe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=vt(),{rtlClasses:a}=ci(),o=Tie(e),s=Gt(e,"modelValue",void 0,T=>o.roundValue(T??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:d,onSliderMousedown:f,onSliderTouchstart:h,trackContainerRef:p,position:g,hasLabels:m,readonly:y}=Eie({props:e,steps:o,onSliderStart:()=>{r("start",s.value)},onSliderEnd:T=>{let{value:R}=T;const F=d(R);s.value=F,r("end",F)},onSliderMove:T=>{let{value:R}=T;return s.value=d(R)},getActiveThumb:()=>{var T;return(T=n.value)==null?void 0:T.$el}}),{isFocused:v,focus:b,blur:_}=Ou(e),w=ue(()=>g(s.value));return ht(()=>{const T=Hi.filterProps(e),R=!!(e.label||i.label||i.prepend);return B(Hi,ct({class:["v-slider",{"v-slider--has-labels":!!i["tick-label"]||m.value,"v-slider--focused":v.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style},T,{focused:v.value}),{...i,prepend:R?F=>{var D,A;return B(Ot,null,[((D=i.label)==null?void 0:D.call(i,F))??(e.label?B(K0,{id:F.id.value,class:"v-slider__label",text:e.label},null):void 0),(A=i.prepend)==null?void 0:A.call(i,F)])}:void 0,default:F=>{let{id:D,messagesId:A}=F;return B("div",{class:"v-slider__container",onMousedown:y.value?void 0:f,onTouchstartPassive:y.value?void 0:h},[B("input",{id:D.value,name:e.name||D.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),B(xie,{ref:p,start:0,stop:w.value},{"tick-label":i["tick-label"]}),B(XI,{ref:n,"aria-describedby":A.value,focused:v.value,min:l.value,max:u.value,modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,position:w.value,elevation:e.elevation,onFocus:b,onBlur:_,ripple:e.ripple,name:e.name},{"thumb-label":i["thumb-label"]})])}})}),{}}}),VIe=We({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Mt()},"VColorPickerPreview"),UIe=io({name:"VColorPickerPreview",props:VIe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:i}=t;const r=new AbortController;EC(()=>r.abort());async function n(){if(!zQ)return;const a=new window.EyeDropper;try{const o=await a.open({signal:r.signal}),s=oA(Xa(o.sRGBHex));i("update:color",{...e.color??Bg,...s})}catch{}}return ht(()=>{var a,o;return B("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[zQ&&B("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[B(qr,{onClick:n,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),B("div",{class:"v-color-picker-preview__dot"},[B("div",{style:{background:kre(e.color??Bg)}},null)]),B("div",{class:"v-color-picker-preview__sliders"},[B(YI,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(a=e.color)==null?void 0:a.h,"onUpdate:modelValue":s=>i("update:color",{...e.color??Bg,h:s}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&B(YI,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":s=>i("update:color",{...e.color??Bg,a:s}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),HIe={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},$Ie={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},QIe={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},zIe={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},GIe={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},WIe={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},KIe={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},JIe={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},XIe={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},YIe={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},ZIe={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},eCe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},tCe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},rCe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},nCe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},iCe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},aCe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},oCe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},sCe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},uCe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},lCe={red:HIe,pink:$Ie,purple:QIe,deepPurple:zIe,indigo:GIe,blue:WIe,lightBlue:KIe,cyan:JIe,teal:XIe,green:YIe,lightGreen:ZIe,lime:eCe,yellow:tCe,amber:rCe,orange:nCe,deepOrange:iCe,brown:aCe,blueGrey:oCe,grey:sCe,shades:uCe},cCe=We({swatches:{type:Array,default:()=>dCe(lCe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Mt()},"VColorPickerSwatches");function dCe(e){return Object.keys(e).map(t=>{const i=e[t];return i.base?[i.base,i.darken4,i.darken3,i.darken2,i.darken1,i.lighten1,i.lighten2,i.lighten3,i.lighten4,i.lighten5]:[i.black,i.white,i.transparent]})}const fCe=io({name:"VColorPickerSwatches",props:cCe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:i}=t;return ht(()=>B("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Ft(e.maxHeight)},e.style]},[B("div",null,[e.swatches.map(r=>B("div",{class:"v-color-picker-swatches__swatch"},[r.map(n=>{const a=Xa(n),o=oA(a),s=jre(a);return B("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&i("update:color",o)},[B("div",{style:{background:s}},[e.color&&ea(e.color,o)?B(Vr,{size:"x-small",icon:"$success",color:bxe(n,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),H3=We({color:String,...Va(),...Mt(),...ni(),...di(),...xu(),...G0(),...yn(),...pr(),...Nr()},"VSheet"),Mp=ot()({name:"VSheet",props:H3(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{backgroundColorClasses:n,backgroundColorStyles:a}=rn(nt(e,"color")),{borderClasses:o}=oo(e),{dimensionStyles:s}=ii(e),{elevationClasses:l}=Ei(e),{locationStyles:u}=rg(e),{positionClasses:c}=W0(e),{roundedClasses:d}=Dn(e);return ht(()=>B(e.tag,{class:["v-sheet",r.value,n.value,o.value,l.value,c.value,d.value,e.class],style:[a.value,s.value,u.value,e.style]},i)),{}}}),hCe=We({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Tp).includes(e)},modes:{type:Array,default:()=>Object.keys(Tp),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Tp).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...zn(H3({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),pCe=io({name:"VColorPicker",props:hCe(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Gt(e,"mode"),i=vt(null),r=Gt(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=oA(Xa(l))}catch{return null}return u},l=>l?IIe(l,e.modelValue):null),n=ue(()=>r.value?{...r.value,h:i.value??r.value.h}:null),{rtlClasses:a}=ci();let o=!0;Pt(r,l=>{if(!o){o=!0;return}l&&(i.value=l.h)},{immediate:!0});const s=l=>{o=!1,i.value=l.h,r.value=l};return v0(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),In({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ht(()=>{const l=Mp.filterProps(e);return B(Mp,ct({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",a.value,e.class],style:[{"--v-color-picker-color-hsv":kre({...n.value??Bg,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&B(OIe,{key:"canvas",color:n.value,"onUpdate:color":s,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&B("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&B(UIe,{key:"preview",color:n.value,"onUpdate:color":s,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&B(MIe,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:n.value,"onUpdate:color":s,disabled:e.disabled},null)]),e.showSwatches&&B(fCe,{key:"swatches",color:n.value,"onUpdate:color":s,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function gCe(e,t,i){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?B(Ot,null,[B("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),B("span",{class:"v-combobox__mask"},[e.substr(t,i)]),B("span",{class:"v-combobox__unmask"},[e.substr(t+i)])]):e}const mCe=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...yA({filterKeys:["title"]}),...ZN({hideNoData:!0,returnObject:!0}),...zn(B3({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Xo({transition:!1})},"VCombobox"),yCe=ot()({name:"VCombobox",props:mCe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var E;let{emit:i,slots:r}=t;const{t:n}=Un(),a=vt(),o=Tt(!1),s=Tt(!0),l=Tt(!1),u=vt(),c=vt(),d=Gt(e,"menu"),f=ue({get:()=>d.value,set:S=>{var I;d.value&&!S&&((I=u.value)!=null&&I.ΨopenChildren.size)||(d.value=S)}}),h=Tt(-1);let p=!1;const g=ue(()=>{var S;return(S=a.value)==null?void 0:S.color}),m=ue(()=>f.value?e.closeText:e.openText),{items:y,transformIn:v,transformOut:b}=GN(e),{textColorClasses:_,textColorStyles:w}=Ui(g),T=Gt(e,"modelValue",[],S=>v(En(S)),S=>{const I=b(S);return e.multiple?I:I[0]??null}),R=M3(e),F=ue(()=>!!(e.chips||r.chip)),D=ue(()=>F.value||!!r.selection),A=Tt(!e.multiple&&!D.value?((E=T.value[0])==null?void 0:E.title)??"":""),x=ue({get:()=>A.value,set:S=>{var I;if(A.value=S??"",!e.multiple&&!D.value&&(T.value=[el(e,S)]),S&&e.multiple&&((I=e.delimiters)!=null&&I.length)){const k=S.split(new RegExp(`(?:${e.delimiters.join("|")})+`));k.length>1&&(k.forEach(Q=>{Q=Q.trim(),Q&&pe(el(e,Q))}),A.value="")}S||(h.value=-1),s.value=!S}}),N=ue(()=>typeof e.counterValue=="function"?e.counterValue(T.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?T.value.length:x.value.length);Pt(A,S=>{p?Mr(()=>p=!1):o.value&&!f.value&&(f.value=!0),i("update:search",S)}),Pt(T,S=>{var I;!e.multiple&&!D.value&&(A.value=((I=S[0])==null?void 0:I.title)??"")});const{filteredItems:j,getMatches:H}=vA(e,y,()=>s.value?"":x.value),M=ue(()=>e.hideSelected?j.value.filter(S=>!T.value.some(I=>I.value===S.value)):j.value),$=ue(()=>T.value.map(S=>S.value)),te=ue(()=>{var I;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===((I=M.value[0])==null?void 0:I.title))&&M.value.length>0&&!s.value&&!l.value}),re=ue(()=>e.hideNoData&&!M.value.length||R.isReadonly.value||R.isDisabled.value),oe=vt(),J=YN(oe,a);function fe(S){p=!0,e.openOnClear&&(f.value=!0)}function xe(){re.value||(f.value=!0)}function de(S){re.value||(o.value&&(S.preventDefault(),S.stopPropagation()),f.value=!f.value)}function ae(S){var I;S.key!==" "&&h0(S)&&((I=a.value)==null||I.focus())}function Fe(S){var Q;if(V3e(S)||R.isReadonly.value)return;const I=a.value.selectionStart,k=T.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(S.key)&&S.preventDefault(),["Enter","ArrowDown"].includes(S.key)&&(f.value=!0),["Escape"].includes(S.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(S.key)&&(te.value&&["Enter","Tab"].includes(S.key)&&!T.value.some(G=>{let{value:ne}=G;return ne===M.value[0].value})&&pe(j.value[0]),s.value=!0),S.key==="ArrowDown"&&te.value&&((Q=oe.value)==null||Q.focus("next")),S.key==="Enter"&&x.value&&(pe(el(e,x.value)),D.value&&(A.value="")),["Backspace","Delete"].includes(S.key)){if(!e.multiple&&D.value&&T.value.length>0&&!x.value)return pe(T.value[0],!1);if(~h.value){S.preventDefault();const G=h.value;pe(T.value[h.value],!1),h.value=G>=k-1?k-2:G}else S.key==="Backspace"&&!x.value&&(h.value=k-1);return}if(e.multiple)if(S.key==="ArrowLeft"){if(h.value<0&&I>0)return;const G=h.value>-1?h.value-1:k-1;T.value[G]?h.value=G:(h.value=-1,a.value.setSelectionRange(x.value.length,x.value.length))}else if(S.key==="ArrowRight"){if(h.value<0)return;const G=h.value+1;T.value[G]?h.value=G:(h.value=-1,a.value.setSelectionRange(0,0))}else~h.value&&h0(S)&&(h.value=-1)}function Le(){var S;e.eager&&((S=c.value)==null||S.calculateVisibleItems())}function me(){var S;o.value&&(s.value=!0,(S=a.value)==null||S.focus())}function pe(S){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!S||S.props.disabled))if(e.multiple){const k=T.value.findIndex(G=>(e.valueComparator||ea)(G.value,S.value)),Q=I??!~k;if(~k){const G=Q?[...T.value,S]:[...T.value];G.splice(k,1),T.value=G}else Q&&(T.value=[...T.value,S]);e.clearOnSelect&&(x.value="")}else{const k=I!==!1;T.value=k?[S]:[],A.value=k&&!D.value?S.title:"",Mr(()=>{f.value=!1,s.value=!0})}}function _e(S){o.value=!0,setTimeout(()=>{l.value=!0})}function X(S){l.value=!1}function C(S){(S==null||S===""&&!e.multiple&&!D.value)&&(T.value=[])}return Pt(o,(S,I)=>{if(!(S||S===I)&&(h.value=-1,f.value=!1,x.value)){if(e.multiple){pe(el(e,x.value));return}if(!D.value)return;T.value.some(k=>{let{title:Q}=k;return Q===x.value})?A.value="":pe(el(e,x.value))}}),Pt(f,()=>{if(!e.hideSelected&&f.value&&T.value.length){const S=M.value.findIndex(I=>T.value.some(k=>(e.valueComparator||ea)(k.value,I.value)));kr&&window.requestAnimationFrame(()=>{var I;S>=0&&((I=c.value)==null||I.scrollToIndex(S))})}}),Pt(()=>e.items,(S,I)=>{f.value||o.value&&!I.length&&S.length&&(f.value=!0)}),ht(()=>{const S=!!(!e.hideNoData||M.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),I=T.value.length>0,k=Np.filterProps(e);return B(Np,ct({ref:a},k,{modelValue:x.value,"onUpdate:modelValue":[Q=>x.value=Q,C],focused:o.value,"onUpdate:focused":Q=>o.value=Q,validationValue:T.externalValue,counterValue:N.value,dirty:I,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!D.value,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:R.isReadonly.value,placeholder:I?void 0:e.placeholder,"onClick:clear":fe,"onMousedown:control":xe,onKeydown:Fe}),{...r,default:()=>B(Ot,null,[B(y0,ct({ref:u,modelValue:f.value,"onUpdate:modelValue":Q=>f.value=Q,activator:"parent",contentClass:"v-combobox__content",disabled:re.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Le,onAfterLeave:me},e.menuProps),{default:()=>[S&&B(j3,ct({ref:oe,selected:$.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Q=>Q.preventDefault(),onKeydown:ae,onFocusin:_e,onFocusout:X,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},J,e.listProps),{default:()=>{var Q,G,ne;return[(Q=r["prepend-item"])==null?void 0:Q.call(r),!M.value.length&&!e.hideNoData&&(((G=r["no-data"])==null?void 0:G.call(r))??B(bu,{key:"no-data",title:n(e.noDataText)},null)),B(q3,{ref:c,renderless:!0,items:M.value},{default:ee=>{var Ge;let{item:se,index:ge,itemRef:Ae}=ee;const Ve=ct(se.props,{ref:Ae,key:se.value,active:te.value&&ge===0?!0:void 0,onClick:()=>pe(se,null)});return((Ge=r.item)==null?void 0:Ge.call(r,{item:se,index:ge,props:Ve}))??B(bu,ct(Ve,{role:"option"}),{prepend:qe=>{let{isSelected:Ee}=qe;return B(Ot,null,[e.multiple&&!e.hideSelected?B(vu,{key:se.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&B(vo,{image:se.props.prependAvatar},null),se.props.prependIcon&&B(Vr,{icon:se.props.prependIcon},null)])},title:()=>{var qe,Ee;return s.value?se.title:gCe(se.title,(qe=H(se))==null?void 0:qe.title,((Ee=x.value)==null?void 0:Ee.length)??0)}})}}),(ne=r["append-item"])==null?void 0:ne.call(r)]}})]}),T.value.map((Q,G)=>{function ne(Ae){Ae.stopPropagation(),Ae.preventDefault(),pe(Q,!1)}const ee={"onClick:close":ne,onKeydown(Ae){Ae.key!=="Enter"&&Ae.key!==" "||(Ae.preventDefault(),Ae.stopPropagation(),ne(Ae))},onMousedown(Ae){Ae.preventDefault(),Ae.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=F.value?!!r.chip:!!r.selection,ge=se?E3(F.value?r.chip({item:Q,index:G,props:ee}):r.selection({item:Q,index:G})):void 0;if(!(se&&!ge))return B("div",{key:Q.value,class:["v-combobox__selection",G===h.value&&["v-combobox__selection--selected",_.value]],style:G===h.value?w.value:{}},[F.value?r.chip?B(Sr,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Q.title}}},{default:()=>[ge]}):B(J0,ct({key:"chip",closable:e.closableChips,size:"small",text:Q.title,disabled:Q.props.disabled},ee),null):ge??B("span",{class:"v-combobox__selection-text"},[Q.title,e.multiple&&G<T.value.length-1&&B("span",{class:"v-combobox__selection-comma"},[$t(",")])])])})]),"append-inner":function(){var ee;for(var Q=arguments.length,G=new Array(Q),ne=0;ne<Q;ne++)G[ne]=arguments[ne];return B(Ot,null,[(ee=r["append-inner"])==null?void 0:ee.call(r,...G),(!e.hideNoData||e.items.length)&&e.menuIcon?B(Vr,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:de,onClick:Pre,"aria-label":n(m.value),title:n(m.value),tabindex:"-1"},null):void 0])}})}),To({isFocused:o,isPristine:s,menu:f,search:x,selectionIndex:h,filteredItems:j,select:pe},a)}}),vCe=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),bCe=ot()({name:"VConfirmEdit",props:vCe(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=Gt(e,"modelValue"),a=vt();Vn(()=>{a.value=structuredClone(rr(n.value))});const{t:o}=Un(),s=ue(()=>ea(n.value,a.value));function l(){n.value=a.value,i("save",a.value)}function u(){a.value=structuredClone(rr(n.value)),i("cancel")}function c(f){return B(Ot,null,[B(qr,ct({disabled:s.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},f),null),B(qr,ct({disabled:s.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},f),null)])}let d=!1;return ht(()=>{var f;return B(Ot,null,[(f=r.default)==null?void 0:f.call(r,{model:a,save:l,cancel:u,isPristine:s.value,get actions(){return d=!0,c}}),!d&&c()])}),{save:l,cancel:u,isPristine:s}}}),Rie=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Oie=Symbol.for("vuetify:datatable:expanded");function $3(e){const t=nt(e,"expandOnClick"),i=Gt(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function r(s,l){const u=new Set(i.value);l?u.add(s.value):u.delete(s.value),i.value=u}function n(s){return i.value.has(s.value)}function a(s){r(s,!n(s))}const o={expand:r,expanded:i,expandOnClick:t,isExpanded:n,toggleExpand:a};return Jr(Oie,o),o}function Pie(){const e=_r(Oie);if(!e)throw new Error("foo");return e}const n4=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Iie=Symbol.for("vuetify:data-table-group");function i4(e){return{groupBy:Gt(e,"groupBy")}}function Q3(e){const{disableSort:t,groupBy:i,sortBy:r}=e,n=vt(new Set),a=ue(()=>i.value.map(c=>({...c,order:c.order??!1})).concat(t!=null&&t.value?[]:r.value));function o(c){return n.value.has(c.id)}function s(c){const d=new Set(n.value);o(c)?d.delete(c.id):d.add(c.id),n.value=d}function l(c){function d(f){const h=[];for(const p of f.items)"type"in p&&p.type==="group"?h.push(...d(p)):h.push(p);return[...new Set(h)]}return d({items:c})}const u={sortByWithGroups:a,toggleGroup:s,opened:n,groupBy:i,extractRows:l,isGroupOpen:o};return Jr(Iie,u),u}function Cie(){const e=_r(Iie);if(!e)throw new Error("Missing group!");return e}function _Ce(e,t){if(!e.length)return[];const i=new Map;for(const r of e){const n=Dp(r.raw,t);i.has(n)||i.set(n,[]),i.get(n).push(r)}return i}function Die(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=_Ce(e,t[0]),a=[],o=t.slice(1);return n.forEach((s,l)=>{const u=t[0],c=`${r}_${u}_${l}`;a.push({depth:i,id:c,key:u,value:l,items:o.length?Die(s,o,i+1,c):s,type:"group"})}),a}function Nie(e,t){const i=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&i.push(r),(t.has(r.id)||r.value==null)&&i.push(...Nie(r.items,t))):i.push(r);return i}function z3(e,t,i){return{flatItems:ue(()=>{if(!t.value.length)return e.value;const n=Die(e.value,t.value.map(a=>a.key));return Nie(n,i.value)})}}function G3(e){let{page:t,itemsPerPage:i,sortBy:r,groupBy:n,search:a}=e;const o=Cn("VDataTable"),s=ue(()=>({page:t.value,itemsPerPage:i.value,sortBy:r.value,groupBy:n.value,search:a.value}));let l=null;Pt(s,()=>{ea(l,s.value)||(l&&l.search!==s.value.search&&(t.value=1),o.emit("update:options",s.value),l=s.value)},{deep:!0,immediate:!0})}const a4=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Fie=Symbol.for("vuetify:data-table-pagination");function o4(e){const t=Gt(e,"page",void 0,r=>Number(r??1)),i=Gt(e,"itemsPerPage",void 0,r=>Number(r??10));return{page:t,itemsPerPage:i}}function s4(e){const{page:t,itemsPerPage:i,itemsLength:r}=e,n=ue(()=>i.value===-1?0:i.value*(t.value-1)),a=ue(()=>i.value===-1?r.value:Math.min(r.value,n.value+i.value)),o=ue(()=>i.value===-1||r.value===0?1:Math.ceil(r.value/i.value));Pt([t,o],()=>{t.value>o.value&&(t.value=o.value)});function s(f){i.value=f,t.value=1}function l(){t.value=Qn(t.value+1,1,o.value)}function u(){t.value=Qn(t.value-1,1,o.value)}function c(f){t.value=Qn(f,1,o.value)}const d={page:t,itemsPerPage:i,startIndex:n,stopIndex:a,pageCount:o,itemsLength:r,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:s};return Jr(Fie,d),d}function wCe(){const e=_r(Fie);if(!e)throw new Error("Missing pagination!");return e}function Lie(e){const t=Cn("usePaginatedItems"),{items:i,startIndex:r,stopIndex:n,itemsPerPage:a}=e,o=ue(()=>a.value<=0?i.value:i.value.slice(r.value,n.value));return Pt(o,s=>{t.emit("update:currentItems",s)},{immediate:!0}),{paginatedItems:o}}const SCe={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:i}=e;return new Set(i?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Mie={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:i,selected:r}=e;for(const n of t)i?r.add(n.value):r.delete(n.value);return r},selectAll:e=>{let{value:t,currentPage:i,selected:r}=e;return Mie.select({items:i,value:t,selected:r})}},jie={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:i,selected:r}=e;for(const n of t)i?r.add(n.value):r.delete(n.value);return r},selectAll:e=>{let{value:t,allItems:i,selected:r}=e;return jie.select({items:i,value:t,selected:r})}},kie=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:ea}},"DataTable-select"),Bie=Symbol.for("vuetify:data-table-selection");function W3(e,t){let{allItems:i,currentPage:r}=t;const n=Gt(e,"modelValue",e.modelValue,y=>new Set(En(y).map(v=>{var b;return((b=i.value.find(_=>e.valueComparator(v,_.value)))==null?void 0:b.value)??v})),y=>[...y.values()]),a=ue(()=>i.value.filter(y=>y.selectable)),o=ue(()=>r.value.filter(y=>y.selectable)),s=ue(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return SCe;case"all":return jie;case"page":default:return Mie}});function l(y){return En(y).every(v=>n.value.has(v.value))}function u(y){return En(y).some(v=>n.value.has(v.value))}function c(y,v){const b=s.value.select({items:y,value:v,selected:new Set(n.value)});n.value=b}function d(y){c([y],!l([y]))}function f(y){const v=s.value.selectAll({value:y,allItems:a.value,currentPage:o.value,selected:new Set(n.value)});n.value=v}const h=ue(()=>n.value.size>0),p=ue(()=>{const y=s.value.allSelected({allItems:a.value,currentPage:o.value});return!!y.length&&l(y)}),g=ue(()=>s.value.showSelectAll),m={toggleSelect:d,select:c,selectAll:f,isSelected:l,isSomeSelected:u,someSelected:h,allSelected:p,showSelectAll:g};return Jr(Bie,m),m}function K3(){const e=_r(Bie);if(!e)throw new Error("Missing selection!");return e}const qie=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Vie=Symbol.for("vuetify:data-table-sort");function J3(e){const t=Gt(e,"sortBy"),i=nt(e,"mustSort"),r=nt(e,"multiSort");return{sortBy:t,mustSort:i,multiSort:r}}function X3(e){const{sortBy:t,mustSort:i,multiSort:r,page:n}=e,a=l=>{if(l.key==null)return;let u=t.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===l.key);c?c.order==="desc"?i.value&&u.length===1?c.order="asc":u=u.filter(d=>d.key!==l.key):c.order="desc":r.value?u.push({key:l.key,order:"asc"}):u=[{key:l.key,order:"asc"}],t.value=u,n&&(n.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const s={sortBy:t,toggleSort:a,isSorted:o};return Jr(Vie,s),s}function Uie(){const e=_r(Vie);if(!e)throw new Error("Missing sort!");return e}function u4(e,t,i,r){const n=Un();return{sortedItems:ue(()=>{var o,s;return i.value.length?ACe(t.value,i.value,n.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(o=r==null?void 0:r.sortFunctions)==null?void 0:o.value},sortRawFunctions:(s=r==null?void 0:r.sortRawFunctions)==null?void 0:s.value}):t.value})}}function ACe(e,t,i,r){const n=new Intl.Collator(i,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,r!=null&&r.transform?r.transform(o):o]).sort((o,s)=>{var l,u;for(let c=0;c<t.length;c++){let d=!1;const f=t[c].key,h=t[c].order??"asc";if(h===!1)continue;let p=Dp(o[1],f),g=Dp(s[1],f),m=o[0].raw,y=s[0].raw;if(h==="desc"&&([p,g]=[g,p],[m,y]=[y,m]),(l=r==null?void 0:r.sortRawFunctions)!=null&&l[f]){const v=r.sortRawFunctions[f](m,y);if(v==null)continue;if(d=!0,v)return v}if((u=r==null?void 0:r.sortFunctions)!=null&&u[f]){const v=r.sortFunctions[f](p,g);if(v==null)continue;if(d=!0,v)return v}if(!d){if(p instanceof Date&&g instanceof Date)return p.getTime()-g.getTime();if([p,g]=[p,g].map(v=>v!=null?v.toString().toLocaleLowerCase():v),p!==g)return dT(p)&&dT(g)?0:dT(p)?-1:dT(g)?1:!isNaN(p)&&!isNaN(g)?Number(p)-Number(g):n.compare(p,g)}}return 0}).map(o=>{let[s]=o;return s})}const TCe=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function ECe(e,t){const i=e.returnObject?t:oi(t,e.itemValue),r=oi(t,e.itemSelectable,!0);return{type:"item",value:i,selectable:r,raw:t}}function xCe(e,t){const i=[];for(const r of t)i.push(ECe(e,r));return i}function RCe(e){return{items:ue(()=>xCe(e,e.items))}}const OCe=We({search:String,loading:Boolean,...Mt(),...TCe(),...kie(),...qie(),...a4({itemsPerPage:5}),...Rie(),...n4(),...yA(),...pr(),...Xo({transition:{component:p2,hideOnLeave:!0}})},"VDataIterator"),PCe=ot()({name:"VDataIterator",props:OCe(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"groupBy"),n=nt(e,"search"),{items:a}=RCe(e),{filteredItems:o}=vA(e,a,n,{transform:fe=>fe.raw}),{sortBy:s,multiSort:l,mustSort:u}=J3(e),{page:c,itemsPerPage:d}=o4(e),{toggleSort:f}=X3({sortBy:s,multiSort:l,mustSort:u,page:c}),{sortByWithGroups:h,opened:p,extractRows:g,isGroupOpen:m,toggleGroup:y}=Q3({groupBy:r,sortBy:s}),{sortedItems:v}=u4(e,o,h,{transform:fe=>fe.raw}),{flatItems:b}=z3(v,r,p),_=ue(()=>b.value.length),{startIndex:w,stopIndex:T,pageCount:R,prevPage:F,nextPage:D,setItemsPerPage:A,setPage:x}=s4({page:c,itemsPerPage:d,itemsLength:_}),{paginatedItems:N}=Lie({items:b,startIndex:w,stopIndex:T,itemsPerPage:d}),j=ue(()=>g(N.value)),{isSelected:H,select:M,selectAll:$,toggleSelect:te}=W3(e,{allItems:a,currentPage:j}),{isExpanded:re,toggleExpand:oe}=$3(e);G3({page:c,itemsPerPage:d,sortBy:s,groupBy:r,search:n});const J=ue(()=>({page:c.value,itemsPerPage:d.value,sortBy:s.value,pageCount:R.value,toggleSort:f,prevPage:F,nextPage:D,setPage:x,setItemsPerPage:A,isSelected:H,select:M,selectAll:$,toggleSelect:te,isExpanded:re,toggleExpand:oe,isGroupOpen:m,toggleGroup:y,items:j.value,groupedItems:N.value}));return ht(()=>B(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var fe,xe;return[(fe=i.header)==null?void 0:fe.call(i,J.value),B(Zi,{transition:e.transition},{default:()=>{var de,ae;return[e.loading?B(cA,{key:"loader",name:"v-data-iterator",active:!0},{default:Fe=>{var Le;return(Le=i.loader)==null?void 0:Le.call(i,Fe)}}):B("div",{key:"items"},[N.value.length?(ae=i.default)==null?void 0:ae.call(i,J.value):(de=i["no-data"])==null?void 0:de.call(i)])]}}),(xe=i.footer)==null?void 0:xe.call(i,J.value)]}})),{}}});function ICe(){const e=vt([]);VG(()=>e.value=[]);function t(i,r){e.value[r]=i}return{refs:e,updateRef:t}}const CCe=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Kt,default:"$first"},prevIcon:{type:Kt,default:"$prev"},nextIcon:{type:Kt,default:"$next"},lastIcon:{type:Kt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Va(),...Mt(),...vi(),...di(),...yn(),...js(),...pr({tag:"nav"}),...Nr(),...Ao({variant:"text"})},"VPagination"),ZI=ot()({name:"VPagination",props:CCe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=Gt(e,"modelValue"),{t:a,n:o}=Un(),{isRtl:s}=ci(),{themeClasses:l}=zr(e),{width:u}=So(),c=Tt(-1);In(void 0,{scoped:!0});const{resizeRef:d}=Go(F=>{if(!F.length)return;const{target:D,contentRect:A}=F[0],x=D.querySelector(".v-pagination__list > *");if(!x)return;const N=A.width,j=x.offsetWidth+parseFloat(getComputedStyle(x).marginRight)*2;c.value=g(N,j)}),f=ue(()=>parseInt(e.length,10)),h=ue(()=>parseInt(e.start,10)),p=ue(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:g(u.value,58));function g(F,D){const A=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((F-D*A)/D).toFixed(2))))}const m=ue(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[n.value];if(f.value<=p.value)return _s(f.value,h.value);const F=p.value%2===0,D=F?p.value/2:Math.floor(p.value/2),A=F?D:D+1,x=f.value-D;if(A-n.value>=0)return[..._s(Math.max(1,p.value-1),h.value),e.ellipsis,f.value];if(n.value-x>=(F?1:0)){const N=p.value-1,j=f.value-N+h.value;return[h.value,e.ellipsis,..._s(N,j)]}else{const N=Math.max(1,p.value-2),j=N===1?n.value:n.value-Math.ceil(N/2)+h.value;return[h.value,e.ellipsis,..._s(N,j),e.ellipsis,f.value]}});function y(F,D,A){F.preventDefault(),n.value=D,A&&r(A,D)}const{refs:v,updateRef:b}=ICe();In({VPaginationBtn:{color:nt(e,"color"),border:nt(e,"border"),density:nt(e,"density"),size:nt(e,"size"),variant:nt(e,"variant"),rounded:nt(e,"rounded"),elevation:nt(e,"elevation")}});const _=ue(()=>m.value.map((F,D)=>{const A=x=>b(x,D);if(typeof F=="string")return{isActive:!1,key:`ellipsis-${D}`,page:F,props:{ref:A,ellipsis:!0,icon:!0,disabled:!0}};{const x=F===n.value;return{isActive:x,key:F,page:o(F),props:{ref:A,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:x?e.activeColor:e.color,"aria-current":x,"aria-label":a(x?e.currentPageAriaLabel:e.pageAriaLabel,F),onClick:N=>y(N,F)}}}})),w=ue(()=>{const F=!!e.disabled||n.value<=h.value,D=!!e.disabled||n.value>=h.value+f.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:A=>y(A,h.value,"first"),disabled:F,"aria-label":a(e.firstAriaLabel),"aria-disabled":F}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:A=>y(A,n.value-1,"prev"),disabled:F,"aria-label":a(e.previousAriaLabel),"aria-disabled":F},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:A=>y(A,n.value+1,"next"),disabled:D,"aria-label":a(e.nextAriaLabel),"aria-disabled":D},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:A=>y(A,h.value+f.value-1,"last"),disabled:D,"aria-label":a(e.lastAriaLabel),"aria-disabled":D}:void 0}});function T(){var D;const F=n.value-h.value;(D=v.value[F])==null||D.$el.focus()}function R(F){F.key===RI.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,Mr(T)):F.key===RI.right&&!e.disabled&&n.value<h.value+f.value-1&&(n.value=n.value+1,Mr(T))}return ht(()=>B(e.tag,{ref:d,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":a(e.ariaLabel),onKeydown:R,"data-test":"v-pagination-root"},{default:()=>[B("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&B("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[i.first?i.first(w.value.first):B(qr,ct({_as:"VPaginationBtn"},w.value.first),null)]),B("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[i.prev?i.prev(w.value.prev):B(qr,ct({_as:"VPaginationBtn"},w.value.prev),null)]),_.value.map((F,D)=>B("li",{key:F.key,class:["v-pagination__item",{"v-pagination__item--is-active":F.isActive}],"data-test":"v-pagination-item"},[i.item?i.item(F):B(qr,ct({_as:"VPaginationBtn"},F.props),{default:()=>[F.page]})])),B("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[i.next?i.next(w.value.next):B(qr,ct({_as:"VPaginationBtn"},w.value.next),null)]),e.showFirstLastPage&&B("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[i.last?i.last(w.value.last):B(qr,ct({_as:"VPaginationBtn"},w.value.last),null)])])]})),{}}}),l4=We({prevIcon:{type:Kt,default:"$prev"},nextIcon:{type:Kt,default:"$next"},firstIcon:{type:Kt,default:"$first"},lastIcon:{type:Kt,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),_2=ot()({name:"VDataTableFooter",props:l4(),setup(e,t){let{slots:i}=t;const{t:r}=Un(),{page:n,pageCount:a,startIndex:o,stopIndex:s,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=wCe(),d=ue(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?r(f.title):f.title}));return ht(()=>{var h;const f=ZI.filterProps(e);return B("div",{class:"v-data-table-footer"},[(h=i.prepend)==null?void 0:h.call(i),B("div",{class:"v-data-table-footer__items-per-page"},[B("span",null,[r(e.itemsPerPageText)]),B(e4,{items:d.value,modelValue:u.value,"onUpdate:modelValue":p=>c(Number(p)),density:"compact",variant:"outlined","hide-details":!0},null)]),B("div",{class:"v-data-table-footer__info"},[B("div",null,[r(e.pageText,l.value?o.value+1:0,s.value,l.value)])]),B("div",{class:"v-data-table-footer__pagination"},[B(ZI,ct({modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:a.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),AE=Txe({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:i}=t;const r=e.tag??"td";return B(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Ft(e.height),width:Ft(e.width),maxWidth:Ft(e.maxWidth),left:Ft(e.fixedOffset||null)}},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})}),DCe=We({headers:Array},"DataTable-header"),Hie=Symbol.for("vuetify:data-table-headers"),$ie={title:"",sortable:!1},NCe={...$ie,width:48};function FCe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(i=>({element:i,priority:0}));return{enqueue:(i,r)=>{let n=!1;for(let a=0;a<t.length;a++)if(t[a].priority>r){t.splice(a,0,{element:i,priority:r}),n=!0;break}n||t.push({element:i,priority:r})},size:()=>t.length,count:()=>{let i=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===r&&(i+=1);return i},dequeue:()=>t.shift()}}function eC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const i of e.children)eC(i,t);return t}function Qie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const i of e)i.key&&t.add(i.key),i.children&&Qie(i.children,t);return t}function LCe(e){if(e.key){if(e.key==="data-table-group")return $ie;if(["data-table-expand","data-table-select"].includes(e.key))return NCe}}function c4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(i=>c4(i,t+1))):t}function MCe(e){let t=!1;function i(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a)if(o&&(a.fixed=!0),a.fixed)if(a.children)for(let s=a.children.length-1;s>=0;s--)i(a.children[s],!0);else t?isNaN(Number(a.width))?(`${a.key}`,void 0):a.minWidth=Math.max(Number(a.width)||0,Number(a.minWidth)||0):a.lastFixed=!0,t=!0;else if(a.children)for(let s=a.children.length-1;s>=0;s--)i(a.children[s]);else t=!1}for(let a=e.length-1;a>=0;a--)i(e[a]);function r(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!a)return o;if(a.children){a.fixedOffset=o;for(const s of a.children)o=r(s,o)}else a.fixed&&(a.fixedOffset=o,o+=parseFloat(a.width||"0")||0);return o}let n=0;for(const a of e)n=r(a,n)}function jCe(e,t){const i=[];let r=0;const n=FCe(e);for(;n.size()>0;){let o=n.count();const s=[];let l=1;for(;o>0;){const{element:u,priority:c}=n.dequeue(),d=t-r-c4(u);if(s.push({...u,rowspan:d??1,colspan:u.children?eC(u).length:1}),u.children)for(const f of u.children){const h=c%1+l/Math.pow(10,r+2);n.enqueue(f,r+d+h)}l+=1,o-=1}r+=1,i.push(s)}return{columns:e.map(o=>eC(o)).flat(),headers:i}}function zie(e){const t=[];for(const i of e){const r={...LCe(i),...i},n=r.key??(typeof r.value=="string"?r.value:null),a=r.value??n??null,o={...r,key:n,value:a,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?zie(r.children):void 0};t.push(o)}return t}function d4(e,t){const i=vt([]),r=vt([]),n=vt({}),a=vt({}),o=vt({});Vn(()=>{var g,m,y;const u=(e.headers||Object.keys(e.items[0]??{}).map(v=>({key:v,title:xs(v)}))).slice(),c=Qie(u);(g=t==null?void 0:t.groupBy)!=null&&g.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(m=t==null?void 0:t.showSelect)!=null&&m.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(y=t==null?void 0:t.showExpand)!=null&&y.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=zie(u);MCe(d);const f=Math.max(...d.map(v=>c4(v)))+1,h=jCe(d,f);i.value=h.headers,r.value=h.columns;const p=h.headers.flat(1);for(const v of p)v.key&&(v.sortable&&(v.sort&&(n.value[v.key]=v.sort),v.sortRaw&&(a.value[v.key]=v.sortRaw)),v.filter&&(o.value[v.key]=v.filter))});const s={headers:i,columns:r,sortFunctions:n,sortRawFunctions:a,filterFunctions:o};return Jr(Hie,s),s}function Y3(){const e=_r(Hie);if(!e)throw new Error("Missing headers!");return e}const Gie=We({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Kt,default:"$sortAsc"},sortDescIcon:{type:Kt,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Wp(),...N3()},"VDataTableHeaders"),jp=ot()({name:"VDataTableHeaders",props:Gie(),setup(e,t){let{slots:i}=t;const{t:r}=Un(),{toggleSort:n,sortBy:a,isSorted:o}=Uie(),{someSelected:s,allSelected:l,selectAll:u,showSelectAll:c}=K3(),{columns:d,headers:f}=Y3(),{loaderClasses:h}=lA(e);function p(F,D){if(!(!(e.sticky||e.fixedHeader)&&!F.fixed))return{position:"sticky",left:F.fixed?Ft(F.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${D})`:void 0}}function g(F){const D=a.value.find(A=>A.key===F.key);return D?D.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:m,backgroundColorStyles:y}=rn(e,"color"),{displayClasses:v,mobile:b}=So(e),_=ue(()=>({headers:f.value,columns:d.value,toggleSort:n,isSorted:o,sortBy:a.value,someSelected:s.value,allSelected:l.value,selectAll:u,getSortIcon:g})),w=ue(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},v.value,h.value]),T=F=>{let{column:D,x:A,y:x}=F;const N=D.key==="data-table-select"||D.key==="data-table-expand",j=ct(e.headerProps??{},D.headerProps??{});return B(AE,ct({tag:"th",align:D.align,class:[{"v-data-table__th--sortable":D.sortable&&!e.disableSort,"v-data-table__th--sorted":o(D),"v-data-table__th--fixed":D.fixed},...w.value],style:{width:Ft(D.width),minWidth:Ft(D.minWidth),maxWidth:Ft(D.maxWidth),...p(D,x)},colspan:D.colspan,rowspan:D.rowspan,onClick:D.sortable?()=>n(D):void 0,fixed:D.fixed,nowrap:D.nowrap,lastFixed:D.lastFixed,noPadding:N},j),{default:()=>{var $;const H=`header.${D.key}`,M={column:D,selectAll:u,isSorted:o,toggleSort:n,sortBy:a.value,someSelected:s.value,allSelected:l.value,getSortIcon:g};return i[H]?i[H](M):D.key==="data-table-select"?(($=i["header.data-table-select"])==null?void 0:$.call(i,M))??(c.value&&B(vu,{modelValue:l.value,indeterminate:s.value&&!l.value,"onUpdate:modelValue":u},null)):B("div",{class:"v-data-table-header__content"},[B("span",null,[D.title]),D.sortable&&!e.disableSort&&B(Vr,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(D)},null),e.multiSort&&o(D)&&B("div",{key:"badge",class:["v-data-table-header__sort-badge",...m.value],style:y.value},[a.value.findIndex(te=>te.key===D.key)+1])])}})},R=()=>{const F=ct(e.headerProps??{}??{}),D=ue(()=>d.value.filter(x=>(x==null?void 0:x.sortable)&&!e.disableSort)),A=ue(()=>{if(d.value.find(N=>N.key==="data-table-select")!=null)return l.value?"$checkboxOn":s.value?"$checkboxIndeterminate":"$checkboxOff"});return B(AE,ct({tag:"th",class:[...w.value],colspan:f.value.length+1},F),{default:()=>[B("div",{class:"v-data-table-header__content"},[B(e4,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:D.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>a.value=[],appendIcon:A.value,"onClick:append":()=>u(!l.value)},{...i,chip:x=>{var N;return B(J0,{onClick:(N=x.item.raw)!=null&&N.sortable?()=>n(x.item.raw):void 0,onMousedown:j=>{j.preventDefault(),j.stopPropagation()}},{default:()=>[x.item.title,B(Vr,{class:["v-data-table__td-sort-icon",o(x.item.raw)&&"v-data-table__td-sort-icon-active"],icon:g(x.item.raw),size:"small"},null)]})}})])]})};ht(()=>b.value?B("tr",null,[B(R,null,null)]):B(Ot,null,[i.headers?i.headers(_.value):f.value.map((F,D)=>B("tr",null,[F.map((A,x)=>B(T,{column:A,x,y:D},null))])),e.loading&&B("tr",{class:"v-data-table-progress"},[B("th",{colspan:d.value.length},[B(cA,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:i.loader})])])]))}}),kCe=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),BCe=ot()({name:"VDataTableGroupHeaderRow",props:kCe(),setup(e,t){let{slots:i}=t;const{isGroupOpen:r,toggleGroup:n,extractRows:a}=Cie(),{isSelected:o,isSomeSelected:s,select:l}=K3(),{columns:u}=Y3(),c=ue(()=>a([e.item]));return()=>B("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var f,h;if(d.key==="data-table-group"){const p=r(e.item)?"$expand":"$next",g=()=>n(e.item);return((f=i["data-table-group"])==null?void 0:f.call(i,{item:e.item,count:c.value.length,props:{icon:p,onClick:g}}))??B(AE,{class:"v-data-table-group-header-row__column"},{default:()=>[B(qr,{size:"small",variant:"text",icon:p,onClick:g},null),B("span",null,[e.item.value]),B("span",null,[$t("("),c.value.length,$t(")")])]})}if(d.key==="data-table-select"){const p=o(c.value),g=s(c.value)&&!p,m=y=>l(c.value,y);return((h=i["data-table-select"])==null?void 0:h.call(i,{props:{modelValue:p,indeterminate:g,"onUpdate:modelValue":m}}))??B("td",null,[B(vu,{modelValue:p,indeterminate:g,"onUpdate:modelValue":m},null)])}return B("td",null,null)})])}}),qCe=We({index:Number,item:Object,cellProps:[Object,Function],onClick:Si(),onContextmenu:Si(),onDblclick:Si(),...Wp()},"VDataTableRow"),f4=ot()({name:"VDataTableRow",props:qCe(),setup(e,t){let{slots:i}=t;const{displayClasses:r,mobile:n}=So(e,"v-data-table__tr"),{isSelected:a,toggleSelect:o,someSelected:s,allSelected:l,selectAll:u}=K3(),{isExpanded:c,toggleExpand:d}=Pie(),{toggleSort:f,sortBy:h,isSorted:p}=Uie(),{columns:g}=Y3();ht(()=>B("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&g.value.map((m,y)=>{const v=e.item,b=`item.${m.key}`,_=`header.${m.key}`,w={index:e.index,item:v.raw,internalItem:v,value:Dp(v.columns,m.key),column:m,isSelected:a,toggleSelect:o,isExpanded:c,toggleExpand:d},T={column:m,selectAll:u,isSorted:p,toggleSort:f,sortBy:h.value,someSelected:s.value,allSelected:l.value,getSortIcon:()=>""},R=typeof e.cellProps=="function"?e.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value,column:m}):e.cellProps,F=typeof m.cellProps=="function"?m.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value}):m.cellProps;return B(AE,ct({align:m.align,class:{"v-data-table__td--expanded-row":m.key==="data-table-expand","v-data-table__td--select-row":m.key==="data-table-select"},fixed:m.fixed,fixedOffset:m.fixedOffset,lastFixed:m.lastFixed,maxWidth:n.value?void 0:m.maxWidth,noPadding:m.key==="data-table-select"||m.key==="data-table-expand",nowrap:m.nowrap,width:n.value?void 0:m.width},R,F),{default:()=>{var A,x,N,j;if(m.key==="data-table-select")return((A=i["item.data-table-select"])==null?void 0:A.call(i,{...w,props:{disabled:!v.selectable,modelValue:a([v]),onClick:Fg(()=>o(v),["stop"])}}))??B(vu,{disabled:!v.selectable,modelValue:a([v]),onClick:Fg(()=>o(v),["stop"])},null);if(m.key==="data-table-expand")return((x=i["item.data-table-expand"])==null?void 0:x.call(i,{...w,props:{icon:c(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:Fg(()=>d(v),["stop"])}}))??B(qr,{icon:c(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:Fg(()=>d(v),["stop"])},null);if(i[b]&&!n.value)return i[b](w);const D=ir(w.value);return n.value?B(Ot,null,[B("div",{class:"v-data-table__td-title"},[((N=i[_])==null?void 0:N.call(i,T))??m.title]),B("div",{class:"v-data-table__td-value"},[((j=i[b])==null?void 0:j.call(i,w))??D])]):D}})})]))}}),Wie=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Wp()},"VDataTableRows"),kp=ot()({name:"VDataTableRows",inheritAttrs:!1,props:Wie(),setup(e,t){let{attrs:i,slots:r}=t;const{columns:n}=Y3(),{expandOnClick:a,toggleExpand:o,isExpanded:s}=Pie(),{isSelected:l,toggleSelect:u}=K3(),{toggleGroup:c,isGroupOpen:d}=Cie(),{t:f}=Un(),{mobile:h}=So(e);return ht(()=>{var p,g;return e.loading&&(!e.items.length||r.loading)?B("tr",{class:"v-data-table-rows-loading",key:"loading"},[B("td",{colspan:n.value.length},[((p=r.loading)==null?void 0:p.call(r))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?B("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[B("td",{colspan:n.value.length},[((g=r["no-data"])==null?void 0:g.call(r))??f(e.noDataText)])]):B(Ot,null,[e.items.map((m,y)=>{var _;if(m.type==="group"){const w={index:y,item:m,columns:n.value,isExpanded:s,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return r["group-header"]?r["group-header"](w):B(BCe,ct({key:`group-header_${m.id}`,item:m},fz(i,":group-header",()=>w)),r)}const v={index:y,item:m.raw,internalItem:m,columns:n.value,isExpanded:s,toggleExpand:o,isSelected:l,toggleSelect:u},b={...v,props:ct({key:`item_${m.key??m.index}`,onClick:a.value?()=>{o(m)}:void 0,index:y,item:m,cellProps:e.cellProps,mobile:h.value},fz(i,":row",()=>v),typeof e.rowProps=="function"?e.rowProps({item:v.item,index:v.index,internalItem:v.internalItem}):e.rowProps)};return B(Ot,{key:b.props.key},[r.item?r.item(b):B(f4,b.props,r),s(m)&&((_=r["expanded-row"])==null?void 0:_.call(r,v))])})])}),{}}}),Kie=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Mt(),...vi(),...pr(),...Nr()},"VTable"),Bp=ot()({name:"VTable",props:Kie(),setup(e,t){let{slots:i,emit:r}=t;const{themeClasses:n}=zr(e),{densityClasses:a}=oa(e);return ht(()=>B(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":e.hover},n.value,a.value,e.class],style:e.style},{default:()=>{var o,s,l;return[(o=i.top)==null?void 0:o.call(i),i.default?B("div",{class:"v-table__wrapper",style:{height:Ft(e.height)}},[B("table",null,[i.default()])]):(s=i.wrapper)==null?void 0:s.call(i),(l=i.bottom)==null?void 0:l.call(i)]}})),{}}}),VCe=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function UCe(e,t,i,r){const n=e.returnObject?t:oi(t,e.itemValue),a=oi(t,e.itemSelectable,!0),o=r.reduce((s,l)=>(l.key!=null&&(s[l.key]=oi(t,l.value)),s),{});return{type:"item",key:e.returnObject?oi(t,e.itemValue):n,index:i,value:n,selectable:a,columns:o,raw:t}}function HCe(e,t,i){return t.map((r,n)=>UCe(e,r,n,i))}function h4(e,t){return{items:ue(()=>HCe(e,e.items,t.value))}}const p4=We({...Wie(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Rie(),...n4(),...DCe(),...VCe(),...kie(),...qie(),...Gie(),...Kie()},"DataTable"),$Ce=We({...a4(),...p4(),...yA(),...l4()},"VDataTable"),QCe=ot()({name:"VDataTable",props:$Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{groupBy:n}=i4(e),{sortBy:a,multiSort:o,mustSort:s}=J3(e),{page:l,itemsPerPage:u}=o4(e),{disableSort:c}=Vp(e),{columns:d,headers:f,sortFunctions:h,sortRawFunctions:p,filterFunctions:g}=d4(e,{groupBy:n,showSelect:nt(e,"showSelect"),showExpand:nt(e,"showExpand")}),{items:m}=h4(e,d),y=nt(e,"search"),{filteredItems:v}=vA(e,m,y,{transform:me=>me.columns,customKeyFilter:g}),{toggleSort:b}=X3({sortBy:a,multiSort:o,mustSort:s,page:l}),{sortByWithGroups:_,opened:w,extractRows:T,isGroupOpen:R,toggleGroup:F}=Q3({groupBy:n,sortBy:a,disableSort:c}),{sortedItems:D}=u4(e,v,_,{transform:me=>({...me.raw,...me.columns}),sortFunctions:h,sortRawFunctions:p}),{flatItems:A}=z3(D,n,w),x=ue(()=>A.value.length),{startIndex:N,stopIndex:j,pageCount:H,setItemsPerPage:M}=s4({page:l,itemsPerPage:u,itemsLength:x}),{paginatedItems:$}=Lie({items:A,startIndex:N,stopIndex:j,itemsPerPage:u}),te=ue(()=>T($.value)),{isSelected:re,select:oe,selectAll:J,toggleSelect:fe,someSelected:xe,allSelected:de}=W3(e,{allItems:m,currentPage:te}),{isExpanded:ae,toggleExpand:Fe}=$3(e);G3({page:l,itemsPerPage:u,sortBy:a,groupBy:n,search:y}),In({VDataTableRows:{hideNoData:nt(e,"hideNoData"),noDataText:nt(e,"noDataText"),loading:nt(e,"loading"),loadingText:nt(e,"loadingText")}});const Le=ue(()=>({page:l.value,itemsPerPage:u.value,sortBy:a.value,pageCount:H.value,toggleSort:b,setItemsPerPage:M,someSelected:xe.value,allSelected:de.value,isSelected:re,select:oe,selectAll:J,toggleSelect:fe,isExpanded:ae,toggleExpand:Fe,isGroupOpen:R,toggleGroup:F,items:te.value.map(me=>me.raw),internalItems:te.value,groupedItems:$.value,columns:d.value,headers:f.value}));return ht(()=>{const me=_2.filterProps(e),pe=jp.filterProps(e),_e=kp.filterProps(e),X=Bp.filterProps(e);return B(Bp,ct({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},X,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var C;return(C=r.top)==null?void 0:C.call(r,Le.value)},default:()=>{var C,E,S,I,k,Q;return r.default?r.default(Le.value):B(Ot,null,[(C=r.colgroup)==null?void 0:C.call(r,Le.value),!e.hideDefaultHeader&&B("thead",{key:"thead"},[B(jp,pe,r)]),(E=r.thead)==null?void 0:E.call(r,Le.value),!e.hideDefaultBody&&B("tbody",null,[(S=r["body.prepend"])==null?void 0:S.call(r,Le.value),r.body?r.body(Le.value):B(kp,ct(i,_e,{items:$.value}),r),(I=r["body.append"])==null?void 0:I.call(r,Le.value)]),(k=r.tbody)==null?void 0:k.call(r,Le.value),(Q=r.tfoot)==null?void 0:Q.call(r,Le.value)])},bottom:()=>r.bottom?r.bottom(Le.value):!e.hideDefaultFooter&&B(Ot,null,[B(pA,null,null),B(_2,me,{prepend:r["footer.prepend"]})])})}),{}}}),zCe=We({...p4(),...n4(),...uie(),...yA()},"VDataTableVirtual"),GCe=ot()({name:"VDataTableVirtual",props:zCe(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{groupBy:n}=i4(e),{sortBy:a,multiSort:o,mustSort:s}=J3(e),{disableSort:l}=Vp(e),{columns:u,headers:c,filterFunctions:d,sortFunctions:f,sortRawFunctions:h}=d4(e,{groupBy:n,showSelect:nt(e,"showSelect"),showExpand:nt(e,"showExpand")}),{items:p}=h4(e,u),g=nt(e,"search"),{filteredItems:m}=vA(e,p,g,{transform:pe=>pe.columns,customKeyFilter:d}),{toggleSort:y}=X3({sortBy:a,multiSort:o,mustSort:s}),{sortByWithGroups:v,opened:b,extractRows:_,isGroupOpen:w,toggleGroup:T}=Q3({groupBy:n,sortBy:a,disableSort:l}),{sortedItems:R}=u4(e,m,v,{transform:pe=>({...pe.raw,...pe.columns}),sortFunctions:f,sortRawFunctions:h}),{flatItems:F}=z3(R,n,b),D=ue(()=>_(F.value)),{isSelected:A,select:x,selectAll:N,toggleSelect:j,someSelected:H,allSelected:M}=W3(e,{allItems:D,currentPage:D}),{isExpanded:$,toggleExpand:te}=$3(e),{containerRef:re,markerRef:oe,paddingTop:J,paddingBottom:fe,computedItems:xe,handleItemResize:de,handleScroll:ae,handleScrollend:Fe}=lie(e,F),Le=ue(()=>xe.value.map(pe=>pe.raw));G3({sortBy:a,page:Tt(1),itemsPerPage:Tt(-1),groupBy:n,search:g}),In({VDataTableRows:{hideNoData:nt(e,"hideNoData"),noDataText:nt(e,"noDataText"),loading:nt(e,"loading"),loadingText:nt(e,"loadingText")}});const me=ue(()=>({sortBy:a.value,toggleSort:y,someSelected:H.value,allSelected:M.value,isSelected:A,select:x,selectAll:N,toggleSelect:j,isExpanded:$,toggleExpand:te,isGroupOpen:w,toggleGroup:T,items:D.value.map(pe=>pe.raw),internalItems:D.value,groupedItems:F.value,columns:u.value,headers:c.value}));ht(()=>{const pe=jp.filterProps(e),_e=kp.filterProps(e),X=Bp.filterProps(e);return B(Bp,ct({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},X,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var C;return(C=r.top)==null?void 0:C.call(r,me.value)},wrapper:()=>{var C,E,S;return B("div",{ref:re,onScrollPassive:ae,onScrollend:Fe,class:"v-table__wrapper",style:{height:Ft(e.height)}},[B("table",null,[(C=r.colgroup)==null?void 0:C.call(r,me.value),!e.hideDefaultHeader&&B("thead",{key:"thead"},[B(jp,pe,r)]),!e.hideDefaultBody&&B("tbody",null,[B("tr",{ref:oe,style:{height:Ft(J.value),border:0}},[B("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(E=r["body.prepend"])==null?void 0:E.call(r,me.value),B(kp,ct(i,_e,{items:Le.value}),{...r,item:I=>B(sie,{key:I.internalItem.index,renderless:!0,"onUpdate:height":k=>de(I.internalItem.index,k)},{default:k=>{var G;let{itemRef:Q}=k;return((G=r.item)==null?void 0:G.call(r,{...I,itemRef:Q}))??B(f4,ct(I.props,{ref:Q,key:I.internalItem.index,index:I.internalItem.index}),r)}})}),(S=r["body.append"])==null?void 0:S.call(r,me.value),B("tr",{style:{height:Ft(fe.value),border:0}},[B("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var C;return(C=r.bottom)==null?void 0:C.call(r,me.value)}})})}}),WCe=We({itemsLength:{type:[Number,String],required:!0},...a4(),...p4(),...l4()},"VDataTableServer"),KCe=ot()({name:"VDataTableServer",props:WCe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const{groupBy:n}=i4(e),{sortBy:a,multiSort:o,mustSort:s}=J3(e),{page:l,itemsPerPage:u}=o4(e),{disableSort:c}=Vp(e),d=ue(()=>parseInt(e.itemsLength,10)),{columns:f,headers:h}=d4(e,{groupBy:n,showSelect:nt(e,"showSelect"),showExpand:nt(e,"showExpand")}),{items:p}=h4(e,f),{toggleSort:g}=X3({sortBy:a,multiSort:o,mustSort:s,page:l}),{opened:m,isGroupOpen:y,toggleGroup:v,extractRows:b}=Q3({groupBy:n,sortBy:a,disableSort:c}),{pageCount:_,setItemsPerPage:w}=s4({page:l,itemsPerPage:u,itemsLength:d}),{flatItems:T}=z3(p,n,m),{isSelected:R,select:F,selectAll:D,toggleSelect:A,someSelected:x,allSelected:N}=W3(e,{allItems:p,currentPage:p}),{isExpanded:j,toggleExpand:H}=$3(e),M=ue(()=>b(p.value));G3({page:l,itemsPerPage:u,sortBy:a,groupBy:n,search:nt(e,"search")}),Jr("v-data-table",{toggleSort:g,sortBy:a}),In({VDataTableRows:{hideNoData:nt(e,"hideNoData"),noDataText:nt(e,"noDataText"),loading:nt(e,"loading"),loadingText:nt(e,"loadingText")}});const $=ue(()=>({page:l.value,itemsPerPage:u.value,sortBy:a.value,pageCount:_.value,toggleSort:g,setItemsPerPage:w,someSelected:x.value,allSelected:N.value,isSelected:R,select:F,selectAll:D,toggleSelect:A,isExpanded:j,toggleExpand:H,isGroupOpen:y,toggleGroup:v,items:M.value.map(te=>te.raw),internalItems:M.value,groupedItems:T.value,columns:f.value,headers:h.value}));ht(()=>{const te=_2.filterProps(e),re=jp.filterProps(e),oe=kp.filterProps(e),J=Bp.filterProps(e);return B(Bp,ct({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},J,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var fe;return(fe=r.top)==null?void 0:fe.call(r,$.value)},default:()=>{var fe,xe,de,ae,Fe,Le;return r.default?r.default($.value):B(Ot,null,[(fe=r.colgroup)==null?void 0:fe.call(r,$.value),!e.hideDefaultHeader&&B("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[B(jp,re,r)]),(xe=r.thead)==null?void 0:xe.call(r,$.value),!e.hideDefaultBody&&B("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(de=r["body.prepend"])==null?void 0:de.call(r,$.value),r.body?r.body($.value):B(kp,ct(i,oe,{items:T.value}),r),(ae=r["body.append"])==null?void 0:ae.call(r,$.value)]),(Fe=r.tbody)==null?void 0:Fe.call(r,$.value),(Le=r.tfoot)==null?void 0:Le.call(r,$.value)])},bottom:()=>r.bottom?r.bottom($.value):!e.hideDefaultFooter&&B(Ot,null,[B(pA,null,null),B(_2,te,{prepend:r["footer.prepend"]})])})})}}),JCe=We({fluid:{type:Boolean,default:!1},...Mt(),...ni(),...pr()},"VContainer"),XCe=ot()({name:"VContainer",props:JCe(),setup(e,t){let{slots:i}=t;const{rtlClasses:r}=ci(),{dimensionStyles:n}=ii(e);return ht(()=>B(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[n.value,e.style]},i)),{}}}),Jie=R3.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),Xie=R3.reduce((e,t)=>{const i="offset"+xs(t);return e[i]={type:[String,Number],default:null},e},{}),Yie=R3.reduce((e,t)=>{const i="order"+xs(t);return e[i]={type:[String,Number],default:null},e},{}),jz={col:Object.keys(Jie),offset:Object.keys(Xie),order:Object.keys(Yie)};function YCe(e,t,i){let r=e;if(!(i==null||i===!1)){if(t){const n=t.replace(e,"");r+=`-${n}`}return e==="col"&&(r="v-"+r),e==="col"&&(i===""||i===!0)||(r+=`-${i}`),r.toLowerCase()}}const ZCe=["auto","start","end","center","baseline","stretch"],eDe=We({cols:{type:[Boolean,String,Number],default:!1},...Jie,offset:{type:[String,Number],default:null},...Xie,order:{type:[String,Number],default:null},...Yie,alignSelf:{type:String,default:null,validator:e=>ZCe.includes(e)},...Mt(),...pr()},"VCol"),tDe=ot()({name:"VCol",props:eDe(),setup(e,t){let{slots:i}=t;const r=ue(()=>{const n=[];let a;for(a in jz)jz[a].forEach(s=>{const l=e[s],u=YCe(a,s,l);u&&n.push(u)});const o=n.some(s=>s.startsWith("v-col-"));return n.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),n});return()=>{var n;return Wo(e.tag,{class:[r.value,e.class],style:e.style},(n=i.default)==null?void 0:n.call(i))}}}),g4=["start","end","center"],Zie=["space-between","space-around","space-evenly"];function m4(e,t){return R3.reduce((i,r)=>{const n=e+xs(r);return i[n]=t(),i},{})}const rDe=[...g4,"baseline","stretch"],eae=e=>rDe.includes(e),tae=m4("align",()=>({type:String,default:null,validator:eae})),nDe=[...g4,...Zie],rae=e=>nDe.includes(e),nae=m4("justify",()=>({type:String,default:null,validator:rae})),iDe=[...g4,...Zie,"stretch"],iae=e=>iDe.includes(e),aae=m4("alignContent",()=>({type:String,default:null,validator:iae})),kz={align:Object.keys(tae),justify:Object.keys(nae),alignContent:Object.keys(aae)},aDe={align:"align",justify:"justify",alignContent:"align-content"};function oDe(e,t,i){let r=aDe[e];if(i!=null){if(t){const n=t.replace(e,"");r+=`-${n}`}return r+=`-${i}`,r.toLowerCase()}}const sDe=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:eae},...tae,justify:{type:String,default:null,validator:rae},...nae,alignContent:{type:String,default:null,validator:iae},...aae,...Mt(),...pr()},"VRow"),uDe=ot()({name:"VRow",props:sDe(),setup(e,t){let{slots:i}=t;const r=ue(()=>{const n=[];let a;for(a in kz)kz[a].forEach(o=>{const s=e[o],l=oDe(a,o,s);l&&n.push(l)});return n.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),n});return()=>{var n;return Wo(e.tag,{class:["v-row",r.value,e.class],style:e.style},(n=i.default)==null?void 0:n.call(i))}}}),oae=Ms("v-spacer","div","VSpacer"),sae=We({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Kt,default:"$next"},prevIcon:{type:Kt,default:"$prev"},modeIcon:{type:Kt,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),tC=ot()({name:"VDatePickerControls",props:sae(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:i}=t;const r=ue(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),n=ue(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),a=ue(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=ue(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function s(){i("click:prev")}function l(){i("click:next")}function u(){i("click:year")}function c(){i("click:month")}return ht(()=>B("div",{class:["v-date-picker-controls"]},[B(qr,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),B(qr,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:n.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),B(oae,null,null),B("div",{class:"v-date-picker-controls__month"},[B(qr,{"data-testid":"prev-month",disabled:a.value,icon:e.prevIcon,variant:"text",onClick:s},null),B(qr,{"data-testid":"next-month",disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),lDe=We({appendIcon:Kt,color:String,header:String,transition:String,onClick:Si()},"VDatePickerHeader"),rC=ot()({name:"VDatePickerHeader",props:lDe(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:i,slots:r}=t;const{backgroundColorClasses:n,backgroundColorStyles:a}=rn(e,"color");function o(){i("click")}function s(){i("click:append")}return ht(()=>{const l=!!(r.default||e.header),u=!!(r.append||e.appendIcon);return B("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},n.value],style:a.value,onClick:o},[r.prepend&&B("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),l&&B(Zi,{key:"content",name:e.transition},{default:()=>{var c;return[B("div",{key:e.header,class:"v-date-picker-header__content"},[((c=r.default)==null?void 0:c.call(r))??e.header])]}}),u&&B("div",{class:"v-date-picker-header__append"},[r.append?B(Sr,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=r.append)==null?void 0:c.call(r)]}}):B(qr,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:s},null)])])}),{}}}),cDe=We({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function dDe(e){const t=sA(),i=Gt(e,"modelValue",[],p=>En(p).map(g=>t.date(g))),r=ue(()=>e.displayValue?t.date(e.displayValue):i.value.length>0?t.date(i.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),n=Gt(e,"year",void 0,p=>{const g=p!=null?Number(p):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),g))},p=>t.getYear(p)),a=Gt(e,"month",void 0,p=>{const g=p!=null?Number(p):t.getMonth(r.value),m=t.setYear(t.startOfMonth(t.date()),t.getYear(n.value));return t.setMonth(m,g)},p=>t.getMonth(p)),o=ue(()=>e.firstDayOfWeek??e.weekdays[0]),s=ue(()=>{const p=Number(e.firstDayOfWeek??0);return e.weekdays.map(g=>(g+p)%7)}),l=ue(()=>{const p=t.getWeekArray(a.value,o.value),g=p.flat(),m=6*7;if(e.weeksInMonth==="static"&&g.length<m){const y=g[g.length-1];let v=[];for(let b=1;b<=m-g.length;b++)v.push(t.addDays(y,b)),b%7===0&&(p.push(v),v=[])}return p});function u(p,g){return p.filter(m=>s.value.includes(t.toJsDate(m).getDay())).map((m,y)=>{const v=t.toISO(m),b=!t.isSameMonth(m,a.value),_=t.isSameDay(m,t.startOfMonth(a.value)),w=t.isSameDay(m,t.endOfMonth(a.value)),T=t.isSameDay(m,a.value);return{date:m,isoDate:v,formatted:t.format(m,"keyboardDate"),year:t.getYear(m),month:t.getMonth(m),isDisabled:h(m),isWeekStart:y%7===0,isWeekEnd:y%7===6,isToday:t.isSameDay(m,g),isAdjacent:b,isHidden:b&&!e.showAdjacentMonths,isStart:_,isSelected:i.value.some(R=>t.isSameDay(m,R)),isEnd:w,isSame:T,localized:t.format(m,"dayOfMonth")}})}const c=ue(()=>{const p=t.startOfWeek(r.value,e.firstDayOfWeek),g=[];for(let y=0;y<=6;y++)g.push(t.addDays(p,y));const m=t.date();return u(g,m)}),d=ue(()=>{const p=l.value.flat(),g=t.date();return u(p,g)}),f=ue(()=>l.value.map(p=>p.length?SRe(t,p[0]):null));function h(p){if(e.disabled)return!0;const g=t.date(p);return e.min&&t.isAfter(t.date(e.min),g)||e.max&&t.isAfter(g,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(m=>t.isSameDay(t.date(m),g)):typeof e.allowedDates=="function"?!e.allowedDates(g):!1}return{displayValue:r,daysInMonth:d,daysInWeek:c,genDays:u,model:i,weeksInMonth:l,weekDays:s,weekNumbers:f}}const uae=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...zn(cDe(),["displayValue"])},"VDatePickerMonth"),nC=ot()({name:"VDatePickerMonth",props:uae(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=vt(),{daysInMonth:a,model:o,weekNumbers:s}=dDe(e),l=sA(),u=Tt(),c=Tt(),d=Tt(!1),f=ue(()=>d.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(c.value=o.value[o.value.length-1]));const h=ue(()=>{const y=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=y});Pt(a,(y,v)=>{v&&(d.value=l.isBefore(y[0].date,v[0].date))});function p(y){const v=l.startOfDay(y);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],c.value=void 0),!u.value)u.value=v,o.value=[u.value];else if(c.value)u.value=y,c.value=void 0,o.value=[u.value];else{if(l.isSameDay(v,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(v,u.value)?(c.value=l.endOfDay(u.value),u.value=v):c.value=l.endOfDay(v);const b=l.getDiff(c.value,u.value,"days"),_=[u.value];for(let w=1;w<b;w++){const T=l.addDays(u.value,w);_.push(T)}_.push(c.value),o.value=_}}function g(y){const v=o.value.findIndex(b=>l.isSameDay(b,y));if(v===-1)o.value=[...o.value,y];else{const b=[...o.value];b.splice(v,1),o.value=b}}function m(y){e.multiple==="range"?p(y):e.multiple?g(y):o.value=[y]}return()=>B("div",{class:"v-date-picker-month"},[e.showWeek&&B("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&B("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[$t(" ")]),s.value.map(y=>B("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[y]))]),B(Zi,{name:f.value},{default:()=>{var y;return[B("div",{ref:n,key:(y=a.value[0].date)==null?void 0:y.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(v=>B("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[v])),a.value.map((v,b)=>{const _={props:{onClick:()=>m(v.date)},item:v,i:b};return h.value&&!v.isSelected&&(v.isDisabled=!0),B("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":v.isAdjacent,"v-date-picker-month__day--hide-adjacent":v.isHidden,"v-date-picker-month__day--selected":v.isSelected,"v-date-picker-month__day--week-end":v.isWeekEnd,"v-date-picker-month__day--week-start":v.isWeekStart}],"data-v-date":v.isDisabled?void 0:v.isoDate},[(e.showAdjacentMonths||!v.isAdjacent)&&B(Sr,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(v.isSelected||v.isToday)&&!v.isDisabled?e.color:void 0,disabled:v.isDisabled,icon:!0,ripple:!1,text:v.localized,variant:v.isDisabled?v.isToday?"outlined":"text":v.isToday&&!v.isSelected?"outlined":"flat",onClick:()=>m(v.date)}}},{default:()=>{var w;return[((w=r.day)==null?void 0:w.call(r,_))??B(qr,_.props,null)]}})])})])]}})])}}),lae=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),iC=ot()({name:"VDatePickerMonths",props:lae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=sA(),a=Gt(e,"modelValue"),o=ue(()=>{let s=n.startOfYear(n.date());return e.year&&(s=n.setYear(s,e.year)),_s(12).map(l=>{const u=n.format(s,"monthShort"),c=!!(e.min&&n.isAfter(n.startOfMonth(n.date(e.min)),s)||e.max&&n.isAfter(s,n.startOfMonth(n.date(e.max))));return s=n.getNextMonth(s),{isDisabled:c,text:u,value:l}})});return Vn(()=>{a.value=a.value??n.getMonth(n.date())}),ht(()=>B("div",{class:"v-date-picker-months",style:{height:Ft(e.height)}},[B("div",{class:"v-date-picker-months__content"},[o.value.map((s,l)=>{var d;const u={active:a.value===l,color:a.value===l?e.color:void 0,disabled:s.isDisabled,rounded:!0,text:s.text,variant:a.value===s.value?"flat":"text",onClick:()=>c(l)};function c(f){if(a.value===f){i("update:modelValue",a.value);return}a.value=f}return((d=r.month)==null?void 0:d.call(r,{month:s,i:l,props:u}))??B(qr,ct({key:"month"},u),null)})])])),{}}}),cae=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),aC=ot()({name:"VDatePickerYears",props:cae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=sA(),a=Gt(e,"modelValue"),o=ue(()=>{const l=n.getYear(n.date());let u=l-100,c=l+52;e.min&&(u=n.getYear(n.date(e.min))),e.max&&(c=n.getYear(n.date(e.max)));let d=n.startOfYear(n.date());return d=n.setYear(d,u),_s(c-u+1,u).map(f=>{const h=n.format(d,"year");return d=n.setYear(d,n.getYear(d)+1),{text:h,value:f}})});Vn(()=>{a.value=a.value??n.getYear(n.date())});const s=yE();return $i(async()=>{var l;await Mr(),(l=s.el)==null||l.scrollIntoView({block:"center"})}),ht(()=>B("div",{class:"v-date-picker-years",style:{height:Ft(e.height)}},[B("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var d;const c={ref:a.value===l.value?s:void 0,active:a.value===l.value,color:a.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:a.value===l.value?"flat":"text",onClick:()=>{if(a.value===l.value){i("update:modelValue",a.value);return}a.value=l.value}};return((d=r.year)==null?void 0:d.call(r,{year:l,i:u,props:c}))??B(qr,ct({key:"month"},c),null)})])])),{}}}),fDe=Ms("v-picker-title"),dae=We({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...H3()},"VPicker"),Bz=ot()({name:"VPicker",props:dae(),setup(e,t){let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=rn(nt(e,"color"));return ht(()=>{const a=Mp.filterProps(e),o=!!(e.title||i.title);return B(Mp,ct(a,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!i.actions},e.class],style:e.style}),{default:()=>{var s;return[!e.hideHeader&&B("div",{key:"header",class:[r.value],style:[n.value]},[o&&B(fDe,{key:"picker-title"},{default:()=>{var l;return[((l=i.title)==null?void 0:l.call(i))??e.title]}}),i.header&&B("div",{class:"v-picker__header"},[i.header()])]),B("div",{class:"v-picker__body"},[(s=i.default)==null?void 0:s.call(i)]),i.actions&&B(Sr,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[B("div",{class:"v-picker__actions"},[i.actions()])]})]}})}),{}}}),hDe=We({header:{type:String,default:"$vuetify.datePicker.header"},...sae(),...uae({weeksInMonth:"static"}),...zn(lae(),["modelValue"]),...zn(cae(),["modelValue"]),...dae({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),pDe=ot()({name:"VDatePicker",props:hDe(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const n=sA(),{t:a}=Un(),o=Gt(e,"modelValue",void 0,D=>En(D).map(A=>n.date(A)),D=>e.multiple?D:D[0]),s=Gt(e,"viewMode"),l=ue(()=>{const D=n.date(e.min);return e.min&&n.isValid(D)?D:null}),u=ue(()=>{const D=n.date(e.max);return e.max&&n.isValid(D)?D:null}),c=ue(()=>{var x;const D=n.date();let A=D;return(x=o.value)!=null&&x[0]?A=n.date(o.value[0]):l.value&&n.isBefore(D,l.value)?A=l.value:u.value&&n.isAfter(D,u.value)&&(A=u.value),A&&n.isValid(A)?A:D}),d=vt(Number(e.month??n.getMonth(n.startOfMonth(c.value)))),f=vt(Number(e.year??n.getYear(n.startOfYear(n.setMonth(c.value,d.value))))),h=Tt(!1),p=ue(()=>e.multiple&&o.value.length>1?a("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&n.isValid(o.value[0])?n.format(n.date(o.value[0]),"normalDateWithWeekday"):a(e.header)),g=ue(()=>{let D=n.date();return D=n.setDate(D,1),D=n.setMonth(D,d.value),D=n.setYear(D,f.value),n.format(D,"monthAndYear")}),m=ue(()=>`date-picker-header${h.value?"-reverse":""}-transition`),y=ue(()=>{if(e.disabled)return!0;const D=[];if(s.value!=="month")D.push("prev","next");else{let A=n.date();if(A=n.startOfMonth(A),A=n.setMonth(A,d.value),A=n.setYear(A,f.value),l.value){const x=n.addDays(n.startOfMonth(A),-1);n.isAfter(l.value,x)&&D.push("prev")}if(u.value){const x=n.addDays(n.endOfMonth(A),1);n.isAfter(x,u.value)&&D.push("next")}}return D});function v(){d.value<11?d.value++:(f.value++,d.value=0,F(f.value)),R(d.value)}function b(){d.value>0?d.value--:(f.value--,d.value=11,F(f.value)),R(d.value)}function _(){s.value="month"}function w(){s.value=s.value==="months"?"month":"months"}function T(){s.value=s.value==="year"?"month":"year"}function R(D){s.value==="months"&&w(),i("update:month",D)}function F(D){s.value==="year"&&T(),i("update:year",D)}return Pt(o,(D,A)=>{const x=En(A),N=En(D);if(!N.length)return;const j=n.date(x[x.length-1]),H=n.date(N[N.length-1]),M=n.getMonth(H),$=n.getYear(H);M!==d.value&&(d.value=M,R(d.value)),$!==f.value&&(f.value=$,F(f.value)),h.value=n.isBefore(j,H)}),ht(()=>{const D=Bz.filterProps(e),A=tC.filterProps(e),x=rC.filterProps(e),N=nC.filterProps(e),j=zn(iC.filterProps(e),["modelValue"]),H=zn(aC.filterProps(e),["modelValue"]),M={header:p.value,transition:m.value};return B(Bz,ct(D,{class:["v-date-picker",`v-date-picker--${s.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var $;return(($=r.title)==null?void 0:$.call(r))??B("div",{class:"v-date-picker__title"},[a(e.title)])},header:()=>r.header?B(Sr,{defaults:{VDatePickerHeader:{...M}}},{default:()=>{var $;return[($=r.header)==null?void 0:$.call(r,M)]}}):B(rC,ct({key:"header"},x,M,{onClick:s.value!=="month"?_:void 0}),{...r,default:void 0}),default:()=>B(Ot,null,[B(tC,ct(A,{disabled:y.value,text:g.value,"onClick:next":v,"onClick:prev":b,"onClick:month":w,"onClick:year":T}),null),B(p2,{hideOnLeave:!0},{default:()=>[s.value==="months"?B(iC,ct({key:"date-picker-months"},j,{modelValue:d.value,"onUpdate:modelValue":[$=>d.value=$,R],min:l.value,max:u.value,year:f.value}),null):s.value==="year"?B(aC,ct({key:"date-picker-years"},H,{modelValue:f.value,"onUpdate:modelValue":[$=>f.value=$,F],min:l.value,max:u.value}),null):B(nC,ct({key:"date-picker-month"},N,{modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,month:d.value,"onUpdate:month":[$=>d.value=$,R],year:f.value,"onUpdate:year":[$=>f.value=$,F],min:l.value,max:u.value}),null)]})]),actions:r.actions})}),{}}}),gDe=We({actionText:String,bgColor:String,color:String,icon:Kt,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Mt(),...ni(),...js({size:void 0}),...Nr()},"VEmptyState"),mDe=ot()({name:"VEmptyState",props:gDe(),emits:{"click:action":e=>!0},setup(e,t){let{emit:i,slots:r}=t;const{themeClasses:n}=zr(e),{backgroundColorClasses:a,backgroundColorStyles:o}=rn(nt(e,"bgColor")),{dimensionStyles:s}=ii(e),{displayClasses:l}=So();function u(c){i("click:action",c)}return ht(()=>{var m,y,v;const c=!!(r.actions||e.actionText),d=!!(r.headline||e.headline),f=!!(r.title||e.title),h=!!(r.text||e.text),p=!!(r.media||e.image||e.icon),g=e.size||(e.image?200:96);return B("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},n.value,a.value,l.value,e.class],style:[o.value,s.value,e.style]},[p&&B("div",{key:"media",class:"v-empty-state__media"},[r.media?B(Sr,{key:"media-defaults",defaults:{VImg:{src:e.image,height:g},VIcon:{size:g,icon:e.icon}}},{default:()=>[r.media()]}):B(Ot,null,[e.image?B(yu,{key:"image",src:e.image,height:g},null):e.icon?B(Vr,{key:"icon",color:e.color,size:g,icon:e.icon},null):void 0])]),d&&B("div",{key:"headline",class:"v-empty-state__headline"},[((m=r.headline)==null?void 0:m.call(r))??e.headline]),f&&B("div",{key:"title",class:"v-empty-state__title"},[((y=r.title)==null?void 0:y.call(r))??e.title]),h&&B("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ft(e.textWidth)}},[((v=r.text)==null?void 0:v.call(r))??e.text]),r.default&&B("div",{key:"content",class:"v-empty-state__content"},[r.default()]),c&&B("div",{key:"actions",class:"v-empty-state__actions"},[B(Sr,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var b;return[((b=r.actions)==null?void 0:b.call(r,{props:{onClick:u}}))??B(qr,{onClick:u},null)]}})])])}),{}}}),w2=Symbol.for("vuetify:v-expansion-panel"),fae=We({...Mt(),...JN()},"VExpansionPanelText"),oC=ot()({name:"VExpansionPanelText",props:fae(),setup(e,t){let{slots:i}=t;const r=_r(w2);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:n,onAfterLeave:a}=XN(e,r.isSelected);return ht(()=>B(I3,{onAfterLeave:a},{default:()=>{var o;return[$r(B("div",{class:["v-expansion-panel-text",e.class],style:e.style},[i.default&&n.value&&B("div",{class:"v-expansion-panel-text__wrapper"},[(o=i.default)==null?void 0:o.call(i)])]),[[to,r.isSelected.value]])]}})),{}}}),hae=We({color:String,expandIcon:{type:Kt,default:"$expand"},collapseIcon:{type:Kt,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Mt(),...ni()},"VExpansionPanelTitle"),sC=ot()({name:"VExpansionPanelTitle",directives:{Ripple:Ru},props:hae(),setup(e,t){let{slots:i}=t;const r=_r(w2);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:n,backgroundColorStyles:a}=rn(e,"color"),{dimensionStyles:o}=ii(e),s=ue(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=ue(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return ht(()=>{var u;return $r(B("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},n.value,e.class],style:[a.value,o.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[B("span",{class:"v-expansion-panel-title__overlay"},null),(u=i.default)==null?void 0:u.call(i,s.value),!e.hideActions&&B(Sr,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[B("span",{class:"v-expansion-panel-title__icon"},[((c=i.actions)==null?void 0:c.call(i,s.value))??B(Vr,null,null)])]}})]),[[eo("ripple"),e.ripple]])}),{}}}),pae=We({title:String,text:String,bgColor:String,...di(),...eg(),...yn(),...pr(),...hae(),...fae()},"VExpansionPanel"),yDe=ot()({name:"VExpansionPanel",props:pae(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=tg(e,w2),{backgroundColorClasses:n,backgroundColorStyles:a}=rn(e,"bgColor"),{elevationClasses:o}=Ei(e),{roundedClasses:s}=Dn(e),l=ue(()=>(r==null?void 0:r.disabled.value)||e.disabled),u=ue(()=>r.group.items.value.reduce((f,h,p)=>(r.group.selected.value.includes(h.id)&&f.push(p),f),[])),c=ue(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===1)}),d=ue(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===-1)});return Jr(w2,r),ht(()=>{const f=!!(i.text||e.text),h=!!(i.title||e.title),p=sC.filterProps(e),g=oC.filterProps(e);return B(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},s.value,n.value,e.class],style:[a.value,e.style]},{default:()=>[B("div",{class:["v-expansion-panel__shadow",...o.value]},null),B(Sr,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...g}}},{default:()=>{var m;return[h&&B(sC,{key:"title"},{default:()=>[i.title?i.title():e.title]}),f&&B(oC,{key:"text"},{default:()=>[i.text?i.text():e.text]}),(m=i.default)==null?void 0:m.call(i)]}})]})}),{groupItem:r}}}),vDe=["default","accordion","inset","popout"],bDe=We({flat:Boolean,...Zp(),...Cl(pae(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Nr(),...Mt(),...pr(),variant:{type:String,default:"default",validator:e=>vDe.includes(e)}},"VExpansionPanels"),_De=ot()({name:"VExpansionPanels",props:bDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{next:r,prev:n}=Fl(e,w2),{themeClasses:a}=zr(e),o=ue(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return In({VExpansionPanel:{bgColor:nt(e,"bgColor"),collapseIcon:nt(e,"collapseIcon"),color:nt(e,"color"),eager:nt(e,"eager"),elevation:nt(e,"elevation"),expandIcon:nt(e,"expandIcon"),focusable:nt(e,"focusable"),hideActions:nt(e,"hideActions"),readonly:nt(e,"readonly"),ripple:nt(e,"ripple"),rounded:nt(e,"rounded"),static:nt(e,"static")}}),ht(()=>B(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},a.value,o.value,e.class],style:e.style},{default:()=>{var s;return[(s=i.default)==null?void 0:s.call(i,{prev:n,next:r})]}})),{next:r,prev:n}}}),wDe=We({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...zn(F3({active:!0}),["location"]),...Kp(),...xu(),...Xo({transition:"fab-transition"})},"VFab"),SDe=ot()({name:"VFab",props:wDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),n=Tt(56),a=vt(),{resizeRef:o}=Go(d=>{d.length&&(n.value=d[0].target.clientHeight)}),s=ue(()=>e.app||e.absolute),l=ue(()=>{var d;return s.value?((d=e.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),u=ue(()=>{var d;return s.value?((d=e.location)==null?void 0:d.split(" ")[1])??"end":!1});Aa(()=>e.app,()=>{const d=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:l,layoutSize:ue(()=>e.layout?n.value+24:0),elementSize:ue(()=>n.value+24),active:ue(()=>e.app&&r.value),absolute:nt(e,"absolute")});Vn(()=>{a.value=d.layoutItemStyles.value})});const c=vt();return ht(()=>{const d=qr.filterProps(e);return B("div",{ref:c,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:s.value,[`v-fab--${u.value}`]:s.value},e.class],style:[e.app?{...a.value}:{height:e.absolute?"100%":"inherit"},e.style]},[B("div",{class:"v-fab__container"},[B(Zi,{appear:e.appear,transition:e.transition},{default:()=>[$r(B(qr,ct({ref:o},d,{active:void 0,location:void 0}),i),[[to,e.active]])]})])])}),{}}}),ADe=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Pu({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>En(e).every(t=>t!=null&&typeof t=="object")},...mA({clearable:!0})},"VFileInput"),TDe=ot()({name:"VFileInput",inheritAttrs:!1,props:ADe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{t:a}=Un(),o=Gt(e,"modelValue",e.modelValue,x=>En(x),x=>!e.multiple&&Array.isArray(x)?x[0]:x),{isFocused:s,focus:l,blur:u}=Ou(e),c=ue(()=>typeof e.showSize!="boolean"?e.showSize:void 0),d=ue(()=>(o.value??[]).reduce((x,N)=>{let{size:j=0}=N;return x+j},0)),f=ue(()=>ZQ(d.value,c.value)),h=ue(()=>(o.value??[]).map(x=>{const{name:N="",size:j=0}=x;return e.showSize?`${N} (${ZQ(j,c.value)})`:N})),p=ue(()=>{var N;const x=((N=o.value)==null?void 0:N.length)??0;return e.showSize?a(e.counterSizeString,x,f.value):a(e.counterString,x)}),g=vt(),m=vt(),y=vt(),v=ue(()=>s.value||e.active),b=ue(()=>["plain","underlined"].includes(e.variant));function _(){var x;y.value!==document.activeElement&&((x=y.value)==null||x.focus()),s.value||l()}function w(x){var N;(N=y.value)==null||N.click()}function T(x){r("mousedown:control",x)}function R(x){var N;(N=y.value)==null||N.click(),r("click:control",x)}function F(x){x.stopPropagation(),_(),Mr(()=>{o.value=[],T3(e["onClick:clear"],x)})}function D(x){x.preventDefault()}function A(x){x.preventDefault(),x.dataTransfer&&(o.value=[...x.dataTransfer.files??[]])}return Pt(o,x=>{(!Array.isArray(x)||!x.length)&&y.value&&(y.value.value="")}),ht(()=>{const x=!!(n.counter||e.counter),N=!!(x||n.details),[j,H]=Dl(i),{modelValue:M,...$}=Hi.filterProps(e),te=pl.filterProps(e);return B(Hi,ct({ref:g,modelValue:e.multiple?o.value:o.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":b.value},e.class],style:e.style,"onClick:prepend":w},j,$,{centerAffix:!b.value,focused:s.value}),{...n,default:re=>{let{id:oe,isDisabled:J,isDirty:fe,isReadonly:xe,isValid:de}=re;return B(pl,ct({ref:m,"prepend-icon":e.prependIcon,onMousedown:T,onClick:R,"onClick:clear":F,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},te,{id:oe.value,active:v.value||fe.value,dirty:fe.value||e.dirty,disabled:J.value,focused:s.value,error:de.value===!1,onDragover:D,onDrop:A}),{...n,default:ae=>{var me;let{props:{class:Fe,...Le}}=ae;return B(Ot,null,[B("input",ct({ref:y,type:"file",readonly:xe.value,disabled:J.value,multiple:e.multiple,name:e.name,onClick:pe=>{pe.stopPropagation(),xe.value&&pe.preventDefault(),_()},onChange:pe=>{if(!pe.target)return;const _e=pe.target;o.value=[..._e.files??[]]},onFocus:_,onBlur:u},Le,H),null),B("div",{class:Fe},[!!((me=o.value)!=null&&me.length)&&!e.hideInput&&(n.selection?n.selection({fileNames:h.value,totalBytes:d.value,totalBytesReadable:f.value}):e.chips?h.value.map(pe=>B(J0,{key:pe,size:"small",text:pe},null)):h.value.join(", "))])])}})},details:N?re=>{var oe,J;return B(Ot,null,[(oe=n.details)==null?void 0:oe.call(n,re),x&&B(Ot,null,[B("span",null,null),B(k3,{active:!!((J=o.value)!=null&&J.length),value:p.value,disabled:e.disabled},n.counter)])])}:void 0})}),To({},g,m,y)}}),EDe=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Va(),...Mt(),...di(),...Kp(),...yn(),...pr({tag:"footer"}),...Nr()},"VFooter"),xDe=ot()({name:"VFooter",props:EDe(),setup(e,t){let{slots:i}=t;const r=vt(),{themeClasses:n}=zr(e),{backgroundColorClasses:a,backgroundColorStyles:o}=rn(nt(e,"color")),{borderClasses:s}=oo(e),{elevationClasses:l}=Ei(e),{roundedClasses:u}=Dn(e),c=Tt(32),{resizeRef:d}=Go(h=>{h.length&&(c.value=h[0].target.clientHeight)}),f=ue(()=>e.height==="auto"?c.value:parseInt(e.height,10));return Aa(()=>e.app,()=>{const h=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:ue(()=>"bottom"),layoutSize:f,elementSize:ue(()=>e.height==="auto"?void 0:f.value),active:ue(()=>e.app),absolute:nt(e,"absolute")});Vn(()=>{r.value=h.layoutItemStyles.value})}),ht(()=>B(e.tag,{ref:d,class:["v-footer",n.value,a.value,s.value,l.value,u.value,e.class],style:[o.value,e.app?r.value:{height:Ft(e.height)},e.style]},i)),{}}}),RDe=We({...Mt(),...LOe()},"VForm"),ODe=ot()({name:"VForm",props:RDe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=MOe(e),a=vt();function o(l){l.preventDefault(),n.reset()}function s(l){const u=l,c=n.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(d=>{var h;let{valid:f}=d;f&&((h=a.value)==null||h.submit())}),u.preventDefault()}return ht(()=>{var l;return B("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:s},[(l=i.default)==null?void 0:l.call(i,n)])}),To(n,a)}}),PDe=We({disabled:Boolean,modelValue:{type:Boolean,default:null},...WN()},"VHover"),IDe=ot()({name:"VHover",props:PDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),{runOpenDelay:n,runCloseDelay:a}=KN(e,o=>!e.disabled&&(r.value=o));return()=>{var o;return(o=i.default)==null?void 0:o.call(i,{isHovering:r.value,props:{onMouseenter:n,onMouseleave:a}})}}}),CDe=We({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...ni(),...pr()},"VInfiniteScroll"),qz=io({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:i}=t;const{intersectionRef:r,isIntersecting:n}=C3();return Pt(n,async a=>{i("intersect",e.side,a)}),ht(()=>B("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:r},[$t(" ")])),{}}}),DDe=ot()({name:"VInfiniteScroll",props:CDe(),emits:{load:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=vt(),a=Tt("ok"),o=Tt("ok"),s=ue(()=>Ft(e.margin)),l=Tt(!1);function u(w){if(!n.value)return;const T=e.direction==="vertical"?"scrollTop":"scrollLeft";n.value[T]=w}function c(){if(!n.value)return 0;const w=e.direction==="vertical"?"scrollTop":"scrollLeft";return n.value[w]}function d(){if(!n.value)return 0;const w=e.direction==="vertical"?"scrollHeight":"scrollWidth";return n.value[w]}function f(){if(!n.value)return 0;const w=e.direction==="vertical"?"clientHeight":"clientWidth";return n.value[w]}$i(()=>{n.value&&(e.side==="start"?u(d()):e.side==="both"&&u(d()/2-f()/2))});function h(w,T){w==="start"?a.value=T:w==="end"&&(o.value=T)}function p(w){return w==="start"?a.value:o.value}let g=0;function m(w,T){l.value=T,l.value&&y(w)}function y(w){if(e.mode!=="manual"&&!l.value)return;const T=p(w);if(!n.value||["empty","loading"].includes(T))return;g=d(),h(w,"loading");function R(F){h(w,F),Mr(()=>{F==="empty"||F==="error"||(F==="ok"&&w==="start"&&u(d()-g+c()),e.mode!=="manual"&&Mr(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(w)})})})}))})}r("load",{side:w,done:R})}const{t:v}=Un();function b(w,T){var D,A,x,N,j;if(e.side!==w&&e.side!=="both")return;const R=()=>y(w),F={side:w,props:{onClick:R,color:e.color}};return T==="error"?(D=i.error)==null?void 0:D.call(i,F):T==="empty"?((A=i.empty)==null?void 0:A.call(i,F))??B("div",null,[v(e.emptyText)]):e.mode==="manual"?T==="loading"?((x=i.loading)==null?void 0:x.call(i,F))??B(m0,{indeterminate:!0,color:e.color},null):((N=i["load-more"])==null?void 0:N.call(i,F))??B(qr,{variant:"outlined",color:e.color,onClick:R},{default:()=>[v(e.loadMoreText)]}):((j=i.loading)==null?void 0:j.call(i,F))??B(m0,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:_}=ii(e);ht(()=>{const w=e.tag,T=e.side==="start"||e.side==="both",R=e.side==="end"||e.side==="both",F=e.mode==="intersect";return B(w,{ref:n,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":T,"v-infinite-scroll--end":R}],style:_.value},{default:()=>{var D;return[B("div",{class:"v-infinite-scroll__side"},[b("start",a.value)]),T&&F&&B(qz,{key:"start",side:"start",onIntersect:m,rootMargin:s.value},null),(D=i.default)==null?void 0:D.call(i),R&&F&&B(qz,{key:"end",side:"end",onIntersect:m,rootMargin:s.value},null),B("div",{class:"v-infinite-scroll__side"},[b("end",o.value)])]}})})}}),gae=Symbol.for("vuetify:v-item-group"),NDe=We({...Mt(),...Zp({selectedClass:"v-item--selected"}),...pr(),...Nr()},"VItemGroup"),FDe=ot()({name:"VItemGroup",props:NDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{isSelected:n,select:a,next:o,prev:s,selected:l}=Fl(e,gae);return()=>B(e.tag,{class:["v-item-group",r.value,e.class],style:e.style},{default:()=>{var u;return[(u=i.default)==null?void 0:u.call(i,{isSelected:n,select:a,next:o,prev:s,selected:l.value})]}})}}),LDe=ot()({name:"VItem",props:eg(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const{isSelected:r,select:n,toggle:a,selectedClass:o,value:s,disabled:l}=tg(e,gae);return()=>{var u;return(u=i.default)==null?void 0:u.call(i,{isSelected:r.value,selectedClass:o.value,select:n,toggle:a,value:s.value,disabled:l.value})}}}),MDe=Ms("v-kbd","kbd"),jDe=We({...Mt(),...ni(),...ine()},"VLayout"),kDe=ot()({name:"VLayout",props:jDe(),setup(e,t){let{slots:i}=t;const{layoutClasses:r,layoutStyles:n,getLayoutItem:a,items:o,layoutRef:s}=one(e),{dimensionStyles:l}=ii(e);return ht(()=>{var u;return B("div",{ref:s,class:[r.value,e.class],style:[l.value,n.value,e.style]},[(u=i.default)==null?void 0:u.call(i)])}),{getLayoutItem:a,items:o}}}),BDe=We({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Mt(),...Kp()},"VLayoutItem"),qDe=ot()({name:"VLayoutItem",props:BDe(),setup(e,t){let{slots:i}=t;const{layoutItemStyles:r}=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:nt(e,"position"),elementSize:nt(e,"size"),layoutSize:nt(e,"size"),active:nt(e,"modelValue"),absolute:nt(e,"absolute")});return()=>{var n;return B("div",{class:["v-layout-item",e.class],style:[r.value,e.style]},[(n=i.default)==null?void 0:n.call(i)])}}}),VDe=We({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Mt(),...ni(),...pr(),...Xo({transition:"fade-transition"})},"VLazy"),UDe=ot()({name:"VLazy",directives:{intersect:uA},props:VDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{dimensionStyles:r}=ii(e),n=Gt(e,"modelValue");function a(o){n.value||(n.value=o)}return ht(()=>$r(B(e.tag,{class:["v-lazy",e.class],style:[r.value,e.style]},{default:()=>[n.value&&B(Zi,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=i.default)==null?void 0:o.call(i)]}})]}),[[eo("intersect"),{handler:a,options:e.options},null]])),{}}}),HDe=We({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Mt()},"VLocaleProvider"),$De=ot()({name:"VLocaleProvider",props:HDe(),setup(e,t){let{slots:i}=t;const{rtlClasses:r}=Nxe(e);return ht(()=>{var n;return B("div",{class:["v-locale-provider",r.value,e.class],style:e.style},[(n=i.default)==null?void 0:n.call(i)])}),{}}}),QDe=We({scrollable:Boolean,...Mt(),...ni(),...pr({tag:"main"})},"VMain"),zDe=ot()({name:"VMain",props:QDe(),setup(e,t){let{slots:i}=t;const{dimensionStyles:r}=ii(e),{mainStyles:n}=ane(),{ssrBootStyles:a}=Xp();return ht(()=>B(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,a.value,r.value,e.style]},{default:()=>{var o,s;return[e.scrollable?B("div",{class:"v-main__scroller"},[(o=i.default)==null?void 0:o.call(i)]):(s=i.default)==null?void 0:s.call(i)]}})),{}}});function GDe(e){let{rootEl:t,isSticky:i,layoutItemStyles:r}=e;const n=Tt(!1),a=Tt(0),o=ue(()=>{const u=typeof n.value=="boolean"?"top":n.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[u]:Ft(a.value)}:{top:r.value.top}]});$i(()=>{Pt(i,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),yi(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(r.value.top??0),f=window.scrollY-Math.max(0,a.value-d),h=c.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(n.value="top",a.value=d):u==="up"&&n.value==="bottom"||u==="down"&&n.value==="top"?(a.value=window.scrollY+c.top-p,n.value=!0):u==="down"&&h<=0?(a.value=0,n.value="bottom"):u==="up"&&f<=0&&(p?n.value!=="top"&&(a.value=-f+p+d,n.value="top"):(a.value=c.top+f,n.value="top")),s=window.scrollY}return{isStuck:n,stickyStyles:o}}const WDe=100,KDe=20;function Vz(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Uz(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let i=e.length-1;i>0;i--){if(e[i].t===e[i-1].t)continue;const r=Vz(t),n=(e[i].d-e[i-1].d)/(e[i].t-e[i-1].t);t+=(n-r)*Math.abs(n),i===e.length-1&&(t*=.5)}return Vz(t)*1e3}function JDe(){const e={};function t(n){Array.from(n.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new $3e(KDe))).push([n.timeStamp,a])})}function i(n){Array.from(n.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(n){var u;const a=(u=e[n])==null?void 0:u.values().reverse();if(!a)throw new Error(`No samples for touch id ${n}`);const o=a[0],s=[],l=[];for(const c of a){if(o[0]-c[0]>WDe)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:Uz(s),y:Uz(l),get direction(){const{x:c,y:d}=this,[f,h]=[Math.abs(c),Math.abs(d)];return f>h&&c>=0?"right":f>h&&c<=0?"left":h>f&&d>=0?"down":h>f&&d<=0?"up":XDe()}}}return{addMovement:t,endTouch:i,getVelocity:r}}function XDe(){throw new Error}function YDe(e){let{el:t,isActive:i,isTemporary:r,width:n,touchless:a,position:o}=e;$i(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),yi(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",_)});const s=ue(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:c}=JDe();let d=!1;const f=Tt(!1),h=Tt(0),p=Tt(0);let g;function m(T,R){return(o.value==="left"?T:o.value==="right"?document.documentElement.clientWidth-T:o.value==="top"?T:o.value==="bottom"?document.documentElement.clientHeight-T:Eg())-(R?n.value:0)}function y(T){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const F=o.value==="left"?(T-p.value)/n.value:o.value==="right"?(document.documentElement.clientWidth-T-p.value)/n.value:o.value==="top"?(T-p.value)/n.value:o.value==="bottom"?(document.documentElement.clientHeight-T-p.value)/n.value:Eg();return R?Math.max(0,Math.min(1,F)):F}function v(T){if(a.value)return;const R=T.changedTouches[0].clientX,F=T.changedTouches[0].clientY,D=25,A=o.value==="left"?R<D:o.value==="right"?R>document.documentElement.clientWidth-D:o.value==="top"?F<D:o.value==="bottom"?F>document.documentElement.clientHeight-D:Eg(),x=i.value&&(o.value==="left"?R<n.value:o.value==="right"?R>document.documentElement.clientWidth-n.value:o.value==="top"?F<n.value:o.value==="bottom"?F>document.documentElement.clientHeight-n.value:Eg());(A||x||i.value&&r.value)&&(g=[R,F],p.value=m(s.value?R:F,i.value),h.value=y(s.value?R:F),d=p.value>-20&&p.value<80,u(T),l(T))}function b(T){const R=T.changedTouches[0].clientX,F=T.changedTouches[0].clientY;if(d){if(!T.cancelable){d=!1;return}const A=Math.abs(R-g[0]),x=Math.abs(F-g[1]);(s.value?A>x&&A>3:x>A&&x>3)?(f.value=!0,d=!1):(s.value?x:A)>3&&(d=!1)}if(!f.value)return;T.preventDefault(),l(T);const D=y(s.value?R:F,!1);h.value=Math.max(0,Math.min(1,D)),D>1?p.value=m(s.value?R:F,!0):D<0&&(p.value=m(s.value?R:F,!1))}function _(T){if(d=!1,!f.value)return;l(T),f.value=!1;const R=c(T.changedTouches[0].identifier),F=Math.abs(R.x),D=Math.abs(R.y);(s.value?F>D&&F>400:D>F&&D>3)?i.value=R.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Eg()):i.value=h.value>.5}const w=ue(()=>f.value?{transform:o.value==="left"?`translateX(calc(-100% + ${h.value*n.value}px))`:o.value==="right"?`translateX(calc(100% - ${h.value*n.value}px))`:o.value==="top"?`translateY(calc(-100% + ${h.value*n.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${h.value*n.value}px))`:Eg(),transition:"none"}:void 0);return Aa(f,()=>{var F,D;const T=((F=t.value)==null?void 0:F.style.transform)??null,R=((D=t.value)==null?void 0:D.style.transition)??null;Vn(()=>{var A,x,N,j;(x=t.value)==null||x.style.setProperty("transform",((A=w.value)==null?void 0:A.transform)||"none"),(j=t.value)==null||j.style.setProperty("transition",((N=w.value)==null?void 0:N.transition)||null)}),ia(()=>{var A,x;(A=t.value)==null||A.style.setProperty("transform",T),(x=t.value)==null||x.style.setProperty("transition",R)})}),{isDragging:f,dragProgress:h,dragStyles:w}}function Eg(){throw new Error}const ZDe=["start","end","left","right","top","bottom"],eNe=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ZDe.includes(e)},sticky:Boolean,...Va(),...Mt(),...WN(),...Wp({mobile:null}),...di(),...Kp(),...yn(),...pr({tag:"nav"}),...Nr()},"VNavigationDrawer"),tNe=ot()({name:"VNavigationDrawer",props:eNe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{isRtl:a}=ci(),{themeClasses:o}=zr(e),{borderClasses:s}=oo(e),{backgroundColorClasses:l,backgroundColorStyles:u}=rn(nt(e,"color")),{elevationClasses:c}=Ei(e),{displayClasses:d,mobile:f}=So(e),{roundedClasses:h}=Dn(e),p=yne(),g=Gt(e,"modelValue",null,J=>!!J),{ssrBootStyles:m}=Xp(),{scopeId:y}=ng(),v=vt(),b=Tt(!1),{runOpenDelay:_,runCloseDelay:w}=KN(e,J=>{b.value=J}),T=ue(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),R=ue(()=>II(e.location,a.value)),F=ue(()=>e.persistent),D=ue(()=>!e.permanent&&(f.value||e.temporary)),A=ue(()=>e.sticky&&!D.value&&R.value!=="bottom");Aa(()=>e.expandOnHover&&e.rail!=null,()=>{Pt(b,J=>r("update:rail",!J))}),Aa(()=>!e.disableResizeWatcher,()=>{Pt(D,J=>!e.permanent&&Mr(()=>g.value=!J))}),Aa(()=>!e.disableRouteWatcher&&!!p,()=>{Pt(p.currentRoute,()=>D.value&&(g.value=!1))}),Pt(()=>e.permanent,J=>{J&&(g.value=!0)}),e.modelValue==null&&!D.value&&(g.value=e.permanent||!f.value);const{isDragging:x,dragProgress:N}=YDe({el:v,isActive:g,isTemporary:D,width:T,touchless:nt(e,"touchless"),position:R}),j=ue(()=>{const J=D.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):T.value;return x.value?J*N.value:J}),{layoutItemStyles:H,layoutItemScrimStyles:M}=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:R,layoutSize:j,elementSize:T,active:ue(()=>g.value||x.value),disableTransitions:ue(()=>x.value),absolute:ue(()=>e.absolute||A.value&&typeof $.value!="string")}),{isStuck:$,stickyStyles:te}=GDe({rootEl:v,isSticky:A,layoutItemStyles:H}),re=rn(ue(()=>typeof e.scrim=="string"?e.scrim:null)),oe=ue(()=>({...x.value?{opacity:N.value*.2,transition:"none"}:void 0,...M.value}));return In({VList:{bgColor:"transparent"}}),ht(()=>{const J=n.image||e.image;return B(Ot,null,[B(e.tag,ct({ref:v,onMouseenter:_,onMouseleave:w,class:["v-navigation-drawer",`v-navigation-drawer--${R.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":D.value,"v-navigation-drawer--persistent":F.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":A.value},o.value,l.value,s.value,d.value,c.value,h.value,e.class],style:[u.value,H.value,m.value,te.value,e.style]},y,i),{default:()=>{var fe,xe,de;return[J&&B("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?B(Sr,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},n.image):B(yu,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),n.prepend&&B("div",{class:"v-navigation-drawer__prepend"},[(fe=n.prepend)==null?void 0:fe.call(n)]),B("div",{class:"v-navigation-drawer__content"},[(xe=n.default)==null?void 0:xe.call(n)]),n.append&&B("div",{class:"v-navigation-drawer__append"},[(de=n.append)==null?void 0:de.call(n)])]}}),B(ll,{name:"fade-transition"},{default:()=>[D.value&&(x.value||g.value)&&!!e.scrim&&B("div",ct({class:["v-navigation-drawer__scrim",re.backgroundColorClasses.value],style:[oe.value,re.backgroundColorStyles.value],onClick:()=>{F.value||(g.value=!1)}},y),null)]})])}),{isStuck:$}}}),rNe=io({name:"VNoSsr",setup(e,t){let{slots:i}=t;const r=rie();return()=>{var n;return r.value&&((n=i.default)==null?void 0:n.call(i))}}}),nNe=We({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...ni(),...hA(),...Cl(mA({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),iNe=ot()({name:"VOtpInput",props:nNe(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const{dimensionStyles:a}=ii(e),{isFocused:o,focus:s,blur:l}=Ou(e),u=Gt(e,"modelValue","",F=>F==null?[]:String(F).split(""),F=>F.join("")),{t:c}=Un(),d=ue(()=>Number(e.length)),f=ue(()=>Array(d.value).fill(0)),h=vt(-1),p=vt(),g=vt([]),m=ue(()=>g.value[h.value]);function y(){if(R(m.value.value)){m.value.value="";return}const F=u.value.slice(),D=m.value.value;F[h.value]=D;let A=null;h.value>u.value.length?A=u.value.length+1:h.value+1!==d.value&&(A="next"),u.value=F,A&&Sp(p.value,A)}function v(F){const D=u.value.slice(),A=h.value;let x=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(F.key)&&(F.preventDefault(),F.key==="ArrowLeft"?x="prev":F.key==="ArrowRight"?x="next":["Backspace","Delete"].includes(F.key)&&(D[h.value]="",u.value=D,h.value>0&&F.key==="Backspace"?x="prev":requestAnimationFrame(()=>{var N;(N=g.value[A])==null||N.select()})),requestAnimationFrame(()=>{x!=null&&Sp(p.value,x)}))}function b(F,D){var x,N;D.preventDefault(),D.stopPropagation();const A=((x=D==null?void 0:D.clipboardData)==null?void 0:x.getData("Text").slice(0,d.value))??"";R(A)||(u.value=A.split(""),(N=g.value)==null||N[F].blur())}function _(){u.value=[]}function w(F,D){s(),h.value=D}function T(){l(),h.value=-1}function R(F){return e.type==="number"&&/[^0-9]/g.test(F)}return In({VField:{color:ue(()=>e.color),bgColor:ue(()=>e.color),baseColor:ue(()=>e.baseColor),disabled:ue(()=>e.disabled),error:ue(()=>e.error),variant:ue(()=>e.variant)}},{scoped:!0}),Pt(u,F=>{F.length===d.value&&r("finish",F.join(""))},{deep:!0}),Pt(h,F=>{F<0||Mr(()=>{var D;(D=g.value[F])==null||D.select()})}),ht(()=>{var A;const[F,D]=Dl(i);return B("div",ct({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},F),[B("div",{ref:p,class:"v-otp-input__content",style:[a.value]},[f.value.map((x,N)=>B(Ot,null,[e.divider&&N!==0&&B("span",{class:"v-otp-input__divider"},[e.divider]),B(pl,{focused:o.value&&e.focusAll||h.value===N,key:N},{...n,loader:void 0,default:()=>B("input",{ref:j=>g.value[N]=j,"aria-label":c(e.label,N+1),autofocus:N===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:N===0?d.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[N],onInput:y,onFocus:j=>w(j,N),onBlur:T,onKeydown:v,onPaste:j=>b(N,j)},null)})])),B("input",ct({class:"v-otp-input-input",type:"hidden"},D,{value:u.value.join("")}),null),B(Es,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var x;return[((x=n.loader)==null?void 0:x.call(n))??B(m0,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(A=n.default)==null?void 0:A.call(n)])])}),{blur:()=>{var F;(F=g.value)==null||F.some(D=>D.blur())},focus:()=>{var F;(F=g.value)==null||F[0].focus()},reset:_,isFocused:o}}});function aNe(e){return Math.floor(Math.abs(e))*Math.sign(e)}const oNe=We({scale:{type:[Number,String],default:.5},...Mt()},"VParallax"),sNe=ot()({name:"VParallax",props:oNe(),setup(e,t){let{slots:i}=t;const{intersectionRef:r,isIntersecting:n}=C3(),{resizeRef:a,contentRect:o}=Go(),{height:s}=So(),l=vt();Vn(()=>{var h;r.value=a.value=(h=l.value)==null?void 0:h.$el});let u;Pt(n,h=>{h?(u=CN(r.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",f,{passive:!0}),f()):u.removeEventListener("scroll",f)}),yi(()=>{u==null||u.removeEventListener("scroll",f)}),Pt(s,f),Pt(()=>{var h;return(h=o.value)==null?void 0:h.height},f);const c=ue(()=>1-Qn(Number(e.scale)));let d=-1;function f(){n.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;const h=((w=l.value)==null?void 0:w.$el).querySelector(".v-img__img");if(!h)return;const p=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,g=u instanceof Document?window.scrollY:u.scrollTop,m=r.value.getBoundingClientRect().top+g,y=o.value.height,v=m+(y-p)/2,b=aNe((g-v)*c.value),_=Math.max(1,(c.value*(p-y)+y)/y);h.style.setProperty("transform",`translateY(${b}px) scale(${_})`)}))}return ht(()=>B(yu,{class:["v-parallax",{"v-parallax--active":n.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},i)),{}}}),uNe=We({...L3({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),lNe=ot()({name:"VRadio",props:uNe(),setup(e,t){let{slots:i}=t;return ht(()=>{const r=hl.filterProps(e);return B(hl,ct(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),i)}),{}}}),cNe=We({height:{type:[Number,String],default:"auto"},...Pu(),...zn(HN(),["multiple"]),trueIcon:{type:Kt,default:"$radioOn"},falseIcon:{type:Kt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),dNe=ot()({name:"VRadioGroup",inheritAttrs:!1,props:cNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const n=Ti(),a=ue(()=>e.id||`radio-group-${n}`),o=Gt(e,"modelValue");return ht(()=>{const[s,l]=Dl(i),u=Hi.filterProps(e),c=hl.filterProps(e),d=r.label?r.label({label:e.label,props:{for:a.value}}):e.label;return B(Hi,ct({class:["v-radio-group",e.class],style:e.style},s,u,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,id:a.value}),{...r,default:f=>{let{id:h,messagesId:p,isDisabled:g,isReadonly:m}=f;return B(Ot,null,[d&&B(K0,{id:h.value},{default:()=>[d]}),B(One,ct(c,{id:h.value,"aria-describedby":p.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:g.value,readonly:m.value,"aria-labelledby":d?h.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y}),r)])}})}),{}}}),fNe=We({...hA(),...Pu(),...Aie(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),hNe=ot()({name:"VRangeSlider",props:fNe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:i,emit:r}=t;const n=vt(),a=vt(),o=vt(),{rtlClasses:s}=ci();function l(A){if(!n.value||!a.value)return;const x=JI(A,n.value.$el,e.direction),N=JI(A,a.value.$el,e.direction),j=Math.abs(x),H=Math.abs(N);return j<H||j===H&&x<0?n.value.$el:a.value.$el}const u=Tie(e),c=Gt(e,"modelValue",void 0,A=>A!=null&&A.length?A.map(x=>u.roundValue(x)):[0,0]),{activeThumbRef:d,hasLabels:f,max:h,min:p,mousePressed:g,onSliderMousedown:m,onSliderTouchstart:y,position:v,trackContainerRef:b,readonly:_}=Eie({props:e,steps:u,onSliderStart:()=>{r("start",c.value)},onSliderEnd:A=>{var j;let{value:x}=A;const N=d.value===((j=n.value)==null?void 0:j.$el)?[x,c.value[1]]:[c.value[0],x];!e.strict&&N[0]<N[1]&&(c.value=N),r("end",c.value)},onSliderMove:A=>{var H,M,$,te;let{value:x}=A;const[N,j]=c.value;!e.strict&&N===j&&N!==p.value&&(d.value=x>N?(H=a.value)==null?void 0:H.$el:(M=n.value)==null?void 0:M.$el,($=d.value)==null||$.focus()),d.value===((te=n.value)==null?void 0:te.$el)?c.value=[Math.min(x,j),j]:c.value=[N,Math.max(N,x)]},getActiveThumb:l}),{isFocused:w,focus:T,blur:R}=Ou(e),F=ue(()=>v(c.value[0])),D=ue(()=>v(c.value[1]));return ht(()=>{const A=Hi.filterProps(e),x=!!(e.label||i.label||i.prepend);return B(Hi,ct({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!i["tick-label"]||f.value,"v-slider--focused":w.value,"v-slider--pressed":g.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style,ref:o},A,{focused:w.value}),{...i,prepend:x?N=>{var j,H;return B(Ot,null,[((j=i.label)==null?void 0:j.call(i,N))??(e.label?B(K0,{class:"v-slider__label",text:e.label},null):void 0),(H=i.prepend)==null?void 0:H.call(i,N)])}:void 0,default:N=>{var M,$;let{id:j,messagesId:H}=N;return B("div",{class:"v-slider__container",onMousedown:_.value?void 0:m,onTouchstartPassive:_.value?void 0:y},[B("input",{id:`${j.value}_start`,name:e.name||j.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),B("input",{id:`${j.value}_stop`,name:e.name||j.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),B(xie,{ref:b,start:F.value,stop:D.value},{"tick-label":i["tick-label"]}),B(XI,{ref:n,"aria-describedby":H.value,focused:w&&d.value===((M=n.value)==null?void 0:M.$el),modelValue:c.value[0],"onUpdate:modelValue":te=>c.value=[te,c.value[1]],onFocus:te=>{var re,oe,J,fe;T(),d.value=(re=n.value)==null?void 0:re.$el,h.value!==p.value&&c.value[0]===c.value[1]&&c.value[1]===p.value&&te.relatedTarget!==((oe=a.value)==null?void 0:oe.$el)&&((J=n.value)==null||J.$el.blur(),(fe=a.value)==null||fe.$el.focus())},onBlur:()=>{R(),d.value=void 0},min:p.value,max:c.value[1],position:F.value,ripple:e.ripple},{"thumb-label":i["thumb-label"]}),B(XI,{ref:a,"aria-describedby":H.value,focused:w&&d.value===(($=a.value)==null?void 0:$.$el),modelValue:c.value[1],"onUpdate:modelValue":te=>c.value=[c.value[0],te],onFocus:te=>{var re,oe,J,fe;T(),d.value=(re=a.value)==null?void 0:re.$el,h.value!==p.value&&c.value[0]===c.value[1]&&c.value[0]===h.value&&te.relatedTarget!==((oe=n.value)==null?void 0:oe.$el)&&((J=a.value)==null||J.$el.blur(),(fe=n.value)==null||fe.$el.focus())},onBlur:()=>{R(),d.value=void 0},min:c.value[0],max:h.value,position:D.value,ripple:e.ripple},{"thumb-label":i["thumb-label"]})])}})}),{}}}),pNe=We({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Kt,default:"$ratingEmpty"},fullIcon:{type:Kt,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Mt(),...vi(),...js(),...pr(),...Nr()},"VRating"),gNe=ot()({name:"VRating",props:pNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{t:r}=Un(),{themeClasses:n}=zr(e),a=Gt(e,"modelValue"),o=ue(()=>Qn(parseFloat(a.value),0,Number(e.length))),s=ue(()=>_s(Number(e.length),1)),l=ue(()=>s.value.flatMap(g=>e.halfIncrements?[g-.5,g]:[g])),u=Tt(-1),c=ue(()=>l.value.map(g=>{const m=e.hover&&u.value>-1,y=o.value>=g,v=u.value>=g,_=(m?v:y)?e.fullIcon:e.emptyIcon,w=e.activeColor??e.color,T=y||v?w:e.color;return{isFilled:y,isHovered:v,icon:_,color:T}})),d=ue(()=>[0,...l.value].map(g=>{function m(){u.value=g}function y(){u.value=-1}function v(){e.disabled||e.readonly||(a.value=o.value===g&&e.clearable?0:g)}return{onMouseenter:e.hover?m:void 0,onMouseleave:e.hover?y:void 0,onClick:v}})),f=ue(()=>e.name??`v-rating-${Ti()}`);function h(g){var F,D;let{value:m,index:y,showStar:v=!0}=g;const{onMouseenter:b,onMouseleave:_,onClick:w}=d.value[y+1],T=`${f.value}-${String(m).replace(".","-")}`,R={color:(F=c.value[y])==null?void 0:F.color,density:e.density,disabled:e.disabled,icon:(D=c.value[y])==null?void 0:D.icon,ripple:e.ripple,size:e.size,variant:"plain"};return B(Ot,null,[B("label",{for:T,class:{"v-rating__item--half":e.halfIncrements&&m%1>0,"v-rating__item--full":e.halfIncrements&&m%1===0},onMouseenter:b,onMouseleave:_,onClick:w},[B("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,m,e.length)]),v?i.item?i.item({...c.value[y],props:R,value:m,index:y,rating:o.value}):B(qr,ct({"aria-label":r(e.itemAriaLabel,m,e.length)},R),null):void 0]),B("input",{class:"v-rating__hidden",name:f.value,id:T,type:"radio",value:m,checked:o.value===m,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function p(g){return i["item-label"]?i["item-label"](g):g.label?B("span",null,[g.label]):B("span",null,[$t(" ")])}return ht(()=>{var m;const g=!!((m=e.itemLabels)!=null&&m.length)||i["item-label"];return B(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},n.value,e.class],style:e.style},{default:()=>[B(h,{value:0,index:-1,showStar:!1},null),s.value.map((y,v)=>{var b,_;return B("div",{class:"v-rating__wrapper"},[g&&e.itemLabelPosition==="top"?p({value:y,index:v,label:(b=e.itemLabels)==null?void 0:b[v]}):void 0,B("div",{class:"v-rating__item"},[e.halfIncrements?B(Ot,null,[B(h,{value:y-.5,index:v*2},null),B(h,{value:y,index:v*2+1},null)]):B(h,{value:y,index:v},null)]),g&&e.itemLabelPosition==="bottom"?p({value:y,index:v,label:(_=e.itemLabels)==null?void 0:_[v]}):void 0])})]})}),{}}}),mNe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function yNe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return B("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function Hz(e){const[t,i]=e.split("@");return Array.from({length:i}).map(()=>Z3(t))}function Z3(e){let t=[];if(!e)return t;const i=mNe[e];if(e!==i){if(e.includes(","))return $z(e);if(e.includes("@"))return Hz(e);i.includes(",")?t=$z(i):i.includes("@")?t=Hz(i):i&&t.push(Z3(i))}return[yNe(e,t)]}function $z(e){return e.replace(/\s/g,"").split(",").map(Z3)}const vNe=We({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...ni(),...di(),...Nr()},"VSkeletonLoader"),bNe=ot()({name:"VSkeletonLoader",props:vNe(),setup(e,t){let{slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=rn(nt(e,"color")),{dimensionStyles:a}=ii(e),{elevationClasses:o}=Ei(e),{themeClasses:s}=zr(e),{t:l}=Un(),u=ue(()=>Z3(En(e.type).join(",")));return ht(()=>{var f;const c=!i.default||e.loading,d=e.boilerplate||!c?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return B("div",ct({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},s.value,r.value,o.value],style:[n.value,c?a.value:{}]},d),[c?u.value:(f=i.default)==null?void 0:f.call(i)])}),{}}}),_Ne=ot()({name:"VSlideGroupItem",props:eg(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=tg(e,jne);return()=>{var n;return(n=i.default)==null?void 0:n.call(i,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}});function wNe(e){const t=Tt(e());let i=-1;function r(){clearInterval(i)}function n(){r(),Mr(()=>t.value=e())}function a(o){const s=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(s.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const u=performance.now();i=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(e()-c,0),t.value<=0&&r()},l)}return ia(r),{clear:r,time:t,start:a,reset:n}}const SNe=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...xu({location:"bottom"}),...G0(),...yn(),...Ao(),...Nr(),...zn(gA({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ANe=ot()({name:"VSnackbar",props:SNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),{positionClasses:n}=W0(e),{scopeId:a}=ng(),{themeClasses:o}=zr(e),{colorClasses:s,colorStyles:l,variantClasses:u}=Yp(e),{roundedClasses:c}=Dn(e),d=wNe(()=>Number(e.timeout)),f=vt(),h=vt(),p=Tt(!1),g=Tt(0),m=vt(),y=_r(h2,void 0);Aa(()=>!!y,()=>{const x=ane();Vn(()=>{m.value=x.mainStyles.value})}),Pt(r,b),Pt(()=>e.timeout,b),$i(()=>{r.value&&b()});let v=-1;function b(){d.reset(),window.clearTimeout(v);const x=Number(e.timeout);if(!r.value||x===-1)return;const N=TN(h.value);d.start(N),v=window.setTimeout(()=>{r.value=!1},x)}function _(){d.reset(),window.clearTimeout(v)}function w(){p.value=!0,_()}function T(){p.value=!1,b()}function R(x){g.value=x.touches[0].clientY}function F(x){Math.abs(g.value-x.changedTouches[0].clientY)>50&&(r.value=!1)}function D(){p.value&&T()}const A=ue(()=>e.location.split(" ").reduce((x,N)=>(x[`v-snackbar--${N}`]=!0,x),{}));return ht(()=>{const x=Es.filterProps(e),N=!!(i.default||i.text||e.text);return B(Es,ct({ref:f,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},A.value,n.value,e.class],style:[m.value,e.style]},x,{modelValue:r.value,"onUpdate:modelValue":j=>r.value=j,contentProps:ct({class:["v-snackbar__wrapper",o.value,s.value,c.value,u.value],style:[l.value],onPointerenter:w,onPointerleave:T},x.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:R,onTouchend:F,onAfterLeave:D},a),{default:()=>{var j,H;return[Nl(!1,"v-snackbar"),e.timer&&!p.value&&B("div",{key:"timer",class:"v-snackbar__timer"},[B(D3,{ref:h,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),N&&B("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((j=i.text)==null?void 0:j.call(i))??e.text,(H=i.default)==null?void 0:H.call(i)]),i.actions&&B(Sr,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[B("div",{class:"v-snackbar__actions"},[i.actions({isActive:r})])]})]},activator:i.activator})}),To({},f)}}),mae=We({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),yae=We({autoLineWidth:Boolean,...mae()},"VBarline"),Qz=ot()({name:"VBarline",props:yae(),setup(e,t){let{slots:i}=t;const r=Ti(),n=ue(()=>e.id||`barline-${r}`),a=ue(()=>Number(e.autoDrawDuration)||500),o=ue(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),s=ue(()=>parseFloat(e.lineWidth)||4),l=ue(()=>Math.max(e.modelValue.length*s.value,Number(e.width))),u=ue(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),c=ue(()=>e.modelValue.map(m=>oi(m,e.itemValue,m)));function d(m,y){const{minX:v,maxX:b,minY:_,maxY:w}=y,T=m.length;let R=e.max!=null?Number(e.max):Math.max(...m),F=e.min!=null?Number(e.min):Math.min(...m);F>0&&e.min==null&&(F=0),R<0&&e.max==null&&(R=0);const D=b/T,A=(w-_)/(R-F||1),x=w-Math.abs(F*A);return m.map((N,j)=>{const H=Math.abs(A*N);return{x:v+j*D,y:x-H+ +(N<0)*H,height:H,value:N}})}const f=ue(()=>{const m=[],y=d(c.value,u.value),v=y.length;for(let b=0;m.length<v;b++){const _=y[b];let w=e.labels[b];w||(w=typeof _=="object"?_.value:_),m.push({x:_.x,value:String(w)})}return m}),h=ue(()=>d(c.value,u.value)),p=ue(()=>(Math.abs(h.value[0].x-h.value[1].x)-s.value)/2),g=ue(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));ht(()=>{const m=e.gradient.slice().length?e.gradient.slice().reverse():[""];return B("svg",{display:"block"},[B("defs",null,[B("linearGradient",{id:n.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[m.map((y,v)=>B("stop",{offset:v/Math.max(m.length-1,1),"stop-color":y||"currentColor"},null))])]),B("clipPath",{id:`${n.value}-clip`},[h.value.map(y=>B("rect",{x:y.x+p.value,y:y.y,width:s.value,height:y.height,rx:g.value,ry:g.value},[e.autoDraw&&B(Ot,null,[B("animate",{attributeName:"y",from:y.y+y.height,to:y.y,dur:`${a.value}ms`,fill:"freeze"},null),B("animate",{attributeName:"height",from:"0",to:y.height,dur:`${a.value}ms`,fill:"freeze"},null)])]))]),o.value&&B("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((y,v)=>{var b;return B("text",{x:y.x+p.value+s.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((b=i.label)==null?void 0:b.call(i,{index:v,value:y.value}))??y.value])})]),B("g",{"clip-path":`url(#${n.value}-clip)`,fill:`url(#${n.value})`},[B("rect",{x:0,y:0,width:Math.max(e.modelValue.length*s.value,Number(e.width)),height:e.height},null)])])})}});function TNe(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const n=e.shift(),a=e[e.length-1];return(i?`M${n.x} ${r-n.x+2} L${n.x} ${n.y}`:`M${n.x} ${n.y}`)+e.map((o,s)=>{const l=e[s+1],u=e[s-1]||n,c=l&&ENe(l,o,u);if(!l||c)return`L${o.x} ${o.y}`;const d=Math.min(zz(u,o),zz(l,o)),h=d/2<t?d/2:t,p=Gz(u,o,h),g=Gz(l,o,h);return`L${p.x} ${p.y}S${o.x} ${o.y} ${g.x} ${g.y}`}).join("")+(i?`L${a.x} ${r-n.x+2} Z`:"")}function gT(e){return parseInt(e,10)}function ENe(e,t,i){return gT(e.x+i.x)===gT(2*t.x)&&gT(e.y+i.y)===gT(2*t.y)}function zz(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gz(e,t,i){const r={x:e.x-t.x,y:e.y-t.y},n=Math.sqrt(r.x*r.x+r.y*r.y),a={x:r.x/n,y:r.y/n};return{x:t.x+a.x*i,y:t.y+a.y*i}}const vae=We({fill:Boolean,...mae()},"VTrendline"),Wz=ot()({name:"VTrendline",props:vae(),setup(e,t){let{slots:i}=t;const r=Ti(),n=ue(()=>e.id||`trendline-${r}`),a=ue(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=vt(0),s=vt(null);function l(m,y){const{minX:v,maxX:b,minY:_,maxY:w}=y,T=m.length,R=e.max!=null?Number(e.max):Math.max(...m),F=e.min!=null?Number(e.min):Math.min(...m),D=(b-v)/(T-1),A=(w-_)/(R-F||1);return m.map((x,N)=>({x:v+N*D,y:w-(x-F)*A,value:x}))}const u=ue(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),c=ue(()=>parseFloat(e.lineWidth)||4),d=ue(()=>Number(e.width)),f=ue(()=>{const m=Number(e.padding);return{minX:m,maxX:d.value-m,minY:m,maxY:parseInt(e.height,10)-m}}),h=ue(()=>e.modelValue.map(m=>oi(m,e.itemValue,m))),p=ue(()=>{const m=[],y=l(h.value,f.value),v=y.length;for(let b=0;m.length<v;b++){const _=y[b];let w=e.labels[b];w||(w=typeof _=="object"?_.value:_),m.push({x:_.x,value:String(w)})}return m});Pt(()=>e.modelValue,async()=>{if(await Mr(),!e.autoDraw||!s.value)return;const m=s.value,y=m.getTotalLength();e.fill?(m.style.transformOrigin="bottom center",m.style.transition="none",m.style.transform="scaleY(0)",m.getBoundingClientRect(),m.style.transition=`transform ${a.value}ms ${e.autoDrawEasing}`,m.style.transform="scaleY(1)"):(m.style.strokeDasharray=`${y}`,m.style.strokeDashoffset=`${y}`,m.getBoundingClientRect(),m.style.transition=`stroke-dashoffset ${a.value}ms ${e.autoDrawEasing}`,m.style.strokeDashoffset="0"),o.value=y},{immediate:!0});function g(m){const y=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return TNe(l(h.value,f.value),y,m,parseInt(e.height,10))}ht(()=>{var y;const m=e.gradient.slice().length?e.gradient.slice().reverse():[""];return B("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[B("defs",null,[B("linearGradient",{id:n.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[m.map((v,b)=>B("stop",{offset:b/Math.max(m.length-1,1),"stop-color":v||"currentColor"},null))])]),u.value&&B("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((v,b)=>{var _;return B("text",{x:v.x+c.value/2+c.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((_=i.label)==null?void 0:_.call(i,{index:b,value:v.value}))??v.value])})]),B("path",{ref:s,d:g(e.fill),fill:e.fill?`url(#${n.value})`:"none",stroke:e.fill?"none":`url(#${n.value})`},null),e.fill&&B("path",{d:g(!1),fill:"none",stroke:e.color??((y=e.gradient)==null?void 0:y[0])},null)])})}}),xNe=We({type:{type:String,default:"trend"},...yae(),...vae()},"VSparkline"),RNe=ot()({name:"VSparkline",props:xNe(),setup(e,t){let{slots:i}=t;const{textColorClasses:r,textColorStyles:n}=Ui(nt(e,"color")),a=ue(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),o=ue(()=>{let s=parseInt(e.height,10);return a.value&&(s+=parseInt(e.labelSize,10)*1.5),s});ht(()=>{const s=e.type==="trend"?Wz:Qz,l=e.type==="trend"?Wz.filterProps(e):Qz.filterProps(e);return B(s,ct({key:e.type,class:r.value,style:n.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),i)})}}),ONe=We({...Mt(),...oie({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),PNe=ot()({name:"VSpeedDial",props:ONe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),n=vt(),a=ue(()=>{var u;const[s,l="center"]=((u=e.location)==null?void 0:u.split(" "))??[];return`${s} ${l}`}),o=ue(()=>({[`v-speed-dial__content--${a.value.replace(" ","-")}`]:!0}));return ht(()=>{const s=y0.filterProps(e);return B(y0,ct(s,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:a.value,ref:n,transition:"fade-transition"}),{...i,default:l=>B(Sr,{defaults:{VBtn:{size:"small"}}},{default:()=>[B(Zi,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=i.default)==null?void 0:u.call(i,l)]}})]})})}),{}}}),y4=Symbol.for("vuetify:v-stepper"),bae=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),_ae=ot()({name:"VStepperActions",props:bae(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:i,slots:r}=t;const{t:n}=Un();function a(){i("click:prev")}function o(){i("click:next")}return ht(()=>{const s={onClick:a},l={onClick:o};return B("div",{class:"v-stepper-actions"},[B(Sr,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:n(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=r.prev)==null?void 0:u.call(r,{props:s}))??B(qr,s,null)]}}),B(Sr,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:n(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=r.next)==null?void 0:u.call(r,{props:l}))??B(qr,l,null)]}})])}),{}}}),wae=Ms("v-stepper-header"),INe=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Kt,default:"$complete"},editable:Boolean,editIcon:{type:Kt,default:"$edit"},error:Boolean,errorIcon:{type:Kt,default:"$error"},icon:Kt,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),CNe=We({...INe(),...eg()},"VStepperItem"),Sae=ot()({name:"VStepperItem",directives:{Ripple:Ru},props:CNe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const r=tg(e,y4,!0),n=ue(()=>(r==null?void 0:r.value.value)??e.value),a=ue(()=>e.rules.every(f=>f()===!0)),o=ue(()=>!e.disabled&&e.editable),s=ue(()=>!e.disabled&&e.editable),l=ue(()=>e.error||!a.value),u=ue(()=>e.complete||e.rules.length>0&&a.value),c=ue(()=>l.value?e.errorIcon:u.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),d=ue(()=>({canEdit:s.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:n.value,value:e.value}));return ht(()=>{var m,y,v;const f=(!r||r.isSelected.value||u.value||s.value)&&!l.value&&!e.disabled,h=!!(e.title!=null||i.title),p=!!(e.subtitle!=null||i.subtitle);function g(){r==null||r.toggle()}return $r(B("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,type:"button",onClick:g},[o.value&&Nl(!0,"v-stepper-item"),B(vo,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?e.color:void 0,size:24},{default:()=>{var b;return[((b=i.icon)==null?void 0:b.call(i,d.value))??(c.value?B(Vr,{icon:c.value},null):n.value)]}}),B("div",{class:"v-stepper-item__content"},[h&&B("div",{key:"title",class:"v-stepper-item__title"},[((m=i.title)==null?void 0:m.call(i,d.value))??e.title]),p&&B("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((y=i.subtitle)==null?void 0:y.call(i,d.value))??e.subtitle]),(v=i.default)==null?void 0:v.call(i,d.value)])]),[[eo("ripple"),e.ripple&&e.editable,null]])}),{}}}),DNe=We({...zn(V3(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Aae=ot()({name:"VStepperWindow",props:DNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=_r(y4,null),n=Gt(e,"modelValue"),a=ue({get(){var o;return n.value!=null||!r?n.value:(o=r.items.value.find(s=>r.selected.value.includes(s.id)))==null?void 0:o.value},set(o){n.value=o}});return ht(()=>{const o=Fp.filterProps(e);return B(Fp,ct({_as:"VStepperWindow"},o,{modelValue:a.value,"onUpdate:modelValue":s=>a.value=s,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),i)}),{}}}),NNe=We({...U3()},"VStepperWindowItem"),Tae=ot()({name:"VStepperWindowItem",props:NNe(),setup(e,t){let{slots:i}=t;return ht(()=>{const r=Lp.filterProps(e);return B(Lp,ct({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),i)}),{}}}),FNe=We({altLabels:Boolean,bgColor:String,completeIcon:Kt,editIcon:Kt,editable:Boolean,errorIcon:Kt,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Wp()},"Stepper"),LNe=We({...FNe(),...Zp({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...H3(),...Cl(bae(),["prevText","nextText"])},"VStepper"),MNe=ot()({name:"VStepper",props:LNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{items:r,next:n,prev:a,selected:o}=Fl(e,y4),{displayClasses:s,mobile:l}=So(e),{completeIcon:u,editIcon:c,errorIcon:d,color:f,editable:h,prevText:p,nextText:g}=Vp(e),m=ue(()=>e.items.map((b,_)=>{const w=oi(b,e.itemTitle,b),T=oi(b,e.itemValue,_+1);return{title:w,value:T,raw:b}})),y=ue(()=>r.value.findIndex(b=>o.value.includes(b.id))),v=ue(()=>e.disabled?e.disabled:y.value===0?"prev":y.value===r.value.length-1?"next":!1);return In({VStepperItem:{editable:h,errorIcon:d,completeIcon:u,editIcon:c,prevText:p,nextText:g},VStepperActions:{color:f,disabled:v,prevText:p,nextText:g}}),ht(()=>{const b=Mp.filterProps(e),_=!!(i.header||e.items.length),w=e.items.length>0,T=!e.hideActions&&!!(w||i.actions);return B(Mp,ct(b,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},s.value,e.class],style:e.style}),{default:()=>{var R,F;return[_&&B(wae,{key:"stepper-header"},{default:()=>[m.value.map((D,A)=>{let{raw:x,...N}=D;return B(Ot,null,[!!A&&B(pA,null,null),B(Sae,N,{default:i[`header-item.${N.value}`]??i.header,icon:i.icon,title:i.title,subtitle:i.subtitle})])})]}),w&&B(Aae,{key:"stepper-window"},{default:()=>[m.value.map(D=>B(Tae,{value:D.value},{default:()=>{var A,x;return((A=i[`item.${D.value}`])==null?void 0:A.call(i,D))??((x=i.item)==null?void 0:x.call(i,D))}}))]}),(R=i.default)==null?void 0:R.call(i,{prev:a,next:n}),T&&(((F=i.actions)==null?void 0:F.call(i,{next:n,prev:a}))??B(_ae,{key:"stepper-actions","onClick:prev":a,"onClick:next":n},i))]}})}),{prev:a,next:n}}}),jNe=We({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Pu(),...L3()},"VSwitch"),kNe=ot()({name:"VSwitch",inheritAttrs:!1,props:jNe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const n=Gt(e,"indeterminate"),a=Gt(e,"modelValue"),{loaderClasses:o}=lA(e),{isFocused:s,focus:l,blur:u}=Ou(e),c=vt(),d=kr&&window.matchMedia("(forced-colors: active)").matches,f=ue(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),h=Ti(),p=ue(()=>e.id||`switch-${h}`);function g(){n.value&&(n.value=!1)}function m(y){var v,b;y.stopPropagation(),y.preventDefault(),(b=(v=c.value)==null?void 0:v.input)==null||b.click()}return ht(()=>{const[y,v]=Dl(i),b=Hi.filterProps(e),_=hl.filterProps(e);return B(Hi,ct({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":n.value},o.value,e.class]},y,b,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,id:p.value,focused:s.value,style:e.style}),{...r,default:w=>{let{id:T,messagesId:R,isDisabled:F,isReadonly:D,isValid:A}=w;const x={model:a,isValid:A};return B(hl,ct({ref:c},_,{modelValue:a.value,"onUpdate:modelValue":[N=>a.value=N,g],id:T.value,"aria-describedby":R.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:F.value,readonly:D.value,onFocus:l,onBlur:u},v),{...r,default:N=>{let{backgroundColorClasses:j,backgroundColorStyles:H}=N;return B("div",{class:["v-switch__track",d?void 0:j.value],style:H.value,onClick:m},[r["track-true"]&&B("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](x)]),r["track-false"]&&B("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](x)])])},input:N=>{let{inputNode:j,icon:H,backgroundColorClasses:M,backgroundColorStyles:$}=N;return B(Ot,null,[j,B("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":H||e.loading},e.inset||d?void 0:M.value],style:e.inset?void 0:$.value},[r.thumb?B(Sr,{defaults:{VIcon:{icon:H,size:"x-small"}}},{default:()=>[r.thumb({...x,icon:H})]}):B(kN,null,{default:()=>[e.loading?B(cA,{name:"v-switch",active:!0,color:A.value===!1?void 0:f.value},{default:te=>r.loader?r.loader(te):B(m0,{active:te.isActive,color:te.color,indeterminate:!0,size:"16",width:"2"},null)}):H&&B(Vr,{key:String(H),icon:H,size:"x-small"},null)]})])])}})}})}),{}}}),BNe=We({color:String,height:[Number,String],window:Boolean,...Mt(),...di(),...Kp(),...yn(),...pr(),...Nr()},"VSystemBar"),qNe=ot()({name:"VSystemBar",props:BNe(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{backgroundColorClasses:n,backgroundColorStyles:a}=rn(nt(e,"color")),{elevationClasses:o}=Ei(e),{roundedClasses:s}=Dn(e),{ssrBootStyles:l}=Xp(),u=ue(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=Jp({id:e.name,order:ue(()=>parseInt(e.order,10)),position:Tt("top"),layoutSize:u,elementSize:u,active:ue(()=>!0),absolute:nt(e,"absolute")});return ht(()=>B(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},r.value,n.value,o.value,s.value,e.class],style:[a.value,c.value,l.value,e.style]},i)),{}}}),v4=Symbol.for("vuetify:v-tabs"),VNe=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...zn(F3({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Eae=ot()({name:"VTab",props:VNe(),setup(e,t){let{slots:i,attrs:r}=t;const{textColorClasses:n,textColorStyles:a}=Ui(e,"sliderColor"),o=vt(),s=vt(),l=ue(()=>e.direction==="horizontal"),u=ue(()=>{var d,f;return((f=(d=o.value)==null?void 0:d.group)==null?void 0:f.isSelected.value)??!1});function c(d){var h,p;let{value:f}=d;if(f){const g=(p=(h=o.value)==null?void 0:h.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),m=s.value;if(!g||!m)return;const y=getComputedStyle(g).color,v=g.getBoundingClientRect(),b=m.getBoundingClientRect(),_=l.value?"x":"y",w=l.value?"X":"Y",T=l.value?"right":"bottom",R=l.value?"width":"height",F=v[_],D=b[_],A=F>D?v[T]-b[T]:v[_]-b[_],x=Math.sign(A)>0?l.value?"right":"bottom":Math.sign(A)<0?l.value?"left":"top":"center",j=(Math.abs(A)+(Math.sign(A)<0?v[R]:b[R]))/Math.max(v[R],b[R])||0,H=v[R]/b[R]||0,M=1.5;vp(m,{backgroundColor:[y,"currentcolor"],transform:[`translate${w}(${A}px) scale${w}(${H})`,`translate${w}(${A/M}px) scale${w}(${(j-1)/M+1})`,"none"],transformOrigin:Array(3).fill(x)},{duration:225,easing:d2})}}return ht(()=>{const d=qr.filterProps(e);return B(qr,ct({symbol:v4,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...i,default:()=>{var f;return B(Ot,null,[((f=i.default)==null?void 0:f.call(i))??e.text,!e.hideSlider&&B("div",{ref:s,class:["v-tab__slider",n.value],style:a.value},null)])}})}),To({},o)}}),UNe=We({...zn(V3(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),xae=ot()({name:"VTabsWindow",props:UNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=_r(v4,null),n=Gt(e,"modelValue"),a=ue({get(){var o;return n.value!=null||!r?n.value:(o=r.items.value.find(s=>r.selected.value.includes(s.id)))==null?void 0:o.value},set(o){n.value=o}});return ht(()=>{const o=Fp.filterProps(e);return B(Fp,ct({_as:"VTabsWindow"},o,{modelValue:a.value,"onUpdate:modelValue":s=>a.value=s,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),i)}),{}}}),HNe=We({...U3()},"VTabsWindowItem"),Rae=ot()({name:"VTabsWindowItem",props:HNe(),setup(e,t){let{slots:i}=t;return ht(()=>{const r=Lp.filterProps(e);return B(Lp,ct({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),i)}),{}}});function $Ne(e){return e?e.map(t=>A3(t)?t:{text:t,value:t}):[]}const QNe=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...$N({mandatory:"force",selectedClass:"v-tab-item--selected"}),...vi(),...pr()},"VTabs"),zNe=ot()({name:"VTabs",props:QNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const n=Gt(e,"modelValue"),a=ue(()=>$Ne(e.items)),{densityClasses:o}=oa(e),{backgroundColorClasses:s,backgroundColorStyles:l}=rn(nt(e,"bgColor")),{scopeId:u}=ng();return In({VTab:{color:nt(e,"color"),direction:nt(e,"direction"),stacked:nt(e,"stacked"),fixed:nt(e,"fixedTabs"),sliderColor:nt(e,"sliderColor"),hideSlider:nt(e,"hideSlider")}}),ht(()=>{const c=v2.filterProps(e),d=!!(r.window||e.items.length>0);return B(Ot,null,[B(v2,ct(c,{modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,s.value,e.class],style:[{"--v-tabs-height":Ft(e.height)},l.value,e.style],role:"tablist",symbol:v4},u,i),{default:()=>{var f;return[((f=r.default)==null?void 0:f.call(r))??a.value.map(h=>{var p;return((p=r.tab)==null?void 0:p.call(r,{item:h}))??B(Eae,ct(h,{key:h.text,value:h.value}),{default:r[`tab.${h.value}`]?()=>{var g;return(g=r[`tab.${h.value}`])==null?void 0:g.call(r,{item:h})}:void 0})})]}}),d&&B(xae,ct({modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,key:"tabs-window"},u),{default:()=>{var f;return[a.value.map(h=>{var p;return((p=r.item)==null?void 0:p.call(r,{item:h}))??B(Rae,{value:h.value},{default:()=>{var g;return(g=r[`item.${h.value}`])==null?void 0:g.call(r,{item:h})}})}),(f=r.window)==null?void 0:f.call(r)]}})])}),{}}}),GNe=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Pu(),...mA()},"VTextarea"),WNe=ot()({name:"VTextarea",directives:{Intersect:uA},inheritAttrs:!1,props:GNe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:i,emit:r,slots:n}=t;const a=Gt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=Ou(e),u=ue(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),c=ue(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(x,N){var j,H;!e.autofocus||!x||(H=(j=N[0].target)==null?void 0:j.focus)==null||H.call(j)}const f=vt(),h=vt(),p=Tt(""),g=vt(),m=ue(()=>e.persistentPlaceholder||o.value||e.active);function y(){var x;g.value!==document.activeElement&&((x=g.value)==null||x.focus()),o.value||s()}function v(x){y(),r("click:control",x)}function b(x){r("mousedown:control",x)}function _(x){x.stopPropagation(),y(),Mr(()=>{a.value="",T3(e["onClick:clear"],x)})}function w(x){var j;const N=x.target;if(a.value=N.value,(j=e.modelModifiers)!=null&&j.trim){const H=[N.selectionStart,N.selectionEnd];Mr(()=>{N.selectionStart=H[0],N.selectionEnd=H[1]})}}const T=vt(),R=vt(Number(e.rows)),F=ue(()=>["plain","underlined"].includes(e.variant));Vn(()=>{e.autoGrow||(R.value=Number(e.rows))});function D(){e.autoGrow&&Mr(()=>{if(!T.value||!h.value)return;const x=getComputedStyle(T.value),N=getComputedStyle(h.value.$el),j=parseFloat(x.getPropertyValue("--v-field-padding-top"))+parseFloat(x.getPropertyValue("--v-input-padding-top"))+parseFloat(x.getPropertyValue("--v-field-padding-bottom")),H=T.value.scrollHeight,M=parseFloat(x.lineHeight),$=Math.max(parseFloat(e.rows)*M+j,parseFloat(N.getPropertyValue("--v-input-control-height"))),te=parseFloat(e.maxRows)*M+j||1/0,re=Qn(H??0,$,te);R.value=Math.floor((re-j)/M),p.value=Ft(re)})}$i(D),Pt(a,D),Pt(()=>e.rows,D),Pt(()=>e.maxRows,D),Pt(()=>e.density,D);let A;return Pt(T,x=>{x?(A=new ResizeObserver(D),A.observe(T.value)):A==null||A.disconnect()}),yi(()=>{A==null||A.disconnect()}),ht(()=>{const x=!!(n.counter||e.counter||e.counterValue),N=!!(x||n.details),[j,H]=Dl(i),{modelValue:M,...$}=Hi.filterProps(e),te=pl.filterProps(e);return B(Hi,ct({ref:f,modelValue:a.value,"onUpdate:modelValue":re=>a.value=re,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":F.value},e.class],style:e.style},j,$,{centerAffix:R.value===1&&!F.value,focused:o.value}),{...n,default:re=>{let{id:oe,isDisabled:J,isDirty:fe,isReadonly:xe,isValid:de}=re;return B(pl,ct({ref:h,style:{"--v-textarea-control-height":p.value},onClick:v,onMousedown:b,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},te,{id:oe.value,active:m.value||fe.value,centerAffix:R.value===1&&!F.value,dirty:fe.value||e.dirty,disabled:J.value,focused:o.value,error:de.value===!1}),{...n,default:ae=>{let{props:{class:Fe,...Le}}=ae;return B(Ot,null,[e.prefix&&B("span",{class:"v-text-field__prefix"},[e.prefix]),$r(B("textarea",ct({ref:g,class:Fe,value:a.value,onInput:w,autofocus:e.autofocus,readonly:xe.value,disabled:J.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:l},Le,H),null),[[eo("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&$r(B("textarea",{class:[Fe,"v-textarea__sizer"],id:`${Le.id}-sizer`,"onUpdate:modelValue":me=>a.value=me,ref:T,readonly:!0,"aria-hidden":"true"},null),[[FC,a.value]]),e.suffix&&B("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:N?re=>{var oe;return B(Ot,null,[(oe=n.details)==null?void 0:oe.call(n,re),x&&B(Ot,null,[B("span",null,null),B(k3,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},n.counter)])])}:void 0})}),To({},f,h,g)}}),KNe=We({withBackground:Boolean,...Mt(),...Nr(),...pr()},"VThemeProvider"),JNe=ot()({name:"VThemeProvider",props:KNe(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e);return()=>{var n;return e.withBackground?B(e.tag,{class:["v-theme-provider",r.value,e.class],style:e.style},{default:()=>{var a;return[(a=i.default)==null?void 0:a.call(i)]}}):(n=i.default)==null?void 0:n.call(i)}}}),XNe=We({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Kt,iconColor:String,lineColor:String,...Mt(),...yn(),...js(),...di()},"VTimelineDivider"),YNe=ot()({name:"VTimelineDivider",props:XNe(),setup(e,t){let{slots:i}=t;const{sizeClasses:r,sizeStyles:n}=z0(e,"v-timeline-divider__dot"),{backgroundColorStyles:a,backgroundColorClasses:o}=rn(nt(e,"dotColor")),{roundedClasses:s}=Dn(e,"v-timeline-divider__dot"),{elevationClasses:l}=Ei(e),{backgroundColorClasses:u,backgroundColorStyles:c}=rn(nt(e,"lineColor"));return ht(()=>B("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[B("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&B("div",{key:"dot",class:["v-timeline-divider__dot",l.value,s.value,r.value],style:n.value},[B("div",{class:["v-timeline-divider__inner-dot",o.value,s.value],style:a.value},[i.default?B(Sr,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},i.default):B(Vr,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),B("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),Oae=We({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Kt,iconColor:String,lineInset:[Number,String],...Mt(),...ni(),...di(),...yn(),...js(),...pr()},"VTimelineItem"),ZNe=ot()({name:"VTimelineItem",props:Oae(),setup(e,t){let{slots:i}=t;const{dimensionStyles:r}=ii(e),n=Tt(0),a=vt();return Pt(a,o=>{var s;o&&(n.value=((s=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:s.getBoundingClientRect().width)??0)},{flush:"post"}),ht(()=>{var o,s;return B("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Ft(n.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ft(e.lineInset)})`:Ft(0)},e.style]},[B("div",{class:"v-timeline-item__body",style:r.value},[(o=i.default)==null?void 0:o.call(i)]),B(YNe,{ref:a,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:i.icon}),e.density!=="compact"&&B("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((s=i.opposite)==null?void 0:s.call(i))])])}),{}}}),e4e=We({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Cl(Oae({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Mt(),...vi(),...pr(),...Nr()},"VTimeline"),t4e=ot()({name:"VTimeline",props:e4e(),setup(e,t){let{slots:i}=t;const{themeClasses:r}=zr(e),{densityClasses:n}=oa(e),{rtlClasses:a}=ci();In({VTimelineDivider:{lineColor:nt(e,"lineColor")},VTimelineItem:{density:nt(e,"density"),dotColor:nt(e,"dotColor"),fillDot:nt(e,"fillDot"),hideOpposite:nt(e,"hideOpposite"),iconColor:nt(e,"iconColor"),lineColor:nt(e,"lineColor"),lineInset:nt(e,"lineInset"),size:nt(e,"size")}});const o=ue(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),s=ue(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return ht(()=>B(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,s.value,{"v-timeline--inset-line":!!e.lineInset},r.value,n.value,o.value,a.value,e.class],style:[{"--v-timeline-line-thickness":Ft(e.lineThickness)},e.style]},i)),{}}}),r4e=We({...Mt(),...Ao({variant:"text"})},"VToolbarItems"),n4e=ot()({name:"VToolbarItems",props:r4e(),setup(e,t){let{slots:i}=t;return In({VBtn:{color:nt(e,"color"),height:"inherit",variant:nt(e,"variant")}}),ht(()=>{var r;return B("div",{class:["v-toolbar-items",e.class],style:e.style},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),i4e=We({id:String,text:String,...zn(gA({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Pae=ot()({name:"VTooltip",props:i4e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Gt(e,"modelValue"),{scopeId:n}=ng(),a=Ti(),o=ue(()=>e.id||`v-tooltip-${a}`),s=vt(),l=ue(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=ue(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=ue(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),d=ue(()=>ct({"aria-describedby":o.value},e.activatorProps));return ht(()=>{const f=Es.filterProps(e);return B(Es,ct({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},f,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},n),{activator:i.activator,default:function(){var m;for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return((m=i.default)==null?void 0:m.call(i,...p))??e.text}})}),To({},s)}}),a4e=ot()({name:"VValidation",props:Nne(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const r=Fne(e,"validation");return()=>{var n;return(n=i.default)==null?void 0:n.call(i,r)}}}),o4e=Object.freeze(Object.defineProperty({__proto__:null,VAlert:POe,VAlertTitle:xne,VApp:kRe,VAppBar:iOe,VAppBarNavIcon:EOe,VAppBarTitle:xOe,VAutocomplete:JPe,VAvatar:vo,VBadge:YPe,VBanner:tIe,VBannerActions:cie,VBannerText:die,VBottomNavigation:nIe,VBottomSheet:aIe,VBreadcrumbs:lIe,VBreadcrumbsDivider:hie,VBreadcrumbsItem:pie,VBtn:qr,VBtnGroup:BI,VBtnToggle:cOe,VCard:pIe,VCardActions:gie,VCardItem:vie,VCardSubtitle:mie,VCardText:bie,VCardTitle:yie,VCarousel:AIe,VCarouselItem:EIe,VCheckbox:kOe,VCheckboxBtn:vu,VChip:J0,VChipGroup:HOe,VClassIcon:LN,VCode:xIe,VCol:tDe,VColorPicker:pCe,VCombobox:yCe,VComponentIcon:MI,VConfirmEdit:bCe,VContainer:XCe,VCounter:k3,VDataIterator:PCe,VDataTable:QCe,VDataTableFooter:_2,VDataTableHeaders:jp,VDataTableRow:f4,VDataTableRows:kp,VDataTableServer:KCe,VDataTableVirtual:GCe,VDatePicker:pDe,VDatePickerControls:tC,VDatePickerHeader:rC,VDatePickerMonth:nC,VDatePickerMonths:iC,VDatePickerYears:aC,VDefaultsProvider:Sr,VDialog:GI,VDialogBottomTransition:URe,VDialogTopTransition:HRe,VDialogTransition:P3,VDivider:pA,VEmptyState:mDe,VExpandTransition:I3,VExpandXTransition:qN,VExpansionPanel:yDe,VExpansionPanelText:oC,VExpansionPanelTitle:sC,VExpansionPanels:_De,VFab:SDe,VFabTransition:VRe,VFadeTransition:p2,VField:pl,VFieldLabel:CS,VFileInput:TDe,VFooter:xDe,VForm:ODe,VHover:IDe,VIcon:Vr,VImg:yu,VInfiniteScroll:DDe,VInput:Hi,VItem:LDe,VItemGroup:FDe,VKbd:MDe,VLabel:K0,VLayout:kDe,VLayoutItem:qDe,VLazy:UDe,VLigatureIcon:PRe,VList:j3,VListGroup:HI,VListImg:dPe,VListItem:bu,VListItemAction:hPe,VListItemMedia:gPe,VListItemSubtitle:zne,VListItemTitle:Gne,VListSubheader:Wne,VLocaleProvider:$De,VMain:zDe,VMenu:y0,VMessages:Cne,VNavigationDrawer:tNe,VNoSsr:rNe,VOtpInput:iNe,VOverlay:Es,VPagination:ZI,VParallax:sNe,VProgressCircular:m0,VProgressLinear:D3,VRadio:lNe,VRadioGroup:dNe,VRangeSlider:hNe,VRating:gNe,VResponsive:jI,VRow:uDe,VScaleTransition:kN,VScrollXReverseTransition:QRe,VScrollXTransition:$Re,VScrollYReverseTransition:GRe,VScrollYTransition:zRe,VSelect:e4,VSelectionControl:hl,VSelectionControlGroup:One,VSheet:Mp,VSkeletonLoader:bNe,VSlideGroup:v2,VSlideGroupItem:_Ne,VSlideXReverseTransition:KRe,VSlideXTransition:WRe,VSlideYReverseTransition:JRe,VSlideYTransition:BN,VSlider:YI,VSnackbar:ANe,VSpacer:oae,VSparkline:RNe,VSpeedDial:PNe,VStepper:MNe,VStepperActions:_ae,VStepperHeader:wae,VStepperItem:Sae,VStepperWindow:Aae,VStepperWindowItem:Tae,VSvgIcon:FN,VSwitch:kNe,VSystemBar:qNe,VTab:Eae,VTable:Bp,VTabs:zNe,VTabsWindow:xae,VTabsWindowItem:Rae,VTextField:Np,VTextarea:WNe,VThemeProvider:JNe,VTimeline:t4e,VTimelineItem:ZNe,VToolbar:kI,VToolbarItems:n4e,VToolbarTitle:jN,VTooltip:Pae,VValidation:a4e,VVirtualScroll:q3,VWindow:Fp,VWindowItem:Lp},Symbol.toStringTag,{value:"Module"}));function s4e(e,t){const i=t.modifiers||{},r=t.value,{once:n,immediate:a,...o}=i,s=!Object.keys(o).length,{handler:l,options:u}=typeof r=="object"?r:{handler:r,options:{attributes:(o==null?void 0:o.attr)??s,characterData:(o==null?void 0:o.char)??s,childList:(o==null?void 0:o.child)??s,subtree:(o==null?void 0:o.sub)??s}},c=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(d,f),n&&Iae(e,t)});a&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function Iae(e,t){var i;(i=e._mutate)!=null&&i[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const u4e={mounted:s4e,unmounted:Iae};function l4e(e,t){var n,a;const i=t.value,r={passive:!((n=t.modifiers)!=null&&n.active)};window.addEventListener("resize",i,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:i,options:r},(a=t.modifiers)!=null&&a.quiet||i()}function c4e(e,t){var n;if(!((n=e._onResize)!=null&&n[t.instance.$.uid]))return;const{handler:i,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",i,r),delete e._onResize[t.instance.$.uid]}const d4e={mounted:l4e,unmounted:c4e};function Cae(e,t){const{self:i=!1}=t.modifiers??{},r=t.value,n=typeof r=="object"&&r.options||{passive:!0},a=typeof r=="function"||"handleEvent"in r?r:r.handler,o=i?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",a,n),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:a,options:n,target:i?void 0:o})}function Dae(e,t){var a;if(!((a=e._onScroll)!=null&&a[t.instance.$.uid]))return;const{handler:i,options:r,target:n=e}=e._onScroll[t.instance.$.uid];n.removeEventListener("scroll",i,r),delete e._onScroll[t.instance.$.uid]}function f4e(e,t){t.value!==t.oldValue&&(Dae(e,t),Cae(e,t))}const h4e={mounted:Cae,unmounted:Dae,updated:f4e};function p4e(e,t){const i=typeof e=="string"?Xt(e):e,r=g4e(i,t);return{mounted:r,updated:r,unmounted(n){vW(null,n)}}}function g4e(e,t){return function(i,r,n){var d,f,h;const a=typeof t=="function"?t(r):t,o=((d=r.value)==null?void 0:d.text)??r.value??(a==null?void 0:a.text),s=A3(r.value)?r.value:{},l=()=>o??i.textContent,u=(n.ctx===r.instance.$?(f=m4e(n,r.instance.$))==null?void 0:f.provides:(h=n.ctx)==null?void 0:h.provides)??r.instance.$.provides,c=Wo(e,ct(a,s),l);c.appContext=Object.assign(Object.create(null),r.instance.$.appContext,{provides:u}),vW(c,i)}}function m4e(e,t){const i=new Set,r=a=>{var o,s;for(const l of a){if(!l)continue;if(l===e||l.el&&e.el&&l.el===e.el)return!0;i.add(l);let u;if(l.suspense?u=r([l.ssContent]):Array.isArray(l.children)?u=r(l.children):(o=l.component)!=null&&o.vnode&&(u=r([(s=l.component)==null?void 0:s.subTree])),u)return u;i.delete(l)}return!1};if(!r([t.subTree]))return t;const n=Array.from(i).reverse();for(const a of n)if(a.component)return a.component;return t}const y4e=p4e(Pae,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),v4e=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:aie,Intersect:uA,Mutate:u4e,Resize:d4e,Ripple:Ru,Scroll:h4e,Tooltip:y4e,Touch:t4},Symbol.toStringTag,{value:"Module"})),b4e=L3e(),_4e=sne({components:o4e,directives:v4e,icons:{defaultSet:"mdi",aliases:tne,sets:{mdi:rne}}}),b4=cue(Bpe).use(_4e);b4.use(wre);b4.use(b4e);b4.mount("#app");
